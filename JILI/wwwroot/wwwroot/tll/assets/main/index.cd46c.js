System.register("chunks:///main.js",["./index-abd28181.js","cc"],(function(){"use strict";var t,e,i,n,o,r,a,s,l,c,u,m,h,p,_,d,f,y,g,S,b,w,v,C,E,T,O,N,I,k,A,R,L,x,P,B,F,M,D,z,G,H,V,W,U,j,J,X,Y,q,K,Z,Q,$,tt,et,it,nt,ot,rt,at,st,lt,ct,ut,mt,ht,pt,_t,dt,ft,yt,gt,St,bt,wt,vt,Ct,Et,Tt,Ot,Nt,It,kt;return{setters:[function(v){t=v._,e=v.a,i=v.b,n=v.c,o=v.d,r=v.n,a=v.e,s=v.f,l=v.g,c=v.h,u=v.i,m=v.j,h=v.k,p=v.l,_=v.m,d=v.C,f=v.o,y=v.p,g=v.q,S=v.S,b=v.r,w=v.s},function(t){v=t.cclegacy,C=t._decorator,E=t.Color,T=t.ccenum,O=t.UITransform,N=t.Node,I=t.SpriteFrame,k=t.EventHandler,A=t.Vec3,R=t.Sprite,L=t.math,x=t.assetManager,P=t.Label,B=t.lerp,F=t.UIRenderer,M=t.NodeEventType,D=t.TransformBit,z=t.Component,G=t.Material,H=t.Gradient,V=t.v4,W=t.Texture2D,U=t.clamp01,j=t.color,J=t.EffectAsset,X=t.CCInteger,Y=t.CCBoolean,q=t.CCFloat,K=t.log,Z=t.ImageAsset,Q=t.sp,$=t.Enum,tt=t.error,et=t.instantiate,it=t.Animation,nt=t.AnimationClip,ot=t.tween,rt=t.v3,at=t.ParticleSystem2D,st=t.Vec2,lt=t.TweenSystem,ct=t.Button,ut=t.CCString,mt=t.v2,ht=t.director,pt=t.Director,_t=t.UIOpacity,dt=t.RichText,ft=t.Tween,yt=t.ScrollView,gt=t.JsonAsset,St=t.isValid,bt=t.CCClass,wt=t.SpriteAtlas,vt=t.js,Ct=t.Prefab,Et=t.sys,Tt=t.settings,Ot=t.Settings,Nt=t.VERSION,It=t.find,kt=t.Size}],execute:function(){var At,Rt,Lt,xt,Pt,Bt,Ft,Mt,Dt,zt,Gt,Ht,Vt,Wt,Ut,jt,Jt,Xt,Yt,qt,Kt,Zt,Qt,$t,te,ee,ie,ne,oe,re,ae,se,le,ce,ue,me,he,pe,_e,de,fe,ye,ge,Se,be,we,ve,Ce;v._RF.push({},"84c5byXmKBEJIwVBTwOs7ly","ButtonPro",void 0);var Ee,Te,Oe,Ne=C.ccclass,Ie=C.executionOrder,ke=C.requireComponent,Ae=C.type,Re=C.executeInEditMode,Le=C.property,xe=new E;!function(t){t[t.NONE=0]="NONE",t[t.COLOR=1]="COLOR",t[t.SPRITE=2]="SPRITE",t[t.SCALE=4]="SCALE",t[t.COLOR_SPRITE=3]="COLOR_SPRITE",t[t.COLOR_SCALE=5]="COLOR_SCALE",t[t.SPRITE_SCALE=6]="SPRITE_SCALE",t[t.ALL=7]="ALL"}(Ee||(Ee={})),T(Ee),function(t){t.NORMAL="normal",t.HOVER="hover",t.PRESSED="pressed",t.DISABLED="disabled"}(Te||(Te={})),function(t){t.CLICK="click"}(Oe||(Oe={}));var Pe,Be,Fe,Me,De,ze,Ge,He,Ve,We,Ue,je,Je,Xe,Ye,qe,Ke,Ze,Qe,$e,ti,ei,ii,ni,oi,ri,ai,si,li;At=Ne("ButtonPro"),Rt=Ie(110),Lt=ke(O),xt=Le({type:N,displayOrder:0,tooltip:"i18n:button.target"}),Pt=Le({displayOrder:1,tooltip:"i18n:button.interactable"}),Bt=Le({type:Ee,displayOrder:2,tooltip:"i18n:button.transition"}),Ft=Le({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.normal_color"}),Mt=Le({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.pressed_color"}),Dt=Le({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.hover_color"}),zt=Le({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.disabled_color"}),Gt=Le({group:{name:"SCALE"},displayOrder:4,tooltip:"i18n:button.duration",min:0,max:10}),Ht=Le({group:{name:"SCALE"},displayOrder:4,tooltip:"i18n:button.zoom_scale"}),Vt=Le({group:{name:"SPRITE"},type:I,displayOrder:3,tooltip:"i18n:button.normal_sprite"}),Wt=Le({group:{name:"SPRITE"},type:I,displayOrder:3,tooltip:"i18n:button.pressed_sprite"}),Ut=Le({group:{name:"SPRITE"},type:I,displayOrder:3,tooltip:"i18n:button.hover_sprite"}),jt=Le({group:{name:"SPRITE"},type:I,displayOrder:3,tooltip:"i18n:button.disabled_sprite"}),Jt=Ae([k]),Xt=Le({serializable:!0,displayOrder:20,tooltip:"i18n:button.click_events"}),Yt=Le({serializable:!0}),qt=Le({serializable:!0}),Kt=Le({serializable:!0}),Zt=Le({serializable:!0}),Qt=Le({serializable:!0}),$t=Le({serializable:!0}),te=Le({serializable:!0}),ee=Le({serializable:!0}),ie=Le({serializable:!0}),ne=Le({serializable:!0}),oe=Le({serializable:!0}),re=Le({serializable:!0}),ae=Le({serializable:!0}),At(se=Rt(se=Lt(se=Re(((Ce=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"clickEvents",ce,n(e)),i(e,"_interactable",ue,n(e)),i(e,"_transition",me,n(e)),i(e,"_normalColor",he,n(e)),i(e,"_hoverColor",pe,n(e)),i(e,"_pressedColor",_e,n(e)),i(e,"_disabledColor",de,n(e)),i(e,"_normalSprite",fe,n(e)),i(e,"_hoverSprite",ye,n(e)),i(e,"_pressedSprite",ge,n(e)),i(e,"_disabledSprite",Se,n(e)),i(e,"_duration",be,n(e)),i(e,"_zoomScale",we,n(e)),i(e,"_target",ve,n(e)),e._pressed=!1,e._hovered=!1,e._fromColor=new E,e._toColor=new E,e._time=0,e._transitionFinished=!0,e._fromScale=new A,e._toScale=new A,e._originalScale=null,e._sprite=null,e._targetScale=new A,e}e(r,t);var a=r.prototype;return a.onLoad=function(){if(!this.getComponent(R)){var t=this.addComponent(R);if(t){t.sizeMode=R.SizeMode.CUSTOM,t.type=R.Type.SLICED;var e=this.node.getComponent(O);e&&(e.contentSize=L.size(120,40))}var i=x.assets.get("20835ba4-6145-4fbc-a58a-051ce700aa3e@f9941");i&&(t&&!t.spriteFrame&&(t.spriteFrame=i),this._normalSprite||(this._normalSprite=i),this._hoverSprite||(this._hoverSprite=i));var n=x.assets.get("544e49d6-3f05-4fa8-9a9e-091f98fc2ce8@f9941");n&&(this._pressedSprite||(this._pressedSprite=n));var o=x.assets.get("951249e0-9f16-456d-8b85-a6ca954da16b@f9941");o&&(this._disabledSprite||(this._disabledSprite=o))}if(!this.node.getChildByName("Label")){var r=new N("Label"),a=r.addComponent(P);a.node.layer=this.node.layer,a.string="ButtonPro",r.parent=this.node,a.color=E.BLACK,a.fontSize=20}},a.__preload=function(){this.target||(this.target=this.node);var t=this.node.getComponent(R);t&&(this._normalSprite=t.spriteFrame),this._applyTarget(),this._resetState()},a.onEnable=function(){this._registerNodeEvent()},a.onDisable=function(){this._resetState(),this._unregisterNodeEvent()},a.onDestroy=function(){this.target.isValid&&this._unregisterTargetEvent(this.target)},a.update=function(t){var e=this.target;if(!this._transitionFinished&&e&&(this._transition&Ee.COLOR||this._transition&Ee.SCALE)){this._time+=t;var i=1;if(this._duration>0&&(i=this._time/this._duration),i>=1&&(i=1),this._transition&Ee.COLOR){var n=e._uiProps.uiComp;E.lerp(xe,this._fromColor,this._toColor,i),n&&(n.color=xe)}this.transition&Ee.SCALE&&(e.getScale(this._targetScale),this._targetScale.x=B(this._fromScale.x,this._toScale.x,i),this._targetScale.y=B(this._fromScale.y,this._toScale.y,i),e.setScale(this._targetScale)),1===i&&(this._transitionFinished=!0)}},a._resizeNodeToTargetNode=function(){if(this.target)this.target._uiProps.uiTransformComp},a._resetState=function(){this._pressed=!1,this._hovered=!1;var t=this.target;if(t){var e=this._transition;if(e&Ee.COLOR&&this._interactable){var i=t.getComponent(F);i&&(i.color=this._normalColor)}e&Ee.SCALE&&this._originalScale&&t.setScale(this._originalScale),this._transitionFinished=!0}},a._registerNodeEvent=function(){this.node.on(M.TOUCH_START,this._onTouchBegan,this),this.node.on(M.TOUCH_MOVE,this._onTouchMove,this),this.node.on(M.TOUCH_END,this._onTouchEnded,this),this.node.on(M.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(M.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(M.MOUSE_LEAVE,this._onMouseMoveOut,this)},a._registerTargetEvent=function(t){t.on(M.TRANSFORM_CHANGED,this._onTargetTransformChanged,this)},a._unregisterNodeEvent=function(){this.node.off(M.TOUCH_START,this._onTouchBegan,this),this.node.off(M.TOUCH_MOVE,this._onTouchMove,this),this.node.off(M.TOUCH_END,this._onTouchEnded,this),this.node.off(M.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(M.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(M.MOUSE_LEAVE,this._onMouseMoveOut,this)},a._unregisterTargetEvent=function(t){t.off(M.TRANSFORM_CHANGED)},a._getTargetSprite=function(t){var e=null;return t&&(e=t.getComponent(R)),e},a._applyTarget=function(){this.target&&(this._sprite=this._getTargetSprite(this.target),this._originalScale||(this._originalScale=new A),A.copy(this._originalScale,this.target.getScale()),this._registerTargetEvent(this.target))},a._onTargetSpriteFrameChanged=function(t){this._transition&Ee.SPRITE&&this._setCurrentStateSpriteFrame(t.spriteFrame)},a._setCurrentStateSpriteFrame=function(t){if(t)switch(this._getButtonState()){case Te.NORMAL:this._normalSprite=t;break;case Te.HOVER:this._hoverSprite=t;break;case Te.PRESSED:this._pressedSprite=t;break;case Te.DISABLED:this._disabledSprite=t}},a._onTargetColorChanged=function(t){this._transition&Ee.COLOR&&this._setCurrentStateColor(t)},a._setCurrentStateColor=function(t){switch(this._getButtonState()){case Te.NORMAL:this._normalColor=t;break;case Te.HOVER:this._hoverColor=t;break;case Te.PRESSED:this._pressedColor=t;break;case Te.DISABLED:this._disabledColor=t}},a._onTargetTransformChanged=function(t){t&D.SCALE&&this._originalScale&&this._transition&Ee.SCALE&&this._transitionFinished&&A.copy(this._originalScale,this.target.getScale())},a._onTouchBegan=function(t){this._interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState(),t&&(t.propagationStopped=!0))},a._onTouchMove=function(t){if(this._interactable&&this.enabledInHierarchy&&this._pressed&&t){var e=t.touch;if(e){var i,n=this.node._uiProps.uiTransformComp.hitTest(e.getLocation());if(this._transition&Ee.SCALE&&this.target&&this._originalScale)n?(A.copy(this._fromScale,this._originalScale),A.multiplyScalar(this._toScale,this._originalScale,this._zoomScale),this._transitionFinished=!1):(this._time=0,this._transitionFinished=!0,this.target.setScale(this._originalScale));else i=n?Te.PRESSED:Te.NORMAL,this._applyTransition(i);t&&(t.propagationStopped=!0)}}},a._onTouchEnded=function(t){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(k.emitEvents(this.clickEvents,t),this.node.emit(Oe.CLICK,this)),this._pressed=!1,this._updateState(),t&&(t.propagationStopped=!0))},a._onTouchCancel=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!1,this._updateState())},a._onMouseMoveIn=function(){!this._pressed&&this.interactable&&this.enabledInHierarchy&&(this._transition&Ee.SPRITE&&!this._hoverSprite||this._hovered||(this._hovered=!0,this._updateState()))},a._onMouseMoveOut=function(){this._hovered&&(this._hovered=!1,this._updateState())},a._updateState=function(){var t=this._getButtonState();this._applyTransition(t)},a._getButtonState=function(){var t=Te.NORMAL;return this._interactable?this._pressed?t=Te.PRESSED:this._hovered&&(t=Te.HOVER):t=Te.DISABLED,t.toString()},a._updateColorTransition=function(t){var e,i=this[t+"Color"],n=null==(e=this.target)?void 0:e.getComponent(F);n&&(t===Te.DISABLED?(n.color=i,this._transitionFinished=!0):(this._fromColor=n.color.clone(),this._toColor=i,this._time=0,this._transitionFinished=!1))},a._updateSpriteTransition=function(t){var e=this[t+"Sprite"];this._sprite&&e&&(this._sprite.spriteFrame=e)},a._updateScaleTransition=function(t){this._interactable&&(t===Te.PRESSED?this._zoomUp():this._zoomBack())},a._zoomUp=function(){this._originalScale&&(A.copy(this._fromScale,this._originalScale),A.multiplyScalar(this._toScale,this._originalScale,this._zoomScale),this._time=0,this._transitionFinished=!1)},a._zoomBack=function(){this.target&&this._originalScale&&(A.copy(this._fromScale,this.target.getScale()),A.copy(this._toScale,this._originalScale),this._time=0,this._transitionFinished=!1)},a._applyTransition=function(t){var e=this._transition;e&Ee.COLOR&&this._updateColorTransition(t),e&Ee.SPRITE&&this._updateSpriteTransition(t),e&Ee.SCALE&&this._updateScaleTransition(t)},a._xrHoverEnter=function(){this._onMouseMoveIn(),this._updateState()},a._xrHoverExit=function(){this._onMouseMoveOut(),this._pressed&&(this._pressed=!1,this._updateState())},a._xrClick=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState())},a._xrUnClick=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(k.emitEvents(this.clickEvents,this),this.node.emit(Oe.CLICK,this)),this._pressed=!1,this._updateState())},o(r,[{key:"target",get:function(){return this._target||this.node},set:function(t){this._target!==t&&(this._target&&this._unregisterTargetEvent(this._target),this._target=t,this._applyTarget())}},{key:"interactable",get:function(){return this._interactable},set:function(t){this._interactable!==t&&(this._interactable=t,this._updateState(),this._interactable||this._resetState())}},{key:"_resizeToTarget",set:function(t){t&&this._resizeNodeToTargetNode()}},{key:"transition",get:function(){return this._transition},set:function(t){this._transition!==t&&(this._transition&Ee.COLOR&&this._updateColorTransition(Te.NORMAL),this._transition&Ee.SPRITE&&this._updateSpriteTransition(Te.NORMAL),this._transition=t,this._updateState())}},{key:"normalColor",get:function(){return this._normalColor},set:function(t){this._normalColor!==t&&(this._normalColor.set(t),this._updateState())}},{key:"pressedColor",get:function(){return this._pressedColor},set:function(t){this._pressedColor!==t&&this._pressedColor.set(t)}},{key:"hoverColor",get:function(){return this._hoverColor},set:function(t){this._hoverColor!==t&&this._hoverColor.set(t)}},{key:"disabledColor",get:function(){return this._disabledColor},set:function(t){this._disabledColor!==t&&(this._disabledColor.set(t),this._updateState())}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration!==t&&(this._duration=t)}},{key:"zoomScale",get:function(){return this._zoomScale},set:function(t){this._zoomScale!==t&&(this._zoomScale=t)}},{key:"normalSprite",get:function(){return this._normalSprite},set:function(t){if(this._normalSprite!==t){this._normalSprite=t;var e=this.node.getComponent(R);e&&(e.spriteFrame=t),this._updateState()}}},{key:"pressedSprite",get:function(){return this._pressedSprite},set:function(t){this._pressedSprite!==t&&(this._pressedSprite=t,this._updateState())}},{key:"hoverSprite",get:function(){return this._hoverSprite},set:function(t){this._hoverSprite!==t&&(this._hoverSprite=t,this._updateState())}},{key:"disabledSprite",get:function(){return this._disabledSprite},set:function(t){this._disabledSprite!==t&&(this._disabledSprite=t,this._updateState())}}]),r}(z)).Transition=Ee,Ce.EventType=Oe,t((le=Ce).prototype,"target",[xt],Object.getOwnPropertyDescriptor(le.prototype,"target"),le.prototype),t(le.prototype,"interactable",[Pt],Object.getOwnPropertyDescriptor(le.prototype,"interactable"),le.prototype),t(le.prototype,"transition",[Bt],Object.getOwnPropertyDescriptor(le.prototype,"transition"),le.prototype),t(le.prototype,"normalColor",[Ft],Object.getOwnPropertyDescriptor(le.prototype,"normalColor"),le.prototype),t(le.prototype,"pressedColor",[Mt],Object.getOwnPropertyDescriptor(le.prototype,"pressedColor"),le.prototype),t(le.prototype,"hoverColor",[Dt],Object.getOwnPropertyDescriptor(le.prototype,"hoverColor"),le.prototype),t(le.prototype,"disabledColor",[zt],Object.getOwnPropertyDescriptor(le.prototype,"disabledColor"),le.prototype),t(le.prototype,"duration",[Gt],Object.getOwnPropertyDescriptor(le.prototype,"duration"),le.prototype),t(le.prototype,"zoomScale",[Ht],Object.getOwnPropertyDescriptor(le.prototype,"zoomScale"),le.prototype),t(le.prototype,"normalSprite",[Vt],Object.getOwnPropertyDescriptor(le.prototype,"normalSprite"),le.prototype),t(le.prototype,"pressedSprite",[Wt],Object.getOwnPropertyDescriptor(le.prototype,"pressedSprite"),le.prototype),t(le.prototype,"hoverSprite",[Ut],Object.getOwnPropertyDescriptor(le.prototype,"hoverSprite"),le.prototype),t(le.prototype,"disabledSprite",[jt],Object.getOwnPropertyDescriptor(le.prototype,"disabledSprite"),le.prototype),ce=t(le.prototype,"clickEvents",[Jt,Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(le.prototype,"_interactable",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),me=t(le.prototype,"_transition",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.NONE}}),he=t(le.prototype,"_normalColor",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.WHITE.clone()}}),pe=t(le.prototype,"_hoverColor",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E(211,211,211,255)}}),_e=t(le.prototype,"_pressedColor",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.WHITE.clone()}}),de=t(le.prototype,"_disabledColor",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E(124,124,124,255)}}),fe=t(le.prototype,"_normalSprite",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(le.prototype,"_hoverSprite",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(le.prototype,"_pressedSprite",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(le.prototype,"_disabledSprite",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(le.prototype,"_duration",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),we=t(le.prototype,"_zoomScale",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),ve=t(le.prototype,"_target",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=le))||se)||se)||se);v._RF.pop(),v._RF.push({},"da7972YP9VAta/rfkmC0gmE","ColorText",void 0);var ci,ui,mi,hi,pi,_i,di,fi,yi=C.ccclass,gi=C.property,Si=C.requireComponent,bi=C.executeInEditMode;Pe=yi("ColorText"),Be=Si(P),Fe=gi(G),Me=gi(H),De=gi(E),ze=gi({tooltip:"使用該元件的自定義材質",type:G}),Ge=gi({tooltip:"顏色漸變元件",type:H}),He=gi({tooltip:"正片疊底顏色",type:E}),Ve=gi({tooltip:"顏色漸變貼圖的範圍",range:[0,1,.01],slide:!0}),We=gi({tooltip:"是否垂直漸變顏色"}),Ue=gi({tooltip:"上內陰影顏色",type:E}),je=gi({tooltip:"下內陰影顏色",type:E}),Je=gi({tooltip:"上內陰影顏色高度 (Pixel)"}),Xe=gi({tooltip:"下內陰影顏色高度 (Pixel)"}),Ye=gi({tooltip:"上內陰影插值比例 (0 ~ 1)",range:[0,1,.01],slide:!0}),qe=gi({tooltip:"下內陰影插值比例 (0 ~ 1)",range:[0,1,.01],slide:!0}),Pe(Ke=Be(Ke=bi((Qe=t((Ze=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_textMaterial",Qe,n(e)),i(e,"_gradient",$e,n(e)),i(e,"_gradientMultiply",ti,n(e)),i(e,"_gradientShrink",ei,n(e)),i(e,"_isVertical",ii,n(e)),i(e,"_innerShadowColor1",ni,n(e)),i(e,"_innerShadowColor2",oi,n(e)),i(e,"_innerShadowHeight1",ri,n(e)),i(e,"_innerShadowHeight2",ai,n(e)),i(e,"_innerShadowRate1",si,n(e)),i(e,"_innerShadowRate2",li,n(e)),e.pixelNum=128,e.colorTexture=null,e.isGradientChanged=!0,e}e(r,t);var a=r.prototype;return a.onLoad=function(){var t=this.node.getComponent(P);null!==t.customMaterial&&(t.customMaterial!==t.sharedMaterial&&t.customMaterial.destroy(),t.customMaterial=null),t.color=E.WHITE,null===this._textMaterial&&console.warn("ColorText.textMaterial should be not null.")},a.onEnable=function(){this.reset()},a.onDestroy=function(){var t;null==(t=this.colorTexture)||t.destroy(),this.colorTexture=null},a.reset=function(){null===this.colorTexture&&(this.colorTexture=this.createColorTexture()),!0===this.isGradientChanged&&(this.isGradientChanged=!1,this.updateColorTexture());var t=this.node.getComponent(P),e=t.customMaterial;if(!e&&this._textMaterial&&((e=new G).copy(this._textMaterial),t.customMaterial=e),e){e.setProperty("gradientMap",this.colorTexture),e.setProperty("gradientMultiply",this._gradientMultiply),e.setProperty("gradientShrink",this._gradientShrink),e.setProperty("innerShadow1",this._innerShadowColor1),e.setProperty("innerShadow2",this._innerShadowColor2);var i=0,n=0,o=this.node.getComponent(O).contentSize;o.height>0&&(i=this._innerShadowHeight1/o.height,n=this._innerShadowHeight2/o.height);var r=V(i,n,this._innerShadowRate1,this._innerShadowRate2);e.setProperty("innerShadowParam",r)}},a.createColorTexture=function(){var t=new W,e=this.pixelNum,i=1;return!0===this._isVertical&&(i=e,e=1),t.reset({width:e,height:i,format:W.PixelFormat.RGBA8888,mipmapLevel:0}),t.setWrapMode(W.WrapMode.CLAMP_TO_EDGE,W.WrapMode.CLAMP_TO_EDGE),t.setFilters(W.Filter.LINEAR,W.Filter.LINEAR),t},a.updateColorTexture=function(){for(var t=this.pixelNum,e=new Uint8ClampedArray(4*t),i=0,n=this._gradient,o=0;o<t;++o){var r=n.evaluate(o/t);e[i++]=r.r,e[i++]=r.g,e[i++]=r.b,e[i++]=r.a}var a=this.colorTexture;a.uploadData(e,0,0),a.updateImage()},o(r,[{key:"textMaterial",get:function(){return this._textMaterial},set:function(t){this._textMaterial=t,this.reset()}},{key:"gradient",get:function(){return this._gradient},set:function(t){this.isGradientChanged=!0,this._gradient=t,this.reset()}},{key:"gradientMultiply",get:function(){return this._gradientMultiply},set:function(t){this._gradientMultiply=t,this.reset()}},{key:"gradientShrink",get:function(){return this._gradientShrink},set:function(t){this._gradientShrink=t,this.reset()}},{key:"isVertical",get:function(){return this._isVertical},set:function(t){var e;this._isVertical!==t&&(null==(e=this.colorTexture)||e.destroy(),this.colorTexture=null);this._isVertical=t,this.reset()}},{key:"innerShadowColor1",get:function(){return this._innerShadowColor1},set:function(t){this._innerShadowColor1.set(t),this.reset()}},{key:"innerShadowColor2",get:function(){return this._innerShadowColor2},set:function(t){this._innerShadowColor2.set(t),this.reset()}},{key:"innerShadowHeight1",get:function(){return this._innerShadowHeight1},set:function(t){this._innerShadowHeight1=t,this.reset()}},{key:"innerShadowHeight2",get:function(){return this._innerShadowHeight2},set:function(t){this._innerShadowHeight2=t,this.reset()}},{key:"innerShadowRate1",get:function(){return this._innerShadowRate1},set:function(t){this._innerShadowRate1=U(t),this.reset()}},{key:"innerShadowRate2",get:function(){return this._innerShadowRate2},set:function(t){this._innerShadowRate2=t,this.reset()}}]),r}(z)).prototype,"_textMaterial",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ze.prototype,"_gradient",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),ti=t(Ze.prototype,"_gradientMultiply",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j(255,255,255,255)}}),ei=t(Ze.prototype,"_gradientShrink",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),ii=t(Ze.prototype,"_isVertical",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t(Ze.prototype,"textMaterial",[ze],Object.getOwnPropertyDescriptor(Ze.prototype,"textMaterial"),Ze.prototype),t(Ze.prototype,"gradient",[Ge],Object.getOwnPropertyDescriptor(Ze.prototype,"gradient"),Ze.prototype),t(Ze.prototype,"gradientMultiply",[He],Object.getOwnPropertyDescriptor(Ze.prototype,"gradientMultiply"),Ze.prototype),t(Ze.prototype,"gradientShrink",[Ve],Object.getOwnPropertyDescriptor(Ze.prototype,"gradientShrink"),Ze.prototype),t(Ze.prototype,"isVertical",[We],Object.getOwnPropertyDescriptor(Ze.prototype,"isVertical"),Ze.prototype),ni=t(Ze.prototype,"_innerShadowColor1",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j(255,255,255,255)}}),oi=t(Ze.prototype,"_innerShadowColor2",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j(255,255,255,255)}}),ri=t(Ze.prototype,"_innerShadowHeight1",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ai=t(Ze.prototype,"_innerShadowHeight2",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),si=t(Ze.prototype,"_innerShadowRate1",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),li=t(Ze.prototype,"_innerShadowRate2",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Ze.prototype,"innerShadowColor1",[Ue],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowColor1"),Ze.prototype),t(Ze.prototype,"innerShadowColor2",[je],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowColor2"),Ze.prototype),t(Ze.prototype,"innerShadowHeight1",[Je],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowHeight1"),Ze.prototype),t(Ze.prototype,"innerShadowHeight2",[Xe],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowHeight2"),Ze.prototype),t(Ze.prototype,"innerShadowRate1",[Ye],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowRate1"),Ze.prototype),t(Ze.prototype,"innerShadowRate2",[qe],Object.getOwnPropertyDescriptor(Ze.prototype,"innerShadowRate2"),Ze.prototype),Ke=Ze))||Ke)||Ke);v._RF.pop(),v._RF.push({},"ccb69RBfI5KBKNPuwywfE10","ColorFadingUI",void 0);var wi,vi=C.ccclass,Ci=C.property,Ei=C.executeInEditMode;ci=vi("ColorFadingUI"),ui=Ci({type:J,tooltip:"Color Fading 預設 shader"}),mi=Ci({type:X,tooltip:"Gradient Texture Size"}),hi=Ci({type:Y,tooltip:"是否使用alpha test, Spine建議開啟"}),pi=Ci({type:q,tooltip:"混合比例，0~1之間"}),_i=Ci({type:H,tooltip:"當前Gradient"}),ci(di=Ei((t((fi=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_colorFadingEffect=null,e.m_gradientTextureSize=64,e.m_currGradient=new H,e.m_mixRate=0,e.m_useAlphaTest=!1,e.m_tex=new W,e.m_use_colorfading=!0,e.m_renderComponent=null,e.m_copyEffect=null,e}e(i,t);var n=i.prototype;return n.start=function(){this.GenerateMat()},n.onDestroy=function(){this.m_use_colorfading=!1},n.Init=function(t,e,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=64),void 0===o&&(o=!0),void 0===r&&(r=!1),this.ColorFadingEffect=t,this.CurrentGradient=e,this.UseAlphaTest=r,this.MixRate=i,this.GradientTextureSize=n,this.UseColorFadingAPI(o),this.GenerateMat()},n.UseColorFadingAPI=function(t){this.m_use_colorfading=t,this.GenerateMat()},n.ResetGradient=function(){this.m_mixRate=1,this.m_currGradient=new H,this.LoadTexture()},n.GenerateMat=function(){var t=this.GetRenderComponent();if(null!=t&&null!=this.m_colorFadingEffect){var e=new G;e.initialize({effectAsset:this.m_colorFadingEffect,technique:0,defines:{USE_COLOR_FADING:this.m_use_colorfading,USE_ALPHA_TEST:this.m_useAlphaTest}}),t.customMaterial=e,this.LoadTexture()}},n.LoadTexture=function(){if(null==this.m_colorFadingEffect)K("Warning! No effect asset loaded!");else{K("loadTexture",this.m_currGradient),this.m_gradientTextureSize<=0&&(this.m_gradientTextureSize=1);for(var t=[],e=1/this.m_gradientTextureSize,i=0;i<=1;i++)for(var n=0;n<=this.m_gradientTextureSize;n+=e){var o=new E;o=this.m_currGradient.evaluate(n),t.push(o.r),t.push(o.g),t.push(o.b),t.push(o.a)}this.CreateTexture(t)}},n.CreateTexture=function(t){var e=new Uint8Array(t),i=new Z;this.m_gradientTextureSize<=0&&(this.m_gradientTextureSize=1),i.reset({_data:e,width:this.m_gradientTextureSize,height:1,format:W.PixelFormat.RGBA8888,_compressed:!1}),this.m_tex.image=i,this.m_tex.setWrapMode(W.WrapMode.CLAMP_TO_EDGE,W.WrapMode.CLAMP_TO_EDGE),this.UpdateMaterial()},n.UpdateMaterial=function(){var t=this.GetRenderComponent();if(null!=t){var e=t.customMaterial;e&&(e.setProperty("gradient",this.m_tex),e.setProperty("mixRate",this.m_mixRate))}},n.GetRenderComponent=function(){return null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(R)),null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(Q.Skeleton)),null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(P)),this.m_renderComponent},o(i,[{key:"ColorFadingEffect",get:function(){return this.m_copyEffect},set:function(t){null!=t&&(this.m_colorFadingEffect=t),this.m_copyEffect=t}},{key:"GradientTextureSize",get:function(){return this.m_gradientTextureSize},set:function(t){this.m_gradientTextureSize=t,null!=this.m_tex&&this.LoadTexture()}},{key:"UseAlphaTest",get:function(){return this.m_useAlphaTest},set:function(t){this.m_useAlphaTest=t}},{key:"MixRate",get:function(){return this.m_mixRate},set:function(t){if(t>1)this.m_mixRate=1;else if(t<0)this.m_mixRate=0;else{this.m_mixRate=t;var e=this.GetRenderComponent();if(null!=e){var i=e.customMaterial;i?i.setProperty("mixRate",this.m_mixRate):this.GenerateMat()}}}},{key:"CurrentGradient",get:function(){return this.m_currGradient},set:function(t){this.m_currGradient=t,this.LoadTexture()}}]),i}(z)).prototype,"ColorFadingEffect",[ui],Object.getOwnPropertyDescriptor(fi.prototype,"ColorFadingEffect"),fi.prototype),t(fi.prototype,"GradientTextureSize",[mi],Object.getOwnPropertyDescriptor(fi.prototype,"GradientTextureSize"),fi.prototype),t(fi.prototype,"UseAlphaTest",[hi],Object.getOwnPropertyDescriptor(fi.prototype,"UseAlphaTest"),fi.prototype),t(fi.prototype,"MixRate",[pi],Object.getOwnPropertyDescriptor(fi.prototype,"MixRate"),fi.prototype),t(fi.prototype,"CurrentGradient",[_i],Object.getOwnPropertyDescriptor(fi.prototype,"CurrentGradient"),fi.prototype),di=fi))||di);v._RF.pop(),v._RF.push({},"9cd57oopkhBmZJ5o4EZK1tk","EvtReceiver",void 0);var Ti,Oi=(0,C.ccclass)(wi=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_callback=void 0,e}e(i,t),i.Pack=function(t,e){t.addComponent(i),t.getComponent(i).SetCallback(e)};var n=i.prototype;return n.EvtReciever=function(t){K("AnimEvtReciever: ",t),this.m_callback?this.m_callback(t):K("callback沒有設定，無法處理event: ",t)},n.triggerAnimationEvent=function(t){K("triggerAnimationEvent: ",t),this.m_callback?this.m_callback(t):K("callback沒有設定，無法處理event: ",t)},n.SetCallback=function(t){this.m_callback=t},n.onDestroy=function(){this.m_callback=null},i}(z))||wi;v._RF.pop(),v._RF.push({},"bc3c97zP8pM2I5NAob2S72W","EffectView",void 0);var Ni,Ii,ki,Ai,Ri,Li,xi,Pi,Bi,Fi,Mi,Di,zi,Gi,Hi,Vi,Wi,Ui,ji=function(t){function i(){var e;return(e=t.call(this)||this).m_awardBoardFile=i.EFFECT_ROOT+"win/awardBoard",e.m_effectList={},e.m_timeLineList={},e.m_winEffCbFunc=null,e.m_currentWinEffect=null,e.m_currentWinEffectTimeline=null,e.m_awardBoard=null,e.m_awardBoardTimeline=null,e.m_txtWinValue=null,e.m_durRollMoneyTick=i.MONEY_ROLL_TIME,e.m_moneyRealValue=0,e.m_moneyRollValue=0,e.m_bgMaskNode=null,e.m_commonGetCoinCbFunc=null,e.m_commonGetCoinMidCbFunc=null,e.m_commonGetCoinEff=null,e.m_commonGetCoinTline=null,e.m_updateMoneyEff=null,e.m_updateMoneyTline=null,e.m_getCoinParticle=null,e.m_odds=[3,5,10,20,30],e.m_winEffectFiles=[null,null,i.EFFECT_ROOT+i.FILE_PATH.BIG_WIN,i.EFFECT_ROOT+i.FILE_PATH.MEGA_WIN,i.EFFECT_ROOT+i.FILE_PATH.SUPER_WIN],e.m_coinEffects=[2,3,5,5,5],e.m_coinTimes=[2,2,5,5,5],e.m_soundNameByOdds=[],e.m_isAutoCheckFloat=!1,e.m_rotateCoins={},e.m_coinEffectNode=void 0,e.m_loadedSound=void 0,e.m_isLandscape=!1,e.m_LandscapeRate=1,e.m_winType=void 0,e.m_nowPlaySoundID=null,e.m_loadedSound=!1,e}e(i,t);var n=i.prototype;return n.LoadSound=function(){this.m_loadedSound=!0},n.OnUpdate=function(t){this.RollWinMoney(t)},n.ShowWinAndCoinEffect=function(t,e,i){void 0===i&&(i=null),i=i||null;var n=r.GetManagerId(i);this.ShowWinEffect(t,n),void 0!==t.playCoinAtWinEffect&&!0!==t.playCoinAtWinEffect||this.playCoinEffect(e,n),r.StartLoad(n)},n.ShowWinEffect=function(t,e){var n=this;void 0===e&&(e=-1);var o=t.effectFile,l=t.winValue,c=t.cbFunc,u=t.yPos,m=t.deltaY,h=t.cbFuncBtoM,p=t.cbFuncMtoS,_=t.cbFuncPlaying,d=t.isLoop||!1,f=t.rollTime;if(null!=l){var y=function(){n.m_bgMaskNode&&(n.m_bgMaskNode.active=!0),K("LoadPrefabManager CB",l),u=null!=u&&u||i.DEFAULT_Y,n.m_effectList[o].setPosition(rt(i.DesignSize.width/2,u)),n.m_effectList[o].active=!0,n.m_timeLineList[o].play(i.ANI_LABEL.ACT),n.m_currentWinEffect=n.m_effectList[o],n.m_currentWinEffectTimeline=n.m_timeLineList[o],n.m_currentWinEffectTimeline.name=o,m=o==i.FILE_PATH.JACKPOT?180:null!=m?m:230,n.m_awardBoard.setPosition(rt(i.DesignSize.width/2,u-m)),n.m_awardBoard.active=!0,n.m_awardBoardTimeline.play(i.ANI_LABEL.ACT),n.SetWinValue(l,f),null==_||_()},g=e;-1==e&&(g=r.GetManagerId(y)),this.m_winEffCbFunc=c,null==this.m_effectList[o]?(r.AddLoad(g),a.GameBundle.load(o,(function(t,e){if(t)tt(t.message||t);else{var a=et(e);a.active=!1,n.addChild(a),s.SetZIndex(a,i.EFF_ZORDER.WIN_EFFECT);var l=a.getComponent(it);Oi.Pack(a,(function(t){if(t==i.ANI_FRAME_EVENT.ENDING)n.m_awardBoard&&n.m_awardBoard.active&&n.m_awardBoardTimeline.play(i.ANI_LABEL.ENDING);else if(t==i.ANI_FRAME_EVENT.LOOP){if(d)l.play(i.ANI_LABEL.LOOP),l.getState(i.ANI_LABEL.LOOP).wrapMode=nt.WrapMode.Loop}else t==i.ANI_FRAME_EVENT.B_TO_M?(n.m_awardBoard&&n.m_awardBoard.active&&ot(n.m_txtWinValue).by(.25,{scale:rt(1.5,1.5,1.5)}).by(.1,{scale:rt(.9,.9,.9)}).start(),h&&h()):t==i.ANI_FRAME_EVENT.M_TO_S?(n.m_awardBoard&&n.m_awardBoard.active&&ot(n.m_txtWinValue).by(.25,{scale:rt(1.5,1.5,1.5)}).by(.1,{scale:rt(.9,.9,.9)}).start(),null==p||p()):t==i.ANI_FRAME_EVENT.END&&(K("ANI_FRAME_EVENT.END"),n.OnAnimationEnd(),n.m_winEffCbFunc&&n.m_winEffCbFunc())})),a.active=!1,n.m_effectList[o]=a,n.m_timeLineList[o]=l,r.OnLoaded(g)}})),null==this.m_awardBoard&&(r.AddLoad(g),a.GameBundle.load(this.m_awardBoardFile,(function(t,e){t?tt(t.message||t):(n.m_awardBoard=et(e),n.addChild(n.m_awardBoard),s.SetZIndex(n.m_awardBoard,i.EFF_ZORDER.AWARD_BOARD),n.m_awardBoard.active=!1,n.m_awardBoardTimeline=n.m_awardBoard.getComponent(it),n.m_txtWinValue=n.m_awardBoard.getChildByName("win_value_label"),r.OnLoaded(g))}))),-1==e?r.StartLoad(g):r.AddOnLoadedCallback(g,y)):-1==e?y():r.AddOnLoadedCallback(g,y)}else this.m_awardBoard&&(this.m_awardBoard.active=!1,this.m_awardBoardTimeline.stop())},n.WinEffect=function(){this.m_currentWinEffectTimeline&&this.m_currentWinEffectTimeline.play(i.ANI_LABEL.ENDING,!1)},n.SetWinValue=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),this.m_moneyRealValue=s.strip(t),this.m_moneyRollValue=n,e=null==e&&i.MONEY_ROLL_TIME||e,this.m_durRollMoneyTick=s.strip(e)},n.RollWinMoney=function(t){if(this.m_moneyRealValue=s.strip(this.m_moneyRealValue),this.m_moneyRollValue=s.strip(this.m_moneyRollValue),this.m_moneyRollValue<this.m_moneyRealValue){var e=s.divide(this.m_durRollMoneyTick,s.strip(t)),i=s.divide(s.strip(this.m_moneyRealValue-this.m_moneyRollValue),e),n=s.FORMAT_NUMBER_TYPE.DEFINE_DOT;this.m_isAutoCheckFloat&&(n=this.m_moneyRealValue.toString().indexOf(".")>-1?s.FORMAT_NUMBER_TYPE.PERMANENT_DOT:s.FORMAT_NUMBER_TYPE.NONE_DOT),this.m_moneyRollValue=s.strip(this.m_moneyRollValue+i),this.m_moneyRollValue>this.m_moneyRealValue&&(this.m_moneyRollValue=this.m_moneyRealValue),this.SetLabelString(this.m_txtWinValue,this.m_moneyRollValue,n),this.m_durRollMoneyTick=s.strip(this.m_durRollMoneyTick-t)}},n.SetLabelString=function(t,e,i){void 0===i&&(i=null);var n=t.getComponent(P);if(null!=n&&null!=n){if(null==i||null==i)n.string=e.toString();else{var o;if("number"==typeof e)o=e;else{var r=e.replace(/,/g,"");o=isNaN(Number(r))?0:Number(r)}n.string=s.FormatNumberThousands(o,i)}s.SetFont(n)}else K("Warning!!!!!!!!!! SetLabelString: ",t)},n.SetWinMoneyToMax=function(){},n.IsRollMoneyEnd=function(){return this.m_moneyRollValue==this.m_moneyRealValue},n.StopAnimation=function(t){this.m_currentWinEffectTimeline&&this.m_currentWinEffectTimeline.stop(),this.m_awardBoard&&(this.m_awardBoard.active=!1,this.m_awardBoardTimeline.stop()),1!=t&&this.m_winEffCbFunc&&this.m_winEffCbFunc(),this.m_winEffCbFunc=null,this.OnAnimationEnd()},n.OnAnimationEnd=function(){this.m_currentWinEffect&&(this.m_currentWinEffect.active=!1),this.m_bgMaskNode&&(this.m_bgMaskNode.active=!1),this.m_moneyRealValue=0,this.m_moneyRollValue=0},n.playCoinEffect=function(t,e){var n=this;if(void 0===e&&(e=-1),a.CommonBundle){var o=t.level,l=t.position,c=t.time;null==c&&(c=0);var u=t.zOrder;null==u&&(u=0);var m=t.parent;this.stopCoinEffectImmly();var h=i.COIN_EFFECT_LIST[o];if(h=s.GetFilePath(h)){K("~~~~~~~~~~~~~~~~~~~~~~",t,c,u);var p=function(){n.m_coinEffectNode.setPosition(rt(l.x,l.y)),null==m||null==m?(n.addChild(n.m_coinEffectNode),s.SetZIndex(n.m_coinEffectNode,0)):(m.addChild(n.m_coinEffectNode),s.SetZIndex(n.m_coinEffectNode,u)),0!=c&&ot(n).delay(c).call((function(){n.stopCoinEffect()})).start()};-1!=e&&(r.AddOnLoadedCallback(e,p),r.AddLoad(e)),a.CommonBundle.load(h,(function(t,i){K("LoadRes ",h),t?tt(t.message||t):(n.m_coinEffectNode=et(i),n.m_coinEffectNode?-1==e?p():r.OnLoaded(e):K("SlotBottomBarView.playCoinEffect m_coinEffect is null"))}))}}},n.stopCoinEffectImmly=function(){null!=this.m_coinEffectNode&&this.m_coinEffectNode.removeFromParent&&(this.m_coinEffectNode.removeFromParent(),this.m_coinEffectNode=null)},n.stopCoinEffect=function(){if(null!=this.m_coinEffectNode&&this.m_coinEffectNode){var t=this.m_coinEffectNode.getChildByName("Particle_1").getComponent(at),e=this.m_coinEffectNode.getChildByName("Particle_2").getComponent(at);t&&t.stopSystem(),e&&e.stopSystem()}},n.ShowCommonEffect=function(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=null),n=n||{},o=o||{};var r=new st(i.DesignSize.width/2,i.DesignSize.height),a=new st(i.DesignSize.width/2-10,145),s=void 0,u=t/e;c&&(t=c.GetDisplayValue(t));for(var m=this.m_odds.length-1;m>=0;m--)if(u>=this.m_odds[m]){o.level=this.m_coinEffects[m],5==this.m_coinEffects[m]?o.position=o.position?o.position:r:o.position=o.smallPosition?o.smallPosition:o.position?o.position:a,(null==o.time||o.time<=0)&&(o.time=this.m_coinTimes[m]),5==this.m_coinEffects[m]?(n.effectFile=this.m_winEffectFiles[m],n.winValue=t,this.SetWinType(m),this.ShowWinAndCoinEffect(n,o)):this.playCoinEffect(o),s=this.m_soundNameByOdds[m];break}return null!=s&&(this.m_nowPlaySoundID=l.Play(s,!1)),null==o.time&&(o.time=0),o.time},n.SkipEffect=function(){if(this.stopCoinEffect(),lt.instance.ActionManager.removeAllActionsFromTarget(this),this.m_currentWinEffectTimeline){var t=this.m_currentWinEffectTimeline.name,e=s.FORMAT_NUMBER_TYPE.DEFINE_DOT;t!=i.FILE_PATH.BIG_WIN&&t!=i.FILE_PATH.MEGA_WIN&&t!=i.FILE_PATH.SUPER_WIN||(this.m_moneyRollValue=s.strip(this.m_moneyRollValue),this.m_moneyRealValue=s.strip(this.m_moneyRealValue),this.m_moneyRollValue==this.m_moneyRealValue?(this.m_awardBoardTimeline.play(i.ANI_LABEL.ENDING),this.m_currentWinEffectTimeline.setCurrentTime(5)):(this.m_isAutoCheckFloat&&(e=this.m_moneyRealValue.toString().indexOf(".")>-1?s.FORMAT_NUMBER_TYPE.PERMANENT_DOT:s.FORMAT_NUMBER_TYPE.NONE_DOT),this.SetLabelString(this.m_txtWinValue,this.m_moneyRealValue,e),this.m_currentWinEffectTimeline.setCurrentTime(3.8)),this.m_currentWinEffectTimeline=null),this.m_moneyRollValue=this.m_moneyRealValue}},n.SkipEffectSound=function(){this.m_nowPlaySoundID&&(l.Stop(this.m_nowPlaySoundID),this.m_nowPlaySoundID=null)},n.SetAutoCheckFloat=function(t){this.m_isAutoCheckFloat=t},n.SetOdds=function(t){this.m_odds=t},n.SetWinEffectFiles=function(t){this.m_winEffectFiles=t},n.SetAwardBoardFile=function(t){this.m_awardBoardFile=t},n.SetEffectLevels=function(t){this.m_coinEffects=t},n.SetEffectTimes=function(t){this.m_coinTimes=t},n.SetSoundNameByOdds=function(t){this.m_soundNameByOdds=t},n.SetBGMaskNode=function(t){null!=t&&(this.m_bgMaskNode=t)},n.SetWinTextFontSize=function(t){this.m_txtWinValue&&(this.m_txtWinValue.getComponent(P).fontSize=t)},n.SetWinType=function(t){this.m_winType=t},o(i,[{key:"CoinEffectNode",set:function(t){this.m_coinEffectNode=t}}]),i}(N);ji.DesignSize={width:1136,height:640},ji.SOUND_FILE={COMMON_SUPER_WIN:null,COMMON_MEGA_WIN:null,COMMON_COIN_SMALL:null,COMMON_COIN_MEDIUM:null,COMMON_BIG_WIN:null},ji.EFFECT_ROOT="Astt/%s/effect/GameCommonEffect/",ji.FILE_PATH={BIG_WIN:"win/big_anim",MEGA_WIN:"win/mega_anim",SUPER_WIN:"win/super_anim",JACKPOT:"win/effect_Jackpot",BIG_TO_MEGA_WIN:"win/bigToMega_anim",BIG_TO_SUPER_WIN:"win/bigToSuper_anim",FIVE_OF_A_KIND:"win/5ofa_anim"},ji.WIN_EFFECT_SOUND_NAME=((Ti={})[ji.FILE_PATH.BIG_WIN]="Common_big_win",Ti[ji.FILE_PATH.MEGA_WIN]="Common_mega_win",Ti[ji.FILE_PATH.SUPER_WIN]="Common_super_win",Ti[ji.FILE_PATH.JACKPOT]="Common_JP_win",Ti[ji.FILE_PATH.BIG_TO_MEGA_WIN]="Common_big_win",Ti[ji.FILE_PATH.BIG_TO_SUPER_WIN]="Common_big_win",Ti[ji.FILE_PATH.FIVE_OF_A_KIND]="Common_big_win",Ti),ji.EffectViewUIName=$({TXT_WIN_MONEY:"label_final_value",PARTICLE:"Particle_"}),ji.DEFAULT_Y=400,ji.PARTICLE_AMOUNT_MAX=2,ji.MONEY_ROLL_TIME=3,ji.UPDATE_MONEY_CSB=ji.EFFECT_ROOT+"common_get_coin/Node_GetCoin01.csb",ji.COMMON_GET_COIN_CSB=ji.EFFECT_ROOT+"common_get_coin/Node_GetCoin02.csb",ji.GET_COIN_PARTICLE_CSB=ji.EFFECT_ROOT+"common_get_coin/Particle/_V3_GetCoin02.plist",ji.ROTATE_COIN_CSB=ji.EFFECT_ROOT+"common_get_coin/Node_CoinRotation01.csb",ji.TRIAL_COIN_CSB=ji.EFFECT_ROOT+"common_get_coin/Node_GetTrialCoin.csb",ji.COIN_APPEAR_PARTICLE_CSB=ji.EFFECT_ROOT+"common_get_coin/Particle/New_CoinShine03.plist",ji.COMMON_COIN_AMOUNT=8,ji.ANI_LABEL={ACT:"main",LOOP:"loop",ENDING:"ending"},ji.ANI_FRAME_EVENT={MID:"AniMid",B_TO_M:"AniBtoM",M_TO_S:"AniMtoS",ENDING:"AniEnding",END:"AniEnd",LOOP:"AniLoop"},ji.EFF_ZORDER={COIN_FALL:1,WIN_EFFECT:2,AWARD_BOARD:3,COMMON_GET_COIN:4,GET_TRIAL_COIN:5},ji.COIN_EFFECT_LIST={1:ji.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_1",2:ji.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_2",3:ji.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_3",4:ji.EFFECT_ROOT+"coin/2_BigGoldCoinFX_1",5:ji.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_1",6:ji.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_2",7:ji.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_3"},ji.WIN_TYPE={BIG:2,MEGA:3,SUPER:4},v._RF.pop(),v._RF.push({},"a4b83idlNlHcZQFqX6vJhFz","ExtraBetComponent",void 0);var Ji,Xi,Yi,qi,Ki,Zi,Qi,$i,tn,en,nn=C.ccclass,on=C.property,rn=0,an=1;Ni=on({type:N,tooltip:"EX 按鈕最頂層節點(整顆node)"}),Ii=on({type:ct,tooltip:"EX 按鈕"}),ki=on({type:ct,tooltip:"按鈕ON"}),Ai=on({type:ct,tooltip:"按鈕OFF"}),Ri=on({type:ct,tooltip:"提示問號按鈕"}),Li=on({type:N,tooltip:"提示文字tip面板"}),xi=on({type:P,tooltip:"功能說明文字串Label"}),Pi=on({type:R,tooltip:"本體ExtraBet文字圖片"}),nn((Mi=t((Fi=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_multiExtraBetNode",Mi,n(e)),i(e,"m_multiBtn",Di,n(e)),i(e,"m_multiBtn_on",zi,n(e)),i(e,"m_multiBtn_off",Gi,n(e)),i(e,"m_multiBtn_TipQuesMark",Hi,n(e)),i(e,"m_multiBtn_Tip",Vi,n(e)),i(e,"m_multiBtn_Description",Wi,n(e)),i(e,"m_Txt_Extra_Bet",Ui,n(e)),e.m_isExtendShowBar=!1,e.m_ExtraBetAniPlaying=null,e.m_isExtra=!1,e.m_isForceExtraOnEnd=!1,e.m_isTwoStep=!1,e.m_toStepTwo=!1,e.m_triggerCb=null,e.m_canExtend=!0,e}e(r,t);var s=r.prototype;return s.Init=function(t,e,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),this.m_triggerCb=t,this.m_isTwoStep=n,this.m_multiBtn_Description&&this.m_Txt_Extra_Bet&&(K(" localeStringManager.CurrLang : "+u.CurrLang),this.m_multiBtn_Description.string=u.GetString(e),this.m_Txt_Extra_Bet.spriteFrame=u.GetGameAtlas().getSpriteFrame(i)),m.Init(o?null:this.node,this.ForceSetExtraBet.bind(this))},s.onLoad=function(){var t=this;K("ExtraBet onLoad"),this.m_multiBtn&&this.m_multiBtn.node.on(N.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(l.Play(a.AudioClips.COMMON_BTN),t.CheckCanUseBtn()?t.ExtendShowBar(!t.m_isExtendShowBar):h.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1))}));for(var e=0;e<this.m_multiBtn_on.length;e++)this.m_multiBtn_on[e].node.on(N.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(t.CheckCanUseBtn()?t.ChangeBetMode():h.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1))})),this.m_multiBtn_off[e]&&this.m_multiBtn_off[e].node.on(N.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(l.Play(a.AudioClips.COMMON_BTN),t.CheckCanUseBtn()&&t.ChangeBetMode())}));this.m_multiBtn_TipQuesMark&&this.m_multiBtn_TipQuesMark.node.on(N.EventType.TOUCH_END,p(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.m_ExtraBetAniPlaying){e.next=13;break}if(l.Play(a.AudioClips.COMMON_BTN),_.Current()!=d.IDLE||f.IsBuyBonus){e.next=12;break}if(!t.m_isExtendShowBar){e.next=7;break}t.m_multiBtn_Tip.active=!t.m_multiBtn_Tip.active,e.next=10;break;case 7:return e.next=9,t.ExtendShowBar(!0);case 9:!t.m_multiBtn_Tip.active&&t.m_isExtendShowBar&&(t.m_multiBtn_Tip.active=!0);case 10:e.next=13;break;case 12:h.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1);case 13:case"end":return e.stop()}}),e)})))),this.ExtendShowBar(!1)},s.start=function(){K("ExtraBet start")},s.CheckCanUseBtn=function(){return a.IsInMG()&&_.Current()==d.IDLE&&!a.IsUsingItem&&!f.IsBuyBonus&&!y.IsFeaturesDemoMode},s.OnSpin=function(){this.ExtendShowBar(!1)},s.ShowExtra=function(t){this.m_multiExtraBetNode&&(this.m_multiExtraBetNode.active=t)},s.GoToFeatures=function(){},s.ExtendShowBar=function(){var t=p(g().mark((function t(e){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_canExtend){t.next=2;break}return t.abrupt("return");case 2:if(!c||this.m_ExtraBetAniPlaying){t.next=31;break}if(!e){t.next=20;break}if(c.IsAutoSpin||a.IsUsingItem||f.IsBuyBonus){t.next=17;break}if(this.m_isExtendShowBar){t.next=15;break}if(this.m_isExtendShowBar=!0,c.SetSpinState(S.CLICK_SPIN),this.m_ExtraBetAniPlaying=!0,!this.m_multiExtraBetNode){t.next=12;break}return t.next=12,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_Show");case 12:this.m_ExtraBetAniPlaying=!1,c.SetSpinState(S.IDLE),this.m_isExtra&&this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Active");case 15:t.next=18;break;case 17:h.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1);case 18:t.next=31;break;case 20:if(!this.m_isExtendShowBar){t.next=31;break}if(c.IsAutoSpin||c.SetSpinState(S.CLICK_SPIN),this.m_multiBtn_Tip&&(this.m_multiBtn_Tip.active=!1),this.m_ExtraBetAniPlaying=!0,!this.m_multiExtraBetNode){t.next=27;break}return t.next=27,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_Close");case 27:this.m_ExtraBetAniPlaying=!1,c.IsAutoSpin||c.SetSpinState(S.IDLE),this.m_multiExtraBetNode&&(this.m_isExtra?this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Active"):(this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_OFF"),(i=this.m_multiExtraBetNode.getComponent(it).getState("ExtraBet_OFF")).setTime(i.duration))),this.m_isExtendShowBar=!1;case 31:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.ChangeBetMode=function(){var t=p(g().mark((function t(){var e;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(K("ChangeBetMode stateManager.Current() : ",_.Current()),!c||f.IsBuyBonus||_.Current()!==d.IDLE&&!this.m_isExtra){t.next=34;break}if(this.m_isExtra=!this.m_isExtra,e=[],!this.m_isExtra){t.next=22;break}return this.m_isTwoStep?this.m_toStepTwo=!0:c.ChangeMultiBet(an),1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!0,this.m_multiBtn_off[0].node.active=!1),this.m_ExtraBetAniPlaying=!0,null==c||c.SetSpinState(S.CLICK_SPIN),null==y||y.SetBuyBonusState(!1),this.m_multiExtraBetNode&&e.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_ON")),e.push(this.m_triggerCb(this.m_isExtra,!1)),t.next=14,Promise.all(e);case 14:return this.m_ExtraBetAniPlaying=!1,null==c||c.SetSpinState(S.IDLE),this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Active"),t.next=19,a.Wait(this,.2);case 19:null==y||y.SetBuyBonusState(!0),t.next=32;break;case 22:return c.ChangeMultiBet(rn),1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),this.m_ExtraBetAniPlaying=!0,null==c||c.SetSpinState(S.CLICK_SPIN),this.m_multiExtraBetNode&&e.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_OFF")),e.push(this.m_triggerCb(this.m_isExtra,!1)),t.next=30,Promise.all(e);case 30:this.m_ExtraBetAniPlaying=!1,null==c||c.SetSpinState(S.IDLE);case 32:t.next=35;break;case 34:_.Current()!==d.IDLE&&(K("TRIAL_REFUSED_REASON 1 "),h.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1));case 35:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.SetTwoStepMulti=function(){var t=p(g().mark((function t(e,i){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_isTwoStep||!this.m_toStepTwo){t.next=13;break}if(!e){t.next=5;break}c.ChangeMultiBet(i),t.next=13;break;case 5:if(this.m_isExtra=!1,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),this.m_ExtraBetAniPlaying=!0,c&&c.SetSpinState(S.CLICK_SPIN),!this.m_multiExtraBetNode){t.next=12;break}return t.next=12,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_OFF");case 12:this.m_ExtraBetAniPlaying=!1;case 13:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),s.ForceSetExtraBet=function(){var t=p(g().mark((function t(e,i){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=an),!e){t.next=10;break}return this.m_isExtra=!0,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!0,this.m_multiBtn_off[0].node.active=!1),this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Active"),this.m_isTwoStep?(this.m_toStepTwo=!0,this.SetTwoStepMulti(e,i)):c.ChangeMultiBet(i),t.next=8,this.m_triggerCb(e,!0);case 8:t.next=19;break;case 10:if(!this.m_isExtra){t.next=19;break}return n=[],this.m_isExtra=!1,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),c.ChangeMultiBet(rn),this.m_multiExtraBetNode&&(this.m_isExtendShowBar?n.push(this.ExtendShowBar(!1)):n.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(it),"ExtraBet_OFF"))),n.push(this.m_triggerCb(e,!0)),t.next=19,Promise.all(n);case 19:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),s.OnRotation=function(){this.m_multiExtraBetNode&&(this.m_isExtra?this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Active"):this.m_multiExtraBetNode.getComponent(it).play("ExtraBet_Stop")),this.m_multiBtn_Tip&&(this.m_multiBtn_Tip.active=!1)},s.IsExAnimationTouchable=function(){return!this.m_ExtraBetAniPlaying},s.FirstShowBar=function(){},s.PlayAnimation=function(t,e,i){return void 0===i&&(i=!1),new Promise((function(n){if(t.play(e),i){var o=t.getState(e);o&&(o.wrapMode=nt.WrapMode.Loop)}t.once(it.EventType.FINISHED,(function(){n(!0)}))}))},o(r,[{key:"ExtraBetAniPlaying",set:function(t){this.m_ExtraBetAniPlaying=t}},{key:"IsExtra",get:function(){return this.m_isExtra}},{key:"IsForceExtraOnEnd",get:function(){return this.m_isForceExtraOnEnd}},{key:"CanExtend",set:function(t){this.m_canExtend=t}}]),r}(z)).prototype,"m_multiExtraBetNode",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Di=t(Fi.prototype,"m_multiBtn",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zi=t(Fi.prototype,"m_multiBtn_on",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gi=t(Fi.prototype,"m_multiBtn_off",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hi=t(Fi.prototype,"m_multiBtn_TipQuesMark",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=t(Fi.prototype,"m_multiBtn_Tip",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=t(Fi.prototype,"m_multiBtn_Description",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ui=t(Fi.prototype,"m_Txt_Extra_Bet",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bi=Fi));v._RF.pop(),v._RF.push({},"5cf68x6BTZHP5QWXU3HRb/c","FeaturePageComponent",void 0);var sn,ln,cn,un,mn,hn,pn,_n,dn,fn,yn,gn,Sn,bn,wn,vn,Cn,En,Tn,On,Nn,In,kn,An,Rn,Ln,xn,Pn,Bn,Fn,Mn,Dn=C.ccclass,zn=C.property;Ji=zn({type:R,tooltip:"說明文字"}),Xi=zn({type:ut,tooltip:"圖片名稱"}),Yi=zn({type:Boolean,tooltip:"圖片名稱"}),qi=zn({type:R,tooltip:"圖片名稱"}),Dn((Qi=t((Zi=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_hintSprite",Qi,n(e)),i(e,"m_imgName",$i,n(e)),i(e,"m_isAD",tn,n(e)),i(e,"m_ADsprite",en,n(e)),e}e(o,t);var r=o.prototype;return r.start=function(){var t=this;if(!this.m_isAD){var e=u.GetGameAtlas();e?this.m_hintSprite.spriteFrame=e.getSpriteFrame(this.m_imgName):u.RegisterOnGameAltasLoadedCb((function(){t.m_hintSprite.spriteFrame=u.GetGameAtlas().getSpriteFrame(t.m_imgName)}))}},r.SetADSprites=function(t){this.m_ADsprite&&(this.m_ADsprite.spriteFrame=t)},o}(z)).prototype,"m_hintSprite",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$i=t(Zi.prototype,"m_imgName",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tn=t(Zi.prototype,"m_isAD",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),en=t(Zi.prototype,"m_ADsprite",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ki=Zi));v._RF.pop(),v._RF.push({},"9099fuoIOdA/qc/GkvbZ7rH","GroupNode",void 0);var Gn,Hn,Vn,Wn,Un=C.ccclass,jn=C.property,Jn=C.menu,Xn=C.executeInEditMode,Yn="active-in-hierarchy-changed";!function(t){t[t.WIDTH=1]="WIDTH",t[t.HEIGHT=2]="HEIGHT",t[t.BOTH=3]="BOTH"}(Gn||(Gn={})),function(t){t[t.X=1]="X",t[t.Y=2]="Y",t[t.BOTH=3]="BOTH"}(Hn||(Hn={})),function(t){t[t.X=1]="X",t[t.Y=2]="Y",t[t.BOTH=3]="BOTH"}(Vn||(Vn={})),function(t){t[t.R=1]="R",t[t.G=2]="G",t[t.B=4]="B",t[t.RGB=7]="RGB",t[t.A=8]="A",t[t.RGBA=15]="RGBA"}(Wn||(Wn={}));var qn,Kn,Zn;sn=Jn("Chiron/GroupNode/GroupNode"),ln=jn({displayName:"Sync OnEnable",tooltip:"當 Node 啟用時同步一次所有選定的狀態至屬性 Group Nodes 中"}),cn=jn({displayName:"Sync OnDisable",tooltip:"當 Node 啟用時同步一次所有選定的狀態至屬性 Group Nodes 中"}),un=jn({displayName:"Sync Recursive",tooltip:"是否遞迴同步屬性 Group Nodes 中帶有 GroupNode 元件的節點"}),mn=jn({type:[N],displayName:"Group Nodes"}),hn=jn({displayName:"Active Aware",tooltip:"當啓閉狀態改變時是否讓群組裡的 Node 跟著啓閉調整"}),pn=jn({displayName:"Position Aware",tooltip:"當位置改變時是否讓群組裡的 Node 跟著調整相對位置"}),_n=jn({type:$(Hn),displayName:"Position Mode",tooltip:"當座標改變時子元件跟著調動的參數",visible:function(){return this.m_positionAware}}),dn=jn({displayName:"Rotation Aware",tooltip:"當旋轉改變時是否讓群組裡的 Node 跟著調整轉角"}),fn=jn({displayName:"Scale Aware",tooltip:"當縮放比例改變時是否讓群組裡的 Node 跟著改變縮放比例"}),yn=jn({type:$(Vn),displayName:"Scale Mode",tooltip:"當縮放改變時子元件跟著調動的參數",visible:function(){return this.m_scaleAware}}),gn=jn({displayName:"Color Aware",tooltip:"當顏色改變時是否讓群組裡的 Node 跟著改變顏色"}),Sn=jn({type:$(Wn),displayName:"Color Mode",tooltip:"當顏色改變時子元件跟著調動的參數",visible:function(){return this.m_colorAware}}),bn=jn({displayName:"Size Aware",tooltip:"當大小改變時是否讓群組裡的 Node 跟著改變大小"}),wn=jn({type:$(Gn),displayName:"Size Mode",tooltip:"當大小改變時子元件跟著調動的參數",visible:function(){return this.m_sizeAware}}),Un(vn=Xn(vn=sn((En=t((Cn=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).m_lastPos=void 0,e.m_lastRotation=void 0,i(e,"m_syncOnEnable",En,n(e)),i(e,"m_syncOnDisable",Tn,n(e)),i(e,"m_syncRecursive",On,n(e)),i(e,"m_nodes",Nn,n(e)),i(e,"m_activeAware",In,n(e)),i(e,"m_positionAware",kn,n(e)),i(e,"m_positionMode",An,n(e)),i(e,"m_rotationAware",Rn,n(e)),i(e,"m_scaleAware",Ln,n(e)),i(e,"m_scaleMode",xn,n(e)),i(e,"m_colorAware",Pn,n(e)),i(e,"m_colorMode",Bn,n(e)),i(e,"m_sizeAware",Fn,n(e)),i(e,"m_sizeMode",Mn,n(e)),e.m_isRegisted=!1,e}e(r,t);var a=r.prototype;return a.__preload=function(){this.m_isRegisted||(this.m_isRegisted=!0,this.m_lastPos=mt(this.node.position.x,this.node.position.y),this.m_lastRotation=this.node.angle,this.node.on(Yn,this.OnActiveChanged,this),this.node.on(N.EventType.COLOR_CHANGED,this.OnColorChanged,this),this.node.on(N.EventType.TRANSFORM_CHANGED,this.OnRotationChanged,this),this.node.on(N.EventType.TRANSFORM_CHANGED,this.OnPositionChanged,this),this.node.on(N.EventType.TRANSFORM_CHANGED,this.OnScaleChanged,this),this.node.on(N.EventType.SIZE_CHANGED,this.OnSizeChanged,this),ht.on(pt.EVENT_BEFORE_DRAW,this.StateCheck,this))},a.ForceInit=function(){this.__preload()},a.onDestroy=function(){t.prototype.onDestroy&&t.prototype.onDestroy.call(this),this.node.off(Yn,this.OnActiveChanged,this),this.node.off(N.EventType.TRANSFORM_CHANGED,this.OnPositionChanged,this),this.node.off(N.EventType.COLOR_CHANGED,this.OnColorChanged,this),this.node.off(N.EventType.TRANSFORM_CHANGED,this.OnRotationChanged,this),this.node.off(N.EventType.TRANSFORM_CHANGED,this.OnScaleChanged,this),this.node.off(N.EventType.SIZE_CHANGED,this.OnSizeChanged,this),ht.off(pt.EVENT_BEFORE_DRAW,this.StateCheck,this)},a.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),this.m_syncOnEnable&&this.SyncAware()},a.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this),this.m_syncOnDisable&&this.SyncAware()},a.SyncAware=function(){this.SyncActive(),this.SyncSize(),this.SyncPosition(),this.SyncRotation(),this.SyncOpacity(),this.SyncColor(),this.SyncScale()},a.StateCheck=function(){this.node.isValid&&this.node._renderFlag&&this.OnOpacityChanged()},a.SyncGroupChild=function(t,e){var i=e.getComponent(r);this.m_syncRecursive&&i&&t.call(i)},a.SyncScale=function(){if(this.m_scaleAware)for(var t,e=b(this.m_nodes);!(t=e()).done;){var i=t.value;i&&i.isValid&&(i.scale=new A(this.node.scale.x,this.node.scale.y,this.node.scale.z),this.SyncGroupChild(this.SyncScale,i))}},a.OnScaleChanged=function(){this.SyncScale()},a.SyncColor=function(){if(this.m_colorAware)for(var t,e=this.node.getComponent(F).color,i=b(this.m_nodes);!(t=i()).done;){var n=t.value;n&&n.isValid&&(n.getComponent(F).color=e,this.SyncGroupChild(this.SyncColor,n))}},a.OnColorChanged=function(){this.SyncColor()},a.SyncOpacity=function(){if(this.m_colorAware&&this.m_colorMode&Wn.A)for(var t,e=b(this.m_nodes);!(t=e()).done;){var i=t.value;i&&i.isValid&&(i.getComponent(_t).opacity=this.node.getComponent(_t).opacity,this.SyncGroupChild(this.SyncOpacity,i))}},a.OnOpacityChanged=function(){this.SyncOpacity()},a.SyncRotation=function(){if(this.m_rotationAware){var t=this.node.angle-this.m_lastRotation;this.m_lastRotation=this.node.angle;for(var e,i=b(this.m_nodes);!(e=i()).done;){var n=e.value;n&&n.isValid&&(n.angle=n.angle+t,this.SyncGroupChild(this.SyncRotation,n))}}},a.OnRotationChanged=function(){this.SyncRotation()},a.SyncActive=function(){if(this.m_activeAware)for(var t,e=this.node.active,i=b(this.m_nodes);!(t=i()).done;){var n=t.value;n&&n.isValid&&(n.active=e,this.SyncGroupChild(this.SyncActive,n))}},a.OnActiveChanged=function(){this.SyncActive()},a.SyncPosition=function(){if(this.m_positionAware){var t=this.node.position.x-this.m_lastPos.x,e=this.node.position.y-this.m_lastPos.y;this.m_lastPos.x=this.node.position.x,this.m_lastPos.y=this.node.position.y;for(var i,n=b(this.m_nodes);!(i=n()).done;){var o=i.value;o&&o.isValid&&(o.setPosition(rt(o.position.x+t,o.position.y+e,o.position.z)),this.SyncGroupChild(this.SyncPosition,o))}}},a.OnPositionChanged=function(){this.SyncPosition()},a.SyncSize=function(){if(this.m_sizeAware)for(var t,e=b(this.m_nodes);!(t=e()).done;){var i=t.value;i&&i.isValid&&(this.m_sizeMode&Gn.WIDTH&&(i.getComponent(O).width=this.node.getComponent(O).width),this.m_sizeMode&Gn.HEIGHT&&(i.getComponent(O).height=this.node.getComponent(O).height),this.SyncGroupChild(this.SyncSize,i))}},a.OnSizeChanged=function(){this.SyncSize()},o(r,[{key:"Nodes",get:function(){return this.m_nodes}}]),r}(z)).prototype,"m_syncOnEnable",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tn=t(Cn.prototype,"m_syncOnDisable",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),On=t(Cn.prototype,"m_syncRecursive",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nn=t(Cn.prototype,"m_nodes",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),In=t(Cn.prototype,"m_activeAware",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kn=t(Cn.prototype,"m_positionAware",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),An=t(Cn.prototype,"m_positionMode",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hn.BOTH}}),Rn=t(Cn.prototype,"m_rotationAware",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ln=t(Cn.prototype,"m_scaleAware",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xn=t(Cn.prototype,"m_scaleMode",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vn.BOTH}}),Pn=t(Cn.prototype,"m_colorAware",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bn=t(Cn.prototype,"m_colorMode",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.RGBA}}),Fn=t(Cn.prototype,"m_sizeAware",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mn=t(Cn.prototype,"m_sizeMode",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gn.BOTH}}),vn=Cn))||vn)||vn);v._RF.pop(),v._RF.push({},"e33faPhWqxMHa92Db40WLqj","LabelSpacingX",void 0);var Qn,$n,to,eo,io,no,oo,ro,ao,so,lo,co,uo,mo=C.ccclass,ho=C.property,po=C.executeInEditMode,_o=C.requireComponent;mo("LabelSpacingX")(qn=_o(P)(qn=po((Zn=t((Kn=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_spacingX",Zn,n(e)),e}e(r,t);var a=r.prototype;return a.onEnable=function(){this.resetSpacingX()},a.resetSpacingX=function(){var t=this.node.getComponent(P);t&&t.cacheMode===P.CacheMode.CHAR&&(t.spacingX=this._spacingX)},o(r,[{key:"spacingX",get:function(){return this._spacingX},set:function(t){this._spacingX=t,this.resetSpacingX()}}]),r}(z)).prototype,"_spacingX",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Kn.prototype,"spacingX",[ho],Object.getOwnPropertyDescriptor(Kn.prototype,"spacingX"),Kn.prototype),qn=Kn))||qn)||qn);v._RF.pop(),v._RF.push({},"a6f15DRaTNJEaqvyk6QuIo3","LangImg",void 0);var fo,yo=C.ccclass,go=C.executeInEditMode,So=C.property,bo="db://assets/game/Text/en/",wo="db://assets/otherAsttText/AsttText/en/";!function(t){t[t.PNG=0]="PNG",t[t.JPG=1]="JPG"}(fo||(fo={}));var vo,Co,Eo,To,Oo,No,Io,ko,Ao,Ro,Lo,xo,Po,Bo,Fo={PNG:".png",JPG:".jpg"};Qn=yo("LangImg"),$n=So({type:ut,tooltip:"圖片路徑"}),to=So({type:ut,tooltip:"額外路徑，如果不是在game/Text/en/或otherAsttText/AsttText/en/下，請填入後續路徑"}),eo=So({type:$(fo),tooltip:"圖片類型"}),io=So({type:Y,tooltip:"是否為通用圖片"}),no=So({type:Y,tooltip:"是否由這個組件來設定多語系圖片"}),Qn(oo=go((ao=t((ro=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_path",ao,n(e)),i(e,"m_extraPath",so,n(e)),i(e,"m_imgTypeNo",lo,n(e)),i(e,"m_isCommon",co,n(e)),i(e,"m_isUsingSetImage",uo,n(e)),e}e(o,t);var r=o.prototype;return r.start=function(){this.SetImg()},r.SetImg=function(){var t=this;if(this.m_isUsingSetImage){var e=null;if(this.m_isCommon){if(!(e=u.GetCommonAtlas()))return void u.RegisterOnCommonAltasLoadedCb((function(){t.SetImg()}))}else if(!(e=u.GetGameAtlas()))return void u.RegisterOnGameAltasLoadedCb((function(){t.SetImg()}));var i=this.node.getComponent(R);i||(i=this.node.addComponent(R)),i.spriteFrame=e.getSpriteFrame(this.m_path)}},r.SetPreviewImg=function(){this.AdjustComponentOrdering(),this.ReadSpriteFrame(),o.prototype._onBeforeSerialize=function(){return this.OnBeforeSerialize(),!1}},r.AdjustComponentOrdering=function(){},r.ReadSpriteFrame=function(){var t=p(g().mark((function t(){var e,i,n,o,r,a,s=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_path){t.next=2;break}return t.abrupt("return");case 2:return e=(this.m_isCommon?wo:bo)+this.m_extraPath+this.m_path,i=Fo.PNG,n=fo[this.m_imgTypeNo],Object.prototype.hasOwnProperty.call(fo,n)&&(o=fo[n],Number(o)===this.m_imgTypeNo&&(i=Fo[n])),t.next=8,Editor.Message.request("asset-db","query-assets",{importer:"sprite-frame",pattern:e+i});case 8:r=t.sent,a={uuid:r[0].uuid},x.loadAny(a,(function(t,e){if(t)tt("Failed to load cc.SpriteFrame resources:",t);else{var i=s.node.getComponent(R);i||(i=s.node.addComponent(R)),i.spriteFrame=e}}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.OnBeforeSerialize=function(){},o}(z)).prototype,"m_path",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),so=t(ro.prototype,"m_extraPath",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lo=t(ro.prototype,"m_imgTypeNo",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fo.PNG}}),co=t(ro.prototype,"m_isCommon",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uo=t(ro.prototype,"m_isUsingSetImage",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oo=ro))||oo);v._RF.pop(),v._RF.push({},"1d950BFoN5LhJJ79uyt+/E+","MarqueeComponent",void 0);var Mo,Do,zo,Go,Ho,Vo,Wo,Uo,jo,Jo=C.ccclass,Xo=C.property;vo=Xo({type:q,tooltip:"每秒的位移量"}),Co=Xo({type:q,tooltip:"循環播放的間隔"}),Eo=Xo({type:q,tooltip:"未超出的停留時間"}),To=Xo({type:q,tooltip:"超出時的停留時間"}),Oo=Xo({type:q,tooltip:"尾部保留的空間"}),No=Xo({type:N,tooltip:"跑馬燈內容節點"}),Jo((Ao=t((ko=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_moveSpeed",Ao,n(e)),i(e,"m_delayTime",Ro,n(e)),i(e,"m_waitTime",Lo,n(e)),i(e,"m_moveDelayTime",xo,n(e)),i(e,"m_tailLeftSpace",Po,n(e)),i(e,"m_content",Bo,n(e)),e.m_imgs=null,e.m_viewWidth=null,e.m_stringSprite=null,e.m_isStart=!1,e.m_isStop=!1,e.m_scale=1,e.m_imgIndex=-1,e}e(o,t);var r=o.prototype;return r.Init=function(t){this.m_imgs=t,this.m_viewWidth=this.node.getComponent(O).contentSize.width;var e=this.m_content?this.m_content:this.node.children[0];t&&t.length>0&&(e||((e=new N).addComponent(O),this.node.addChild(e)),this.m_stringSprite=e.getComponent(R),this.m_stringSprite||(this.m_stringSprite=e.addComponent(R)),this.m_stringSprite.type=R.Type.SIMPLE,this.m_stringSprite.sizeMode=R.SizeMode.TRIMMED),e.getComponent(O).setAnchorPoint(mt(0,.5)),this.m_scale=e.scale.x},r.ShowOnce=function(){var t=p(g().mark((function t(e){var i,n,o,r,l,c,u,m,h,p;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_isStart){t.next=2;break}return t.abrupt("return");case 2:if(this.m_isStart=!0,"string"!=typeof e){t.next=24;break}if(!(i=this.m_content.getComponent(dt))){t.next=19;break}return i.string=e,n=s.times(i.node.getComponent(O).width+this.m_tailLeftSpace,this.m_scale),i.node.active=!0,o=n+this.m_viewWidth,r=s.divide(o,this.m_moveSpeed),l=i.node.position.x,ot(i.node).to(r,{position:rt(l-o,0)}).start(),t.next=15,a.Wait(this,r);case 15:i.node.active=!1,i.node.setPosition(rt(this.m_viewWidth,0)),t.next=22;break;case 19:return tt("RichText doesn't exist"),this.m_isStart=!1,t.abrupt("return");case 22:t.next=44;break;case 24:if(e?(this.m_imgIndex++,this.m_imgIndex>=this.m_imgs.length&&(this.m_imgIndex=0),c=this.m_imgs[this.m_imgIndex]):c=this.m_imgs[Math.floor(Math.random()*this.m_imgs.length)],this.m_stringSprite.spriteFrame=c,u=s.times(this.m_stringSprite.spriteFrame.rect.width+this.m_tailLeftSpace,this.m_scale),this.m_stringSprite.node.active=!0,!(u>this.m_viewWidth)){t.next=39;break}return this.m_stringSprite.node.position=rt(0,0),t.next=32,a.Wait(this,this.m_moveDelayTime);case 32:return m=u+this.m_viewWidth,h=s.divide(m,this.m_moveSpeed),ot(this.m_stringSprite.node).to(h,{position:rt(-u,0)}).start(),t.next=37,a.Wait(this,h);case 37:t.next=43;break;case 39:return p=s.minus(this.m_viewWidth,u),this.m_stringSprite.node.position=rt(s.divide(p,2),0),t.next=43,a.Wait(this,this.m_waitTime);case 43:this.m_stringSprite.node.active=!1;case 44:this.m_isStart=!1;case 45:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.ShowForever=function(){var t=p(g().mark((function t(e){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1);case 1:if(this.m_isStop){t.next=9;break}return t.next=4,this.ShowOnce(e);case 4:if(!(this.m_delayTime&&this.m_delayTime>0)){t.next=7;break}return t.next=7,a.Wait(this,this.m_delayTime);case 7:t.next=1;break;case 9:this.m_isStop=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.Stop=function(){this.m_isStop=!0},r.ChangeTimeSetting=function(t,e,i,n,o){this.m_moveSpeed=t,this.m_delayTime=e,this.m_waitTime=i,this.m_moveDelayTime=n,this.m_tailLeftSpace=o},o}(z)).prototype,"m_moveSpeed",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ro=t(ko.prototype,"m_delayTime",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lo=t(ko.prototype,"m_waitTime",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xo=t(ko.prototype,"m_moveDelayTime",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Po=t(ko.prototype,"m_tailLeftSpace",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bo=t(ko.prototype,"m_content",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Io=ko));v._RF.pop(),v._RF.push({},"93417uqlh9Fm6TH2poz4GO4","NearWinEffectComponent",void 0);var Yo,qo,Ko,Zo,Qo,$o="FadeIn",tr="FadeOut",er="NearWin",ir=C.ccclass,nr=C.property;Mo=ir("NearWinEffectComponent"),Do=nr({type:Number,tooltip:"淡入時間"}),zo=nr({type:Number,tooltip:"淡出時間"}),Go=nr({type:Y,tooltip:"是否使用spine動畫"}),Mo((Wo=t((Vo=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_fadeInTime",Wo,n(e)),i(e,"m_fadeOutTime",Uo,n(e)),i(e,"m_isPlaySpine",jo,n(e)),e.m_cancelCb=null,e.m_spine=null,e}e(o,t);var r=o.prototype;return r.start=function(){this.m_spine||(this.node.active=!1)},r.FadeIn=function(){var t=p(g().mark((function t(e){var i,n=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CheckSpine(),this.node.active=!0,!this.m_isPlaySpine){t.next=9;break}return t.next=5,w.PlayAnimation(this.m_spine,$o);case 5:t.sent||w.PlayAnimation(this.m_spine,er,!0),t.next=16;break;case 9:return ft.stopAllByTarget(this.m_spine.color),null==(i=this.m_cancelCb)||i.call(this),this.node.active=!0,this.m_spine.color=new E(this.m_spine.color.r,this.m_spine.color.g,this.m_spine.color.b,0),null==e||e(),t.next=16,new Promise((function(t){n.m_cancelCb=function(){t()},ot(n.m_spine.color).to(n.m_fadeInTime,{a:255}).call((function(){t(),n.m_cancelCb=null})).start()}));case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.FadeOut=function(){var t=p(g().mark((function t(){var e,i,n=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CheckSpine(),!this.m_isPlaySpine){t.next=12;break}if(this.node.active){t.next=4;break}return t.abrupt("return",!0);case 4:return this.CheckSpine(),t.next=7,w.PlayAnimation(this.m_spine,tr);case 7:return(e=t.sent)||(this.node.active=!1),t.abrupt("return",!e);case 12:if(!(this.m_spine.color.a<=0)){t.next=14;break}return t.abrupt("return",!1);case 14:return ft.stopAllByTarget(this.m_spine.color),null==(i=this.m_cancelCb)||i.call(this),t.next=18,new Promise((function(t){n.m_cancelCb=function(){t(!1)},ot(n.m_spine.color).to(n.m_fadeOutTime,{a:0}).call((function(){t(!0),n.m_cancelCb=null,n.node.active=!1})).start()}));case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.CheckSpine=function(){this.m_spine||(this.m_spine=this.node.getComponent(Q.Skeleton),this.m_isPlaySpine&&this.m_spine.setMix($o,tr,.05))},o}(z)).prototype,"m_fadeInTime",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Uo=t(Vo.prototype,"m_fadeOutTime",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),jo=t(Vo.prototype,"m_isPlaySpine",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ho=Vo));v._RF.pop(),v._RF.push({},"3638c7rYSpEjZ7x8wtqusdg","RenderDataBump",void 0);var or,rr,ar,sr,lr,cr=0,ur=1,mr=2,hr=C.ccclass,pr=C.property;Yo=hr("RenderDataBump"),qo=pr({tooltip:"是否一同影響子節點"}),Yo((Qo=t((Zo=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"affectsChildren",Qo,n(e)),e.states=cr,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.node.on(N.EventType.PARENT_CHANGED,this.checkStates,this)},r.onDestroy=function(){this.node.off(N.EventType.PARENT_CHANGED,this.checkStates,this)},r.checkStates=function(){this.node.parent?this.states===ur&&this.requestRenderData():this.states!==mr&&this.states!==cr||this.destroyRenderData()},r.destroyRenderData=function(){var t=this.node.getComponent(F);if(null==t||t.destroyRenderData(),this.affectsChildren)for(var e,i=this.node.getComponentsInChildren(F),n=b(i);!(e=n()).done;){var o=e.value;null==o||o.destroyRenderData()}this.states=ur},r.requestRenderData=function(){var t=this.node.getComponent(F);if(null==t||t._flushAssembler(),this.affectsChildren)for(var e,i=this.node.getComponentsInChildren(F),n=b(i);!(e=n()).done;){var o=e.value;null==o||o._flushAssembler()}this.states=mr},o}(z)).prototype,"affectsChildren",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ko=Zo));v._RF.pop(),v._RF.push({},"75a969XvAFPfax+l1fDcqo9","ScrollEventHandler",void 0);var _r,dr,fr,yr,gr=C.ccclass,Sr=C.property;or=gr("ScrollEventHandler"),rr=Sr({type:N,tooltip:"真實放置內容的節點，有自行分層請把每一層的根節點放進去"}),or((lr=t((sr=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_contents",lr,n(e)),e.m_scrollView=null,e.m_redundantSpace_Y=0,e}e(r,t);var a=r.prototype;return a.start=function(){var t=this;this.m_scrollView=this.node.getComponent(yt),this.m_scrollView?this.m_scrollView.node.on(yt.EventType.SCROLLING,(function(){t.CheckCellVisible()})):tt("ScrollView is null"),0===this.m_contents.length&&this.m_contents.push(this.m_scrollView.content)},a.CheckCellVisible=function(){if(this.m_scrollView&&this.m_scrollView.view)for(var t=0;t<this.m_contents.length;t++)for(var e=this.m_contents[t].children,i=this.GetTopLeftWorld(this.m_scrollView.view.node),n=this.GetBottomRightWorld(this.m_scrollView.view.node),o=0;o<e.length;o++){var r=e[o],a=r.getComponent(_t);a||(a=r.addComponent(_t));var s=this.GetTopLeftWorld(r),l=this.GetBottomRightWorld(r);this.IsInside(s,i,n)||this.IsInside(l,i,n)?a.opacity=255:a.opacity=0}},a.GetTopLeftWorld=function(t){var e=t.getPosition(),i=t.getComponent(O).contentSize,n=t.getComponent(O).anchorPoint,o=new A(e.x-i.width*n.x,e.y-i.height*n.y,e.z);return t.parent.getComponent(O).convertToWorldSpaceAR(o)},a.GetBottomRightWorld=function(t){var e=t.getPosition(),i=t.getComponent(O).contentSize,n=t.getComponent(O).anchorPoint,o=new A(e.x+i.width*(1-n.x),e.y+i.height*(1-n.y),e.z);return t.parent.getComponent(O).convertToWorldSpaceAR(o)},a.IsInside=function(t,e,i){return t.x>=e.x&&t.y>=e.y-this.m_redundantSpace_Y&&t.x<=i.x&&t.y<=i.y+this.m_redundantSpace_Y},o(r,[{key:"RedundantSpace_Y",set:function(t){this.m_redundantSpace_Y=t}}]),r}(z)).prototype,"m_contents",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ar=sr));v._RF.pop(),v._RF.push({},"eb577rwRR5ASa6OivNuPgEY","SeriesComponent",void 0);var br,wr,vr,Cr,Er,Tr,Or,Nr,Ir,kr,Ar,Rr,Lr,xr,Pr,Br,Fr,Mr,Dr,zr,Gr,Hr,Vr,Wr,Ur,jr,Jr,Xr,Yr,qr,Kr,Zr,Qr,$r,ta,ea,ia,na,oa="GameIntro_L",ra="GameIntro_S",aa="FG_Declare_Start_L",sa="FG_Declare_Start_S",la="FG_Compliment_Start_L",ca="FG_Compliment_Start_S",ua=C.ccclass;_r=(0,C.property)({type:Q.Skeleton,tooltip:"spine"}),ua((yr=t((fr=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_spine",yr,n(e)),e}e(o,t);var r=o.prototype;return r.ShowGameIntro=function(){var t=p(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?oa:ra,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,w.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.ShowFGDeclare=function(){var t=p(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?aa:sa,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,w.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.ShowFGCompliment=function(){var t=p(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?la:ca,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,w.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.Prepare=function(t){this.node.active=!0,this.m_spine.paused=!1,this.m_spine.clearTracks(),this.m_spine.setToSetupPose(),w.PlayAnimation(this.m_spine,t?oa:ra),this.m_spine.paused=!0},r.Rotation=function(t){if(this.node.active){var e=t?oa:ra;this.m_spine.paused=!1,this.m_spine.clearTracks(),this.m_spine.setToSetupPose(),w.PlayAnimation(this.m_spine,e),this.m_spine.paused=!0}},o}(z)).prototype,"m_spine",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dr=fr));v._RF.pop(),v._RF.push({},"02e880GcB9Jw7QDr8UUWxEV","ShakeComponent",void 0);var ma,ha=C.ccclass,pa=C.property,_a=C.executeInEditMode,da=C.help,fa=[{name:"backIn",desc:"回退:緩入"},{name:"backInOut",desc:"回退:緩入緩出"},{name:"backOut",desc:"回退:緩出"},{name:"backOutIn",desc:"回退:緩出緩入"},{name:"bounceIn",desc:"彈跳:緩入"},{name:"bounceInOut",desc:"彈跳:緩入緩出"},{name:"bounceOut",desc:"彈跳:緩出"},{name:"bounceOutIn",desc:"彈跳:緩出緩入"},{name:"circIn",desc:"迴圈:緩入 由慢到快"},{name:"circInOut",desc:"迴圈:緩入緩出 由慢到很快再到慢"},{name:"circOut",desc:"迴圈:緩出 由快到慢"},{name:"circOutIn",desc:"迴圈:緩出緩入 由慢到很快再到慢"},{name:"constant",desc:"constant"},{name:"cubicIn",desc:"立方曲線緩入 由慢到快"},{name:"cubicInOut",desc:"立方曲線緩入緩出 由慢到快再到慢"},{name:"cubicOut",desc:"立方曲線緩出 由快到慢"},{name:"cubicOutIn",desc:"立方曲線緩出緩入 由慢到快再到慢"},{name:"elasticIn",desc:"彈簧回震:緩入"},{name:"elasticInOut",desc:"彈簧回震:緩入緩出"},{name:"elasticOut",desc:"彈簧回震:緩出"},{name:"elasticOutIn",desc:"彈簧回震:緩出緩入"},{name:"expoIn",desc:"指數曲線緩入 由慢到快"},{name:"expoInOut",desc:"指數曲線緩入和緩出 由慢到很快再到慢"},{name:"expoOut",desc:"指數曲線緩出 由快到慢"},{name:"expoOutIn",desc:"指數曲線緩出緩入和 由慢到很快再到慢"},{name:"fade",desc:"漸褪效果"},{name:"linear",desc:"線性"},{name:"quadIn",desc:"平方曲線緩入 由慢到快"},{name:"quadInOut",desc:"平方曲線緩入緩出 由慢到快再到慢"},{name:"quadOut",desc:"平方曲線緩出 由快到慢"},{name:"quadOutIn",desc:"平方曲線緩出緩入 由慢到快再到慢"},{name:"quartIn",desc:"四次方曲線緩入 由慢到快"},{name:"quartInOut",desc:"四次方曲線緩入緩出 由慢到快再到慢"},{name:"quartOut",desc:"四次方曲線緩出 由快到慢"},{name:"quartOutIn",desc:"四次方曲線緩出緩入 由慢到快再到慢"},{name:"quintIn",desc:"五次方曲線緩入 由慢到快"},{name:"quintInOut",desc:"五次方曲線緩入緩出 由慢到快再到慢"},{name:"quintOut",desc:"五次方曲線緩出 由慢到快"},{name:"quintOutIn",desc:"五次方曲線緩出緩入 由慢到快再到慢"},{name:"sineIn",desc:"正弦曲線緩入 由慢到快"},{name:"sineInOut",desc:"正弦曲線緩入緩出 由慢到快再到慢"},{name:"sineOut",desc:"正弦曲線緩出 由快到慢"},{name:"sineOutIn",desc:"正弦曲線緩出緩入 由慢到快再到慢"},{name:"smooth",desc:"平滑效果"}],ya=$({}),ga=$({});!function(t){t[t.None=0]="None",t[t.FadeIn=1]="FadeIn",t[t.FadeOut=2]="FadeOut"}(ma||(ma={}));var Sa,ba=$({None:ma.None,FadeIn:ma.FadeIn,FadeOut:ma.FadeOut}),wa=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},va=(br=ha("_TweenInfo"),wr=pa({visible:!1,tooltip:"Easing"}),vr=pa({type:ya,visible:!1}),Cr=pa({visible:!0,displayName:"緩動效果",type:ya}),Er=pa({type:ba,visible:!1}),Tr=pa({visible:!0,displayName:"fade type",type:ba}),Or=pa({min:0,visible:!0,displayName:"時間"}),br((kr=t((Ir=function(){function t(){i(this,"m_EasingName",kr,this),i(this,"__easingIdx",Ar,this),i(this,"__fadeType",Rr,this),this._EasingEnumList=[],i(this,"duration",Lr,this)}return o(t,[{key:"_easingIdx",get:function(){},set:function(t){}},{key:"_fadeType",get:function(){return this.__fadeType},set:function(t){}}]),t}()).prototype,"m_EasingName",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ar=t(Ir.prototype,"__easingIdx",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ir.prototype,"_easingIdx",[Cr],Object.getOwnPropertyDescriptor(Ir.prototype,"_easingIdx"),Ir.prototype),Rr=t(Ir.prototype,"__fadeType",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ir.prototype,"_fadeType",[Tr],Object.getOwnPropertyDescriptor(Ir.prototype,"_fadeType"),Ir.prototype),Lr=t(Ir.prototype,"duration",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nr=Ir))||Nr);xr=ha("Shake"),Pr=da("https://docs.cocos.com/creator/3.6/manual/zh/tween/tween-function.html#%E5%86%85%E7%BD%AE%E7%BC%93%E5%8A%A8%E5%87%BD%E6%95%B0"),Br=pa({visible:!1,displayName:"正負交替",tooltip:"重複次數>1時, 正負交替"}),Fr=pa({type:gt,displayName:"預先定義shake.json",visible:function(){return this.shakeJson&&this._updateShakeEnum(this.shakeJson.json.shakelist),!0}}),Mr=pa({visible:!0,tooltip:"自定義的shake name"}),Dr=pa({type:ga,visible:!1}),zr=pa({visible:!0,displayName:"儲存到預先定義.json",tooltip:"若Shakename不為:custom,才會儲存"}),Gr=pa({visible:!0,displayName:"預先定義",tooltip:"切換後會以預先定義的數值直接覆蓋所有設定值",type:ga}),Hr=pa({readonly:!0,displayName:"總震動時間"}),Vr=pa({visible:!0,displayName:"振幅"}),Wr=pa({min:1,step:1,visible:!0,displayName:"震動頻率/秒"}),Ur=pa({step:1,visible:!0,displayName:"振幅x/y/z權重:%"}),jr=pa({visible:!1,type:[va]}),Jr=pa({type:[va],tooltip:"輸入更改 緩動效果 數量",displayName:"緩動效果"}),xr(Xr=_a(Xr=Pr((qr=t((Yr=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"alternately",qr,n(e)),i(e,"shakeJson",Kr,n(e)),i(e,"shakename",Zr,n(e)),i(e,"__ShakeIdx",Qr,n(e)),i(e,"Duration",$r,n(e)),i(e,"magnitude",ta,n(e)),i(e,"frequency",ea,n(e)),i(e,"weight",ia,n(e)),i(e,"_TweenList",na,n(e)),e._EasingEnumList=[],e._ShakeEnumList=[],e.originPos=new A,e._TestShakeCnt=0,e}e(r,t);var a=r.prototype;return a.updateDuration=function(){for(var t=0,e=0;e<this._TweenList.length;e++)t+=this._TweenList[e].duration;this.Duration=t},a.setTweenJson=function(t){var e=this.shakeJson.json.shakelist;if("custom"!=t)e[t];else console.warn("custom 不會儲存到預先定義.json")},a.getTweenJson=function(){for(var t={magnitude:this.magnitude,frequency:this.frequency,weight:{x:this.weight.x,y:this.weight.y,z:this.weight.z}},e=[],i=0;i<this._TweenList.length;i++){var n=this._TweenList[i];e.push({m_EasingName:n.m_EasingName,_easingIdx:n._easingIdx,_fadeType:n._fadeType,duration:n.duration})}return t._TweenList=e,t},a.getJsonData=function(){var t=p(g().mark((function t(){var e,i,n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={},this.shakeJson&&this.shakeJson.json&&(e=this.shakeJson.json),"custom"==this.shakename){t.next=19;break}(i=e.shakelist)[this.shakename]=this.getTweenJson(),e.shakelist=i,t.next=17;break;case 11:n=t.sent,console.log("path",n,"outJson",JSON.stringify(e,null,2)),undefined.writeFileSync(n,JSON.stringify(e,null,2),"utf-8"),t.next=17;break;case 16:console.log("請先指定 '預先定義shake.json'");case 17:t.next=20;break;case 19:console.warn("custom 不會儲存到預先定義.json");case 20:return t.abrupt("return",e);case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onLoad=function(){this.shakeJson&&this.shakeJson.json?(this._updateShakeEnum(this.shakeJson.json.shakelist),this.shakeJson.json):this.getJsonData();for(var t=[],e=0;e<fa.length;++e){var i=fa[e];t.push({name:i.desc,easingName:i.name,value:wa(i.name)})}t.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this._EasingEnumList=t,this._updateEasingEnum(),this.updateDuration()},a._updateShakeEnum=function(t){var e=[];t&&(Object.keys(t).forEach((function(t){e.push({name:t,value:wa(t)})})),e.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}))),this._ShakeEnumList=e},a._updateEasingEnum=function(){for(var t=0;t<this._TweenList.length;t++)this._TweenList[t]._EasingEnumList=this._EasingEnumList},a.start=function(){},a.fade=function(t,e,i,n,o,r,a){this.originPos=this.node.getPosition();for(var s=1/i,l=e/s,c=1;c<=l;c++){var u=n;o==ma.FadeIn?u*=c/l:o==ma.FadeOut&&(u*=(l-c)/l);var m=this.originPos.clone(),h=new A(L.random()-.5,L.random()-.5,L.random()-.5),p=new A(2*u*r.x/100,2*u*r.y/100,2*u*r.z/100);p=p.multiply(h),m=m.add(p),t=t.to(s,{position:m},{easing:a,onStart:function(t){},onUpdate:function(t,e){},onComplete:function(t){}})}return t},a.shake=function(){this._shake(this._TweenList,this.frequency,this.magnitude,this.weight)},a.testShake=function(){if(this.shakeJson&&this.shakeJson.json.shakelist){var t=this.shakeJson.json.shakelist;if(t){var e=Object.keys(t);e.push("ErrorTest");var i=e[this._TestShakeCnt++%e.length];this.ShakeWithName(i)}}else console.log("ShakeWithName shakeJson not assign!")},a.ShakeWithName=function(t){if(this.shakeJson&&this.shakeJson.json.shakelist){var e=this.shakeJson.json.shakelist;if(!e[t])return void console.log("ShakeWithName shakename:"+t+" not found!");var i=e[t],n=i._TweenList,o=i.weight;this._shake(n,i.frequency,i.magnitude,new A(o.x,o.y,o.z))}else console.log("ShakeWithName shakeJson not assign!")},a._shake=function(t,e,i,n){this.originPos=this.node.getPosition();for(var o=ot(this.node),r=0;r<t.length;r++){var a=t[r];o=this.fade(o,a.duration,e,i,a._fadeType,n,a.m_EasingName)}(o=o.to(0,{position:this.originPos})).start()},o(r,[{key:"saveshake",get:function(){return!1},set:function(t){this.getJsonData()}},{key:"_ShakeIdx",get:function(){return this.__ShakeIdx},set:function(t){}},{key:"TweenList",get:function(){return this._TweenList},set:function(t){this._TweenList=t,this.updateDuration(),this._updateEasingEnum()}}]),r}(z)).prototype,"alternately",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kr=t(Yr.prototype,"shakeJson",[Fr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zr=t(Yr.prototype,"shakename",[Mr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"custom"}}),Qr=t(Yr.prototype,"__ShakeIdx",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Yr.prototype,"saveshake",[zr],Object.getOwnPropertyDescriptor(Yr.prototype,"saveshake"),Yr.prototype),t(Yr.prototype,"_ShakeIdx",[Gr],Object.getOwnPropertyDescriptor(Yr.prototype,"_ShakeIdx"),Yr.prototype),$r=t(Yr.prototype,"Duration",[Hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ta=t(Yr.prototype,"magnitude",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),ea=t(Yr.prototype,"frequency",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ia=t(Yr.prototype,"weight",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A(0,0,0)}}),na=t(Yr.prototype,"_TweenList",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(Yr.prototype,"TweenList",[Jr],Object.getOwnPropertyDescriptor(Yr.prototype,"TweenList"),Yr.prototype),Xr=Yr))||Xr)||Xr);v._RF.pop(),v._RF.push({},"b57cahiKlxMZL7TyWc1iHaf","SloganComponent",void 0);var Ca,Ea,Ta,Oa,Na,Ia,ka,Aa,Ra,La,xa,Pa,Ba,Fa,Ma,Da,za,Ga,Ha,Va,Wa,Ua,ja,Ja,Xa,Ya,qa,Ka,Za,Qa,$a,ts,es,is,ns,os=C.ccclass,rs=0,as=1;os(Sa=function(t){function i(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).m_promotePictures=[[],[]],e.m_promoteAni=null,e.m_promotePic=void 0,e.m_promoteLock=!1,e.m_promoteIdx=-1,e.m_adNums=0,e.m_isLandscape=void 0,e.m_curAniName="",e.m_changePictureCallback=void 0,e.m_revertPictureCallback=void 0,e.m_cycle=[[8,12],[8,8]],e.m_promoting=!1,e.m_animationName={start:"AdSlogan_Start",loop:"AdSlogan_Loop",end:"AdSlogan_End"},e.ChangePic=function(){var t,n;if(!e.m_promoteLock){e.m_promoting=!0,e.m_changePictureCallback&&e.m_changePictureCallback(),e.m_promoteIdx++,e.m_promoteIdx>=e.m_adNums&&(e.m_promoteIdx=0),e.m_promotePic.spriteFrame=e.m_promotePictures[e.m_isLandscape?rs:as][e.m_promoteIdx];var o=u.GetGameAtlas().getSpriteFrame(null==(t=e.m_promotePic)||null==(n=t.spriteFrame)?void 0:n.name);o&&(e.m_promotePic.spriteFrame=o),e.PlayAni(e.m_animationName.start),e.m_promoteAni.once(it.EventType.FINISHED,(function(){e.m_promoteLock||e.PlayAni(e.m_animationName.loop)})),e.scheduleOnce(e.RevertPic,e.m_cycle[1][0]==e.m_cycle[1][1]?e.m_cycle[1][0]:i.GetRandomInt(e.m_cycle[1][0],e.m_cycle[1][1]+1))}},e.RevertPic=function(){e.m_revertPictureCallback&&e.m_revertPictureCallback(),e.PlayAni(e.m_animationName.end),e.m_promoteAni.once(it.EventType.FINISHED,(function(){e.m_curAniName=""})),e.m_promoting=!1,e.scheduleOnce(e.ChangePic,e.m_cycle[0][0]==e.m_cycle[0][1]?e.m_cycle[0][0]:i.GetRandomInt(e.m_cycle[0][0],e.m_cycle[0][1]+1))},e}e(i,t),i.GetRandomInt=function(t,e){return Math.floor(Math.random()*(e-t)+t)};var n=i.prototype;return n.Init=function(t,e,i,n){void 0===n&&(n=Astarte.Define.GameBundle);var o=this.LoadSlogans(t[0],t[1],n);return this.m_promoteAni=e,this.m_promotePic=i,o},n.LoadSlogans=function(t,e,i){var n=this,o=t.length;this.m_adNums=o;for(var r=[],a=function(o){r.push(new Promise((function(e){i.load(t[o],I,(function(t,i){t||(n.m_promotePictures[rs][o]=i),e()}))}))),e&&e[o]&&r.push(new Promise((function(t){i.load(e[o],I,(function(e,i){e||(n.m_promotePictures[as][o]=i),t()}))})))},s=0;s<o;s++)a(s);return Promise.all(r).then((function(){for(var t=0;t<o;t++)n.m_promotePictures[as][t]||(n.m_promotePictures[as][t]=n.m_promotePictures[rs][t]);K("loadSlogans",n.m_promotePictures)}))},n.PlayAni=function(t){this.m_promoteAni&&(this.m_promoteAni.play(t),this.m_curAniName=t)},n.StartPromote=function(){this.m_promoteLock=!1,this.scheduleOnce(this.ChangePic,this.m_cycle[0][0]==this.m_cycle[0][1]?this.m_cycle[0][0]:i.GetRandomInt(this.m_cycle[0][0],this.m_cycle[0][1]+1))},n.StopPromote=function(){this.m_promoteLock=!0,this.unschedule(this.RevertPic),this.unschedule(this.ChangePic),this.EndPromote()},n.EndPromote=function(){var t=this;this.m_promoting&&(this.m_promoting=!1,this.PlayAni(this.m_animationName.end),this.m_promoteAni.once(it.EventType.FINISHED,(function(){t.m_curAniName=""})))},n.SetAnimationName=function(t){this.m_animationName=t},n.SetPromoteCycle=function(t){this.m_cycle=t},n.GetAniState=function(){return this.m_promoteAni.getState(this.m_curAniName)},n.OnRotation=function(t){var e,i;if(this.m_isLandscape!=t){this.m_isLandscape=t,this.m_promotePic.spriteFrame=this.m_promotePictures[this.m_isLandscape?rs:as][this.m_promoteIdx>=this.m_adNums?this.m_promoteIdx=0:this.m_promoteIdx];var n=u.GetGameAtlas().getSpriteFrame(null==(e=this.m_promotePic)||null==(i=e.spriteFrame)?void 0:i.name);n&&(this.m_promotePic.spriteFrame=n)}},o(i,[{key:"CurAniName",get:function(){return this.m_curAniName}},{key:"ChangePictureCallback",set:function(t){this.m_changePictureCallback=t}},{key:"RevertPictureCallback",set:function(t){this.m_revertPictureCallback=t}},{key:"Promoting",get:function(){return this.m_promoting}}]),i}(z));v._RF.pop(),v._RF.push({},"18f47v83XtI64h+ISwRgq3A","BoneFollow",void 0);var ss=C.ccclass,ls=C.property,cs=C.menu,us={None:0},ms=$(us),hs=3.1415927,ps=hs/180;function _s(t,e,i,n,o){var r,a=(r=o,Math.sin(r*ps)),s=function(t){return Math.cos(t*ps)}(o);return 57.29577866666166*Math.atan2(s*i+a*n,s*t+a*e)}var ds,fs,ys,gs,Ss,bs,ws,vs,Cs,Es,Ts,Os,Ns,Is,ks,As,Rs,Ls,xs,Ps,Bs,Fs,Ms,Ds,zs,Gs,Hs,Vs,Ws,Us,js,Js,Xs,Ys,qs,Ks,Zs,Qs,$s,tl;Ca=ss("BoneFollow"),Ea=cs("Chiron/Spine/BoneFollow"),Ta=ls({type:Q.Skeleton,tooltip:"目標 Spine 骨架"}),Oa=ls({tooltip:"目標同步骨骼名稱"}),Na=ls({tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Ia=ls({tooltip:"是否同步位置"}),ka=ls({tooltip:"是否同步旋轉"}),Aa=ls({tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),Ra=ls({tooltip:"是否同步縮放"}),La=ls({tooltip:"是否將目標縮放量轉換成區域縮放量"}),xa=ls({visible:!1}),Pa=ls({type:ms,visible:!0,displayName:"Bone"}),Ba=ls({visible:!0,displayName:"Preview"}),Fa=ls({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Ma=ls({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_isFollowScale}}),Da=ls({type:st,displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_isFollowPosition}}),za=ls({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_isFollowRotation}}),Ca(Ga=Ea(((ns=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).editor=void 0,i(e,"m_spineSkeleton",Va,n(e)),i(e,"m_boneName",Wa,n(e)),i(e,"m_isCacheData",Ua,n(e)),i(e,"m_isFollowPosition",ja,n(e)),i(e,"m_isFollowRotation",Ja,n(e)),i(e,"m_isRotationLocalization",Xa,n(e)),i(e,"m_isFollowScale",Ya,n(e)),i(e,"m_isScaleLocalization",qa,n(e)),i(e,"__boneIndex",Ka,n(e)),i(e,"_boneIndex",Za,n(e)),i(e,"m_preview",Qa,n(e)),i(e,"m_cacheAncestors",$a,n(e)),i(e,"m_scaleFactor",ts,n(e)),i(e,"m_positionOffset",es,n(e)),i(e,"m_rotationFactor",is,n(e)),e._oldAngle=0,e._oldScaleX=1,e._oldScaleY=1,e._isCached=!1,e._cachedRotation=0,e._cachedScaleX=1,e._cachedScaleY=1,e}e(o,t);var r=o.prototype;return r.__preload=function(){},r.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},r.update=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_isFollowPosition||this.m_isFollowRotation||this.m_isFollowScale)){var t=null;if(t=this.m_spineSkeleton.findBone(this.m_boneName)){var e,i,n;if(!this.m_cacheAncestors||!this._isCached){for(var o=0,r=0,a=1,s=1,l=1,c=1,u=this.m_spineSkeleton.node;u;)a*=u.scale.x,s*=u.scale.y,o+=u.angle,u=u.parent;for(u=this.node.parent;u;)l*=u.scale.x,c*=u.scale.y,r-=u.angle,u=u.parent;this._cachedRotation=o+r,this._cachedScaleX=a/l,this._cachedScaleY=s/c,this._isCached=!0}if(e=this.m_isRotationLocalization?this._cachedRotation:this._oldAngle,i=this.m_isScaleLocalization?this._cachedScaleX:this._oldScaleX,n=this.m_isScaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_isFollowRotation){var m=t.parent,h=t.arotation;this.node.angle=e+(St(m)?_s(m.a,m.b,m.c,m.d,h):t.arotation)+this.m_rotationFactor}if(this.m_isFollowScale&&this.node.setScale(i*t.getWorldScaleX()*this.m_scaleFactor.x,n*t.getWorldScaleY()*this.m_scaleFactor.y),this.m_isFollowPosition){var p=this.m_spineSkeleton.node.getComponent(O).convertToWorldSpaceAR(rt(t.worldX,t.worldY,0)),_=this.node.parent.getComponent(O).convertToNodeSpaceAR(p);this.node.setPosition(rt(_.x+this.m_positionOffset.x,_.y+this.m_positionOffset.y))}}}},r.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_isFollowPosition=null,this.m_isFollowRotation=null,this.m_isRotationLocalization=null,this.m_isFollowScale=null,this.m_isScaleLocalization=null},r.CacheUpdate=function(){this._isCached=!1},r._refreshInspector=function(){this._updateBoneEnum()},r._boneEnum=function(){var t=et(us);return this.m_spineSkeleton,t},r._updateBoneEnum=function(){},o}(z)).BoneFollow="BoneFollow",Va=t((Ha=ns).prototype,"m_spineSkeleton",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wa=t(Ha.prototype,"m_boneName",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ua=t(Ha.prototype,"m_isCacheData",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ja=t(Ha.prototype,"m_isFollowPosition",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ja=t(Ha.prototype,"m_isFollowRotation",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xa=t(Ha.prototype,"m_isRotationLocalization",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ya=t(Ha.prototype,"m_isFollowScale",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qa=t(Ha.prototype,"m_isScaleLocalization",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ka=t(Ha.prototype,"__boneIndex",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Za=t(Ha.prototype,"_boneIndex",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ms.None}}),Qa=t(Ha.prototype,"m_preview",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$a=t(Ha.prototype,"m_cacheAncestors",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ts=t(Ha.prototype,"m_scaleFactor",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt(1,1)}}),es=t(Ha.prototype,"m_positionOffset",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt(0,0)}}),is=t(Ha.prototype,"m_rotationFactor",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ga=Ha))||Ga);v._RF.pop(),v._RF.push({},"44834DdFVNM2reoglp7HL82","NewBoneFollow",void 0);var el,il=C.ccclass,nl=C.property,ol=C.executeInEditMode;!function(t){t[t.default=1]="default"}(el||(el={}));var rl=$({}),al=3.1415927,sl=al/180;function ll(t,e,i,n,o){var r,a=(r=o,Math.sin(r*sl)),s=function(t){return Math.cos(t*sl)}(o);return 57.29577866666166*Math.atan2(s*i+a*n,s*t+a*e)}var cl,ul,ml,hl,pl,_l,dl,fl,yl,gl,Sl,bl,wl,vl,Cl,El,Tl,Ol;ds=il("NewBoneFollow"),fs=nl({visible:!1,tooltip:"目標 Spine 骨架"}),ys=nl({visible:!1,tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),gs=nl({visible:!1,tooltip:"是否同步位置"}),Ss=nl({visible:!1,tooltip:"是否同步旋轉"}),bs=nl({visible:!1,tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),ws=nl({visible:!1,tooltip:"是否同步縮放"}),vs=nl({visible:!1,tooltip:"是否將目標縮放量轉換成區域縮放量"}),Cs=nl({visible:!0,displayName:"Preview"}),Es=nl({type:Q.Skeleton,visible:!1}),Ts=nl({visible:!0,type:Q.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),Os=nl({visible:!1}),Ns=nl({visible:!0,displayName:"BoneName",tooltip:"請輸入要跟隨的 Spine 骨頭名稱或從下拉選單選擇"}),Is=nl({type:rl,visible:!1}),ks=nl({type:rl,visible:!0,displayName:"SelectFromList",tooltip:"可從此下拉選單選擇骨頭"}),As=nl({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Rs=nl({displayName:"Position",tooltip:"是否同步位置"}),Ls=nl({displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_followPosition}}),xs=nl({displayName:"Rotation",tooltip:"是否同步旋轉"}),Ps=nl({displayName:"Rotation Localization",tooltip:"是否將目標旋轉角度轉換成區域旋轉角度",visible:function(){return this.m_followRotation}}),Bs=nl({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_followRotation}}),Fs=nl({displayName:"Scale",tooltip:"是否同步縮放"}),Ms=nl({displayName:"Scale Localization",tooltip:"是否將目標縮放量轉換成區域縮放量",visible:function(){return this.m_followScale}}),Ds=nl({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_followScale}}),ds(zs=ol(((tl=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._oldAngle=0,e._oldScaleX=1,e._oldScaleY=1,e._isCached=!1,e._cachedRotation=0,e._cachedScaleX=1,e._cachedScaleY=1,e._BoneEnumList=[],i(e,"m_preview",Hs,n(e)),i(e,"m_spineSkeleton",Vs,n(e)),i(e,"m_boneName",Ws,n(e)),i(e,"__boneIndex",Us,n(e)),i(e,"m_cacheAncestors",js,n(e)),i(e,"m_followPosition",Js,n(e)),i(e,"m_positionOffset",Xs,n(e)),i(e,"m_followRotation",Ys,n(e)),i(e,"m_rotationLocalization",qs,n(e)),i(e,"m_rotationFactor",Ks,n(e)),i(e,"m_followScale",Zs,n(e)),i(e,"m_scaleLocalization",Qs,n(e)),i(e,"m_scaleFactor",$s,n(e)),e}e(r,t);var a=r.prototype;return a.CacheUpdate=function(){this._isCached=!1},a.__preload=function(){},a.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},a.start=function(){},a.onEnable=function(){this.BoneSync(),ht.on(pt.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDisable=function(){ht.off(pt.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_followPosition=null,this.m_followRotation=null,this.m_rotationLocalization=null,this.m_followScale=null,this.m_scaleLocalization=null},a.BoneSync=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_followPosition||this.m_followRotation||this.m_followScale)){var t=this.m_spineSkeleton.findBone(this.m_boneName);if(t){var e,i,n;if(!this.m_cacheAncestors||!this._isCached){for(var o=0,r=0,a=1,s=1,l=1,c=1,u=this.m_spineSkeleton.node;u;)a*=u.scale.x,s*=u.scale.y,u.angle&&(o+=u.angle),u=u.parent;for(u=this.node.parent;u;)l*=u.scale.x,c*=u.scale.y,u.angle&&(r-=u.angle),u=u.parent;this._cachedRotation=o+r,this._cachedScaleX=a/l,this._cachedScaleY=s/c,this._isCached=!0}if(e=this.m_rotationLocalization?this._cachedRotation:this._oldAngle,i=this.m_scaleLocalization?this._cachedScaleX:this._oldScaleX,n=this.m_scaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_followRotation){var m=t.parent,h=t.arotation,p=e+(St(m)?ll(m.a,m.b,m.c,m.d,h):t.arotation)+this.m_rotationFactor;this.node.setRotationFromEuler(rt(0,0,p))}if(this.m_followScale&&this.node.setScale(i*t.getWorldScaleX()*this.m_scaleFactor.x,n*t.getWorldScaleY()*this.m_scaleFactor.y),this.m_followPosition){var _=this.m_spineSkeleton.node.getComponent(O).convertToWorldSpaceAR(rt(t.worldX+this.m_positionOffset.x,t.worldY+this.m_positionOffset.y,0)),d=this.node.parent.getComponent(O).convertToNodeSpaceAR(_);this.node.setPosition(rt(d.x,d.y))}}}},a._refreshInspector=function(){},a._updateBoneEnum=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"CacheData",get:function(){return this.m_cacheData},set:function(t){this.m_cacheData=t}},{key:"FollowPosition",get:function(){return this.m_followPosition},set:function(t){this.m_followPosition=t}},{key:"FollowRotation",get:function(){return this.m_followRotation},set:function(t){this.m_followRotation=t}},{key:"RotationLocalization",get:function(){return this.m_rotationLocalization},set:function(t){this.m_rotationLocalization=t}},{key:"FollowScale",get:function(){return this.m_followScale},set:function(t){this.m_followScale=t}},{key:"ScaleLocalization",get:function(){return this.m_scaleLocalization},set:function(t){this.m_scaleLocalization=t}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(t){console.log("set _spineSkeleton ",this.m_spineSkeleton,"value",t),this.m_spineSkeleton=t,this._refreshInspector()}},{key:"BoneName",get:function(){return this.m_boneName},set:function(t){this.m_boneName=t;var e=!1;this._BoneEnumList.forEach((function(i){i.name!=t||(e=!0)})),0==e?console.log("[spBoneFollow] 輸入的骨頭",t,"並不存在！請檢查名稱是否正確！"):console.log("[spBoneFollow] 輸入的骨頭",t,"已找到！")}},{key:"_boneIndex",get:function(){return this.__boneIndex},set:function(t){var e=this;this.__boneIndex=t,this._BoneEnumList.forEach((function(i){i.value==t&&(e.m_boneName=i.name)})),this.__boneIndex=0,console.log("set __boneIndex ",t,"m_boneName:",this.m_boneName)}}]),r}(z)).NewBoneFollow="NewBoneFollow",t((Gs=tl).prototype,"Skeleton",[fs],Object.getOwnPropertyDescriptor(Gs.prototype,"Skeleton"),Gs.prototype),t(Gs.prototype,"CacheData",[ys],Object.getOwnPropertyDescriptor(Gs.prototype,"CacheData"),Gs.prototype),t(Gs.prototype,"FollowPosition",[gs],Object.getOwnPropertyDescriptor(Gs.prototype,"FollowPosition"),Gs.prototype),t(Gs.prototype,"FollowRotation",[Ss],Object.getOwnPropertyDescriptor(Gs.prototype,"FollowRotation"),Gs.prototype),t(Gs.prototype,"RotationLocalization",[bs],Object.getOwnPropertyDescriptor(Gs.prototype,"RotationLocalization"),Gs.prototype),t(Gs.prototype,"FollowScale",[ws],Object.getOwnPropertyDescriptor(Gs.prototype,"FollowScale"),Gs.prototype),t(Gs.prototype,"ScaleLocalization",[vs],Object.getOwnPropertyDescriptor(Gs.prototype,"ScaleLocalization"),Gs.prototype),Hs=t(Gs.prototype,"m_preview",[Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vs=t(Gs.prototype,"m_spineSkeleton",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Gs.prototype,"_spineSkeleton",[Ts],Object.getOwnPropertyDescriptor(Gs.prototype,"_spineSkeleton"),Gs.prototype),Ws=t(Gs.prototype,"m_boneName",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(Gs.prototype,"BoneName",[Ns],Object.getOwnPropertyDescriptor(Gs.prototype,"BoneName"),Gs.prototype),Us=t(Gs.prototype,"__boneIndex",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return el.default}}),t(Gs.prototype,"_boneIndex",[ks],Object.getOwnPropertyDescriptor(Gs.prototype,"_boneIndex"),Gs.prototype),js=t(Gs.prototype,"m_cacheAncestors",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Js=t(Gs.prototype,"m_followPosition",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xs=t(Gs.prototype,"m_positionOffset",[Ls],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt(0,0)}}),Ys=t(Gs.prototype,"m_followRotation",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qs=t(Gs.prototype,"m_rotationLocalization",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ks=t(Gs.prototype,"m_rotationFactor",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zs=t(Gs.prototype,"m_followScale",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qs=t(Gs.prototype,"m_scaleLocalization",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$s=t(Gs.prototype,"m_scaleFactor",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt(1,1)}}),zs=Gs))||zs);v._RF.pop(),v._RF.push({},"2da2cEqApNLm7hZxNo+Lfkx","NewSlotColorFollow",void 0);var Nl,Il=C.ccclass,kl=C.property,Al=C.executeInEditMode;!function(t){t[t.default=1]="default"}(Nl||(Nl={}));var Rl,Ll,xl,Pl,Bl,Fl,Ml=$({});cl=Il("NewSlotColorFollow"),ul=kl({visible:!1,tooltip:"目標 Spine 骨架"}),ml=kl({visible:!0,displayName:"Preview"}),hl=kl({visible:!1}),pl=kl({type:Q.Skeleton,visible:!1}),_l=kl({visible:!0,type:Q.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),dl=kl({visible:!1}),fl=kl({visible:!0,displayName:"SlotName",tooltip:"請輸入要跟隨的 Spine 插槽名稱或從下拉選單選擇"}),yl=kl({type:Ml,visible:!1}),gl=kl({visible:!0,displayName:"SelectFromList",type:Ml,tooltip:"可從此下拉選單選擇插槽"}),cl(Sl=Al(((Ol=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_preview",wl,n(e)),i(e,"_colorCache",vl,n(e)),i(e,"m_spineSkeleton",Cl,n(e)),i(e,"m_slotName",El,n(e)),i(e,"__slotIndex",Tl,n(e)),e._SlotEnumList=[],e}e(r,t);var a=r.prototype;return a.__preload=function(){},a.onLoad=function(){this._colorCache=null},a.start=function(){},a.onEnable=function(){this.ColorSync(),ht.on(pt.EVENT_BEFORE_DRAW,this.ColorSync,this)},a.onDisable=function(){ht.off(pt.EVENT_BEFORE_DRAW,this.ColorSync,this)},a.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},a.ColorSync=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var t=this.m_spineSkeleton.findSlot(this.m_slotName),e=t?255*t.color.r:this._colorCache.r,i=t?255*t.color.g:this._colorCache.g,n=t?255*t.color.b:this._colorCache.b,o=t?255*t.color.a:this._colorCache.a;null!=this._colorCache&&t.color.r==this._colorCache.r&&t.color.g==this._colorCache.g&&t.color.b==this._colorCache.b&&t.color.a==this._colorCache.a||(this._colorCache=this._colorCache||new L.Color(L.Color.WHITE),this.node.getComponent(R)?(this.node.getComponent(R).color=j(e,i,n,o),this._colorCache.set(this.node.getComponent(R).color)):this.node.getComponent(P)&&(this.node.getComponent(P).color=j(e,i,n,o),this._colorCache.set(this.node.getComponent(P).color)),this.node.getComponent(_t)&&(this.node.getComponent(_t).opacity=o),this._colorCache.a=o)}},a._refreshInspector=function(){},a._updateSlotEnum=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(t){}},{key:"SlotName",get:function(){return this.m_slotName},set:function(t){this.m_slotName=t;var e=!1;this._SlotEnumList.forEach((function(i){i.name!=t||(e=!0)})),0==e?console.log("[spSlotColorFollow] 輸入的插槽",t,"並不存在！請檢查名稱是否正確！"):console.log("[spSlotColorFollow] 輸入的插槽",t,"已找到！")}},{key:"_slotIndex",get:function(){},set:function(t){}}]),r}(z)).NewSlotColorFollow="NewSlotColorFollow",t((bl=Ol).prototype,"Skeleton",[ul],Object.getOwnPropertyDescriptor(bl.prototype,"Skeleton"),bl.prototype),wl=t(bl.prototype,"m_preview",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vl=t(bl.prototype,"_colorCache",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L.Color(L.Color.WHITE)}}),Cl=t(bl.prototype,"m_spineSkeleton",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(bl.prototype,"_spineSkeleton",[_l],Object.getOwnPropertyDescriptor(bl.prototype,"_spineSkeleton"),bl.prototype),El=t(bl.prototype,"m_slotName",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(bl.prototype,"SlotName",[fl],Object.getOwnPropertyDescriptor(bl.prototype,"SlotName"),bl.prototype),Tl=t(bl.prototype,"__slotIndex",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nl.default}}),t(bl.prototype,"_slotIndex",[gl],Object.getOwnPropertyDescriptor(bl.prototype,"_slotIndex"),bl.prototype),Sl=bl))||Sl);v._RF.pop(),v._RF.push({},"866f1RjwMhFfapt6JLtipxM","SkeletonSync",void 0);var Dl,zl,Gl=C.ccclass,Hl=C.property,Vl=C.menu;Rl=Gl("SkeletonSync"),Ll=Vl("Chiron/Spine/SkeletonSync"),xl=Hl({displayName:"Overlap",tooltip:"是否交疊並同步座標、旋轉及縮放"}),Rl(Pl=Ll((Fl=t((Bl=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).m_skeleton=null,i(e,"m_overlap",Fl,n(e)),e}e(r,t);var a=r.prototype;return a.__preload=function(){this.m_skeleton=this.getComponent(Q.Skeleton)},a.Sync=function(t){if(t&&this.m_overlap){for(var e=0,i=1,n=1,o=t;o;)i*=o.scale.x,n*=o.scale.y,e+=o.angle,o=o.parent;this.node.angle=e,this.node.scale=rt(i,n,0);var r=t.parent.getComponent(O).convertToWorldSpaceAR(t.position),a=this.node.parent.getComponent(O).convertToNodeSpaceAR(r);this.node.setPosition(a)}},o(r,[{key:"Skeleton",get:function(){return this.m_skeleton}}]),r}(z)).prototype,"m_overlap",[xl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pl=Bl))||Pl);v._RF.pop(),v._RF.push({},"e2171n/i+xGsoWeQMXewobE","SlotActivator",void 0);var Wl,Ul,jl,Jl,Xl,Yl,ql,Kl,Zl,Ql,$l,tc,ec,ic,nc,oc,rc,ac,sc,lc=C.ccclass,cc=(C.property,C.menu);lc("SlotActivator")(Dl=cc("Chiron/Spine/SlotActivator")(((zl=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),o(i,[{key:"Identifier",get:function(){return this.identifier},set:function(t){this.identifier=t}},{key:"Active",get:function(){return this.active},set:function(t){this.active=t}}]),i}(z)).SlotActivator="SlotActivator",Dl=zl))||Dl);v._RF.pop(),v._RF.push({},"e23desmKVBLjKgDg5KLcySp","SlotColorFollow",void 0);var uc=C.ccclass,mc=C.property,hc=C.menu,pc=(C.inspector,$({None:0}));var _c,dc,fc,yc,gc,Sc,bc,wc;Wl=uc("SlotColorFollow"),Ul=hc("Chiron/Spine/SlotColorFollow"),jl=mc({visible:!1,tooltip:"目標 Spine 骨架"}),Jl=mc({visible:!1,tooltip:"目標同步 slot 名稱"}),Xl=mc({visible:!0,displayName:"Preview"}),Yl=mc({visible:!1,type:L.Color}),ql=mc({visible:!1,type:Q.Skeleton}),Kl=mc({visible:!0,displayName:"Skeleton",tooltip:"目標 Spine 骨架",type:Q.Skeleton}),Zl=mc({visible:!1,tooltip:"目標同步 slot 名稱"}),Ql=mc({visible:!1}),$l=mc({visible:!0,displayName:"Slot",type:pc}),Wl(tc=Ul(((sc=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).editor=void 0,i(e,"m_preview",ic,n(e)),i(e,"_colorCache",nc,n(e)),i(e,"m_spineSkeleton",oc,n(e)),i(e,"m_slotName",rc,n(e)),i(e,"__slotIndex",ac,n(e)),e}e(r,t);var a=r.prototype;return a.__preload=function(){},a.onLoad=function(){this.node.getComponent(R)?this._colorCache=this.node.getComponent(R).color:this.node.getComponent(P)&&(this._colorCache=this.node.getComponent(P).color)},a.update=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var t=this.m_spineSkeleton.findSlot(this.m_slotName),e=t?255*t.color.r:this._colorCache.r,i=t?255*t.color.g:this._colorCache.g,n=t?255*t.color.b:this._colorCache.b,o=t?255*t.color.a:this._colorCache.a;e==this._colorCache.r&&i==this._colorCache.g&&n==this._colorCache.b&&o==this._colorCache.a||(this.node.getComponent(R)?(this.node.getComponent(R).color=j(e,i,n,o),this._colorCache.set(this.node.getComponent(R).color)):this.node.getComponent(P)&&(this.node.getComponent(P).color=j(e,i,n,o),this._colorCache.set(this.node.getComponent(P).color)),this.node.getComponent(_t)&&(this.node.getComponent(_t).opacity=o),this._colorCache.a=o)}},a.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},a._refreshInspector=function(){},a._slotEnum=function(){},a._updateSlotEnum=function(){var t,e,i,n,o=this._slotEnum();t=this,e="_slotIndex",i=o||pc,n=$.getList($(i)),bt.Attr.setClassAttr(t,e,"type","Enum"),bt.Attr.setClassAttr(t,e,"enumList",n)},a.notify=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"SlotName",get:function(){return this.m_slotName},set:function(t){this.m_slotName=t}},{key:"_spineSkeleton",get:function(){},set:function(t){}},{key:"_slotIndex",get:function(){},set:function(t){}}]),r}(z)).SlotColorFollow="SlotColorFollow",t((ec=sc).prototype,"Skeleton",[jl],Object.getOwnPropertyDescriptor(ec.prototype,"Skeleton"),ec.prototype),t(ec.prototype,"SlotName",[Jl],Object.getOwnPropertyDescriptor(ec.prototype,"SlotName"),ec.prototype),ic=t(ec.prototype,"m_preview",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nc=t(ec.prototype,"_colorCache",[Yl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L.Color(L.Color.WHITE)}}),oc=t(ec.prototype,"m_spineSkeleton",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(ec.prototype,"_spineSkeleton",[Kl],Object.getOwnPropertyDescriptor(ec.prototype,"_spineSkeleton"),ec.prototype),rc=t(ec.prototype,"m_slotName",[Zl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ac=t(ec.prototype,"__slotIndex",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(ec.prototype,"_slotIndex",[$l],Object.getOwnPropertyDescriptor(ec.prototype,"_slotIndex"),ec.prototype),tc=ec))||tc);v._RF.pop(),v._RF.push({},"ff032nME8lBJKBpMlK8O/1z","SlotCulling",void 0);var vc=C.ccclass,Cc=C.property,Ec=C.menu;_c=vc("SlotCulling"),dc=Ec("Chiron/Spine/SlotCulling"),fc=Cc({visible:!1,tooltip:"目標 Spine 骨架"}),yc=Cc({visible:!1,tooltip:"反向剔除 Slot 項目(勾選的不會被剔除，未勾選的將被剔除)"}),gc=Cc({visible:!1,tooltip:"遭剔除的 Slot 項目名稱"}),_c(Sc=dc(((wc=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),o(i,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"Invert",get:function(){return this.m_invert},set:function(t){this.m_invert=t}},{key:"CullingList",get:function(){return this._cullingSlotNames}}],[{key:"Name",get:function(){return i.SlotCulling}}]),i}(z)).SlotCulling="SlotCulling",t((bc=wc).prototype,"Skeleton",[fc],Object.getOwnPropertyDescriptor(bc.prototype,"Skeleton"),bc.prototype),t(bc.prototype,"Invert",[yc],Object.getOwnPropertyDescriptor(bc.prototype,"Invert"),bc.prototype),t(bc.prototype,"CullingList",[gc],Object.getOwnPropertyDescriptor(bc.prototype,"CullingList"),bc.prototype),Sc=bc))||Sc);v._RF.pop(),v._RF.push({},"c6e0eKOKjtNwJBDq/hJOYgn","index",void 0),v._RF.pop(),v._RF.push({},"f8b5e4BLTJNX7FPcFOEaBkq","ZipBundleLoader",void 0);var Tc,Oc,Nc,Ic,kc,Ac,Rc,Lc,xc,Pc,Bc,Fc,Mc,Dc,zc,Gc,Hc,Vc,Wc,Uc,jc,Jc,Xc,Yc,qc,Kc,Zc,Qc,$c,tu,eu,iu,nu,ou,ru,au,su,lu,cu,uu,mu,hu,pu,_u,du,fu,yu,gu,Su,bu,wu,vu,Cu,Eu,Tu,Ou,Nu,Iu,ku,Au,Ru,Lu,xu,Pu,Bu,Fu,Mu,Du,zu,Gu,Hu,Vu,Wu=new Map,Uu=new Map,ju=new Map,Ju=function(){function t(){this.loadedZipNames=new Array}var e=t.prototype;return e.downloadZip=function(t,e){return new Promise((function(i){var n=t.match(/[^/]+$/);if(null!==n){var o=""+n[0]+e+".zip";x.downloader.downloadFile(t+"/"+o,{xhrResponseType:"arraybuffer"},null,(function(t,e){i(e)}))}else i(null)}))},e.loadZip=function(){var t=p(g().mark((function t(e,i){var n,o,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i?"."+i:"",t.next=3,this.downloadZip(e,n);case 3:null!==(o=t.sent)&&(r=e.replace(/(.*?)\/assets\//,"assets/"),globalThis.fflate.unzip(new Uint8Array(o),(function(t,i){t?console.warn("Unzip failed:",t.message):Object.keys(i).forEach((function(t){Wu.set(e+"/"+t,i[t]),Wu.set(r+"/"+t,i[t])}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),e.init=function(){if(globalThis.fflate){var t=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return this.ZipCacheUrl?Uu.get(this.ZipCacheUrl):t.get.call(this)},set:function(t){},configurable:!0});var e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,i,n,o,r){return Wu.has(i)&&(this.ZipCacheUrl=i),e.apply(this,arguments)};var i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=p(g().mark((function t(e){var n,o,r,a,s,l,c,u,m=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ZipCacheUrl){t.next=26;break}if(Uu.has(this.ZipCacheUrl)){t.next=24;break}n=this.responseType,o=Wu.get(this.ZipCacheUrl),r=null,t.t0=n,t.next="arraybuffer"===t.t0?8:"json"===t.t0?10:"text"===t.t0?14:17;break;case 8:return r=o.buffer?o.buffer:o,t.abrupt("break",18);case 10:return a=new TextDecoder,s=a.decode(o),r=JSON.parse(s),t.abrupt("break",18);case 14:return l=new TextDecoder,r=l.decode(o),t.abrupt("break",18);case 17:console.error("Unknown type in zipCache:",n);case 18:(c=ju.get(this.ZipCacheUrl))&&(Uu.delete(this.ZipCacheUrl+"@version"+c),ju.delete(this.ZipCacheUrl)),u=performance.now(),ju.set(this.ZipCacheUrl,u),this.ZipCacheUrl=this.ZipCacheUrl+"@version"+u,Uu.set(this.ZipCacheUrl,r);case 24:return this.onload(),t.abrupt("return");case 26:return t.abrupt("return",i.apply(this,m));case 27:case"end":return t.stop()}}),t,this)})))}else console.error("fflate is not found.")},t}(),Xu=globalThis.__zipBundleLoader;globalThis.fflate&&!Xu&&(Xu=new Ju,globalThis.__zipBundleLoader=Xu,Xu.init()),v._RF.pop(),v._RF.push({},"c933866GvpLKaZlVxLlOz0C","FeatureManagerComponent",void 0);var Yu,qu=["game"],Ku=C.ccclass,Zu=C.property;!function(t){t[t.CommonMainBundle=0]="CommonMainBundle",t[t.CommonBundle=1]="CommonBundle",t[t.OtherBundle=2]="OtherBundle",t[t.DefaultLangBundle=3]="DefaultLangBundle",t[t.LangTextBundle=4]="LangTextBundle",t[t.GameBundle=5]="GameBundle"}(Yu||(Yu={}));var Qu,$u,tm={CN:"zh-CN",EN:"en-US",TH:"th-TH",VN:"vi-VN",ID:"id-ID",HI:"hi-IN",TA:"ta-IN",MM:"my-MM",JP:"ja-JP",MS:"ms-MY",KO:"ko-KR",BN:"bn-IN",ES:"es-AR",PT:"pt-BR",IT:"it-IT",SE:"sv-SE",DE:"de-DE",DADK:"da-DK",RORO:"ro-RO",NLNL:"nl-NL",TRTR:"tr-TR",RURU:"ru-RU",GRGR:"gr-GR",FRFR:"fr-FR"},em={CN:"cn",EN:"en",TH:"th",VN:"vn",ID:"id",HI:"hi",TA:"ta",MM:"mm",JP:"jp",MS:"ms",KO:"ko",BN:"bn",ES:"es",PT:"pt",IT:"it",SE:"se",DE:"de",DADK:"da",RORO:"ro",NLNL:"nl",TRTR:"trTR",RURU:"ruRU",GRGR:"grGR",FRFR:"frFR"},im=em.EN,nm=[10263],om=[3],rm={JILI:0,TADA:1,ACE_ROYALE:2,JILI_START:3,TADA_CASINO:4,NONE:5,UFA:6};!function(t){t[t.None=0]="None",t[t.AutoPlaySettingPanel=1]="AutoPlaySettingPanel",t[t.AutoPlaySettingPanel_DFI=2]="AutoPlaySettingPanel_DFI",t[t.AutoPlaySettingPanel_DFIII=3]="AutoPlaySettingPanel_DFIII",t[t.AutoPlaySettingPanel_BS=4]="AutoPlaySettingPanel_BS",t[t.AutoPlaySetting_AG2=5]="AutoPlaySetting_AG2",t[t.AutoPlaySetting_FD=6]="AutoPlaySetting_FD",t[t.AutoPlaySettingPanel_MS=7]="AutoPlaySettingPanel_MS"}(Qu||(Qu={})),function(t){t[t.None=0]="None",t[t.Dark=1]="Dark"}($u||($u={}));var am,sm,lm,cm,um,mm,hm,pm,_m,dm,fm,ym,gm=(Tc=Ku("StyleSetting"),Oc=Zu({type:Y,tooltip:"是否有骰子造型"}),Nc=Zu({type:Y,tooltip:"是否有萬聖造型"}),Ic=Zu({type:Y,tooltip:"是否有聖誕造型"}),kc=Zu({type:Y,tooltip:"是否有OKBET廠商造型"}),Ac=Zu({type:$($u),tooltip:"系列"}),Tc((xc=t((Lc=function(){i(this,"HasDice",xc,this),i(this,"HasHolloween",Pc,this),i(this,"HasXmas",Bc,this),i(this,"HasOkbet",Fc,this),i(this,"Series",Mc,this)}).prototype,"HasDice",[Oc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pc=t(Lc.prototype,"HasHolloween",[Nc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bc=t(Lc.prototype,"HasXmas",[Ic],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=t(Lc.prototype,"HasOkbet",[kc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mc=t(Lc.prototype,"Series",[Ac],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $u.None}}),Rc=Lc))||Rc),Sm=(Dc=Ku("PlayTypeSetting"),zc=Zu({type:Y,tooltip:"Match"}),Gc=Zu({type:Y,tooltip:"Break"}),Dc((Wc=t((Vc=function(){i(this,"Match",Wc,this),i(this,"Break",Uc,this)}).prototype,"Match",[zc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uc=t(Vc.prototype,"Break",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=Vc))||Hc);jc=Zu({type:ut,tooltip:"遊戲縮寫(server位置)"}),Jc=Zu({type:String,tooltip:"遊戲主場prefab路徑"}),Xc=Zu({type:String,tooltip:"遊戲多語系圖片路徑"}),Yc=Zu({type:String,tooltip:"遊戲ID"}),qc=Zu({type:String,tooltip:"Logo名稱，只要給到底線之前"}),Kc=Zu({type:Boolean,tooltip:"鎖定橫版"}),Zc=Zu({type:Boolean,tooltip:"鎖定直版"}),Qc=Zu({type:Boolean,tooltip:"是否為街機"}),$c=Zu({type:I,tooltip:"不分語系LOGO"}),tu=Zu({type:wt,tooltip:"遊戲Logo合圖"}),eu=Zu({type:ut,tooltip:"展示頁"}),iu=Zu({type:String,tooltip:"敘述圖名稱"}),nu=Zu({type:I,tooltip:"特色圖"}),ou=Zu({type:I,tooltip:"背景圖，0:直,1:橫"}),ru=Zu({type:I,tooltip:"腳色"}),au=Zu({type:Number,tooltip:"辣椒數"}),su=Zu({type:Number,tooltip:"最大贏分倍率"}),lu=Zu({type:$(Qu),tooltip:"自動玩介面"}),cu=Zu({type:Y,tooltip:"是否開啟晚3秒ShowGameScene進入遊戲"}),uu=Zu({type:Y,tooltip:"可以跳過前導動畫"}),mu=Zu({type:gm,tooltip:"是否有其他特色樣式"}),hu=Zu({type:Sm,tooltip:"是否有其他特色樣式"}),pu=Zu({type:Y,tooltip:"是否為遠程包"}),_u=Zu({type:Y,tooltip:"是否是SSS版"}),du=Zu({type:ut,tooltip:"使用哪個遠程包版本"}),Ku((gu=t((yu=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_gameShortName",gu,n(e)),i(e,"m_scenePrefabPath",Su,n(e)),i(e,"m_gameImgPath",bu,n(e)),i(e,"m_gameId",wu,n(e)),i(e,"m_logoName",vu,n(e)),i(e,"m_isLockLandScope",Cu,n(e)),i(e,"m_isLockPortrait",Eu,n(e)),i(e,"m_isStreet",Tu,n(e)),i(e,"m_singleLogo",Ou,n(e)),i(e,"m_logoSpriteAtlas",Nu,n(e)),i(e,"m_pagePrefabPaths",Iu,n(e)),i(e,"m_infoNames",ku,n(e)),i(e,"m_featureSpriteFrames",Au,n(e)),i(e,"m_bgSpriteFrames",Ru,n(e)),i(e,"m_characterSpriteFrame",Lu,n(e)),i(e,"m_chilliNum",xu,n(e)),i(e,"m_maxWinNum",Pu,n(e)),i(e,"m_autoplayPanelNo",Bu,n(e)),i(e,"m_isWatting",Fu,n(e)),i(e,"m_skipIntro",Mu,n(e)),i(e,"m_styleSetting",Du,n(e)),i(e,"m_playTypeSetting",zu,n(e)),i(e,"m_isRemote",Gu,n(e)),i(e,"m_isSSS",Hu,n(e)),i(e,"m_ReomveVersion",Vu,n(e)),e.m_startSceneTime=-1,e.m_otherBundle=null,e.m_commonBundle=null,e.m_commonPath="",e.m_commonVersion="",e.m_langTextBundle=null,e.m_defaultLangPath="",e.m_defaultLangVersion="",e.m_commonMainBundle=null,e.m_gameBundle=null,e.m_pagePrefabs=[],e.m_apiId=0,e.m_isTaDa=!1,e.m_viewNode=null,e.m_lang="en",e.m_loadOldType=!0,e.m_isForceLite=!1,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.m_isTaDa=this.IsTada(),this.Config(),this.Log(100),null==window.SetProgressInterval||window.SetProgressInterval(60),"109"===this.m_gameId&&(x.downloader.maxConcurrency=12,x.downloader.maxRequestsPerFrame=12)},r.start=function(){var t=p(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.m_startSceneTime=this.m_isWatting?Date.now():-1,t.next=3,this.LoadVersion("game");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.Config=function(){F.prototype.fillBuffers=function(t){this._renderFlag&&t._pOpacity>0&&this._render(t)}},r.update=function(){},r.LoadZip=function(){var t=p(g().mark((function t(e,i,n,o){var r,a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=""),void 0===o&&(o=""),Xu){t.next=4;break}return t.abrupt("return");case 4:if(!(Xu.loadedZipNames.indexOf(e)>=0)){t.next=6;break}return t.abrupt("return");case 6:if(i||-1!==qu.indexOf(e)){t.next=8;break}return t.abrupt("return");case 8:return r=n,a=o,i||(s=Tt.querySettings(Ot.Category.ASSETS,"bundleVers"),r="./assets/"+e,a=s[e]),Xu.loadedZipNames.push(e),t.next=13,Xu.loadZip(r,a);case 13:case"end":return t.stop()}}),t)})));return function(e,i,n,o){return t.apply(this,arguments)}}(),r.LoadVersion=function(){var t=p(g().mark((function t(e){var i,n,o,r,a,s,l,c,u,m,h,_,d,f,y,S,b,w,v,C,E,T,O,N;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=globalThis.LobbyData,n=this.m_isTaDa?"tada":"jili",this.m_commonPath="assets/common/Astt/"+n,o="assets/common/Astt/"+n+"Main",r="assets/common/Astt/other",a="AsttText/AsttText/en",this.m_defaultLangPath="AsttText/AsttText/en",s="assets/"+e,this.m_commonVersion="",l="",c="",this.m_defaultLangVersion="",u="",m="",h="",_="";try{void 0!==i&&(console.error("lobbyData",JSON.stringify(i)),s=i.bundleDomin+e,m=i.versionJson[e],this.m_commonPath=i.bundleDomin+n,this.m_commonVersion=i.versionJson[n],r=i.bundleDomin+"other",u=i.versionJson.other)}catch(t){}if(!this.m_isRemote){t.next=55;break}return d=/(\d+)\.(\d+)/,f=Nt.match(d),y=f[1]+"."+f[2],S="https://"+window.location.host+"/",b="astarte2",w="web-mobile",Et.isNative&&(w="android",y="app"+y),this.m_ReomveVersion.length>0&&(w=w+"-"+this.m_ReomveVersion),i&&(S=i.cdnHost),this.m_isSSS&&(b="astarte3"),(v=this.GetLinkParameterByName("remoteVersion"))&&v.length>0&&(y=""+v+f[1]+"."+f[2]),t.next=33,new Promise((function(t){x.loadRemote(""+S+b+"/"+y+"/"+w+"/assets/versions.json?"+(Date.now()/600).toFixed(0),{reload:!0,cacheAsset:!1,cacheEnabled:!1},p(g().mark((function e(i,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n);case 1:case"end":return e.stop()}}),e)}))))}));case 33:if(C=t.sent,E=""+S+b+"/"+y+"/"+w+"/src/chunks/bundle."+C.json["bundle.js"]+".js",!Et.isNative){t.next=40;break}return t.next=38,new Promise((function(t,e){x.downloader.downloadScript(E,{systemJs:!0},(function(i){i?(console.error("load bundle error",i),e(i)):t()}))}));case 38:t.next=42;break;case 40:return t.next=42,System.import(E);case 42:r=""+S+b+"/"+y+"/"+w+"/assets/other",u=C.json.other,this.m_commonPath=""+S+b+"/"+y+"/"+w+"/assets/"+n,this.m_commonVersion=C.json[n],o=""+S+b+"/"+y+"/"+w+"/assets/"+n+"Main",l=C.json[n+"Main"],this.m_lang=this.GetLanguage(),a=""+S+b+"/"+y+"/"+w+"/assets/"+this.m_lang,c=C.json[this.m_lang],this.m_defaultLangPath=""+S+b+"/"+y+"/"+w+"/assets/en",this.m_defaultLangVersion=C.json.en,h=""+S+b+"/"+y+"/"+w+"/assets/extra",_=C.json.extra;case 55:if((""!=l&&null!=l||!this.m_isRemote)&&(this.m_loadOldType=!1),!this.m_loadOldType){t.next=71;break}return t.next=59,Promise.all([this.LoadZip(n,this.m_isRemote,this.m_commonPath,this.m_commonVersion),this.LoadZip(e,!1)]);case 59:return(T=[this.LoadBundleSync(r,u),this.LoadBundleSync(s,m,void 0,{bundleName:void 0!==i?this.m_gameShortName+e:void 0})]).push(this.LoadBundleSync(o,l),this.LoadBundleSync(a,c)),t.next=63,Promise.all(T);case 63:O=t.sent,this.m_otherBundle=O[0],this.m_gameBundle=O[1],this.m_commonMainBundle=O[2],this.m_langTextBundle=O[3],this.CheckBundles(),t.next=76;break;case 71:return N=[this.LoadBundleSync(h,_),this.LoadBundleSync(o,l,Yu.CommonMainBundle),this.LoadBundleSync(r,u,Yu.OtherBundle),this.LoadBundleSync(a,c,Yu.LangTextBundle),this.LoadZip(n+"Main",this.m_isRemote,o,l),this.LoadBundleSync(this.m_commonPath,this.m_commonVersion,Yu.CommonBundle)],this.m_isForceLite?N.push(this.LoadBundleSync("assets/gameLite","",Yu.GameBundle)):this.m_isTaDa||N.push(this.LoadBundleSync("assets/game","",Yu.GameBundle)),t.next=75,Promise.all(N);case 75:this.CheckBundles();case 76:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.CheckBundles=function(){this.m_loadOldType?this.m_otherBundle&&this.m_gameBundle&&this.m_commonBundle&&this.LoadIntroResources():this.m_commonMainBundle&&this.m_otherBundle&&this.m_langTextBundle&&(!this.m_isForceLite||this.m_isForceLite&&this.m_gameBundle)&&this.LoadIntroResources()},r.LoadBundle=function(t,e,i,n){var o=this;n||(n={}),n.version=e,x.loadBundle(t,n,(function(n,r){n?o.LoadBundle(t,e,i):i(r)}))},r.LoadBundleSync=function(t,e,i,n){var o=this;return new Promise((function(r){o.LoadBundle(t,e,(function(t){if(void 0!==i)switch(i){case Yu.CommonMainBundle:o.m_commonMainBundle=t;break;case Yu.CommonBundle:o.m_commonBundle=t;break;case Yu.OtherBundle:o.m_otherBundle=t;break;case Yu.LangTextBundle:o.m_langTextBundle=t;break;case Yu.GameBundle:o.m_gameBundle=t}r(t)}),n)}))},r.LoadIntroResources=function(){if("109"==this.m_gameId&&(window.DiffTime961=Date.now()-window.StartTime),this.LoadIntroView(),this.m_gameBundle&&this.m_pagePrefabPaths.length>0)for(var t=0;t<this.m_pagePrefabPaths.length;t++)this.LoadIntroCell(t)},r.LoadIntroView=function(){var t=this,e="Astt/%s/Intro/Prefab/IntroView";e=this.m_isTaDa?vt.formatStr(e,"framework_americas"):vt.formatStr(e,"framework");var i=this.m_commonMainBundle;this.m_loadOldType&&(i=this.m_commonBundle),i.load(e,Ct,(function(t,e){null==window.SetProgressInterval||window.SetProgressInterval(t/e*40+60)}),(function(e,i){if(e)return console.error("LoadIntroView ERROR",e),void t.LoadIntroView();t.m_viewNode=et(i),t.node.addChild(t.m_viewNode),t.CheckIntroResources()}))},r.LoadIntroCell=function(t){var e=this;this.m_gameBundle.load(this.m_pagePrefabPaths[t],Ct,(function(i,n){i?e.LoadIntroCell(t):(e.m_pagePrefabs[t]=n,e.CheckIntroResources())}))},r.CheckIntroResources=function(){if(this.m_viewNode){if(this.m_gameBundle&&this.m_pagePrefabPaths.length>0)for(var t=0;t<this.m_pagePrefabPaths.length;t++)if(!this.m_pagePrefabs[t])return;this.Complete()}},r.Complete=function(){"109"==this.m_gameId&&(window.DiffTime962=Date.now()-window.StartTime),this.m_viewNode.emit("Init",{ScenePrefabPath:this.m_scenePrefabPath,GameImgPath:this.m_gameImgPath,GameId:this.m_gameId,LogoName:this.m_logoName,PagePrefabs:this.m_pagePrefabs,PagePrefabPaths:this.m_pagePrefabPaths,FeatureSpriteFrames:this.m_featureSpriteFrames,IsLockLandScope:this.m_isLockLandScope,IsLockPortrait:this.m_isLockPortrait,LogoSpriteAtlas:this.m_logoSpriteAtlas,BgSpriteFrames:this.m_bgSpriteFrames,CharacterSpriteFrame:this.m_characterSpriteFrame,InfoNames:this.m_infoNames,ChilliNum:this.m_chilliNum,MaxWinNum:this.m_maxWinNum,SingleLogo:this.m_singleLogo,IsStreet:this.m_isStreet,StartSceneTime:this.m_startSceneTime,OtherBundle:this.m_otherBundle,CommonBundle:this.m_commonBundle,CommonPath:this.m_commonPath,CommonVersion:this.m_commonVersion,CommonMainBundle:this.m_commonMainBundle,LangTextBundle:this.m_langTextBundle,DefaultLangPath:this.m_defaultLangPath,DefaultLangVersion:this.m_defaultLangVersion,GameBundle:this.m_gameBundle,ApiID:this.m_apiId.toString(),IsTaDa:this.m_isTaDa,GameShortName:this.m_gameShortName,AutoplayPanelNo:this.m_autoplayPanelNo,StyleSetting:this.m_styleSetting,PlayTypeSetting:this.m_playTypeSetting,lstZipBundleName:qu,IsRemote:this.m_isRemote,LoadLessRes:!1,SkipIntro:this.m_skipIntro,IsSSS:this.m_isSSS})},r.GetLanguage=function(){var t,e,i,n=this.GetLinkParameterByName("lang")||this.GetLinkParameterByName("ln");if(null!=(t=window)&&null!=(e=t.location)&&null!=(i=e.href)&&i.includes("/sss-")&&(n=tm.EN),n){var o=this.FormatLang(n);if(""!==o)return o}if(!Et.isNative){var r=this.FormatLang(navigator.language);if(""!==r&&null!=r)return r}return im},r.IsTada=function(){var t=(this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join(""),e=Number(this.GetLinkParameterByName("apiId")),i=-1!==t.search("tada");if(!isNaN(e)){this.m_apiId=Number(e),this.m_isForceLite=-1!==qu.indexOf("gameLite")&&nm.includes(this.m_apiId);for(var n=0;n<om.length;n++)if(e===om[n]){i=!0;break}}var o=this.GetLinkParameterByName("tadaSkin");o&&"1"===o&&(i=!0);var r=this.GetLinkParameterByName("skin");return!r||r!=rm.TADA.toString()&&r!=rm.TADA_CASINO.toString()||(i=!0),i},r.GetLinkParameterByName=function(t,e){if(void 0===e&&(e=null),!e)if("undefined"!=typeof LobbyData)try{""===(e=LobbyData.url)&&tt("No URL!")}catch(t){t(JSON.stringify(t))}else e=this.CheckReplayUrlAndDecode();t=t.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.CheckReplayUrlAndDecode=function(){var t=window.location.href,e=this.GetLinkParameterByName("replaydata",t);if(!e)return t;for(var i="0".charCodeAt(0),n="9".charCodeAt(0),o="a".charCodeAt(0),r="z".charCodeAt(0),a="A".charCodeAt(0),s="Z".charCodeAt(0),l="",c=0;c<e.length;c++){var u=e.charCodeAt(c);u>=i&&u<=n?(u=n-(u-i),l+=String.fromCharCode(u)):u>=o&&u<=r&&c%2==0?(u=r-(u-o),l+=String.fromCharCode(u)):u>=a&&u<=s&&c%3==0?(u=s-(u-a),l+=String.fromCharCode(u)):l+=String.fromCharCode(u)}var m=t.split("replaydata="+e);return m.join(""),m+atob(l)},r.Log=function(t){if(!Et.isNative){var e="https://"+window.location.host+"/";if(-1==e.indexOf("localhost")&&1!=/^http(s)?:\/\/([0-9]{1,3}\.){3}[0-9]{1,3}(:[0-9]+)?\/.*?$/.test(e)){var i=this.GetLinkParameterByName("apiId"),n=this.GetLinkParameterByName("ssoKey"),o="https://"+(this.GetLinkParameterByName("domain_platform")||this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join("")+"/webservice/event/trigger?";o+="AccountID=-1&BrowserSystem=-1&DeviceSystem=-1&GameID="+this.m_gameId+"&GameVersion="+(new Date).getTime()+"&EventID="+t+"&EventStatus=0&SSOKey="+n+"&CreateTime="+(new Date).toISOString()+"&ApiId="+i,this.Send(o),window.DiffTime960=Date.now()-window.StartTime}}},r.Send=function(t){var e={Accept:"application/json, text/javascript, text/plain"},i=new XMLHttpRequest;i.open("GET",t,!0),e&&Object.keys(e).forEach((function(t){return i.setRequestHeader(t,e[t])})),i.timeout=5e3,i.onload=function(){},i.onerror=function(){},i.ontimeout=function(){},i.send()},r.FormatLang=function(t){return(t=t.toLocaleLowerCase())==em.CN||t==tm.CN.toLocaleLowerCase()?em.CN:t==em.EN||t==tm.EN.toLocaleLowerCase()?em.EN:t==em.TH||t==tm.TH.toLocaleLowerCase()?em.TH:t==em.VN||t==tm.VN.toLocaleLowerCase()?em.VN:t==em.ID||t==tm.ID.toLocaleLowerCase()?em.ID:t==em.HI||t==tm.HI.toLocaleLowerCase()?em.HI:t==em.TA||t==tm.TA.toLocaleLowerCase()?em.TA:t==em.MM||t==tm.MM.toLocaleLowerCase()?em.MM:t==em.JP||t==tm.JP.toLocaleLowerCase()?em.JP:t==em.MS||t==tm.MS.toLocaleLowerCase()?em.MS:t==em.KO||t==tm.KO.toLocaleLowerCase()?em.KO:t==em.BN||t==tm.BN.toLocaleLowerCase()?em.BN:t==em.ES||t==tm.ES.toLocaleLowerCase()?em.ES:t==em.PT||t==tm.PT.toLocaleLowerCase()?em.PT:t==em.IT||t==tm.IT.toLocaleLowerCase()?em.IT:t==em.SE||t==tm.SE.toLocaleLowerCase()?em.SE:t==em.DE||t==tm.DE.toLocaleLowerCase()?em.DE:t==em.DADK||t==tm.DADK.toLocaleLowerCase()?em.DADK:t==em.RORO||t==tm.RORO.toLocaleLowerCase()?em.RORO:t==em.NLNL||t==tm.NLNL.toLocaleLowerCase()?em.NLNL:t==em.TRTR.toLocaleLowerCase()||t==tm.TRTR.toLocaleLowerCase()?em.TRTR:t==em.RURU.toLocaleLowerCase()||t==tm.RURU.toLocaleLowerCase()?em.RURU:t==em.GRGR.toLocaleLowerCase()||t==tm.GRGR.toLocaleLowerCase()?em.GRGR:t==em.FRFR.toLocaleLowerCase()||t==tm.FRFR.toLocaleLowerCase()?em.FRFR:""},o}(z)).prototype,"m_gameShortName",[jc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Su=t(yu.prototype,"m_scenePrefabPath",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bu=t(yu.prototype,"m_gameImgPath",[Xc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wu=t(yu.prototype,"m_gameId",[Yc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vu=t(yu.prototype,"m_logoName",[qc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cu=t(yu.prototype,"m_isLockLandScope",[Kc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eu=t(yu.prototype,"m_isLockPortrait",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tu=t(yu.prototype,"m_isStreet",[Qc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ou=t(yu.prototype,"m_singleLogo",[$c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nu=t(yu.prototype,"m_logoSpriteAtlas",[tu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Iu=t(yu.prototype,"m_pagePrefabPaths",[eu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ku=t(yu.prototype,"m_infoNames",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Au=t(yu.prototype,"m_featureSpriteFrames",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ru=t(yu.prototype,"m_bgSpriteFrames",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lu=t(yu.prototype,"m_characterSpriteFrame",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xu=t(yu.prototype,"m_chilliNum",[au],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pu=t(yu.prototype,"m_maxWinNum",[su],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bu=t(yu.prototype,"m_autoplayPanelNo",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.None}}),Fu=t(yu.prototype,"m_isWatting",[cu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mu=t(yu.prototype,"m_skipIntro",[uu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Du=t(yu.prototype,"m_styleSetting",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new gm}}),zu=t(yu.prototype,"m_playTypeSetting",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Sm}}),Gu=t(yu.prototype,"m_isRemote",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hu=t(yu.prototype,"m_isSSS",[_u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vu=t(yu.prototype,"m_ReomveVersion",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fu=yu));v._RF.pop(),v._RF.push({},"89025dALbBFj7AFo+6o3xYM","SwipeScreen",void 0);var bm=C.ccclass,wm=C.property,vm=function(t,e,i,n,o,r){this.name=t,this.height=e,this.width=i,this.ratio=n,this.statusHeight=o,this.homeHeight=r},Cm=[new vm("iPhone 6.5-inch",896,414,3,44,34),new vm("iPhone 6.1-inch",896,414,2,44,34),new vm("iPhone 5.8-inch",812,375,3,44,34),new vm("iPhone 5.5-inch",736,414,3,18,0),new vm("iPhone 4.7-inch",667,375,2,20,0),new vm("iPhone 4-inch",568,320,2,20,0),new vm("iPhone 3.5-inch",480,320,2,20,0),new vm("iPhone(Legacy) & iPod Touch",480,320,1,20,0),new vm("iPad Pro 12.9-inch",1366,1024,2,20,0),new vm("iPad Pro 10.5-inch",1112,834,2,20,0),new vm("iPad 9.7-inch Retina",1024,768,2,20,0),new vm("iPad",1024,768,1,20,0),new vm("iPad Mini Retina",1024,768,2,20,0),new vm("iPad Mini",1024,768,1,20,0)],Em="mask",Tm="mask_close_tip",Om="mask_close",Nm="bar",Im={tw:["滑動無效時, 請點擊此處進入遊戲. ❎","請解除豎排方向鎖定, 並將手機水平放置."],cn:["滑动无效时, 请点击此处进入游戏. ❎","请解除竖排方向锁定, 并将手机水平放置."],th:["เมื่อสไลด์ไม่ถูกต้อง กรุณาคลิกที่นี่เพื่อเข้าสู่เกม ❎","โปรดทำการปลดล็อกรูปแบบทิศทาง เพื่อสามารถเปลี่ยนรูปแบบทิศทางตามระดับโทรศัพท์ได้"],vn:["Nếu không thể lthao tác, hãy chạm vào đây để vào game. ❎","Hãy mở khóa xoay hướng, đồng thời xoay ngang màn hình."],id:["Klik di sini untuk masuk ke permainan, ketika tidak bisa di scroll. ❎","Silakan buka kunci posisi vertikal, dan letakkan telepon seluler secara horizontal."],mm:["When the slide is invalid, please click here. ❎","Please unlock the vertical direction and place the phone horizontally."],jp:["スライドで入れない場合は、ここをタップしてください。 ❎","垂直固定を解除し、端末を水平方向に置いてください。"],en:["If swiping does not work, please tap here. ❎","Please unlock screen rotation and hold the phone horizontally."]},km=["tw","zh-TW"],Am=["cn","zh-CN"],Rm=["en","en-US"],Lm=["th","th-TH"],xm=["vn","vi-VN"],Pm=["id","id-ID"],Bm=["hi","hi-IN"],Fm=["ta","ta-IN"],Mm=["mm","my-MM"],Dm=["jp","ja-JP"],zm=[1131],Gm=[1864,1002];am=wm(Boolean),sm=wm(Boolean),lm=wm(Boolean),cm=wm(Boolean),um=wm(Number),bm((pm=t((hm=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"isLandscape",pm,n(e)),i(e,"isPortrait",_m,n(e)),i(e,"isIOS",dm,n(e)),i(e,"isAndroid",fm,n(e)),i(e,"android_Apiid",ym,n(e)),e.m_mask=null,e.m_isScrolling=!1,e.m_isblock=!1,e.m_scrollInterval=void 0,e.m_scrollTimeOut=void 0,e.m_backGround=null,e.m_isLandscape=!0,e}e(o,t);var r=o.prototype;return r.onLoad=function(){Et.isNative||this.Init()},r.GetDeviceName=function(){if(Et.os===Et.OS.IOS){var t=this.GetiOSDevice();if(t)return t.name}else if(Et.os===Et.OS.ANDROID){var e=/Mozilla\/5.0\s*\([^()]*?(Android[^()]*?);\s*([^()]*?)\)/g.exec(navigator.userAgent);if(e&&e.length>2)return e[2].split(" Build")[0]}return"unknown"},r.CreateHtmlTag=function(){if(!this.m_backGround){this.node.active=!0;var t=document.body;t.style.overflow="visible";var e=document.getElementById("Cocos3dGameContainer");e.style.overflow="hidden",e.style.position="fixed";var i=document.createElement("div");i.id=Nm,i.style.position="absolute",i.style.height="100vh";var n=document.createElement("div");n.id=Em,n.style.backgroundColor="rgba(0, 0, 0, 0.7)",n.style.height="150vh",n.style.width="100vw",n.style.zIndex="99",n.style.display="none",n.style.position="absolute",n.style.top="0%",n.style.left="0%",this.m_backGround=n;var o=document.createElement("div");o.id=Tm,o.style.width="70vw",o.style.top="28vh",o.style.left="50vw",o.style.transform="translate(-50%, -50%)",o.style.fontSize="18px",o.style.fontWeight="bold",o.style.color="#FFFFFF",o.style.position="fixed";var r=document.createElement("div");r.style.top="16vh",r.style.left="50vw",r.style.transform="translate(-50%, -50%)",r.style.position="fixed";var a=document.createElement("div");a.id=Om,a.style.width="90vw",a.style.fontSize="24px",a.style.fontWeight="bold",a.style.color="#EEE8AA",a.style.wordWrap="break-word";var s=document.createElement("div");s.style.fontSize="48px",s.style.fontWeight="bold",s.style.color="#EEE8AA";var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.style.width="150px",l.style.height="150px",l.style.position="fixed",l.style.top="75vh",l.style.left="50vw",l.style.transform="translate(-50%, -50%)",l.style.animationDuration="2s",l.style.animationName="fullscreen-swipe",l.style.animationIterationCount="infinite";var c=document.createElement("style"),u=document.createTextNode("@keyframes fullscreen-swipe {from { top:80% }to { top:50% }}");c.appendChild(u),l.appendChild(c),l.setAttribute("viewBox","0 0 547.371 547.371");var m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("fill","#FFFFFF"),m.setAttribute("d","M136.623,52.13v164.027l-23.875,23.877c-54.503,54.479-54.503,143.151,0,197.627l57.317,57.292c33.806,33.808,78.743,52.416,126.521,52.416c98.658,0,178.912-80.254,178.912-178.911V208.522c0-28.752-23.381-52.131-52.156-52.131c-10.713,0-20.695,3.258-28.984,8.836c-7.143-20.308-26.51-34.902-49.211-34.902c-10.713,0-20.695,3.26-28.984,8.838c-7.141-20.307-26.509-34.901-49.21-34.901c-9.487,0-18.402,2.555-26.065,7.012V52.132c0-28.75-23.38-52.131-52.131-52.131C160.003,0.001,136.623,23.38,136.623,52.13z M214.845,52.13v169.425c0,7.192,5.839,13.032,13.033,13.032s13.033-5.84,13.033-13.032v-65.162c0-14.39,11.703-26.066,26.064-26.066c14.362,0,26.063,11.678,26.063,26.066v39.098c0,7.193,5.84,13.033,13.033,13.033s13.033-5.84,13.033-13.033v-13.033c0-14.389,11.703-26.063,26.064-26.063c14.363,0,26.064,11.676,26.064,26.063v26.064c0,7.192,5.84,13.033,13.033,13.033s13.033-5.841,13.033-13.033c0-14.39,11.703-26.064,26.064-26.064c14.359,0,26.064,11.676,26.064,26.064v159.938c0,84.27-68.578,152.848-152.848,152.848c-40.819,0-79.188-15.899-108.066-44.78l-57.317-57.292c-22.155-22.183-33.233-51.271-33.233-80.385c0-29.115,11.078-58.203,33.233-80.387l5.448-5.446v72.8c0,7.192,5.839,13.033,13.032,13.033c7.194,0,13.033-5.841,13.033-13.033V52.13c0-14.389,11.704-26.065,26.065-26.065C203.141,26.063,214.845,37.743,214.845,52.13z"),t.appendChild(n),n.appendChild(o),n.appendChild(r),l.appendChild(m),n.appendChild(l),r.appendChild(a),r.appendChild(s),t.appendChild(i)}},r.Init=function(){var t=this,e=!1;"undefined"!=typeof LobbyData&&(e=LobbyData.pwa);var i=Math.floor(Number(this.GetLinkParameterByName("apiId")));if(this.isPortrait?this.m_isblock=zm.indexOf(i)>=0:this.isAndroid&&this.android_Apiid.length>0&&this.android_Apiid.indexOf(i)>=0&&(this.isAndroid=!1),this.m_isblock||(this.m_isblock=Gm.indexOf(i)>=0),!e&&!this.m_isblock)if(this.AddGameViewMask(),this.isIOS=!1,Et.os==Et.OS.IOS&&0==this.IsWebview()&&this.isIOS)if(this.CreateHtmlTag(),this.SetCloseContent(),this.m_backGround.style.display="inline",this.SetShowMask(),1==this.IsChrome()){var n=this.GetiOSDevice();if(null!=n){var o=.99*(screen.height-n.statusHeight-n.homeHeight-20),r=.99*(screen.width-n.statusHeight-20);document.body.onresize=function(){(window.innerHeight>=window.innerWidth?o:r)<=window.innerHeight?t.HideMask():t.ShowMask()},window.addEventListener("scroll",(function(){return t.m_isScrolling=!0}),{capture:!1,passive:!0}),this.m_backGround.addEventListener("touchend",(function(){return t.ScrollReset()}))}else this.HideMask()}else{var a=document.body.onresize;document.body.onresize=function(){a&&a(null,null);var e=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight,n=e>i;document.getElementById(Nm).clientHeight==window.innerHeight?t.HideMask():t.SetShowMask(n),window.addEventListener("scroll",(function(){return t.m_isScrolling=!0}),{capture:!1,passive:!0}),t.m_backGround.addEventListener("touchend",(function(){return t.ScrollReset()})),t.m_isLandscape=e>i}}else if(Et.os==Et.OS.ANDROID&&0==this.IsWebview()&&this.isAndroid)if(Et.browserType==Et.BrowserType.MOBILE_QQ||Et.browserType==Et.BrowserType.UC);else{var s=function(){t.HasFullscreen()&&!t.IsFullscreen()&&(t.m_mask.active=!0)};document.body.onresize=s,s()}},r.SetShowMask=function(t){if(void 0===t&&(t=void 0),this.IsIOS15orOver())if(void 0===t){var e=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight;this.m_isLandscape=e>i,this.m_isLandscape?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden"}else document.getElementById(Nm).clientHeight,window.innerHeight,t===this.m_isLandscape&&document.getElementById(Nm).clientHeight===window.innerHeight||(t?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden");else this.ShowMask()},r.SetCloseContent=function(){var t=this,e=this.GetLang("lang");e=this.ChangeLang(e);var i=document.getElementById(Om),n=this.isLandscape?document.getElementById(Tm):null;Im[e]?(i.textContent=Im[e][0],n&&(n.textContent=Im[e][1])):(i.textContent=Im[Rm[0]][0],n&&(n.textContent=Im[Rm[0]][1])),i.onclick||(i.onclick=function(){t.HideMask()})},r.GetLang=function(t){var e=Et.localStorage.getItem("LobbyLanguage");if(!e||""==e){if(-1!=(e="undefined"!=typeof LobbyData?LobbyData.url:window.location.href).indexOf("?"))for(var i=e.split("?")[1].split("&"),n=0;n<i.length;n++)if(i[n].split("=")[0]==t)return i[n].split("=")[1];return Rm[0]}return e},r.ChangeLang=function(t){switch(t){case km[1]:return km[0];case Am[1]:return Am[0];case Lm[1]:return Lm[0];case xm[1]:return xm[0];case Pm[1]:return Pm[0];case Bm[1]:return Bm[0];case Fm[1]:return Fm[0];case Mm[1]:return Mm[0];case Dm[1]:return Dm[0];default:return Rm[0]}},r.ShowMask=function(){for(var t=this,e=document.getElementById("Cocos3dGameContainer").getElementsByTagName("div"),i=0,n=0;n<e.length;n++){var o=e[n].getElementsByTagName("iframe");if(o&&o.length>0){i=n;break}}var r=e[i];r&&"hidden"!==r.style.visibility||(this.m_backGround.style.visibility="visible",this.m_mask&&(this.m_mask.active=!0),window.scrollTo(0,0),this.m_scrollInterval&&clearInterval(this.m_scrollInterval),this.m_scrollInterval=setInterval((function(){t.m_isScrolling&&(t.m_isScrolling=!1,t.ScrollReset())}),250))},r.ScrollReset=function(){var t=this;window.scrollTo(0,0),this.m_scrollTimeOut&&clearTimeout(this.m_scrollTimeOut),this.m_scrollTimeOut=setTimeout((function(){window.scrollTo(0,0),clearInterval(t.m_scrollInterval),t.m_scrollInterval=null}),250)},r.HideMask=function(){var t=this;window.scrollTo(0,0),this.m_backGround&&(this.m_backGround.style.visibility="hidden"),this.scheduleOnce((function(){t.m_mask&&(t.m_mask.active=!1)}),0)},r.AddGameViewMask=function(){var t=this,e=ht.getScene();this.m_mask||e.getChildByName("ScrollForMask")||Et.browserType==Et.BrowserType.FIREFOX?!this.m_mask&&e.getChildByName("ScrollForMask")&&(this.m_mask=It("ScrollForMask")):(this.m_mask=new N,this.m_mask.name="ScrollForMask",this.m_mask.addComponent(O).setContentSize(new kt(2e3,2e3)),this.m_mask.addComponent(ct),this.m_mask.active=!1,e.addChild(this.m_mask),this.m_mask.setSiblingIndex(e.children.length),this.m_mask.on(N.EventType.TOUCH_END,(function(){if(Et.os==Et.OS.IOS&&0==t.IsWebview()){var e=t.m_backGround;e&&"hidden"==e.style.visibility&&(t.m_mask.active=!1)}else Et.os==Et.OS.ANDROID&&0==t.IsWebview()&&t.Fullscreen()})))},r.IsWebview=function(){var t=navigator.userAgent,e=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*(wv|.0.0.0)"].join("|")+")","ig");return Boolean(t.match(e))},r.IsChrome=function(){return/CriOS/.test(navigator.userAgent)},r.GetiOSDevice=function(){for(var t,e=b(Cm);!(t=e()).done;){var i=t.value;if(screen.height===i.height&&screen.width===i.width&&window.devicePixelRatio===i.ratio)return i}return null},r.HasFullscreen=function(){return null!=(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},r.IsFullscreen=function(){return null!=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},r.Fullscreen=function(){try{var t=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen,e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;if(this.HasFullscreen())if(this.IsFullscreen())e.call(document);else try{var i=t.call(document.documentElement);i instanceof Promise&&i.catch((function(){}))}catch(t){}else console.log("not support fullscreen.");this.m_mask.active=!1}catch(t){this.m_mask.active=!1}},r.GetLinkParameterByName=function(t){var e=window.location.href;t=t.replace(/[[]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.IsIOS15orOver=function(){return Et.os==Et.OS.IOS&&/iPhone OS 15/.test(window.navigator.userAgent)},r.IsIOS15Version=function(t){return Et.os==Et.OS.IOS&&-1!==window.navigator.userAgent.search("iPhone OS 15_"+t)},o}(z)).prototype,"isLandscape",[am],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_m=t(hm.prototype,"isPortrait",[sm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dm=t(hm.prototype,"isIOS",[lm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fm=t(hm.prototype,"isAndroid",[cm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ym=t(hm.prototype,"android_Apiid",[um],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mm=hm));v._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});