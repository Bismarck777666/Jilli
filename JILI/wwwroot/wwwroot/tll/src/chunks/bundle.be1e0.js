System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///index-abd28181.js",["cc"],(function(t){"use strict";var e,n,i,r,o,a,s,u,l,c,_,p,m,h,f,d,S,v;return{setters:[function(t){e=t.cclegacy,n=t.v3,i=t.v2,r=t.macro,o=t._decorator,a=t.sp,s=t.Label,u=t.CCFloat,l=t.Component,c=t.warn,_=t.Sprite,p=t.CCString,m=t.Node,h=t.Animation,f=t.Tween,d=t.tween,S=t.Button,v=t.log}],execute:function(){function b(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
b=t("q",(function(){return e}));var e={},n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),a=new N(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return B()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=c(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var _={};function p(){}function m(){}function h(){}var f={};u(f,o,(function(){return this}));var d=Object.getPrototypeOf,S=d&&d(d(I([])));S&&S!==n&&i.call(S,o)&&(f=S);var v=h.prototype=p.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,_=l.value;return _&&"object"==typeof _&&i.call(_,"__await")?e.resolve(_.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(_).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function T(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=c(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,_;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,_):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:B}}function B(){return{value:void 0,done:!0}}return m.prototype=h,u(v,"constructor",h),u(h,"constructor",m),m.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},y(g.prototype),u(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new g(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=I,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),_}},e}function y(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){y(o,i,r,a,s,"next",t)}function s(t){y(o,i,r,a,s,"throw",t)}a(void 0)}))}}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N(t,e)}function N(t,e){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function A(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function w(t,e,n,i,r){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t({C:void 0,D:function(){t("u",J.AppManager),t("v",J.AutoShow),t("N",J.Backpack),t("P",J.DailyMission),t("Q",J.GaiaManager),_t=t("m",J.StateManager),t("J",J.IframeCommand),mt=t("i",J.LocaleString),J.Trial,q=t("o",J.BuyBonus),$=t("x",J.CommonGame),J.localStorage,ht=t("g",J.SoundManager),null==J.SoundAudioManager?(c("SoundAudioManager not found"),(vt=J.SoundManager).SetSettingJson||(vt.SetSettingJson=function(t){}),vt.AddAudioClips||(vt.AddAudioClips=function(t){}),vt.ClearSetting||(vt.ClearSetting=function(){})):vt=J.SoundAudioManager,t("R",J.Debris),st=t("p",J.NewExtra),t("O",J.GiftCode),ct=t("k",J.MsgBox),at=t("h",J.NewBottombar),dt=t("H",J.EventManager),t("n",J.LoadPrefabManager),J.FuncCtrlManager,ne=t("E",J.ConnectionManager),St=J.NotificationManager,F=t("e",J.Define),L=t("f",J.Tools),t("w",J.RoundController),P=t("j",J.ExtraBetController),J.FakeServer,t("y",J.TempoSetting)},E:void 0,F:void 0,H:void 0,J:void 0,N:void 0,O:void 0,P:void 0,Q:void 0,R:void 0,_:w,a:C,b:A,c:I,d:E,e:void 0,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:g,m:void 0,n:void 0,o:void 0,p:void 0,q:b,r:function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},u:void 0,v:void 0,w:void 0,x:void 0,y:void 0}),e._RF.push({},"db4337zK39CwpvA3Bh+gyjl","index",void 0),globalThis.Astarte||(globalThis.Astarte={});var L,R,M,F,P,x,O,k,G,D,U,z,W,H,Y,K,X,j,V,J=globalThis.Astarte;e._RF.pop(),e._RF.push({},"4c480cU1LpMo4WqCcvtd0ph","Tools",void 0),e._RF.pop(),e._RF.push({},"de32cbzFmBN4rL/N8DkMkAD","Define",void 0),function(t){t[t.NORMAL=0]="NORMAL",t[t.USING=1]="USING"}(R||(R={})),function(t){t[t.GAME_CLOSE=1e3]="GAME_CLOSE",t[t.LOGIN=1001]="LOGIN",t[t.WAIT_RES=1002]="WAIT_RES",t[t.CHECK_UNSHOW=1003]="CHECK_UNSHOW",t[t.CHECK_FREESPIN=1004]="CHECK_FREESPIN",t[t.IDLE=1005]="IDLE",t[t.SPIN_REQ=1006]="SPIN_REQ",t[t.SPIN=1007]="SPIN",t[t.COMMON_SHOW=1008]="COMMON_SHOW",t[t.MHB_SHOW=1009]="MHB_SHOW",t[t.JP_SHOW=1010]="JP_SHOW",t[t.CHECK_STATE=1011]="CHECK_STATE",t[t.END=1012]="END",t[t.FREESPIN_WAIT_RES=1013]="FREESPIN_WAIT_RES",t[t.TURBO=1014]="TURBO",t[t.FIRST_IN_GAME=1015]="FIRST_IN_GAME",t[t.CHECK_APP_REWARD=1016]="CHECK_APP_REWARD",t[t.CHECK_BUFF=1017]="CHECK_BUFF",t[t.ACTIVATE_BUFF=1018]="ACTIVATE_BUFF",t[t.END_BUFF=1019]="END_BUFF",t[t.GRAND_JP=1020]="GRAND_JP"}(M||(M=t("C",{}))),e._RF.pop(),e._RF.push({},"813162EnmlPD6ZkP+n93pP2","RoundController",void 0),e._RF.pop(),e._RF.push({},"1d5a8ODImpC9qtSki10xwQQ","ExtraBetController",void 0),e._RF.pop(),e._RF.push({},"cd534oKcOFFap8T54HqFCAE","FakeServer",void 0),e._RF.pop(),e._RF.push({},"3ec76bGz5NECbh3RNjc2SdI","TempoSetting",void 0),e._RF.pop(),e._RF.push({},"6f779uo//FP8owPSb4jjuXE","CommonEffect",void 0),function(t){var e=function(){function t(){}return t.PascalTriangleLine=function(t){for(var e=[1],n=1;n<t;n++)e[n]=e[n-1]*(t-n)/n;return e},t.RangedRandom=function(t,e){return(e-t)*Math.random()+t},t.GetRandomRectPos=function(t,e,n){var o=i(this.RangedRandom(-e.x,e.x)/2|0,this.RangedRandom(-e.x,e.x)/2|0).rotate(n*r.RAD);return t.add(o)},t.GetRandomOvalPos=function(t,e,n){var o=e.y/Math.max(1,e.x),a=Math.random()*e.x*.5,s=Math.random()*Math.PI*2,u=i(a*Math.cos(s),a*Math.sin(s)*o).rotate(n*r.RAD);return t.add(u)},t.ZoomAndFlip=function(t,e,n,r){var o=Math.sin(r*Math.PI)*(e-t)+t,a=Math.cos(r*Math.PI*n);return i(o*a,o)},t}();t.ExtendsMath=e;var o=function(){function t(t){switch(this.pts=null,this.len=0,this.ptl=null,this.bez=null,this.len=t.length,0==this.len?(t.push(n(0,0)),t.push(n(0,0))):1==this.len&&t.push(n(t[0].x,t[0].y)),this.pts=t,this.len){case 2:this.bez=this.Bezier2;break;case 3:this.bez=this.Bezier3;break;case 4:this.bez=this.Bezier4;break;case 5:this.bez=this.Bezier5;break;case 6:this.bez=this.Bezier6;break;default:this.ptl=e.PascalTriangleLine(this.len),this.bez=this.BezierN}}var i=t.prototype;return i.GetPosition=function(t){return this.bez.apply(this,[t])},i.Bezier2=function(t){var e=1-t;return n(e*this.pts[0].x+t*this.pts[1].x,e*this.pts[0].y+t*this.pts[1].y)},i.Bezier3=function(t){var e=1-t,i=[e*e,2*e*t,t*t];return n(i[0]*this.pts[0].x+i[1]*this.pts[1].x+i[2]*this.pts[2].x,i[0]*this.pts[0].y+i[1]*this.pts[1].y+i[2]*this.pts[2].y)},i.Bezier4=function(t){var e=1-t,i=[e*e*e,3*e*e*t,3*e*t*t,t*t*t];return n(i[0]*this.pts[0].x+i[1]*this.pts[1].x+i[2]*this.pts[2].x+i[3]*this.pts[3].x,i[0]*this.pts[0].y+i[1]*this.pts[1].y+i[2]*this.pts[2].y+i[3]*this.pts[3].y)},i.Bezier5=function(t){var e=1-t,i=[e*e*e*e,4*e*e*e*t,6*e*e*t*t,4*e*t*t*t,t*t*t*t];return n(i[0]*this.pts[0].x+i[1]*this.pts[1].x+i[2]*this.pts[2].x+i[3]*this.pts[3].x+i[4]*this.pts[4].x,i[0]*this.pts[0].y+i[1]*this.pts[1].y+i[2]*this.pts[2].y+i[3]*this.pts[3].y+i[4]*this.pts[4].y)},i.Bezier6=function(t){var e=1-t,i=[e*e*e*e*e,5*e*e*e*e*t,10*e*e*e*t*t,10*e*e*t*t*t,5*e*t*t*t*t,t*t*t*t*t];return n(i[0]*this.pts[0].x+i[1]*this.pts[1].x+i[2]*this.pts[2].x+i[3]*this.pts[3].x+i[4]*this.pts[4].x+i[5]*this.pts[5].x,i[0]*this.pts[0].y+i[1]*this.pts[1].y+i[2]*this.pts[2].y+i[3]*this.pts[3].y+i[4]*this.pts[4].y+i[5]*this.pts[5].y)},i.BezierN=function(t){for(var e=1-t,i=n(0,0),r=0;r<this.len;r++){for(var o=1,a=0;a<this.len-r-1;a++)o*=e;for(var s=0;s<r;s++)o*=t;i.x+=o*this.ptl[r]*this.pts[r].x,i.y+=o*this.ptl[r]*this.pts[r].y}return i},t}();t.Bezier=o}(x||(x={})),e._RF.pop(),e._RF.push({},"391b6CLPVhBEqeFr1f7nxDE","index",void 0),e._RF.pop(),e._RF.push({},"77acaFcNgVDULwRQEtO5wYa","BigWinComponent",void 0);var q,Q,Z,$,tt="Start",et="Loop",nt="End",it=t("G",{Big:{Start:"BigWin_Start",End:"BigWin_End"},Mega:{Start:"MegaWin_Start",End:"MegaWin_End"},Super:{Start:"SuperWin_Start",End:"SuperWin_End"}}),rt=o.ccclass,ot=o.property;t("z",(O=ot({type:a.Skeleton,tooltip:"spine"}),k=ot({type:a.Skeleton,tooltip:"遮罩"}),G=ot({type:a.Skeleton,tooltip:"Extra Spine"}),D=ot({type:s,tooltip:"贏分"}),U=ot({type:u,tooltip:"End extra effect delay time"}),rt(((V=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return A(e=t.call.apply(t,[this].concat(i))||this,"m_spine",H,I(e)),A(e,"m_maskSpine",Y,I(e)),A(e,"m_extraSpine",K,I(e)),A(e,"m_winLabel",X,I(e)),A(e,"m_endExtraDelayTime",j,I(e)),e.m_isEnd=!0,e.m_isShowEnd=!0,e.m_isShowAward=!1,e.m_eventCb=null,e.m_showValueCb=null,e.m_cancelCb=null,e.m_lvl=0,e.m_nowLvl=0,e.m_win=0,e.m_showWin=0,e.m_step=0,e.m_isShowingExtraEnd=!1,e}C(e,t);var n=e.prototype;return n.update=function(t){this.m_isShowAward&&(this.m_showWin+=this.m_step*t,this.m_showWin>=this.m_win&&(this.m_showWin=this.m_win,this.m_isShowAward=!1),this.m_winLabel.string=L.FormatNumberThousands(L.strip(this.m_showValueCb?this.m_showValueCb(this.m_showWin):this.m_showWin),L.FORMAT_NUMBER_TYPE.PERMANENT_DOT))},n.Init=function(t,e){this.m_eventCb=t,this.m_showValueCb=e,this.m_maskSpine&&(this.m_maskSpine.node.active=!1)},n.Show=function(t,n,i){if(void 0===i&&(i=!0),t>0&&n>e.Level.NONE&&n<=e.Level.SUPER){this.m_isEnd=!1,this.m_lvl=n,this.m_nowLvl=i?0:n-1,this.m_win=t,this.m_showWin=0,this.m_winLabel.string="0",this.m_isShowEnd=!1;for(var r=0,o=i?e.Level.BIG:this.m_lvl;o<=this.m_lvl;o++){var a="",s="";switch(o){case e.Level.BIG:a=it.Big.Start,s=it.Big.End;break;case e.Level.MEGA:a=it.Mega.Start,s=it.Mega.End;break;case e.Level.SUPER:a=it.Super.Start,s=it.Super.End}if(""!==a&&""!==s){var u=this.m_spine.findAnimation(a);u&&(r+=u.duration)}}this.m_step=L.divide(this.m_win,r||5),this.m_isShowAward=!0,this.m_maskSpine&&(this.m_maskSpine.node.active=!0,this.PlayAnimation(this.m_maskSpine,"BigWin_Start")),this.ShowNext()}},n.Stop=function(){this.m_isShowEnd||(this.m_cancelCb&&this.m_cancelCb(),this.ShowEnd())},n.SetSkin=function(t){this.m_spine.setSkin(t)},n.ShowNext=function(){var t=g(b().mark((function t(){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_nowLvl!==this.m_lvl){t.next=4;break}this.ShowEnd(),t.next=23;break;case 4:this.m_nowLvl++,n=!1,t.t0=this.m_nowLvl,t.next=t.t0===e.Level.BIG?9:t.t0===e.Level.MEGA?14:t.t0===e.Level.SUPER?18:22;break;case 9:return this.CheckExtraSpineStart(),t.next=12,this.PlayAnimation(this.m_spine,it.Big.Start);case 12:return n=t.sent,t.abrupt("break",22);case 14:return t.next=16,this.PlayAnimation(this.m_spine,it.Mega.Start);case 16:return n=t.sent,t.abrupt("break",22);case 18:return t.next=20,this.PlayAnimation(this.m_spine,it.Super.Start);case 20:return n=t.sent,t.abrupt("break",22);case 22:n||this.ShowNext();case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.ShowEnd=function(){var t=g(b().mark((function t(){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_isShowEnd){t.next=2;break}return t.abrupt("return");case 2:this.m_isShowEnd=!0,this.m_isShowAward=!1,this.m_winLabel.string=L.FormatNumberThousands(L.strip(this.m_showValueCb?this.m_showValueCb(this.m_win):this.m_win),L.FORMAT_NUMBER_TYPE.PERMANENT_DOT),this.m_maskSpine&&this.PlayAnimation(this.m_maskSpine,"BigWin_End"),n="",t.t0=this.m_lvl,t.next=t.t0===e.Level.BIG?10:t.t0===e.Level.MEGA?12:t.t0===e.Level.SUPER?14:16;break;case 10:return n=it.Big.End,t.abrupt("break",16);case 12:return n=it.Mega.End,t.abrupt("break",16);case 14:return n=it.Super.End,t.abrupt("break",16);case 16:if(""===n){t.next=21;break}return t.next=19,Promise.all([this.CheckExtraSpineEnd(),this.PlayAnimation(this.m_spine,n)]);case 19:t.next=22;break;case 21:console.error("BigWinComponent ShowEnd animName is empty!",this.m_lvl);case 22:this.m_maskSpine&&(this.m_maskSpine.node.active=!1),this.m_isEnd=!0;case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.CheckExtraSpineStart=function(){var t=this;this.m_extraSpine&&(this.m_extraSpine.node.active=!0,this.PlayAnimation(this.m_extraSpine,tt).then((function(){t.m_isShowingExtraEnd||t.PlayAnimation(t.m_extraSpine,et,!0)})))},n.CheckExtraSpineEnd=function(){var t=g(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_extraSpine){t.next=2;break}return t.abrupt("return");case 2:return this.m_isShowingExtraEnd=!0,t.next=5,F.Wait(this,this.m_endExtraDelayTime);case 5:return t.next=7,this.PlayAnimation(this.m_extraSpine,nt);case 7:this.m_isShowingExtraEnd=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.PlayAnimation=function(t,e,n,i){var r=this;return void 0===n&&(n=!1),void 0===i&&(i=0),new Promise((function(o){var a=!1;r.m_cancelCb=function(){o(a=!0)},t.clearTrack(i),t.setToSetupPose();var s=t.setAnimation(i,e,n),u=function(){r.m_cancelCb=null,o(a)};s?(t.setTrackEventListener(s,(function(t,n){var i=n.data.name,o=n.stringValue;r.m_eventCb&&r.m_eventCb(i,o,e)})),t.setTrackCompleteListener(s,(function(){t.setTrackCompleteListener(s,(function(){})),u()}))):t.setCompleteListener((function(){t.setCompleteListener(null),u()}))}))},E(e,[{key:"IsEnd",get:function(){return this.m_isEnd},set:function(t){this.m_isEnd=t}}]),e}(l)).Level={NONE:0,BIG:1,MEGA:2,SUPER:3},H=w((W=V).prototype,"m_spine",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=w(W.prototype,"m_maskSpine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=w(W.prototype,"m_extraSpine",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=w(W.prototype,"m_winLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=w(W.prototype,"m_endExtraDelayTime",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),z=W))||z));e._RF.pop(),e._RF.push({},"2c465urF+5E6a8SAy0Y1679","AppManager",void 0),e._RF.pop(),e._RF.push({},"01a4bCeOlRFS4PxU4ftD5wn","BackpackManager",void 0),e._RF.pop(),e._RF.push({},"e98d6g3Sn5F/phbS0JGqk6v","BuyBonusManager",void 0),e._RF.pop(),e._RF.push({},"810fcmXyb9Bu4OzTZmIkoz9","CommonGameManager",void 0),function(t){t[t.Get=0]="Get",t[t.Post=1]="Post"}(Q||(Q={})),function(t){t[t.Ignore=0]="Ignore",t[t.Handle=1]="Handle"}(Z||(Z={})),e._RF.pop(),e._RF.push({},"0e324Erw0JDW6aCYO5d0i2g","DailyMissionManager",void 0),e._RF.pop(),e._RF.push({},"dd020H2ox5CQ70Z9VNWXYpK","DebrisManager",void 0),e._RF.pop(),e._RF.push({},"1fcfdTjgMdDr4mh99NzZ29B","GaiaManager",void 0),e._RF.pop(),e._RF.push({},"a3f63TygSlA6KwEkLDlQIoJ","GiftCodeManager",void 0),e._RF.pop(),e._RF.push({},"9692fSvI0xNR5GVPmbcEfzq","IframeCommandManager",void 0),e._RF.pop(),e._RF.push({},"d8221PEwlRBep+hz+x7w5Ot","NewBottomBarManager",void 0);var at,st,ut,lt=t("S",{IDLE:0,CLICK_SPIN:1,START_SPIN:2,CLICK_STOP:3,GET_AWARD:4,CLICK_GET:5,CLICK_AUTOPLAY:6,CLICK_CANCEL:7,IDLE_AGAIN:8,SPIN_DISABLE:9,CLICK_STOP_IN_AUTOPLAY:10,SKIP_SMALL_FLASH:11,SKIP_SMALL_FLASH_AUTOPLAY:12,SKIP_BIG_FLASH:13,CLICK_STOP_NO_AUTO:14,GET_AWARD_NO_AUTO:15,CLICK_STOP_IN_AUTOPLAY_NO_AUTO:16,SPIN_DISABLE_DISABLE_STOP:17,AUTO_UNABLE:18,AUTO_ABLE:19,CLICK_AUTOPLAY_HARDSTOP:20});t("K",{IMG_BAR_DN:"img_bar_dn",IMG_WIN:"img_win",IMG_BLANCE:"img_blance",TXT_BLANCE:"txt_blance",COMM_MENU:"comm_menu",BTN_INFO:"btn_info",BTN_SOUND:"btn_sound",BTN_WISEAUTOPLAY:"btn_wiseautoplay",BTN_HISTORY:"btn_history",BTN_COMM:"btn_comm",IMG_BTN_COMM:"img_btn_comm",TXT_WIN:"txt_win",BETVIEW:"betView",BET_MENU:"bet_menu",BTN_BETS:"btn_bet",BET_VALUE:"bet_value",SELECTED:"selected",BTN_BET:"btn_bet",IMG_BET:"img_bet",TXT_BET_VALUE:"txt_bet_value",BTN_FEATURES:"btn_features",IMG_SPEED:"img_speed",BTN_SPEED:"btn_speed",BTN_BACKPACK:"btn_backpack",IMG_BACKPACKNODE:"img_backpackNode",IMG_BACKPACK:"img_backpack",USINGCARD:"usingCard",USINGCARDNUM:"usingCardNum",BTN_AUTOSTOP_C:"btn_autostop_c",IMG_AUTOTOP:"img_autotop",TXT_AUTO_COUNT:"txt_auto_count",BTN_AUTOSTOP:"btn_autostop",IMG_AUTOTOP_1:"img_autotop_1",BTN_AUTOPLAY:"btn_autoplay",IMG_AUTOPLAY:"img_autoplay",BTN_SPINSTOP:"btn_spinstop",IMG_STOP_LABEL:"img_stop_label",BTN_SPIN:"btn_spin",IMG_SPIN_LABEL:"img_spin_label",AUTOPLAY:"Autoplay",IMG_BAR_SUB_BG:"img_bar_sub_bg",WEBVIEW:"webview",BTN_CLOSE:"btn_close",BTN_TRIAL:"btn_Trial",TRAILWINPROGRESSBAR:"TrailWinProgressBar",BTN_HOLD_SPIN:"btn_hold_spin",BTN_RELEASE_SPIN:"btn_release_spin",BTN_INCBET:"btn_IncBet",BTN_DECBET:"btn_DecBet"});e._RF.pop(),e._RF.push({},"28748R+s5pCY7kwYZ0zkqKk","NewExtraManager",void 0),e._RF.pop(),e._RF.push({},"861e1J/bwRGlI4J13TOOh4y","TrialManager",void 0),function(t){t[t.None=0]="None",t[t.Playing=1]="Playing",t[t.Item=2]="Item"}(ut||(ut={})),e._RF.pop(),e._RF.push({},"0f3df9al6NIJJ1/5ZP5aShG","MsgBoxManager",void 0);var ct;t("L","MSGBOX_TITLE_SYSTEM_INFO");e._RF.pop(),e._RF.push({},"8de065l1yBCNoeRGxK2yzaD","StateManager",void 0);var _t,pt,mt,ht,ft=t("B",(function(){}));e._RF.pop(),e._RF.push({},"c7e3d4LY9dOUokI+wu7YgCQ","AutoShowManager",void 0),function(t){t[t.SKY_BAR=0]="SKY_BAR",t[t.PAYTABLE=1]="PAYTABLE",t[t.LANDING=2]="LANDING",t[t.DISCOUNT=3]="DISCOUNT",t[t.EXTRA_BET=4]="EXTRA_BET",t[t.ICONBOX=5]="ICONBOX"}(pt||(pt={})),e._RF.pop(),e._RF.push({},"d388f5XkRRFcYXg5usnXTa/","LocaleStringManager",void 0),e._RF.pop(),e._RF.push({},"077a5gmYEpIQqr+YOtt+g08","LocalStorageManager",void 0),e._RF.pop(),e._RF.push({},"8c0f7IX3HNLY6BaWiL8u0j4","SoundManager",void 0),e._RF.pop(),e._RF.push({},"50f8dtxxuFDo6qJW6FBFBaO","EventManager",void 0);var dt,St,vt,bt,yt,gt,Tt,Et,Ct,Nt,It,Bt,At,wt,Lt=t("I",{TriggerFreeSpin:"TriggerFreeSpin",ShowGetFreeSpinEnd:"ShowGetFreeSpinEnd",FreeSpinTotalWinStart:"FreeSpinTotalWinStart",FreeSpinTotalWinEnd:"FreeSpinTotalWinEnd",OpenExtraBet:"OpenExtraBet",CloseExtraBet:"CloseExtraBet",ItemTotalWinStart:"ItemTotalWinStart",ItemTotalWinEnd:"ItemTotalWinEnd",SpinReqNotify:"SpinReqNotify",TriggerExtraBet:"TriggerExtraBet",SkipIntro:"SkipIntro"});e._RF.pop(),e._RF.push({},"18947v7ICNDlYz3G5vE642k","LoadPrefabManager",void 0),e._RF.pop(),e._RF.push({},"de7f6JwfsBHBYba0UlqLoFI","NotificationManager",void 0),e._RF.pop(),e._RF.push({},"81438uBGiNJXoDkKAmuxEJu","FunctionControlManager",void 0),e._RF.pop(),e._RF.push({},"3e41doUMVNLQbg53Jn6N9ch","SoundAudioManager",void 0),e._RF.pop(),e._RF.push({},"858d45NBqBLW5W3J41WER1G","index",void 0),e._RF.pop(),e._RF.push({},"58afbgi72RCYrg3eW8ahovc","CommonBuyBonusCell",void 0);var Rt,Mt,Ft,Pt,xt,Ot,kt,Gt,Dt,Ut,zt,Wt,Ht,Yt,Kt,Xt,jt,Vt,Jt,qt,Qt=o.ccclass,Zt=o.property,$t=(bt=Qt("CommonBuyBonusCell"),yt=Zt({type:_,tooltip:"購買文字"}),gt=Zt({type:_,tooltip:"項目標題"}),Tt=Zt({type:p,tooltip:"標題圖片名稱"}),Et=Zt({type:s,tooltip:"金額"}),bt((It=w((Nt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return A(e=t.call.apply(t,[this].concat(i))||this,"m_buyHintSprite",It,I(e)),A(e,"m_titleSprite",Bt,I(e)),A(e,"m_titlePicName",At,I(e)),A(e,"m_priceLabel",wt,I(e)),e}C(e,t);var n=e.prototype;return n.start=function(){var t=mt.GetGameAtlas();mt.CurrLang!==F.Lang.EN&&(this.m_buyHintSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Buy"),this.m_titleSprite.spriteFrame=t.getSpriteFrame(this.m_titlePicName))},n.SetPrice=function(t){this.m_priceLabel.string=t},e}(l)).prototype,"m_buyHintSprite",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=w(Nt.prototype,"m_titleSprite",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=w(Nt.prototype,"m_titlePicName",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wt=w(Nt.prototype,"m_priceLabel",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=Nt))||Ct);e._RF.pop(),e._RF.push({},"1d854+nhA1JgLXZLaNHz9eU","LicenseSetting",void 0),function(t){t[t.ShopingMall=1]="ShopingMall",t[t.ShowAutoSetting=16]="ShowAutoSetting",t[t.NoSoundUnder1=17]="NoSoundUnder1",t[t.NoQuickSpin=18]="NoQuickSpin",t[t.CloseManual=39]="CloseManual"}(Rt||(Rt=t("F",{}))),e._RF.pop(),e._RF.push({},"deede8s0zBMX57ZpiWkWMfR","CommonBuyBonus",void 0);var te,ee,ne,ie,re="Buy_Feature_Open",oe="Buy_Feature_Close",ae=o.ccclass,se=o.property;t("A",(Mt=ae("CommonBuyBonus"),Ft=se({type:m,tooltip:"介面"}),Pt=se({type:h,tooltip:"介面開關動畫"}),xt=se({type:m,tooltip:"開啟按鈕節點"}),Ot=se({type:s,tooltip:"押注金額"}),kt=se({type:$t,tooltip:"購買項目"}),Gt=se({type:_,tooltip:"標題"}),Dt=se({type:_,tooltip:"押注"}),Ut=se({type:s,tooltip:"幣別符號"}),Mt((Ht=w((Wt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return A(e=t.call.apply(t,[this].concat(i))||this,"m_viewNode",Ht,I(e)),A(e,"m_anim",Yt,I(e)),A(e,"m_openBtnNode",Kt,I(e)),A(e,"m_betLabel",Xt,I(e)),A(e,"m_buyBonusCells",jt,I(e)),A(e,"m_titleSprite",Vt,I(e)),A(e,"m_betSprite",Jt,I(e)),A(e,"m_currencyLabel",qt,I(e)),e.m_iGameView=null,e.m_setting=null,e.m_betList=null,e.m_betIdx=0,e.m_bonusType=null,e.m_isPlayingAnim=!1,e}C(e,t);var n=e.prototype;return n.start=function(){this.m_viewNode.active=!0;var t=mt.GetGameAtlas();mt.CurrLang!==F.Lang.EN&&(this.m_betSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Bet"),this.m_titleSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Title"))},n.Init=function(t,e){var n=this;if(this.m_viewNode.active=!1,t&&!L.CheckSwitchOff(Rt.ShopingMall)){this.m_setting=t,this.m_iGameView=e,this.m_betList=JSON.parse(JSON.stringify(at.GetBetList()));for(var i=this.m_betList.length-1;i>=0&&this.m_betList[i]>this.m_setting.MaxBet;i--)this.m_betList.splice(i);this.m_betIdx=at.GetNowBetIndex(),(!this.m_betList[this.m_betIdx]||this.m_betList[this.m_betIdx]>this.m_betList[this.m_betList.length-1])&&(this.m_betIdx=this.m_betList.length-1),this.SetPrice();for(var r=function(t){n.m_buyBonusCells[t].getComponent(S).node.on(m.EventType.TOUCH_END,(function(){ht.Play(F.AudioClips.COMMON_BTN),n.m_isPlayingAnim||(P.ForceChangeExtraBetMode(!1),n.m_bonusType=t,n.Hide(),at.SetNowBet(n.m_betList[n.m_betIdx]),n.m_iGameView.ClickSpin())}))},o=0;o<this.m_buyBonusCells.length;o++)r(o);this.m_viewNode.active=!1}else this.SetBuyBtnVisible(!1)},n.SetPrice=function(){var t=this.m_betList[this.m_betIdx];this.m_currencyLabel&&(F.DollarSymbol?this.m_currencyLabel.string="("+F.DollarSymbol+")":this.m_currencyLabel.node.active=!1),this.m_betLabel.string=""+F.DollarSymbol+L.FormatNumberThousands(t,L.FORMAT_NUMBER_TYPE.PERMANENT_DOT);for(var e=0;e<this.m_buyBonusCells.length;e++){var n=L.times(t,this.m_setting.PriceOdd[e]);this.m_buyBonusCells[e].SetPrice(""+F.DollarSymbol+L.FormatNumberThousands(n,L.FORMAT_NUMBER_TYPE.PERMANENT_DOT))}},n.SetBuyBtnVisible=function(t){this.m_openBtnNode.active=!!this.m_setting&&t},n.GetBuyBtnVisible=function(){return this.m_openBtnNode.active},n.GetBuyBonusBet=function(){return this.m_setting&&null!==this.m_bonusType?L.times(this.m_setting.PriceOdd[this.m_bonusType],at.GetNowBetValue()):L.strip(at.GetNowBetValue())},n.CleanInfo=function(){this.m_bonusType=null},n.IsOpen=function(){return this.m_viewNode.active},n.Show=function(){var t=this;if(!(_t.Current()!==M.IDLE||F.FreeSpinRemain>0)&&(!this.m_anim.getState(oe).isPlaying&&!this.m_viewNode.active)){f.stopAllByTarget(this.node),this.m_isPlayingAnim=!0,ht.Play(F.AudioClips.COMMON_BTN),this.m_viewNode.active=!0,this.m_anim.play(re);var e=this.m_anim.getState(re);d(this.node).delay(e.duration).call((function(){t.m_isPlayingAnim=!1})).start();var n="-1",i=0;F.APP&&(n=F.APP.GetAID(),i=Number(F.APP.GetApiID())),F.SendBtnClickEvent(Number(n),i,Number(F.NOW_GAME_ID),this.m_iGameView.Version,F.BTN_CLICK_EVENT.INGAME_BUY_BONUS,0,!1)}},n.Hide=function(){var t=g(b().mark((function t(){var e,n,i,r=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.m_anim.getState(oe),this.m_viewNode.active&&!e.isPlaying){t.next=3;break}return t.abrupt("return");case 3:return(n=this.m_anim.getState(re)).isPlaying&&n.stop(),f.stopAllByTarget(this.node),this.m_isPlayingAnim=!0,ht.Play(F.AudioClips.COMMON_BTN),this.m_anim.play(oe),e=this.m_anim.getState(oe),d(this.node).delay(n.duration).call((function(){r.m_isPlayingAnim=!1})).start(),i=this.m_anim.getState(oe),t.next=14,F.Wait(this,i.duration);case 14:this.m_viewNode.active=!1;case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.AddBet=function(){this.m_betIdx+1>this.m_betList.length-1||(ht.Play(F.AudioClips.COMMON_BTN),this.m_betIdx++,this.SetPrice())},n.SubBet=function(){this.m_betIdx-1<0||(ht.Play(F.AudioClips.COMMON_BTN),this.m_betIdx--,this.SetPrice())},E(e,[{key:"BonusType",get:function(){return this.m_bonusType}}]),e}(l)).prototype,"m_viewNode",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=w(Wt.prototype,"m_anim",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=w(Wt.prototype,"m_openBtnNode",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=w(Wt.prototype,"m_betLabel",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=w(Wt.prototype,"m_buyBonusCells",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vt=w(Wt.prototype,"m_titleSprite",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=w(Wt.prototype,"m_betSprite",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=w(Wt.prototype,"m_currencyLabel",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=Wt))||zt));e._RF.pop(),e._RF.push({},"74f7dljUZhO+6o0Pu2tNSAk","ConnectionManager",void 0),function(t){t[t.TYPE_HTTP=1]="TYPE_HTTP",t[t.TYPE_WEBSOCKET=2]="TYPE_WEBSOCKET",t[t.MAX=3]="MAX"}(te||(te={})),function(t){t.TYPE_GET="get",t.TYPE_POST="post"}(ee||(ee={})),e._RF.pop(),e._RF.push({},"34d81gQVlJAaJJHg6IUTjH6","TimeBool",void 0),function(t){t[t.MAX_UINT=4294967295]="MAX_UINT",t[t.MAX_UINT64=0x10000000000000000]="MAX_UINT64",t[t.MAX_INT=-1]="MAX_INT",t[t.MIN_INT=0]="MIN_INT"}(ie||(ie={}));var ue,le=function(){function t(){this.m_duration=ie.MAX_UINT,this.m_deadline=ie.MAX_UINT64,this.m_useDT=!1,this.m_dt=void 0,this.m_duration=ie.MAX_UINT,this.m_deadline=ie.MAX_UINT64}var e=t.prototype;return e.IsStarted=function(){return ie.MAX_UINT!=this.m_duration},e.Duration=function(){return this.m_duration},e.TicksUntilTrue=function(){if(!this.IsStarted())return ie.MAX_INT;var t=(new Date).getTime();return this.m_deadline<=t?0:this.m_deadline-t},e.TicksSinceTrue=function(){var t=(new Date).getTime();return this.m_deadline>=t?0:t-this.m_deadline},e.TicksSinceStart=function(){return this.IsStarted()?(new Date).getTime()-(this.m_deadline-this.m_duration):0},e.Start=function(t){this.m_duration=t;var e=(new Date).getTime();this.m_deadline=e+t,this.m_dt=0},e.Restart=function(){this.m_deadline=(new Date).getTime()+this.m_duration},e.Continue=function(){this.m_deadline+=this.m_duration},e.ExpireNow=function(){this.m_deadline=(new Date).getTime()},e.Clear=function(){this.m_duration=ie.MAX_UINT,this.m_deadline=ie.MAX_UINT64,this.m_dt=0},e.StartWithFirstDue=function(t,e){this.m_duration=t,ie.MAX_UINT==e?this.m_deadline=ie.MAX_UINT64:this.m_deadline=(new Date).getTime()+e},e.ToBool=function(){return this.m_useDT?this.m_dt>=this.m_duration:(new Date).getTime()>=this.m_deadline},e.TakeAndContinue=function(){return!!this.ToBool()&&(this.Continue(),!0)},e.TakeAndRestart=function(){return!!this.ToBool()&&(this.Restart(),!0)},e.UseDT=function(t){this.m_useDT=t},e.Update=function(t){this.m_dt=this.m_dt+t},t}();e._RF.pop(),e._RF.push({},"5cd11K4+Y1DBJ0WZfuiBSee","Common_IdleState",void 0);var ce,_e,pe,me,he,fe,de,Se,ve,be,ye,ge,Te,Ee,Ce,Ne=1,Ie=10,Be=o.ccclass;t("t",Be("Common_IdleState")(ue=function(t){function e(){var e;return(e=t.call(this)||this).m_exchangeTimer=null,e.m_isFirst=!0,e.m_initReqNoticeTimes=0,e.m_hintShowed=!1,dt.Register(Lt.SpinReqNotify,I(e)),e.m_exchangeTimer=new le,e.m_exchangeTimer.UseDT(!0),e}C(e,t);var n=e.prototype;return n.OnEnter=function(){v("Common State IDLE"),at.ShowSkipBtn&&at.ShowSkipBtn(!1),F.HAS_REPLAY?F.IsInMG()&&(this.m_isFirst?(this.m_isFirst=!1,_t.NextState(M.SPIN_REQ)):st.OpenReplayView()):(!F.IsInMG()||F.IsUsingItem||at.IsFreeSpin?at.IsGameIdle=!1:(at.GetChips()<at.GetBetList()[0]&&St.ShowBankruptNotify(),this.SetIsIdle(!0)),this.m_exchangeTimer.Clear(),this.m_exchangeTimer.Start(1e3*(this.m_isFirst?Ne:Ie)),St.CountDownAfk()),at.SetSpinState(lt.IDLE),this.Enter()},n.OnProcess=function(t){if(!F.HAS_REPLAY){if(ne.HasMail&&F.IsInMG()&&at.CheckCommonWebPageClose())for(;ne.HasMail;)ne.ShowMailInfo();this.m_exchangeTimer&&(this.m_exchangeTimer.Update(1e3*t),this.m_exchangeTimer.ToBool()&&(this.m_exchangeTimer.Clear(),this.m_exchangeTimer.Start(1e3*(this.m_isFirst&&this.m_initReqNoticeTimes<20?Ne:Ie)),_t.Current()==M.IDLE&&F.IsInMG()&&($.ReqNotice(),this.m_initReqNoticeTimes++))),null==this||this.Process(t)}},n.OnLeave=function(){F.HAS_REPLAY||St.StopAfk()},n.SetIsIdle=function(t){t?st.OpenTurboIcon():st.CloseTurboIcon(),F.SetCanUseItemCard(t),q.IsBuyBonus||(q.CanBuyBonus=t),at.LockBetEnable(!t),at.IsGameIdle=t,at.CanPlayFeaturesDemo(t),st.SetBuyBonusState(t)},n.OnEvent=function(t){if(_t.Current()===M.IDLE)switch(t){case Lt.SpinReqNotify:F.HAS_REPLAY||(F.IsInMG()?_t.NextState(M.SPIN_REQ):_t.NextState(M.SPIN)),this.m_isFirst=!1}},n.Process=function(t){},e}(ft))||ue);e._RF.pop(),e._RF.push({},"0c18bO40hVJB4/zzDByb8vr","ManualComponent",void 0);var Ae=o.ccclass,we=o.property,Le="Manual_Open",Re="Manual_Close",Me="Open",Fe="Opening",Pe="Close",xe="Closing";t("M",(ce=Ae("ManualComponent"),_e=we({type:m,tooltip:"特色說明按鈕(新版跑馬燈)"}),pe=we({type:m,tooltip:"特色說明本體(新版跑馬燈)"}),me=we({type:m,tooltip:"特色說明關閉按鈕(新版跑馬燈)"}),he=we({type:m,tooltip:"特色說明周圍關閉按鈕(新版跑馬燈)"}),fe=we({type:_,tooltip:"特色說明內容(新版跑馬燈)"}),de=we({type:_,tooltip:"標題"}),ce((be=w((ve=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return A(e=t.call.apply(t,[this].concat(i))||this,"m_featureInfoBtn",be,I(e)),A(e,"m_featureInfoBoard",ye,I(e)),A(e,"m_featureInfoCloseBtn",ge,I(e)),A(e,"m_featureInfoSideBtn",Te,I(e)),A(e,"m_featureInfoTxt",Ee,I(e)),A(e,"m_titleSprite",Ce,I(e)),e.m_manulState=Pe,e.m_manulOpenLock=!1,e}C(e,t);var n=e.prototype;return n.onLoad=function(){var t=this;L.CheckSwitchOff(Rt.CloseManual)?this.node.active=!1:(this.m_featureInfoBtn&&this.m_featureInfoBtn.on(m.EventType.TOUCH_END,(function(){t.OpenManul(),ht.Play(Astarte.Define.AudioClips.COMMON_BTN)})),this.m_featureInfoCloseBtn&&this.m_featureInfoCloseBtn.on(m.EventType.TOUCH_END,(function(){t.CloseManul(),ht.Play(Astarte.Define.AudioClips.COMMON_BTN)})),this.m_featureInfoSideBtn&&this.m_featureInfoSideBtn.on(m.EventType.TOUCH_END,(function(){t.CloseManul()})))},n.OpenManul=function(){var t=this;this.m_manulOpenLock?ct.ShowMessageBox(Astarte.Define.StringKey.FREEWINCASH_PLAYING1):this.m_manulState==Pe&&(this.m_featureInfoBoard.active=!0,d(this.m_featureInfoBoard).call((function(){t.m_manulState=Fe,t.m_featureInfoBoard.getComponentInChildren(h).play(Le)})).delay(.5).call((function(){t.m_manulState=Me})).start())},n.CloseManul=function(){var t=this;this.m_manulState==Me&&d(this.m_featureInfoBoard).call((function(){t.m_manulState=xe,t.m_featureInfoBoard.getComponentInChildren(h).play(Re)})).delay(.5).call((function(){t.m_manulState=Pe,t.m_featureInfoBoard.active=!1})).start()},n.SetTxt=function(t,e){void 0===e&&(e=null);for(var n=mt.GetGameAtlas(),i=0;i<this.m_featureInfoTxt.length;i++){n.getSpriteFrame(t[i])&&(this.m_featureInfoTxt[i].spriteFrame=n.getSpriteFrame(t[i]))}this.m_titleSprite&&e&&(this.m_titleSprite.spriteFrame=n.getSpriteFrame(e))},E(e,[{key:"FeatureInfoBtn",get:function(){return this.m_featureInfoBtn}},{key:"ManulState",get:function(){return this.m_manulState}},{key:"ManulOpenLock",get:function(){return this.m_manulOpenLock},set:function(t){this.m_manulOpenLock=t}}]),e}(l)).prototype,"m_featureInfoBtn",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=w(ve.prototype,"m_featureInfoBoard",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=w(ve.prototype,"m_featureInfoCloseBtn",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=w(ve.prototype,"m_featureInfoSideBtn",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=w(ve.prototype,"m_featureInfoTxt",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=w(ve.prototype,"m_titleSprite",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=ve))||Se));e._RF.pop(),e._RF.push({},"eb033pmYDhAjadYFiwbi8gp","SpineKit",void 0),t("s",function(){function t(){}return t.ForceCancel=function(t,e){var n,i,r;null==(n=this.m_cancelCbs)||null==(i=(r=n[t])[e])||i.call(r)},t.PlayAnimation=function(t,e,n,i,r,o){var a=this;return void 0===n&&(n=!1),void 0===i&&(i=0),void 0===o&&(o=!0),new Promise((function(s){a.m_cancelCbs[t.name]={},a.m_cancelCbs[t.name][e]=function(){s(!0)};var u=!0,l=t.getState();if(l){var c=l.expandToIndex(i);if(c){var _=c.animation.name+"."+e;u=void 0===l.data.animationToMixTime[_]}}u&&(t.clearTrack(i),o&&t.setToSetupPose());var p=t.setAnimation(i,e,n);p?(t.setTrackEventListener(p,(function(t,e){p&&p.animation.name==t.animation.name&&(null==r||r(e.data.name))})),t.setTrackCompleteListener(p,(function(n){p&&p.animation.name==n.animation.name&&(t.setTrackCompleteListener(p,(function(){})),t.setTrackInterruptListener(p,(function(){})),a.m_cancelCbs[t.name]&&a.m_cancelCbs[t.name][e]&&(a.m_cancelCbs[t.name][e]=null),s(!1))})),t.setTrackInterruptListener(p,(function(n){p&&p.animation.name==n.animation.name&&(t.setTrackCompleteListener(p,(function(){})),t.setTrackInterruptListener(p,(function(){})),a.m_cancelCbs[t.name]&&a.m_cancelCbs[t.name][e]&&(a.m_cancelCbs[t.name][e]=null),s(!0))}))):(t.setCompleteListener((function(){t.setCompleteListener(null),t.setInterruptListener(null),a.m_cancelCbs[t.name]&&a.m_cancelCbs[t.name][e]&&(a.m_cancelCbs[t.name][e]=null),s(!1)})),t.setInterruptListener((function(){t.setCompleteListener(null),t.setInterruptListener(null),a.m_cancelCbs[t.name]&&a.m_cancelCbs[t.name][e]&&(a.m_cancelCbs[t.name][e]=null),s(!0)})))}))},t}()).m_cancelCbs={},e._RF.pop(),e._RF.push({},"f34139liEtOX7eeljN8Cz8w","index",void 0),e._RF.pop()}}}));

} }; });