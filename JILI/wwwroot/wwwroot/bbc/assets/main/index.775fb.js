System.register("chunks:///main.js",["./index-0ee34d76.js","cc"],(function(){"use strict";var t,e,i,n,o,r,a,s,l,c,u,p,h,m,_,d,f,y,g,S,b,w,v,C,E,B,x,L,N,k,P,T,O,I,R,A,F,z,D,M,G,H,V,U,j,W,X,K,Y,Z,q,J,Q,$,tt,et,it,nt,ot,rt,at,st,lt,ct,ut,pt,ht,mt,_t,dt,ft,yt,gt,St,bt,wt,vt,Ct,Et,Bt,xt,Lt;return{setters:[function(E){t=E._,e=E.a,i=E.b,n=E.c,o=E.d,r=E.n,a=E.e,s=E.f,l=E.C,c=E.g,u=E.S,p=E.h,h=E.i,m=E.j,_=E.k,d=E.l,f=E.m,y=E.o,g=E.p,S=E.q,b=E.r,w=E.s,v=E.t,C=E.u},function(t){E=t.cclegacy,B=t._decorator,x=t.Color,L=t.ccenum,N=t.UITransform,k=t.Node,P=t.SpriteFrame,T=t.EventHandler,O=t.Vec3,I=t.Sprite,R=t.math,A=t.assetManager,F=t.Label,z=t.lerp,D=t.UIRenderer,M=t.NodeEventType,G=t.TransformBit,H=t.Component,V=t.CCString,U=t.Animation,j=t.Tween,W=t.tween,X=t.Button,K=t.Material,Y=t.Gradient,Z=t.v4,q=t.Texture2D,J=t.clamp01,Q=t.color,$=t.EffectAsset,tt=t.CCInteger,et=t.CCBoolean,it=t.CCFloat,nt=t.log,ot=t.ImageAsset,rt=t.sp,at=t.AnimationClip,st=t.Enum,lt=t.error,ct=t.ScrollView,ut=t.UIOpacity,pt=t.Vec2,ht=t.isValid,mt=t.v3,_t=t.instantiate,dt=t.v2,ft=t.director,yt=t.Director,gt=t.CCClass,St=t.SpriteAtlas,bt=t.js,wt=t.Prefab,vt=t.sys,Ct=t.settings,Et=t.Settings,Bt=t.VERSION,xt=t.find,Lt=t.Size}],execute:function(){var Nt,kt,Pt,Tt,Ot,It,Rt,At,Ft,zt,Dt,Mt,Gt,Ht,Vt,Ut,jt,Wt,Xt,Kt,Yt,Zt,qt,Jt,Qt,$t,te,ee,ie,ne,oe,re,ae,se,le,ce,ue,pe,he,me,_e,de,fe,ye,ge,Se,be,we;E._RF.push({},"84c5byXmKBEJIwVBTwOs7ly","ButtonPro",void 0);var ve,Ce,Ee,Be=B.ccclass,xe=B.executionOrder,Le=B.requireComponent,Ne=B.type,ke=B.executeInEditMode,Pe=B.property,Te=new x;!function(t){t[t.NONE=0]="NONE",t[t.COLOR=1]="COLOR",t[t.SPRITE=2]="SPRITE",t[t.SCALE=4]="SCALE",t[t.COLOR_SPRITE=3]="COLOR_SPRITE",t[t.COLOR_SCALE=5]="COLOR_SCALE",t[t.SPRITE_SCALE=6]="SPRITE_SCALE",t[t.ALL=7]="ALL"}(ve||(ve={})),L(ve),function(t){t.NORMAL="normal",t.HOVER="hover",t.PRESSED="pressed",t.DISABLED="disabled"}(Ce||(Ce={})),function(t){t.CLICK="click"}(Ee||(Ee={}));var Oe,Ie,Re,Ae,Fe,ze,De,Me,Ge,He,Ve;Nt=Be("ButtonPro"),kt=xe(110),Pt=Le(N),Tt=Pe({type:k,displayOrder:0,tooltip:"i18n:button.target"}),Ot=Pe({displayOrder:1,tooltip:"i18n:button.interactable"}),It=Pe({type:ve,displayOrder:2,tooltip:"i18n:button.transition"}),Rt=Pe({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.normal_color"}),At=Pe({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.pressed_color"}),Ft=Pe({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.hover_color"}),zt=Pe({group:{name:"COLOR"},displayOrder:3,tooltip:"i18n:button.disabled_color"}),Dt=Pe({group:{name:"SCALE"},displayOrder:4,tooltip:"i18n:button.duration",min:0,max:10}),Mt=Pe({group:{name:"SCALE"},displayOrder:4,tooltip:"i18n:button.zoom_scale"}),Gt=Pe({group:{name:"SPRITE"},type:P,displayOrder:3,tooltip:"i18n:button.normal_sprite"}),Ht=Pe({group:{name:"SPRITE"},type:P,displayOrder:3,tooltip:"i18n:button.pressed_sprite"}),Vt=Pe({group:{name:"SPRITE"},type:P,displayOrder:3,tooltip:"i18n:button.hover_sprite"}),Ut=Pe({group:{name:"SPRITE"},type:P,displayOrder:3,tooltip:"i18n:button.disabled_sprite"}),jt=Ne([T]),Wt=Pe({serializable:!0,displayOrder:20,tooltip:"i18n:button.click_events"}),Xt=Pe({serializable:!0}),Kt=Pe({serializable:!0}),Yt=Pe({serializable:!0}),Zt=Pe({serializable:!0}),qt=Pe({serializable:!0}),Jt=Pe({serializable:!0}),Qt=Pe({serializable:!0}),$t=Pe({serializable:!0}),te=Pe({serializable:!0}),ee=Pe({serializable:!0}),ie=Pe({serializable:!0}),ne=Pe({serializable:!0}),oe=Pe({serializable:!0}),Nt(re=kt(re=Pt(re=ke(((we=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"clickEvents",se,n(e)),i(e,"_interactable",le,n(e)),i(e,"_transition",ce,n(e)),i(e,"_normalColor",ue,n(e)),i(e,"_hoverColor",pe,n(e)),i(e,"_pressedColor",he,n(e)),i(e,"_disabledColor",me,n(e)),i(e,"_normalSprite",_e,n(e)),i(e,"_hoverSprite",de,n(e)),i(e,"_pressedSprite",fe,n(e)),i(e,"_disabledSprite",ye,n(e)),i(e,"_duration",ge,n(e)),i(e,"_zoomScale",Se,n(e)),i(e,"_target",be,n(e)),e._pressed=!1,e._hovered=!1,e._fromColor=new x,e._toColor=new x,e._time=0,e._transitionFinished=!0,e._fromScale=new O,e._toScale=new O,e._originalScale=null,e._sprite=null,e._targetScale=new O,e}e(r,t);var a=r.prototype;return a.onLoad=function(){if(!this.getComponent(I)){var t=this.addComponent(I);if(t){t.sizeMode=I.SizeMode.CUSTOM,t.type=I.Type.SLICED;var e=this.node.getComponent(N);e&&(e.contentSize=R.size(120,40))}var i=A.assets.get("20835ba4-6145-4fbc-a58a-051ce700aa3e@f9941");i&&(t&&!t.spriteFrame&&(t.spriteFrame=i),this._normalSprite||(this._normalSprite=i),this._hoverSprite||(this._hoverSprite=i));var n=A.assets.get("544e49d6-3f05-4fa8-9a9e-091f98fc2ce8@f9941");n&&(this._pressedSprite||(this._pressedSprite=n));var o=A.assets.get("951249e0-9f16-456d-8b85-a6ca954da16b@f9941");o&&(this._disabledSprite||(this._disabledSprite=o))}if(!this.node.getChildByName("Label")){var r=new k("Label"),a=r.addComponent(F);a.node.layer=this.node.layer,a.string="ButtonPro",r.parent=this.node,a.color=x.BLACK,a.fontSize=20}},a.__preload=function(){this.target||(this.target=this.node);var t=this.node.getComponent(I);t&&(this._normalSprite=t.spriteFrame),this._applyTarget(),this._resetState()},a.onEnable=function(){this._registerNodeEvent()},a.onDisable=function(){this._resetState(),this._unregisterNodeEvent()},a.onDestroy=function(){this.target.isValid&&this._unregisterTargetEvent(this.target)},a.update=function(t){var e=this.target;if(!this._transitionFinished&&e&&(this._transition&ve.COLOR||this._transition&ve.SCALE)){this._time+=t;var i=1;if(this._duration>0&&(i=this._time/this._duration),i>=1&&(i=1),this._transition&ve.COLOR){var n=e._uiProps.uiComp;x.lerp(Te,this._fromColor,this._toColor,i),n&&(n.color=Te)}this.transition&ve.SCALE&&(e.getScale(this._targetScale),this._targetScale.x=z(this._fromScale.x,this._toScale.x,i),this._targetScale.y=z(this._fromScale.y,this._toScale.y,i),e.setScale(this._targetScale)),1===i&&(this._transitionFinished=!0)}},a._resizeNodeToTargetNode=function(){if(this.target)this.target._uiProps.uiTransformComp},a._resetState=function(){this._pressed=!1,this._hovered=!1;var t=this.target;if(t){var e=this._transition;if(e&ve.COLOR&&this._interactable){var i=t.getComponent(D);i&&(i.color=this._normalColor)}e&ve.SCALE&&this._originalScale&&t.setScale(this._originalScale),this._transitionFinished=!0}},a._registerNodeEvent=function(){this.node.on(M.TOUCH_START,this._onTouchBegan,this),this.node.on(M.TOUCH_MOVE,this._onTouchMove,this),this.node.on(M.TOUCH_END,this._onTouchEnded,this),this.node.on(M.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(M.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(M.MOUSE_LEAVE,this._onMouseMoveOut,this)},a._registerTargetEvent=function(t){t.on(M.TRANSFORM_CHANGED,this._onTargetTransformChanged,this)},a._unregisterNodeEvent=function(){this.node.off(M.TOUCH_START,this._onTouchBegan,this),this.node.off(M.TOUCH_MOVE,this._onTouchMove,this),this.node.off(M.TOUCH_END,this._onTouchEnded,this),this.node.off(M.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(M.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(M.MOUSE_LEAVE,this._onMouseMoveOut,this)},a._unregisterTargetEvent=function(t){t.off(M.TRANSFORM_CHANGED)},a._getTargetSprite=function(t){var e=null;return t&&(e=t.getComponent(I)),e},a._applyTarget=function(){this.target&&(this._sprite=this._getTargetSprite(this.target),this._originalScale||(this._originalScale=new O),O.copy(this._originalScale,this.target.getScale()),this._registerTargetEvent(this.target))},a._onTargetSpriteFrameChanged=function(t){this._transition&ve.SPRITE&&this._setCurrentStateSpriteFrame(t.spriteFrame)},a._setCurrentStateSpriteFrame=function(t){if(t)switch(this._getButtonState()){case Ce.NORMAL:this._normalSprite=t;break;case Ce.HOVER:this._hoverSprite=t;break;case Ce.PRESSED:this._pressedSprite=t;break;case Ce.DISABLED:this._disabledSprite=t}},a._onTargetColorChanged=function(t){this._transition&ve.COLOR&&this._setCurrentStateColor(t)},a._setCurrentStateColor=function(t){switch(this._getButtonState()){case Ce.NORMAL:this._normalColor=t;break;case Ce.HOVER:this._hoverColor=t;break;case Ce.PRESSED:this._pressedColor=t;break;case Ce.DISABLED:this._disabledColor=t}},a._onTargetTransformChanged=function(t){t&G.SCALE&&this._originalScale&&this._transition&ve.SCALE&&this._transitionFinished&&O.copy(this._originalScale,this.target.getScale())},a._onTouchBegan=function(t){this._interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState(),t&&(t.propagationStopped=!0))},a._onTouchMove=function(t){if(this._interactable&&this.enabledInHierarchy&&this._pressed&&t){var e=t.touch;if(e){var i,n=this.node._uiProps.uiTransformComp.hitTest(e.getLocation());if(this._transition&ve.SCALE&&this.target&&this._originalScale)n?(O.copy(this._fromScale,this._originalScale),O.multiplyScalar(this._toScale,this._originalScale,this._zoomScale),this._transitionFinished=!1):(this._time=0,this._transitionFinished=!0,this.target.setScale(this._originalScale));else i=n?Ce.PRESSED:Ce.NORMAL,this._applyTransition(i);t&&(t.propagationStopped=!0)}}},a._onTouchEnded=function(t){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(T.emitEvents(this.clickEvents,t),this.node.emit(Ee.CLICK,this)),this._pressed=!1,this._updateState(),t&&(t.propagationStopped=!0))},a._onTouchCancel=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!1,this._updateState())},a._onMouseMoveIn=function(){!this._pressed&&this.interactable&&this.enabledInHierarchy&&(this._transition&ve.SPRITE&&!this._hoverSprite||this._hovered||(this._hovered=!0,this._updateState()))},a._onMouseMoveOut=function(){this._hovered&&(this._hovered=!1,this._updateState())},a._updateState=function(){var t=this._getButtonState();this._applyTransition(t)},a._getButtonState=function(){var t=Ce.NORMAL;return this._interactable?this._pressed?t=Ce.PRESSED:this._hovered&&(t=Ce.HOVER):t=Ce.DISABLED,t.toString()},a._updateColorTransition=function(t){var e,i=this[t+"Color"],n=null==(e=this.target)?void 0:e.getComponent(D);n&&(t===Ce.DISABLED?(n.color=i,this._transitionFinished=!0):(this._fromColor=n.color.clone(),this._toColor=i,this._time=0,this._transitionFinished=!1))},a._updateSpriteTransition=function(t){var e=this[t+"Sprite"];this._sprite&&e&&(this._sprite.spriteFrame=e)},a._updateScaleTransition=function(t){this._interactable&&(t===Ce.PRESSED?this._zoomUp():this._zoomBack())},a._zoomUp=function(){this._originalScale&&(O.copy(this._fromScale,this._originalScale),O.multiplyScalar(this._toScale,this._originalScale,this._zoomScale),this._time=0,this._transitionFinished=!1)},a._zoomBack=function(){this.target&&this._originalScale&&(O.copy(this._fromScale,this.target.getScale()),O.copy(this._toScale,this._originalScale),this._time=0,this._transitionFinished=!1)},a._applyTransition=function(t){var e=this._transition;e&ve.COLOR&&this._updateColorTransition(t),e&ve.SPRITE&&this._updateSpriteTransition(t),e&ve.SCALE&&this._updateScaleTransition(t)},a._xrHoverEnter=function(){this._onMouseMoveIn(),this._updateState()},a._xrHoverExit=function(){this._onMouseMoveOut(),this._pressed&&(this._pressed=!1,this._updateState())},a._xrClick=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState())},a._xrUnClick=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(T.emitEvents(this.clickEvents,this),this.node.emit(Ee.CLICK,this)),this._pressed=!1,this._updateState())},o(r,[{key:"target",get:function(){return this._target||this.node},set:function(t){this._target!==t&&(this._target&&this._unregisterTargetEvent(this._target),this._target=t,this._applyTarget())}},{key:"interactable",get:function(){return this._interactable},set:function(t){this._interactable!==t&&(this._interactable=t,this._updateState(),this._interactable||this._resetState())}},{key:"_resizeToTarget",set:function(t){t&&this._resizeNodeToTargetNode()}},{key:"transition",get:function(){return this._transition},set:function(t){this._transition!==t&&(this._transition&ve.COLOR&&this._updateColorTransition(Ce.NORMAL),this._transition&ve.SPRITE&&this._updateSpriteTransition(Ce.NORMAL),this._transition=t,this._updateState())}},{key:"normalColor",get:function(){return this._normalColor},set:function(t){this._normalColor!==t&&(this._normalColor.set(t),this._updateState())}},{key:"pressedColor",get:function(){return this._pressedColor},set:function(t){this._pressedColor!==t&&this._pressedColor.set(t)}},{key:"hoverColor",get:function(){return this._hoverColor},set:function(t){this._hoverColor!==t&&this._hoverColor.set(t)}},{key:"disabledColor",get:function(){return this._disabledColor},set:function(t){this._disabledColor!==t&&(this._disabledColor.set(t),this._updateState())}},{key:"duration",get:function(){return this._duration},set:function(t){this._duration!==t&&(this._duration=t)}},{key:"zoomScale",get:function(){return this._zoomScale},set:function(t){this._zoomScale!==t&&(this._zoomScale=t)}},{key:"normalSprite",get:function(){return this._normalSprite},set:function(t){if(this._normalSprite!==t){this._normalSprite=t;var e=this.node.getComponent(I);e&&(e.spriteFrame=t),this._updateState()}}},{key:"pressedSprite",get:function(){return this._pressedSprite},set:function(t){this._pressedSprite!==t&&(this._pressedSprite=t,this._updateState())}},{key:"hoverSprite",get:function(){return this._hoverSprite},set:function(t){this._hoverSprite!==t&&(this._hoverSprite=t,this._updateState())}},{key:"disabledSprite",get:function(){return this._disabledSprite},set:function(t){this._disabledSprite!==t&&(this._disabledSprite=t,this._updateState())}}]),r}(H)).Transition=ve,we.EventType=Ee,t((ae=we).prototype,"target",[Tt],Object.getOwnPropertyDescriptor(ae.prototype,"target"),ae.prototype),t(ae.prototype,"interactable",[Ot],Object.getOwnPropertyDescriptor(ae.prototype,"interactable"),ae.prototype),t(ae.prototype,"transition",[It],Object.getOwnPropertyDescriptor(ae.prototype,"transition"),ae.prototype),t(ae.prototype,"normalColor",[Rt],Object.getOwnPropertyDescriptor(ae.prototype,"normalColor"),ae.prototype),t(ae.prototype,"pressedColor",[At],Object.getOwnPropertyDescriptor(ae.prototype,"pressedColor"),ae.prototype),t(ae.prototype,"hoverColor",[Ft],Object.getOwnPropertyDescriptor(ae.prototype,"hoverColor"),ae.prototype),t(ae.prototype,"disabledColor",[zt],Object.getOwnPropertyDescriptor(ae.prototype,"disabledColor"),ae.prototype),t(ae.prototype,"duration",[Dt],Object.getOwnPropertyDescriptor(ae.prototype,"duration"),ae.prototype),t(ae.prototype,"zoomScale",[Mt],Object.getOwnPropertyDescriptor(ae.prototype,"zoomScale"),ae.prototype),t(ae.prototype,"normalSprite",[Gt],Object.getOwnPropertyDescriptor(ae.prototype,"normalSprite"),ae.prototype),t(ae.prototype,"pressedSprite",[Ht],Object.getOwnPropertyDescriptor(ae.prototype,"pressedSprite"),ae.prototype),t(ae.prototype,"hoverSprite",[Vt],Object.getOwnPropertyDescriptor(ae.prototype,"hoverSprite"),ae.prototype),t(ae.prototype,"disabledSprite",[Ut],Object.getOwnPropertyDescriptor(ae.prototype,"disabledSprite"),ae.prototype),se=t(ae.prototype,"clickEvents",[jt,Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(ae.prototype,"_interactable",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ce=t(ae.prototype,"_transition",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ve.NONE}}),ue=t(ae.prototype,"_normalColor",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.WHITE.clone()}}),pe=t(ae.prototype,"_hoverColor",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x(211,211,211,255)}}),he=t(ae.prototype,"_pressedColor",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.WHITE.clone()}}),me=t(ae.prototype,"_disabledColor",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x(124,124,124,255)}}),_e=t(ae.prototype,"_normalSprite",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ae.prototype,"_hoverSprite",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ae.prototype,"_pressedSprite",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ae.prototype,"_disabledSprite",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ae.prototype,"_duration",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Se=t(ae.prototype,"_zoomScale",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),be=t(ae.prototype,"_target",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=ae))||re)||re)||re);E._RF.pop(),E._RF.push({},"58afbgi72RCYrg3eW8ahovc","CommonBuyBonusCell",void 0);var Ue,je,We,Xe,Ke,Ye,Ze,qe,Je,Qe,$e,ti,ei,ii,ni,oi,ri,ai,si,li,ci,ui=B.ccclass,pi=B.property,hi=(Oe=ui("CommonBuyBonusCell"),Ie=pi({type:I,tooltip:"購買文字"}),Re=pi({type:I,tooltip:"項目標題"}),Ae=pi({type:V,tooltip:"標題圖片名稱"}),Fe=pi({type:F,tooltip:"金額"}),Oe((Me=t((De=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_buyHintSprite",Me,n(e)),i(e,"m_titleSprite",Ge,n(e)),i(e,"m_titlePicName",He,n(e)),i(e,"m_priceLabel",Ve,n(e)),e}e(o,t);var s=o.prototype;return s.start=function(){var t=r.GetGameAtlas();r.CurrLang!==a.Lang.EN&&(this.m_buyHintSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Buy"),this.m_titleSprite.spriteFrame=t.getSpriteFrame(this.m_titlePicName))},s.SetPrice=function(t){this.m_priceLabel.string=t},o}(H)).prototype,"m_buyHintSprite",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(De.prototype,"m_titleSprite",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(De.prototype,"m_titlePicName",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ve=t(De.prototype,"m_priceLabel",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=De))||ze);E._RF.pop(),E._RF.push({},"deede8s0zBMX57ZpiWkWMfR","CommonBuyBonus",void 0);var mi,_i,di,fi,yi,gi,Si,bi,wi,vi,Ci,Ei,Bi,xi,Li,Ni,ki,Pi,Ti,Oi,Ii,Ri,Ai,Fi,zi,Di,Mi,Gi,Hi,Vi="Buy_Feature_Open",Ui="Buy_Feature_Close",ji=B.ccclass,Wi=B.property;Ue=ji("CommonBuyBonus"),je=Wi({type:k,tooltip:"介面"}),We=Wi({type:U,tooltip:"介面開關動畫"}),Xe=Wi({type:k,tooltip:"開啟按鈕節點"}),Ke=Wi({type:I,tooltip:"開啟按鈕標題"}),Ye=Wi({type:F,tooltip:"押注金額"}),Ze=Wi({type:hi,tooltip:"購買項目"}),qe=Wi({type:I,tooltip:"標題"}),Je=Wi({type:I,tooltip:"押注"}),Qe=Wi({type:F,tooltip:"幣別符號"}),Ue((ei=t((ti=function(t){function S(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_viewNode",ei,n(e)),i(e,"m_anim",ii,n(e)),i(e,"m_openBtnNode",ni,n(e)),i(e,"m_openBtnTitle",oi,n(e)),i(e,"m_betLabel",ri,n(e)),i(e,"m_buyBonusCells",ai,n(e)),i(e,"m_titleSprite",si,n(e)),i(e,"m_betSprite",li,n(e)),i(e,"m_currencyLabel",ci,n(e)),e.m_iGameView=null,e.m_setting=null,e.m_betList=null,e.m_betIdx=0,e.m_bonusType=null,e.m_isPlayingAnim=!1,e}e(S,t);var b=S.prototype;return b.start=function(){this.m_viewNode.active=!0;var t=r.GetGameAtlas();r.CurrLang!==a.Lang.EN&&(this.m_betSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Bet"),this.m_titleSprite.spriteFrame=t.getSpriteFrame("Txt_Buy_Feature_Title"),this.m_openBtnTitle&&(this.m_openBtnTitle.spriteFrame=t.getSpriteFrame("BuyBonus_IconName"))),s.Register(l.TriggerFreeSpin,this),s.Register(l.FreeSpinTotalWinEnd,this)},b.Init=function(t,e,i){var n=this;if(void 0===i&&(i=!1),this.m_viewNode.active=!1,t&&!c.CheckSwitchOff(u.ShopingMall)){this.m_setting=t,this.m_iGameView=e,this.m_betList=JSON.parse(JSON.stringify(p.GetBetList()));for(var o=this.m_betList.length-1;o>=0&&this.m_betList[o]>this.m_setting.MaxBet;o--)this.m_betList.splice(o);this.m_betIdx=p.GetNowBetIndex(),(!this.m_betList[this.m_betIdx]||this.m_betList[this.m_betIdx]>this.m_betList[this.m_betList.length-1])&&(this.m_betIdx=this.m_betList.length-1),this.SetPrice();for(var r=function(t){n.m_buyBonusCells[t].getComponent(X).node.on(k.EventType.TOUCH_END,(function(){h.IsFeaturesDemoMode?n.Hide():(d.Play(a.AudioClips.COMMON_BTN),n.m_isPlayingAnim||(f.ForceChangeExtraBetMode(!1),n.m_bonusType=t,n.Hide(),p.SetNowBet(n.m_betList[n.m_betIdx]),n.m_iGameView.ClickSpin()))}))},s=0;s<this.m_buyBonusCells.length;s++)r(s);this.m_viewNode.active=!1,i&&this.m_openBtnNode&&(this.m_openBtnNode.removeFromParent(),h.SetGameBuyBonus(this.m_openBtnNode))}else this.SetBuyBtnVisible(!1)},b.OnEvent=function(t){t===l.TriggerFreeSpin?(this.Hide(),this.SetBuyBtnVisible(!1)):t===l.FreeSpinTotalWinEnd&&this.SetBuyBtnVisible(!0)},b.SetPrice=function(){var t=this.m_betList[this.m_betIdx];this.m_currencyLabel&&(a.DollarSymbol?this.m_currencyLabel.string="("+a.DollarSymbol+")":this.m_currencyLabel.node.active=!1),this.m_betLabel.string=""+a.DollarSymbol+c.FormatNumberThousands(t,c.FORMAT_NUMBER_TYPE.PERMANENT_DOT);for(var e=0;e<this.m_buyBonusCells.length;e++){var i=c.times(t,this.m_setting.PriceOdd[e]);this.m_buyBonusCells[e].SetPrice(""+a.DollarSymbol+c.FormatNumberThousands(i,c.FORMAT_NUMBER_TYPE.PERMANENT_DOT))}},b.SetBuyBtnVisible=function(t){this.m_openBtnNode.active=!!this.m_setting&&t},b.GetBuyBtnVisible=function(){return this.m_openBtnNode.active},b.GetBuyBonusBet=function(){return this.m_setting&&null!==this.m_bonusType?c.times(this.m_setting.PriceOdd[this.m_bonusType],p.GetNowBetValue()):c.strip(p.GetNowBetValue())},b.CleanInfo=function(){this.m_bonusType=null},b.IsOpen=function(){return this.m_viewNode.active},b.Show=function(){var t=this;if(!(m.Current()!==_.IDLE||a.FreeSpinRemain>0)&&(!this.m_anim.getState(Ui).isPlaying&&!this.m_viewNode.active)){j.stopAllByTarget(this.node),this.m_isPlayingAnim=!0,d.Play(a.AudioClips.COMMON_BTN),this.m_viewNode.active=!0,this.m_anim.play(Vi);var e=this.m_anim.getState(Vi);W(this.node).delay(e.duration).call((function(){t.m_isPlayingAnim=!1})).start();var i="-1",n=0;a.APP&&(i=a.APP.GetAID(),n=Number(a.APP.GetApiID())),a.SendBtnClickEvent(Number(i),n,Number(a.NOW_GAME_ID),this.m_iGameView.Version,a.BTN_CLICK_EVENT.INGAME_BUY_BONUS,0,!1)}},b.Hide=function(){var t=y(g().mark((function t(){var e,i,n,o=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.m_anim.getState(Ui),this.m_viewNode.active&&!e.isPlaying){t.next=3;break}return t.abrupt("return");case 3:return(i=this.m_anim.getState(Vi)).isPlaying&&i.stop(),j.stopAllByTarget(this.node),this.m_isPlayingAnim=!0,d.Play(a.AudioClips.COMMON_BTN),this.m_anim.play(Ui),e=this.m_anim.getState(Ui),W(this.node).delay(i.duration).call((function(){o.m_isPlayingAnim=!1})).start(),n=this.m_anim.getState(Ui),t.next=14,a.Wait(this,n.duration);case 14:this.m_viewNode.active=!1;case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),b.AddBet=function(){this.m_betIdx+1>this.m_betList.length-1||(d.Play(a.AudioClips.COMMON_BTN),this.m_betIdx++,this.SetPrice())},b.SubBet=function(){this.m_betIdx-1<0||(d.Play(a.AudioClips.COMMON_BTN),this.m_betIdx--,this.SetPrice())},o(S,[{key:"BonusType",get:function(){return this.m_bonusType}}]),S}(H)).prototype,"m_viewNode",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(ti.prototype,"m_anim",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=t(ti.prototype,"m_openBtnNode",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=t(ti.prototype,"m_openBtnTitle",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=t(ti.prototype,"m_betLabel",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=t(ti.prototype,"m_buyBonusCells",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),si=t(ti.prototype,"m_titleSprite",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=t(ti.prototype,"m_betSprite",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=t(ti.prototype,"m_currencyLabel",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=ti));E._RF.pop(),E._RF.push({},"da7972YP9VAta/rfkmC0gmE","ColorText",void 0);var Xi,Ki,Yi,Zi,qi,Ji,Qi,$i,tn=B.ccclass,en=B.property,nn=B.requireComponent,on=B.executeInEditMode;mi=tn("ColorText"),_i=nn(F),di=en(K),fi=en(Y),yi=en(x),gi=en({tooltip:"使用該元件的自定義材質",type:K}),Si=en({tooltip:"顏色漸變元件",type:Y}),bi=en({tooltip:"正片疊底顏色",type:x}),wi=en({tooltip:"顏色漸變貼圖的範圍",range:[0,1,.01],slide:!0}),vi=en({tooltip:"是否垂直漸變顏色"}),Ci=en({tooltip:"上內陰影顏色",type:x}),Ei=en({tooltip:"下內陰影顏色",type:x}),Bi=en({tooltip:"上內陰影顏色高度 (Pixel)"}),xi=en({tooltip:"下內陰影顏色高度 (Pixel)"}),Li=en({tooltip:"上內陰影插值比例 (0 ~ 1)",range:[0,1,.01],slide:!0}),Ni=en({tooltip:"下內陰影插值比例 (0 ~ 1)",range:[0,1,.01],slide:!0}),mi(ki=_i(ki=on((Ti=t((Pi=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_textMaterial",Ti,n(e)),i(e,"_gradient",Oi,n(e)),i(e,"_gradientMultiply",Ii,n(e)),i(e,"_gradientShrink",Ri,n(e)),i(e,"_isVertical",Ai,n(e)),i(e,"_innerShadowColor1",Fi,n(e)),i(e,"_innerShadowColor2",zi,n(e)),i(e,"_innerShadowHeight1",Di,n(e)),i(e,"_innerShadowHeight2",Mi,n(e)),i(e,"_innerShadowRate1",Gi,n(e)),i(e,"_innerShadowRate2",Hi,n(e)),e.pixelNum=128,e.colorTexture=null,e.isGradientChanged=!0,e}e(r,t);var a=r.prototype;return a.onLoad=function(){var t=this.node.getComponent(F);null!==t.customMaterial&&(t.customMaterial!==t.sharedMaterial&&t.customMaterial.destroy(),t.customMaterial=null),t.color=x.WHITE,null===this._textMaterial&&console.warn("ColorText.textMaterial should be not null.")},a.onEnable=function(){this.reset()},a.onDestroy=function(){var t;null==(t=this.colorTexture)||t.destroy(),this.colorTexture=null},a.reset=function(){null===this.colorTexture&&(this.colorTexture=this.createColorTexture()),!0===this.isGradientChanged&&(this.isGradientChanged=!1,this.updateColorTexture());var t=this.node.getComponent(F),e=t.customMaterial;if(!e&&this._textMaterial&&((e=new K).copy(this._textMaterial),t.customMaterial=e),e){e.setProperty("gradientMap",this.colorTexture),e.setProperty("gradientMultiply",this._gradientMultiply),e.setProperty("gradientShrink",this._gradientShrink),e.setProperty("innerShadow1",this._innerShadowColor1),e.setProperty("innerShadow2",this._innerShadowColor2);var i=0,n=0,o=this.node.getComponent(N).contentSize;o.height>0&&(i=this._innerShadowHeight1/o.height,n=this._innerShadowHeight2/o.height);var r=Z(i,n,this._innerShadowRate1,this._innerShadowRate2);e.setProperty("innerShadowParam",r)}},a.createColorTexture=function(){var t=new q,e=this.pixelNum,i=1;return!0===this._isVertical&&(i=e,e=1),t.reset({width:e,height:i,format:q.PixelFormat.RGBA8888,mipmapLevel:0}),t.setWrapMode(q.WrapMode.CLAMP_TO_EDGE,q.WrapMode.CLAMP_TO_EDGE),t.setFilters(q.Filter.LINEAR,q.Filter.LINEAR),t},a.updateColorTexture=function(){for(var t=this.pixelNum,e=new Uint8ClampedArray(4*t),i=0,n=this._gradient,o=0;o<t;++o){var r=n.evaluate(o/t);e[i++]=r.r,e[i++]=r.g,e[i++]=r.b,e[i++]=r.a}var a=this.colorTexture;a.uploadData(e,0,0),a.updateImage()},o(r,[{key:"textMaterial",get:function(){return this._textMaterial},set:function(t){this._textMaterial=t,this.reset()}},{key:"gradient",get:function(){return this._gradient},set:function(t){this.isGradientChanged=!0,this._gradient=t,this.reset()}},{key:"gradientMultiply",get:function(){return this._gradientMultiply},set:function(t){this._gradientMultiply=t,this.reset()}},{key:"gradientShrink",get:function(){return this._gradientShrink},set:function(t){this._gradientShrink=t,this.reset()}},{key:"isVertical",get:function(){return this._isVertical},set:function(t){var e;this._isVertical!==t&&(null==(e=this.colorTexture)||e.destroy(),this.colorTexture=null);this._isVertical=t,this.reset()}},{key:"innerShadowColor1",get:function(){return this._innerShadowColor1},set:function(t){this._innerShadowColor1.set(t),this.reset()}},{key:"innerShadowColor2",get:function(){return this._innerShadowColor2},set:function(t){this._innerShadowColor2.set(t),this.reset()}},{key:"innerShadowHeight1",get:function(){return this._innerShadowHeight1},set:function(t){this._innerShadowHeight1=t,this.reset()}},{key:"innerShadowHeight2",get:function(){return this._innerShadowHeight2},set:function(t){this._innerShadowHeight2=t,this.reset()}},{key:"innerShadowRate1",get:function(){return this._innerShadowRate1},set:function(t){this._innerShadowRate1=J(t),this.reset()}},{key:"innerShadowRate2",get:function(){return this._innerShadowRate2},set:function(t){this._innerShadowRate2=t,this.reset()}}]),r}(H)).prototype,"_textMaterial",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=t(Pi.prototype,"_gradient",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Y}}),Ii=t(Pi.prototype,"_gradientMultiply",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q(255,255,255,255)}}),Ri=t(Pi.prototype,"_gradientShrink",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),Ai=t(Pi.prototype,"_isVertical",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t(Pi.prototype,"textMaterial",[gi],Object.getOwnPropertyDescriptor(Pi.prototype,"textMaterial"),Pi.prototype),t(Pi.prototype,"gradient",[Si],Object.getOwnPropertyDescriptor(Pi.prototype,"gradient"),Pi.prototype),t(Pi.prototype,"gradientMultiply",[bi],Object.getOwnPropertyDescriptor(Pi.prototype,"gradientMultiply"),Pi.prototype),t(Pi.prototype,"gradientShrink",[wi],Object.getOwnPropertyDescriptor(Pi.prototype,"gradientShrink"),Pi.prototype),t(Pi.prototype,"isVertical",[vi],Object.getOwnPropertyDescriptor(Pi.prototype,"isVertical"),Pi.prototype),Fi=t(Pi.prototype,"_innerShadowColor1",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q(255,255,255,255)}}),zi=t(Pi.prototype,"_innerShadowColor2",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q(255,255,255,255)}}),Di=t(Pi.prototype,"_innerShadowHeight1",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mi=t(Pi.prototype,"_innerShadowHeight2",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Gi=t(Pi.prototype,"_innerShadowRate1",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hi=t(Pi.prototype,"_innerShadowRate2",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Pi.prototype,"innerShadowColor1",[Ci],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowColor1"),Pi.prototype),t(Pi.prototype,"innerShadowColor2",[Ei],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowColor2"),Pi.prototype),t(Pi.prototype,"innerShadowHeight1",[Bi],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowHeight1"),Pi.prototype),t(Pi.prototype,"innerShadowHeight2",[xi],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowHeight2"),Pi.prototype),t(Pi.prototype,"innerShadowRate1",[Li],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowRate1"),Pi.prototype),t(Pi.prototype,"innerShadowRate2",[Ni],Object.getOwnPropertyDescriptor(Pi.prototype,"innerShadowRate2"),Pi.prototype),ki=Pi))||ki)||ki);E._RF.pop(),E._RF.push({},"ccb69RBfI5KBKNPuwywfE10","ColorFadingUI",void 0);var rn,an,sn,ln,cn,un,pn,hn,mn,_n,dn,fn,yn,gn,Sn,bn,wn,vn,Cn=B.ccclass,En=B.property,Bn=B.executeInEditMode;Xi=Cn("ColorFadingUI"),Ki=En({type:$,tooltip:"Color Fading 預設 shader"}),Yi=En({type:tt,tooltip:"Gradient Texture Size"}),Zi=En({type:et,tooltip:"是否使用alpha test, Spine建議開啟"}),qi=En({type:it,tooltip:"混合比例，0~1之間"}),Ji=En({type:Y,tooltip:"當前Gradient"}),Xi(Qi=Bn((t(($i=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_colorFadingEffect=null,e.m_gradientTextureSize=64,e.m_currGradient=new Y,e.m_mixRate=0,e.m_useAlphaTest=!1,e.m_tex=new q,e.m_use_colorfading=!0,e.m_renderComponent=null,e.m_copyEffect=null,e}e(i,t);var n=i.prototype;return n.start=function(){this.GenerateMat()},n.onDestroy=function(){this.m_use_colorfading=!1},n.Init=function(t,e,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=64),void 0===o&&(o=!0),void 0===r&&(r=!1),this.ColorFadingEffect=t,this.CurrentGradient=e,this.UseAlphaTest=r,this.MixRate=i,this.GradientTextureSize=n,this.UseColorFadingAPI(o),this.GenerateMat()},n.UseColorFadingAPI=function(t){this.m_use_colorfading=t,this.GenerateMat()},n.ResetGradient=function(){this.m_mixRate=1,this.m_currGradient=new Y,this.LoadTexture()},n.GenerateMat=function(){var t=this.GetRenderComponent();if(null!=t&&null!=this.m_colorFadingEffect){var e=new K;e.initialize({effectAsset:this.m_colorFadingEffect,technique:0,defines:{USE_COLOR_FADING:this.m_use_colorfading,USE_ALPHA_TEST:this.m_useAlphaTest}}),t.customMaterial=e,this.LoadTexture()}},n.LoadTexture=function(){if(null==this.m_colorFadingEffect)nt("Warning! No effect asset loaded!");else{nt("loadTexture",this.m_currGradient),this.m_gradientTextureSize<=0&&(this.m_gradientTextureSize=1);for(var t=[],e=1/this.m_gradientTextureSize,i=0;i<=1;i++)for(var n=0;n<=this.m_gradientTextureSize;n+=e){var o=new x;o=this.m_currGradient.evaluate(n),t.push(o.r),t.push(o.g),t.push(o.b),t.push(o.a)}this.CreateTexture(t)}},n.CreateTexture=function(t){var e=new Uint8Array(t),i=new ot;this.m_gradientTextureSize<=0&&(this.m_gradientTextureSize=1),i.reset({_data:e,width:this.m_gradientTextureSize,height:1,format:q.PixelFormat.RGBA8888,_compressed:!1}),this.m_tex.image=i,this.m_tex.setWrapMode(q.WrapMode.CLAMP_TO_EDGE,q.WrapMode.CLAMP_TO_EDGE),this.UpdateMaterial()},n.UpdateMaterial=function(){var t=this.GetRenderComponent();if(null!=t){var e=t.customMaterial;e&&(e.setProperty("gradient",this.m_tex),e.setProperty("mixRate",this.m_mixRate))}},n.GetRenderComponent=function(){return null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(I)),null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(rt.Skeleton)),null==this.m_renderComponent&&(this.m_renderComponent=this.node.getComponent(F)),this.m_renderComponent},o(i,[{key:"ColorFadingEffect",get:function(){return this.m_copyEffect},set:function(t){null!=t&&(this.m_colorFadingEffect=t),this.m_copyEffect=t}},{key:"GradientTextureSize",get:function(){return this.m_gradientTextureSize},set:function(t){this.m_gradientTextureSize=t,null!=this.m_tex&&this.LoadTexture()}},{key:"UseAlphaTest",get:function(){return this.m_useAlphaTest},set:function(t){this.m_useAlphaTest=t}},{key:"MixRate",get:function(){return this.m_mixRate},set:function(t){if(t>1)this.m_mixRate=1;else if(t<0)this.m_mixRate=0;else{this.m_mixRate=t;var e=this.GetRenderComponent();if(null!=e){var i=e.customMaterial;i?i.setProperty("mixRate",this.m_mixRate):this.GenerateMat()}}}},{key:"CurrentGradient",get:function(){return this.m_currGradient},set:function(t){this.m_currGradient=t,this.LoadTexture()}}]),i}(H)).prototype,"ColorFadingEffect",[Ki],Object.getOwnPropertyDescriptor($i.prototype,"ColorFadingEffect"),$i.prototype),t($i.prototype,"GradientTextureSize",[Yi],Object.getOwnPropertyDescriptor($i.prototype,"GradientTextureSize"),$i.prototype),t($i.prototype,"UseAlphaTest",[Zi],Object.getOwnPropertyDescriptor($i.prototype,"UseAlphaTest"),$i.prototype),t($i.prototype,"MixRate",[qi],Object.getOwnPropertyDescriptor($i.prototype,"MixRate"),$i.prototype),t($i.prototype,"CurrentGradient",[Ji],Object.getOwnPropertyDescriptor($i.prototype,"CurrentGradient"),$i.prototype),Qi=$i))||Qi);E._RF.pop(),E._RF.push({},"a4b83idlNlHcZQFqX6vJhFz","ExtraBetComponent",void 0);var xn,Ln,Nn,kn,Pn,Tn,On,In,Rn,An,Fn=B.ccclass,zn=B.property,Dn=0,Mn=1;rn=zn({type:k,tooltip:"EX 按鈕最頂層節點(整顆node)"}),an=zn({type:X,tooltip:"EX 按鈕"}),sn=zn({type:X,tooltip:"按鈕ON"}),ln=zn({type:X,tooltip:"按鈕OFF"}),cn=zn({type:X,tooltip:"提示問號按鈕"}),un=zn({type:k,tooltip:"提示文字tip面板"}),pn=zn({type:F,tooltip:"功能說明文字串Label"}),hn=zn({type:I,tooltip:"本體ExtraBet文字圖片"}),Fn((dn=t((_n=function(t){function s(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_multiExtraBetNode",dn,n(e)),i(e,"m_multiBtn",fn,n(e)),i(e,"m_multiBtn_on",yn,n(e)),i(e,"m_multiBtn_off",gn,n(e)),i(e,"m_multiBtn_TipQuesMark",Sn,n(e)),i(e,"m_multiBtn_Tip",bn,n(e)),i(e,"m_multiBtn_Description",wn,n(e)),i(e,"m_Txt_Extra_Bet",vn,n(e)),e.m_isExtendShowBar=!1,e.m_ExtraBetAniPlaying=null,e.m_isExtra=!1,e.m_isForceExtraOnEnd=!1,e.m_isTwoStep=!1,e.m_toStepTwo=!1,e.m_triggerCb=null,e.m_canExtend=!0,e}e(s,t);var l=s.prototype;return l.Init=function(t,e,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),this.m_triggerCb=t,this.m_isTwoStep=n,this.m_multiBtn_Description&&this.m_Txt_Extra_Bet&&(nt(" localeStringManager.CurrLang : "+r.CurrLang),this.m_multiBtn_Description.string=r.GetString(e),this.m_Txt_Extra_Bet.spriteFrame=r.GetGameAtlas().getSpriteFrame(i)),f.Init(o?null:this.node,this.ForceSetExtraBet.bind(this))},l.onLoad=function(){var t=this;nt("ExtraBet onLoad"),this.m_multiBtn&&this.m_multiBtn.node.on(k.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(d.Play(a.AudioClips.COMMON_BTN),t.CheckCanUseBtn()?t.ExtendShowBar(!t.m_isExtendShowBar):S.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1))}));for(var e=0;e<this.m_multiBtn_on.length;e++)this.m_multiBtn_on[e].node.on(k.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(t.CheckCanUseBtn()?t.ChangeBetMode():S.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1))})),this.m_multiBtn_off[e]&&this.m_multiBtn_off[e].node.on(k.EventType.TOUCH_END,(function(){t.m_ExtraBetAniPlaying||(d.Play(a.AudioClips.COMMON_BTN),t.CheckCanUseBtn()&&t.ChangeBetMode())}));this.m_multiBtn_TipQuesMark&&this.m_multiBtn_TipQuesMark.node.on(k.EventType.TOUCH_END,y(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.m_ExtraBetAniPlaying){e.next=13;break}if(d.Play(a.AudioClips.COMMON_BTN),m.Current()!=_.IDLE||b.IsBuyBonus){e.next=12;break}if(!t.m_isExtendShowBar){e.next=7;break}t.m_multiBtn_Tip.active=!t.m_multiBtn_Tip.active,e.next=10;break;case 7:return e.next=9,t.ExtendShowBar(!0);case 9:!t.m_multiBtn_Tip.active&&t.m_isExtendShowBar&&(t.m_multiBtn_Tip.active=!0);case 10:e.next=13;break;case 12:S.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1);case 13:case"end":return e.stop()}}),e)})))),this.ExtendShowBar(!1)},l.start=function(){nt("ExtraBet start")},l.CheckCanUseBtn=function(){return a.IsInMG()&&m.Current()==_.IDLE&&!a.IsUsingItem&&!b.IsBuyBonus&&!h.IsFeaturesDemoMode},l.OnSpin=function(){this.ExtendShowBar(!1)},l.ShowExtra=function(t){this.m_multiExtraBetNode&&(this.m_multiExtraBetNode.active=t)},l.GoToFeatures=function(){},l.ExtendShowBar=function(){var t=y(g().mark((function t(e){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_canExtend){t.next=2;break}return t.abrupt("return");case 2:if(!p||this.m_ExtraBetAniPlaying){t.next=31;break}if(!e){t.next=20;break}if(p.IsAutoSpin||a.IsUsingItem||b.IsBuyBonus){t.next=17;break}if(this.m_isExtendShowBar){t.next=15;break}if(this.m_isExtendShowBar=!0,p.SetSpinState(w.CLICK_SPIN),this.m_ExtraBetAniPlaying=!0,!this.m_multiExtraBetNode){t.next=12;break}return t.next=12,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_Show");case 12:this.m_ExtraBetAniPlaying=!1,p.SetSpinState(w.IDLE),this.m_isExtra&&this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Active");case 15:t.next=18;break;case 17:S.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1);case 18:t.next=31;break;case 20:if(!this.m_isExtendShowBar){t.next=31;break}if(p.IsAutoSpin||p.SetSpinState(w.CLICK_SPIN),this.m_multiBtn_Tip&&(this.m_multiBtn_Tip.active=!1),this.m_ExtraBetAniPlaying=!0,!this.m_multiExtraBetNode){t.next=27;break}return t.next=27,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_Close");case 27:this.m_ExtraBetAniPlaying=!1,p.IsAutoSpin||p.SetSpinState(w.IDLE),this.m_multiExtraBetNode&&(this.m_isExtra?this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Active"):(this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_OFF"),(i=this.m_multiExtraBetNode.getComponent(U).getState("ExtraBet_OFF")).setTime(i.duration))),this.m_isExtendShowBar=!1;case 31:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.ChangeBetMode=function(){var t=y(g().mark((function t(){var e;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(nt("ChangeBetMode stateManager.Current() : ",m.Current()),!p||b.IsBuyBonus||m.Current()!==_.IDLE&&!this.m_isExtra){t.next=34;break}if(this.m_isExtra=!this.m_isExtra,e=[],!this.m_isExtra){t.next=22;break}return this.m_isTwoStep?this.m_toStepTwo=!0:p.ChangeMultiBet(Mn),1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!0,this.m_multiBtn_off[0].node.active=!1),this.m_ExtraBetAniPlaying=!0,null==p||p.SetSpinState(w.CLICK_SPIN),null==h||h.SetBuyBonusState(!1),this.m_multiExtraBetNode&&e.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_ON")),e.push(this.m_triggerCb(this.m_isExtra,!1)),t.next=14,Promise.all(e);case 14:return this.m_ExtraBetAniPlaying=!1,null==p||p.SetSpinState(w.IDLE),this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Active"),t.next=19,a.Wait(this,.2);case 19:null==h||h.SetBuyBonusState(!0),t.next=32;break;case 22:return p.ChangeMultiBet(Dn),1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),this.m_ExtraBetAniPlaying=!0,null==p||p.SetSpinState(w.CLICK_SPIN),this.m_multiExtraBetNode&&e.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_OFF")),e.push(this.m_triggerCb(this.m_isExtra,!1)),t.next=30,Promise.all(e);case 30:this.m_ExtraBetAniPlaying=!1,null==p||p.SetSpinState(w.IDLE);case 32:t.next=35;break;case 34:m.Current()!==_.IDLE&&(nt("TRIAL_REFUSED_REASON 1 "),S.ShowMessageBox(a.StringKey.FREEWINCASH_PLAYING1));case 35:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.SetTwoStepMulti=function(){var t=y(g().mark((function t(e,i){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_isTwoStep||!this.m_toStepTwo){t.next=13;break}if(!e){t.next=5;break}p.ChangeMultiBet(i),t.next=13;break;case 5:if(this.m_isExtra=!1,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),this.m_ExtraBetAniPlaying=!0,p&&p.SetSpinState(w.CLICK_SPIN),!this.m_multiExtraBetNode){t.next=12;break}return t.next=12,this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_OFF");case 12:this.m_ExtraBetAniPlaying=!1;case 13:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),l.ForceSetExtraBet=function(){var t=y(g().mark((function t(e,i){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=Mn),!e){t.next=10;break}return this.m_isExtra=!0,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!0,this.m_multiBtn_off[0].node.active=!1),this.m_multiExtraBetNode&&this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Active"),this.m_isTwoStep?(this.m_toStepTwo=!0,this.SetTwoStepMulti(e,i)):p.ChangeMultiBet(i),t.next=8,this.m_triggerCb(e,!0);case 8:t.next=19;break;case 10:if(!this.m_isExtra){t.next=19;break}return n=[],this.m_isExtra=!1,1==this.m_multiBtn_on.length&&(this.m_multiBtn_on[0].node.active=!1,this.m_multiBtn_off[0].node.active=!0),p.ChangeMultiBet(Dn),this.m_multiExtraBetNode&&(this.m_isExtendShowBar?n.push(this.ExtendShowBar(!1)):n.push(this.PlayAnimation(this.m_multiExtraBetNode.getComponent(U),"ExtraBet_OFF"))),n.push(this.m_triggerCb(e,!0)),t.next=19,Promise.all(n);case 19:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),l.OnRotation=function(){this.m_multiExtraBetNode&&(this.m_isExtra?this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Active"):this.m_multiExtraBetNode.getComponent(U).play("ExtraBet_Stop")),this.m_multiBtn_Tip&&(this.m_multiBtn_Tip.active=!1)},l.IsExAnimationTouchable=function(){return!this.m_ExtraBetAniPlaying},l.FirstShowBar=function(){},l.PlayAnimation=function(t,e,i){return void 0===i&&(i=!1),new Promise((function(n){if(t.play(e),i){var o=t.getState(e);o&&(o.wrapMode=at.WrapMode.Loop)}t.once(U.EventType.FINISHED,(function(){n(!0)}))}))},o(s,[{key:"ExtraBetAniPlaying",set:function(t){this.m_ExtraBetAniPlaying=t}},{key:"IsExtra",get:function(){return this.m_isExtra}},{key:"IsForceExtraOnEnd",get:function(){return this.m_isForceExtraOnEnd}},{key:"CanExtend",set:function(t){this.m_canExtend=t}}]),s}(H)).prototype,"m_multiExtraBetNode",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=t(_n.prototype,"m_multiBtn",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=t(_n.prototype,"m_multiBtn_on",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gn=t(_n.prototype,"m_multiBtn_off",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sn=t(_n.prototype,"m_multiBtn_TipQuesMark",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=t(_n.prototype,"m_multiBtn_Tip",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=t(_n.prototype,"m_multiBtn_Description",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vn=t(_n.prototype,"m_Txt_Extra_Bet",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=_n));E._RF.pop(),E._RF.push({},"5cf68x6BTZHP5QWXU3HRb/c","FeaturePageComponent",void 0);var Gn,Hn,Vn,Un=B.ccclass,jn=B.property;xn=jn({type:I,tooltip:"說明文字"}),Ln=jn({type:V,tooltip:"圖片名稱"}),Nn=jn({type:Boolean,tooltip:"圖片名稱"}),kn=jn({type:I,tooltip:"圖片名稱"}),Un((On=t((Tn=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_hintSprite",On,n(e)),i(e,"m_imgName",In,n(e)),i(e,"m_isAD",Rn,n(e)),i(e,"m_ADsprite",An,n(e)),e}e(o,t);var a=o.prototype;return a.start=function(){var t=this;if(!this.m_isAD){var e=r.GetGameAtlas();e?this.m_hintSprite.spriteFrame=e.getSpriteFrame(this.m_imgName):r.RegisterOnGameAltasLoadedCb((function(){t.m_hintSprite.spriteFrame=r.GetGameAtlas().getSpriteFrame(t.m_imgName)}))}},a.SetADSprites=function(t){this.m_ADsprite&&(this.m_ADsprite.spriteFrame=t)},o}(H)).prototype,"m_hintSprite",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),In=t(Tn.prototype,"m_imgName",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rn=t(Tn.prototype,"m_isAD",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),An=t(Tn.prototype,"m_ADsprite",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pn=Tn));E._RF.pop(),E._RF.push({},"e33faPhWqxMHa92Db40WLqj","LabelSpacingX",void 0);var Wn,Xn,Kn,Yn,Zn,qn,Jn,Qn,$n,to,eo,io,no,oo=B.ccclass,ro=B.property,ao=B.executeInEditMode,so=B.requireComponent;oo("LabelSpacingX")(Gn=so(F)(Gn=ao((Vn=t((Hn=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_spacingX",Vn,n(e)),e}e(r,t);var a=r.prototype;return a.onEnable=function(){this.resetSpacingX()},a.resetSpacingX=function(){var t=this.node.getComponent(F);t&&t.cacheMode===F.CacheMode.CHAR&&(t.spacingX=this._spacingX)},o(r,[{key:"spacingX",get:function(){return this._spacingX},set:function(t){this._spacingX=t,this.resetSpacingX()}}]),r}(H)).prototype,"_spacingX",[ro],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Hn.prototype,"spacingX",[ro],Object.getOwnPropertyDescriptor(Hn.prototype,"spacingX"),Hn.prototype),Gn=Hn))||Gn)||Gn);E._RF.pop(),E._RF.push({},"a6f15DRaTNJEaqvyk6QuIo3","LangImg",void 0);var lo,co=B.ccclass,uo=B.executeInEditMode,po=B.property,ho="db://assets/game/Text/en/",mo="db://assets/otherAsttText/AsttText/en/";!function(t){t[t.PNG=0]="PNG",t[t.JPG=1]="JPG"}(lo||(lo={}));var _o,fo,yo,go,So,bo={PNG:".png",JPG:".jpg"};Wn=co("LangImg"),Xn=po({type:V,tooltip:"圖片路徑"}),Kn=po({type:V,tooltip:"額外路徑，如果不是在game/Text/en/或otherAsttText/AsttText/en/下，請填入後續路徑"}),Yn=po({type:st(lo),tooltip:"圖片類型"}),Zn=po({type:et,tooltip:"是否為通用圖片"}),qn=po({type:et,tooltip:"是否由這個組件來設定多語系圖片"}),Wn(Jn=uo(($n=t((Qn=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_path",$n,n(e)),i(e,"m_extraPath",to,n(e)),i(e,"m_imgTypeNo",eo,n(e)),i(e,"m_isCommon",io,n(e)),i(e,"m_isUsingSetImage",no,n(e)),e}e(o,t);var a=o.prototype;return a.start=function(){this.SetImg()},a.SetImg=function(){var t=this;if(this.m_isUsingSetImage){var e=null;if(this.m_isCommon){if(!(e=r.GetCommonAtlas()))return void r.RegisterOnCommonAltasLoadedCb((function(){t.SetImg()}))}else if(!(e=r.GetGameAtlas()))return void r.RegisterOnGameAltasLoadedCb((function(){t.SetImg()}));var i=this.node.getComponent(I);i||(i=this.node.addComponent(I)),i.spriteFrame=e.getSpriteFrame(this.m_path)}},a.SetPreviewImg=function(){this.AdjustComponentOrdering(),this.ReadSpriteFrame(),o.prototype._onBeforeSerialize=function(){return this.OnBeforeSerialize(),!1}},a.AdjustComponentOrdering=function(){},a.ReadSpriteFrame=function(){var t=y(g().mark((function t(){var e,i,n,o,r,a,s=this;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_path){t.next=2;break}return t.abrupt("return");case 2:return e=(this.m_isCommon?mo:ho)+this.m_extraPath+this.m_path,i=bo.PNG,n=lo[this.m_imgTypeNo],Object.prototype.hasOwnProperty.call(lo,n)&&(o=lo[n],Number(o)===this.m_imgTypeNo&&(i=bo[n])),t.next=8,Editor.Message.request("asset-db","query-assets",{importer:"sprite-frame",pattern:e+i});case 8:r=t.sent,a={uuid:r[0].uuid},A.loadAny(a,(function(t,e){if(t)lt("Failed to load cc.SpriteFrame resources:",t);else{var i=s.node.getComponent(I);i||(i=s.node.addComponent(I)),i.spriteFrame=e}}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.OnBeforeSerialize=function(){},o}(H)).prototype,"m_path",[Xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),to=t(Qn.prototype,"m_extraPath",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eo=t(Qn.prototype,"m_imgTypeNo",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lo.PNG}}),io=t(Qn.prototype,"m_isCommon",[Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),no=t(Qn.prototype,"m_isUsingSetImage",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jn=Qn))||Jn);E._RF.pop(),E._RF.push({},"3638c7rYSpEjZ7x8wtqusdg","RenderDataBump",void 0);var wo,vo,Co,Eo,Bo,xo=0,Lo=1,No=2,ko=B.ccclass,Po=B.property;_o=ko("RenderDataBump"),fo=Po({tooltip:"是否一同影響子節點"}),_o((So=t((go=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"affectsChildren",So,n(e)),e.states=xo,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.node.on(k.EventType.PARENT_CHANGED,this.checkStates,this)},r.onDestroy=function(){this.node.off(k.EventType.PARENT_CHANGED,this.checkStates,this)},r.checkStates=function(){this.node.parent?this.states===Lo&&this.requestRenderData():this.states!==No&&this.states!==xo||this.destroyRenderData()},r.destroyRenderData=function(){var t=this.node.getComponent(D);if(null==t||t.destroyRenderData(),this.affectsChildren)for(var e,i=this.node.getComponentsInChildren(D),n=v(i);!(e=n()).done;){var o=e.value;null==o||o.destroyRenderData()}this.states=Lo},r.requestRenderData=function(){var t=this.node.getComponent(D);if(null==t||t._flushAssembler(),this.affectsChildren)for(var e,i=this.node.getComponentsInChildren(D),n=v(i);!(e=n()).done;){var o=e.value;null==o||o._flushAssembler()}this.states=No},o}(H)).prototype,"affectsChildren",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yo=go));E._RF.pop(),E._RF.push({},"75a969XvAFPfax+l1fDcqo9","ScrollEventHandler",void 0);var To,Oo,Io,Ro,Ao=B.ccclass,Fo=B.property;wo=Ao("ScrollEventHandler"),vo=Fo({type:k,tooltip:"真實放置內容的節點，有自行分層請把每一層的根節點放進去"}),wo((Bo=t((Eo=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_contents",Bo,n(e)),e.m_scrollView=null,e.m_redundantSpace_Y=0,e}e(r,t);var a=r.prototype;return a.start=function(){var t=this;this.m_scrollView=this.node.getComponent(ct),this.m_scrollView?this.m_scrollView.node.on(ct.EventType.SCROLLING,(function(){t.CheckCellVisible()})):lt("ScrollView is null"),0===this.m_contents.length&&this.m_contents.push(this.m_scrollView.content)},a.CheckCellVisible=function(){if(this.m_scrollView&&this.m_scrollView.view)for(var t=0;t<this.m_contents.length;t++)for(var e=this.m_contents[t].children,i=this.GetTopLeftWorld(this.m_scrollView.view.node),n=this.GetBottomRightWorld(this.m_scrollView.view.node),o=0;o<e.length;o++){var r=e[o],a=r.getComponent(ut);a||(a=r.addComponent(ut));var s=this.GetTopLeftWorld(r),l=this.GetBottomRightWorld(r);this.IsInside(s,i,n)||this.IsInside(l,i,n)?a.opacity=255:a.opacity=0}},a.GetTopLeftWorld=function(t){var e=t.getPosition(),i=t.getComponent(N).contentSize,n=t.getComponent(N).anchorPoint,o=new O(e.x-i.width*n.x,e.y-i.height*n.y,e.z);return t.parent.getComponent(N).convertToWorldSpaceAR(o)},a.GetBottomRightWorld=function(t){var e=t.getPosition(),i=t.getComponent(N).contentSize,n=t.getComponent(N).anchorPoint,o=new O(e.x+i.width*(1-n.x),e.y+i.height*(1-n.y),e.z);return t.parent.getComponent(N).convertToWorldSpaceAR(o)},a.IsInside=function(t,e,i){return t.x>=e.x&&t.y>=e.y-this.m_redundantSpace_Y&&t.x<=i.x&&t.y<=i.y+this.m_redundantSpace_Y},o(r,[{key:"RedundantSpace_Y",set:function(t){this.m_redundantSpace_Y=t}}]),r}(H)).prototype,"m_contents",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Co=Eo));E._RF.pop(),E._RF.push({},"eb577rwRR5ASa6OivNuPgEY","SeriesComponent",void 0);var zo,Do,Mo,Go,Ho,Vo,Uo,jo,Wo,Xo,Ko,Yo,Zo,qo,Jo,Qo,$o,tr,er,ir,nr,or,rr,ar,sr,lr,cr,ur,pr,hr,mr,_r,dr,fr,yr,gr="GameIntro_L",Sr="GameIntro_S",br="FG_Declare_Start_L",wr="FG_Declare_Start_S",vr="FG_Compliment_Start_L",Cr="FG_Compliment_Start_S",Er=B.ccclass;To=(0,B.property)({type:rt.Skeleton,tooltip:"spine"}),Er((Ro=t((Io=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_spine",Ro,n(e)),e}e(o,t);var r=o.prototype;return r.ShowGameIntro=function(){var t=y(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?gr:Sr,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,C.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.ShowFGDeclare=function(){var t=y(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?br:wr,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,C.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.ShowFGCompliment=function(){var t=y(g().mark((function t(e,i){var n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?vr:Cr,this.node.active=!0,this.m_spine.paused=!1,o=function(t){"AnimationEvent"===t&&(null==i||i())},t.next=6,C.PlayAnimation(this.m_spine,n,!1,0,o);case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),r.Prepare=function(t){this.node.active=!0,this.m_spine.paused=!1,this.m_spine.clearTracks(),this.m_spine.setToSetupPose(),C.PlayAnimation(this.m_spine,t?gr:Sr),this.m_spine.paused=!0},r.Rotation=function(t){if(this.node.active){var e=t?gr:Sr;this.m_spine.paused=!1,this.m_spine.clearTracks(),this.m_spine.setToSetupPose(),C.PlayAnimation(this.m_spine,e),this.m_spine.paused=!0}},o}(H)).prototype,"m_spine",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oo=Io));E._RF.pop(),E._RF.push({},"18f47v83XtI64h+ISwRgq3A","BoneFollow",void 0);var Br=B.ccclass,xr=B.property,Lr=B.menu,Nr={None:0},kr=st(Nr),Pr=3.1415927,Tr=Pr/180;function Or(t,e,i,n,o){var r,a=(r=o,Math.sin(r*Tr)),s=function(t){return Math.cos(t*Tr)}(o);return 57.29577866666166*Math.atan2(s*i+a*n,s*t+a*e)}var Ir,Rr,Ar,Fr,zr,Dr,Mr,Gr,Hr,Vr,Ur,jr,Wr,Xr,Kr,Yr,Zr,qr,Jr,Qr,$r,ta,ea,ia,na,oa,ra,aa,sa,la,ca,ua,pa,ha,ma,_a,da,fa,ya,ga;zo=Br("BoneFollow"),Do=Lr("Chiron/Spine/BoneFollow"),Mo=xr({type:rt.Skeleton,tooltip:"目標 Spine 骨架"}),Go=xr({tooltip:"目標同步骨骼名稱"}),Ho=xr({tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Vo=xr({tooltip:"是否同步位置"}),Uo=xr({tooltip:"是否同步旋轉"}),jo=xr({tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),Wo=xr({tooltip:"是否同步縮放"}),Xo=xr({tooltip:"是否將目標縮放量轉換成區域縮放量"}),Ko=xr({visible:!1}),Yo=xr({type:kr,visible:!0,displayName:"Bone"}),Zo=xr({visible:!0,displayName:"Preview"}),qo=xr({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Jo=xr({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_isFollowScale}}),Qo=xr({type:pt,displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_isFollowPosition}}),$o=xr({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_isFollowRotation}}),zo(tr=Do(((yr=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).editor=void 0,i(e,"m_spineSkeleton",ir,n(e)),i(e,"m_boneName",nr,n(e)),i(e,"m_isCacheData",or,n(e)),i(e,"m_isFollowPosition",rr,n(e)),i(e,"m_isFollowRotation",ar,n(e)),i(e,"m_isRotationLocalization",sr,n(e)),i(e,"m_isFollowScale",lr,n(e)),i(e,"m_isScaleLocalization",cr,n(e)),i(e,"__boneIndex",ur,n(e)),i(e,"_boneIndex",pr,n(e)),i(e,"m_preview",hr,n(e)),i(e,"m_cacheAncestors",mr,n(e)),i(e,"m_scaleFactor",_r,n(e)),i(e,"m_positionOffset",dr,n(e)),i(e,"m_rotationFactor",fr,n(e)),e._oldAngle=0,e._oldScaleX=1,e._oldScaleY=1,e._isCached=!1,e._cachedRotation=0,e._cachedScaleX=1,e._cachedScaleY=1,e}e(o,t);var r=o.prototype;return r.__preload=function(){},r.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},r.update=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_isFollowPosition||this.m_isFollowRotation||this.m_isFollowScale)){var t=null;if(t=this.m_spineSkeleton.findBone(this.m_boneName)){var e,i,n;if(!this.m_cacheAncestors||!this._isCached){for(var o=0,r=0,a=1,s=1,l=1,c=1,u=this.m_spineSkeleton.node;u;)a*=u.scale.x,s*=u.scale.y,o+=u.angle,u=u.parent;for(u=this.node.parent;u;)l*=u.scale.x,c*=u.scale.y,r-=u.angle,u=u.parent;this._cachedRotation=o+r,this._cachedScaleX=a/l,this._cachedScaleY=s/c,this._isCached=!0}if(e=this.m_isRotationLocalization?this._cachedRotation:this._oldAngle,i=this.m_isScaleLocalization?this._cachedScaleX:this._oldScaleX,n=this.m_isScaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_isFollowRotation){var p=t.parent,h=t.arotation;this.node.angle=e+(ht(p)?Or(p.a,p.b,p.c,p.d,h):t.arotation)+this.m_rotationFactor}if(this.m_isFollowScale&&this.node.setScale(i*t.getWorldScaleX()*this.m_scaleFactor.x,n*t.getWorldScaleY()*this.m_scaleFactor.y),this.m_isFollowPosition){var m=this.m_spineSkeleton.node.getComponent(N).convertToWorldSpaceAR(mt(t.worldX,t.worldY,0)),_=this.node.parent.getComponent(N).convertToNodeSpaceAR(m);this.node.setPosition(mt(_.x+this.m_positionOffset.x,_.y+this.m_positionOffset.y))}}}},r.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_isFollowPosition=null,this.m_isFollowRotation=null,this.m_isRotationLocalization=null,this.m_isFollowScale=null,this.m_isScaleLocalization=null},r.CacheUpdate=function(){this._isCached=!1},r._refreshInspector=function(){this._updateBoneEnum()},r._boneEnum=function(){var t=_t(Nr);return this.m_spineSkeleton,t},r._updateBoneEnum=function(){},o}(H)).BoneFollow="BoneFollow",ir=t((er=yr).prototype,"m_spineSkeleton",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nr=t(er.prototype,"m_boneName",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),or=t(er.prototype,"m_isCacheData",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rr=t(er.prototype,"m_isFollowPosition",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ar=t(er.prototype,"m_isFollowRotation",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=t(er.prototype,"m_isRotationLocalization",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lr=t(er.prototype,"m_isFollowScale",[Wo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cr=t(er.prototype,"m_isScaleLocalization",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ur=t(er.prototype,"__boneIndex",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pr=t(er.prototype,"_boneIndex",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kr.None}}),hr=t(er.prototype,"m_preview",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mr=t(er.prototype,"m_cacheAncestors",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_r=t(er.prototype,"m_scaleFactor",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dt(1,1)}}),dr=t(er.prototype,"m_positionOffset",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dt(0,0)}}),fr=t(er.prototype,"m_rotationFactor",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tr=er))||tr);E._RF.pop(),E._RF.push({},"44834DdFVNM2reoglp7HL82","NewBoneFollow",void 0);var Sa,ba=B.ccclass,wa=B.property,va=B.executeInEditMode;!function(t){t[t.default=1]="default"}(Sa||(Sa={}));var Ca=st({}),Ea=3.1415927,Ba=Ea/180;function xa(t,e,i,n,o){var r,a=(r=o,Math.sin(r*Ba)),s=function(t){return Math.cos(t*Ba)}(o);return 57.29577866666166*Math.atan2(s*i+a*n,s*t+a*e)}var La,Na,ka,Pa,Ta,Oa,Ia,Ra,Aa,Fa,za,Da,Ma,Ga,Ha,Va,Ua,ja;Ir=ba("NewBoneFollow"),Rr=wa({visible:!1,tooltip:"目標 Spine 骨架"}),Ar=wa({visible:!1,tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Fr=wa({visible:!1,tooltip:"是否同步位置"}),zr=wa({visible:!1,tooltip:"是否同步旋轉"}),Dr=wa({visible:!1,tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),Mr=wa({visible:!1,tooltip:"是否同步縮放"}),Gr=wa({visible:!1,tooltip:"是否將目標縮放量轉換成區域縮放量"}),Hr=wa({visible:!0,displayName:"Preview"}),Vr=wa({type:rt.Skeleton,visible:!1}),Ur=wa({visible:!0,type:rt.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),jr=wa({visible:!1}),Wr=wa({visible:!0,displayName:"BoneName",tooltip:"請輸入要跟隨的 Spine 骨頭名稱或從下拉選單選擇"}),Xr=wa({type:Ca,visible:!1}),Kr=wa({type:Ca,visible:!0,displayName:"SelectFromList",tooltip:"可從此下拉選單選擇骨頭"}),Yr=wa({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),Zr=wa({displayName:"Position",tooltip:"是否同步位置"}),qr=wa({displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_followPosition}}),Jr=wa({displayName:"Rotation",tooltip:"是否同步旋轉"}),Qr=wa({displayName:"Rotation Localization",tooltip:"是否將目標旋轉角度轉換成區域旋轉角度",visible:function(){return this.m_followRotation}}),$r=wa({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_followRotation}}),ta=wa({displayName:"Scale",tooltip:"是否同步縮放"}),ea=wa({displayName:"Scale Localization",tooltip:"是否將目標縮放量轉換成區域縮放量",visible:function(){return this.m_followScale}}),ia=wa({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_followScale}}),Ir(na=va(((ga=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._oldAngle=0,e._oldScaleX=1,e._oldScaleY=1,e._isCached=!1,e._cachedRotation=0,e._cachedScaleX=1,e._cachedScaleY=1,e._BoneEnumList=[],i(e,"m_preview",ra,n(e)),i(e,"m_spineSkeleton",aa,n(e)),i(e,"m_boneName",sa,n(e)),i(e,"__boneIndex",la,n(e)),i(e,"m_cacheAncestors",ca,n(e)),i(e,"m_followPosition",ua,n(e)),i(e,"m_positionOffset",pa,n(e)),i(e,"m_followRotation",ha,n(e)),i(e,"m_rotationLocalization",ma,n(e)),i(e,"m_rotationFactor",_a,n(e)),i(e,"m_followScale",da,n(e)),i(e,"m_scaleLocalization",fa,n(e)),i(e,"m_scaleFactor",ya,n(e)),e}e(r,t);var a=r.prototype;return a.CacheUpdate=function(){this._isCached=!1},a.__preload=function(){},a.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},a.start=function(){},a.onEnable=function(){this.BoneSync(),ft.on(yt.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDisable=function(){ft.off(yt.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_followPosition=null,this.m_followRotation=null,this.m_rotationLocalization=null,this.m_followScale=null,this.m_scaleLocalization=null},a.BoneSync=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_followPosition||this.m_followRotation||this.m_followScale)){var t=this.m_spineSkeleton.findBone(this.m_boneName);if(t){var e,i,n;if(!this.m_cacheAncestors||!this._isCached){for(var o=0,r=0,a=1,s=1,l=1,c=1,u=this.m_spineSkeleton.node;u;)a*=u.scale.x,s*=u.scale.y,u.angle&&(o+=u.angle),u=u.parent;for(u=this.node.parent;u;)l*=u.scale.x,c*=u.scale.y,u.angle&&(r-=u.angle),u=u.parent;this._cachedRotation=o+r,this._cachedScaleX=a/l,this._cachedScaleY=s/c,this._isCached=!0}if(e=this.m_rotationLocalization?this._cachedRotation:this._oldAngle,i=this.m_scaleLocalization?this._cachedScaleX:this._oldScaleX,n=this.m_scaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_followRotation){var p=t.parent,h=t.arotation,m=e+(ht(p)?xa(p.a,p.b,p.c,p.d,h):t.arotation)+this.m_rotationFactor;this.node.setRotationFromEuler(mt(0,0,m))}if(this.m_followScale&&this.node.setScale(i*t.getWorldScaleX()*this.m_scaleFactor.x,n*t.getWorldScaleY()*this.m_scaleFactor.y),this.m_followPosition){var _=this.m_spineSkeleton.node.getComponent(N).convertToWorldSpaceAR(mt(t.worldX+this.m_positionOffset.x,t.worldY+this.m_positionOffset.y,0)),d=this.node.parent.getComponent(N).convertToNodeSpaceAR(_);this.node.setPosition(mt(d.x,d.y))}}}},a._refreshInspector=function(){},a._updateBoneEnum=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"CacheData",get:function(){return this.m_cacheData},set:function(t){this.m_cacheData=t}},{key:"FollowPosition",get:function(){return this.m_followPosition},set:function(t){this.m_followPosition=t}},{key:"FollowRotation",get:function(){return this.m_followRotation},set:function(t){this.m_followRotation=t}},{key:"RotationLocalization",get:function(){return this.m_rotationLocalization},set:function(t){this.m_rotationLocalization=t}},{key:"FollowScale",get:function(){return this.m_followScale},set:function(t){this.m_followScale=t}},{key:"ScaleLocalization",get:function(){return this.m_scaleLocalization},set:function(t){this.m_scaleLocalization=t}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(t){console.log("set _spineSkeleton ",this.m_spineSkeleton,"value",t),this.m_spineSkeleton=t,this._refreshInspector()}},{key:"BoneName",get:function(){return this.m_boneName},set:function(t){this.m_boneName=t;var e=!1;this._BoneEnumList.forEach((function(i){i.name!=t||(e=!0)})),0==e?console.log("[spBoneFollow] 輸入的骨頭",t,"並不存在！請檢查名稱是否正確！"):console.log("[spBoneFollow] 輸入的骨頭",t,"已找到！")}},{key:"_boneIndex",get:function(){return this.__boneIndex},set:function(t){var e=this;this.__boneIndex=t,this._BoneEnumList.forEach((function(i){i.value==t&&(e.m_boneName=i.name)})),this.__boneIndex=0,console.log("set __boneIndex ",t,"m_boneName:",this.m_boneName)}}]),r}(H)).NewBoneFollow="NewBoneFollow",t((oa=ga).prototype,"Skeleton",[Rr],Object.getOwnPropertyDescriptor(oa.prototype,"Skeleton"),oa.prototype),t(oa.prototype,"CacheData",[Ar],Object.getOwnPropertyDescriptor(oa.prototype,"CacheData"),oa.prototype),t(oa.prototype,"FollowPosition",[Fr],Object.getOwnPropertyDescriptor(oa.prototype,"FollowPosition"),oa.prototype),t(oa.prototype,"FollowRotation",[zr],Object.getOwnPropertyDescriptor(oa.prototype,"FollowRotation"),oa.prototype),t(oa.prototype,"RotationLocalization",[Dr],Object.getOwnPropertyDescriptor(oa.prototype,"RotationLocalization"),oa.prototype),t(oa.prototype,"FollowScale",[Mr],Object.getOwnPropertyDescriptor(oa.prototype,"FollowScale"),oa.prototype),t(oa.prototype,"ScaleLocalization",[Gr],Object.getOwnPropertyDescriptor(oa.prototype,"ScaleLocalization"),oa.prototype),ra=t(oa.prototype,"m_preview",[Hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),aa=t(oa.prototype,"m_spineSkeleton",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(oa.prototype,"_spineSkeleton",[Ur],Object.getOwnPropertyDescriptor(oa.prototype,"_spineSkeleton"),oa.prototype),sa=t(oa.prototype,"m_boneName",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(oa.prototype,"BoneName",[Wr],Object.getOwnPropertyDescriptor(oa.prototype,"BoneName"),oa.prototype),la=t(oa.prototype,"__boneIndex",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sa.default}}),t(oa.prototype,"_boneIndex",[Kr],Object.getOwnPropertyDescriptor(oa.prototype,"_boneIndex"),oa.prototype),ca=t(oa.prototype,"m_cacheAncestors",[Yr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ua=t(oa.prototype,"m_followPosition",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pa=t(oa.prototype,"m_positionOffset",[qr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dt(0,0)}}),ha=t(oa.prototype,"m_followRotation",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ma=t(oa.prototype,"m_rotationLocalization",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_a=t(oa.prototype,"m_rotationFactor",[$r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),da=t(oa.prototype,"m_followScale",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fa=t(oa.prototype,"m_scaleLocalization",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ya=t(oa.prototype,"m_scaleFactor",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dt(1,1)}}),na=oa))||na);E._RF.pop(),E._RF.push({},"2da2cEqApNLm7hZxNo+Lfkx","NewSlotColorFollow",void 0);var Wa,Xa=B.ccclass,Ka=B.property,Ya=B.executeInEditMode;!function(t){t[t.default=1]="default"}(Wa||(Wa={}));var Za,qa,Ja,Qa,$a,ts,es=st({});La=Xa("NewSlotColorFollow"),Na=Ka({visible:!1,tooltip:"目標 Spine 骨架"}),ka=Ka({visible:!0,displayName:"Preview"}),Pa=Ka({visible:!1}),Ta=Ka({type:rt.Skeleton,visible:!1}),Oa=Ka({visible:!0,type:rt.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),Ia=Ka({visible:!1}),Ra=Ka({visible:!0,displayName:"SlotName",tooltip:"請輸入要跟隨的 Spine 插槽名稱或從下拉選單選擇"}),Aa=Ka({type:es,visible:!1}),Fa=Ka({visible:!0,displayName:"SelectFromList",type:es,tooltip:"可從此下拉選單選擇插槽"}),La(za=Ya(((ja=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_preview",Ma,n(e)),i(e,"_colorCache",Ga,n(e)),i(e,"m_spineSkeleton",Ha,n(e)),i(e,"m_slotName",Va,n(e)),i(e,"__slotIndex",Ua,n(e)),e._SlotEnumList=[],e}e(r,t);var a=r.prototype;return a.__preload=function(){},a.onLoad=function(){this._colorCache=null},a.start=function(){},a.onEnable=function(){this.ColorSync(),ft.on(yt.EVENT_BEFORE_DRAW,this.ColorSync,this)},a.onDisable=function(){ft.off(yt.EVENT_BEFORE_DRAW,this.ColorSync,this)},a.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},a.ColorSync=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var t=this.m_spineSkeleton.findSlot(this.m_slotName),e=t?255*t.color.r:this._colorCache.r,i=t?255*t.color.g:this._colorCache.g,n=t?255*t.color.b:this._colorCache.b,o=t?255*t.color.a:this._colorCache.a;null!=this._colorCache&&t.color.r==this._colorCache.r&&t.color.g==this._colorCache.g&&t.color.b==this._colorCache.b&&t.color.a==this._colorCache.a||(this._colorCache=this._colorCache||new R.Color(R.Color.WHITE),this.node.getComponent(I)?(this.node.getComponent(I).color=Q(e,i,n,o),this._colorCache.set(this.node.getComponent(I).color)):this.node.getComponent(F)&&(this.node.getComponent(F).color=Q(e,i,n,o),this._colorCache.set(this.node.getComponent(F).color)),this.node.getComponent(ut)&&(this.node.getComponent(ut).opacity=o),this._colorCache.a=o)}},a._refreshInspector=function(){},a._updateSlotEnum=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(t){}},{key:"SlotName",get:function(){return this.m_slotName},set:function(t){this.m_slotName=t;var e=!1;this._SlotEnumList.forEach((function(i){i.name!=t||(e=!0)})),0==e?console.log("[spSlotColorFollow] 輸入的插槽",t,"並不存在！請檢查名稱是否正確！"):console.log("[spSlotColorFollow] 輸入的插槽",t,"已找到！")}},{key:"_slotIndex",get:function(){},set:function(t){}}]),r}(H)).NewSlotColorFollow="NewSlotColorFollow",t((Da=ja).prototype,"Skeleton",[Na],Object.getOwnPropertyDescriptor(Da.prototype,"Skeleton"),Da.prototype),Ma=t(Da.prototype,"m_preview",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ga=t(Da.prototype,"_colorCache",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Color(R.Color.WHITE)}}),Ha=t(Da.prototype,"m_spineSkeleton",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Da.prototype,"_spineSkeleton",[Oa],Object.getOwnPropertyDescriptor(Da.prototype,"_spineSkeleton"),Da.prototype),Va=t(Da.prototype,"m_slotName",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(Da.prototype,"SlotName",[Ra],Object.getOwnPropertyDescriptor(Da.prototype,"SlotName"),Da.prototype),Ua=t(Da.prototype,"__slotIndex",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wa.default}}),t(Da.prototype,"_slotIndex",[Fa],Object.getOwnPropertyDescriptor(Da.prototype,"_slotIndex"),Da.prototype),za=Da))||za);E._RF.pop(),E._RF.push({},"866f1RjwMhFfapt6JLtipxM","SkeletonSync",void 0);var is,ns,os=B.ccclass,rs=B.property,as=B.menu;Za=os("SkeletonSync"),qa=as("Chiron/Spine/SkeletonSync"),Ja=rs({displayName:"Overlap",tooltip:"是否交疊並同步座標、旋轉及縮放"}),Za(Qa=qa((ts=t(($a=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).m_skeleton=null,i(e,"m_overlap",ts,n(e)),e}e(r,t);var a=r.prototype;return a.__preload=function(){this.m_skeleton=this.getComponent(rt.Skeleton)},a.Sync=function(t){if(t&&this.m_overlap){for(var e=0,i=1,n=1,o=t;o;)i*=o.scale.x,n*=o.scale.y,e+=o.angle,o=o.parent;this.node.angle=e,this.node.scale=mt(i,n,0);var r=t.parent.getComponent(N).convertToWorldSpaceAR(t.position),a=this.node.parent.getComponent(N).convertToNodeSpaceAR(r);this.node.setPosition(a)}},o(r,[{key:"Skeleton",get:function(){return this.m_skeleton}}]),r}(H)).prototype,"m_overlap",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qa=$a))||Qa);E._RF.pop(),E._RF.push({},"e2171n/i+xGsoWeQMXewobE","SlotActivator",void 0);var ss,ls,cs,us,ps,hs,ms,_s,ds,fs,ys,gs,Ss,bs,ws,vs,Cs,Es,Bs,xs=B.ccclass,Ls=(B.property,B.menu);xs("SlotActivator")(is=Ls("Chiron/Spine/SlotActivator")(((ns=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),o(i,[{key:"Identifier",get:function(){return this.identifier},set:function(t){this.identifier=t}},{key:"Active",get:function(){return this.active},set:function(t){this.active=t}}]),i}(H)).SlotActivator="SlotActivator",is=ns))||is);E._RF.pop(),E._RF.push({},"e23desmKVBLjKgDg5KLcySp","SlotColorFollow",void 0);var Ns=B.ccclass,ks=B.property,Ps=B.menu,Ts=(B.inspector,st({None:0}));var Os,Is,Rs,As,Fs,zs,Ds,Ms;ss=Ns("SlotColorFollow"),ls=Ps("Chiron/Spine/SlotColorFollow"),cs=ks({visible:!1,tooltip:"目標 Spine 骨架"}),us=ks({visible:!1,tooltip:"目標同步 slot 名稱"}),ps=ks({visible:!0,displayName:"Preview"}),hs=ks({visible:!1,type:R.Color}),ms=ks({visible:!1,type:rt.Skeleton}),_s=ks({visible:!0,displayName:"Skeleton",tooltip:"目標 Spine 骨架",type:rt.Skeleton}),ds=ks({visible:!1,tooltip:"目標同步 slot 名稱"}),fs=ks({visible:!1}),ys=ks({visible:!0,displayName:"Slot",type:Ts}),ss(gs=ls(((Bs=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).editor=void 0,i(e,"m_preview",bs,n(e)),i(e,"_colorCache",ws,n(e)),i(e,"m_spineSkeleton",vs,n(e)),i(e,"m_slotName",Cs,n(e)),i(e,"__slotIndex",Es,n(e)),e}e(r,t);var a=r.prototype;return a.__preload=function(){},a.onLoad=function(){this.node.getComponent(I)?this._colorCache=this.node.getComponent(I).color:this.node.getComponent(F)&&(this._colorCache=this.node.getComponent(F).color)},a.update=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var t=this.m_spineSkeleton.findSlot(this.m_slotName),e=t?255*t.color.r:this._colorCache.r,i=t?255*t.color.g:this._colorCache.g,n=t?255*t.color.b:this._colorCache.b,o=t?255*t.color.a:this._colorCache.a;e==this._colorCache.r&&i==this._colorCache.g&&n==this._colorCache.b&&o==this._colorCache.a||(this.node.getComponent(I)?(this.node.getComponent(I).color=Q(e,i,n,o),this._colorCache.set(this.node.getComponent(I).color)):this.node.getComponent(F)&&(this.node.getComponent(F).color=Q(e,i,n,o),this._colorCache.set(this.node.getComponent(F).color)),this.node.getComponent(ut)&&(this.node.getComponent(ut).opacity=o),this._colorCache.a=o)}},a.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},a._refreshInspector=function(){},a._slotEnum=function(){},a._updateSlotEnum=function(){var t,e,i,n,o=this._slotEnum();t=this,e="_slotIndex",i=o||Ts,n=st.getList(st(i)),gt.Attr.setClassAttr(t,e,"type","Enum"),gt.Attr.setClassAttr(t,e,"enumList",n)},a.notify=function(){},o(r,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"SlotName",get:function(){return this.m_slotName},set:function(t){this.m_slotName=t}},{key:"_spineSkeleton",get:function(){},set:function(t){}},{key:"_slotIndex",get:function(){},set:function(t){}}]),r}(H)).SlotColorFollow="SlotColorFollow",t((Ss=Bs).prototype,"Skeleton",[cs],Object.getOwnPropertyDescriptor(Ss.prototype,"Skeleton"),Ss.prototype),t(Ss.prototype,"SlotName",[us],Object.getOwnPropertyDescriptor(Ss.prototype,"SlotName"),Ss.prototype),bs=t(Ss.prototype,"m_preview",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ws=t(Ss.prototype,"_colorCache",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Color(R.Color.WHITE)}}),vs=t(Ss.prototype,"m_spineSkeleton",[ms],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(Ss.prototype,"_spineSkeleton",[_s],Object.getOwnPropertyDescriptor(Ss.prototype,"_spineSkeleton"),Ss.prototype),Cs=t(Ss.prototype,"m_slotName",[ds],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Es=t(Ss.prototype,"__slotIndex",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(Ss.prototype,"_slotIndex",[ys],Object.getOwnPropertyDescriptor(Ss.prototype,"_slotIndex"),Ss.prototype),gs=Ss))||gs);E._RF.pop(),E._RF.push({},"ff032nME8lBJKBpMlK8O/1z","SlotCulling",void 0);var Gs=B.ccclass,Hs=B.property,Vs=B.menu;Os=Gs("SlotCulling"),Is=Vs("Chiron/Spine/SlotCulling"),Rs=Hs({visible:!1,tooltip:"目標 Spine 骨架"}),As=Hs({visible:!1,tooltip:"反向剔除 Slot 項目(勾選的不會被剔除，未勾選的將被剔除)"}),Fs=Hs({visible:!1,tooltip:"遭剔除的 Slot 項目名稱"}),Os(zs=Is(((Ms=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),o(i,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"Invert",get:function(){return this.m_invert},set:function(t){this.m_invert=t}},{key:"CullingList",get:function(){return this._cullingSlotNames}}],[{key:"Name",get:function(){return i.SlotCulling}}]),i}(H)).SlotCulling="SlotCulling",t((Ds=Ms).prototype,"Skeleton",[Rs],Object.getOwnPropertyDescriptor(Ds.prototype,"Skeleton"),Ds.prototype),t(Ds.prototype,"Invert",[As],Object.getOwnPropertyDescriptor(Ds.prototype,"Invert"),Ds.prototype),t(Ds.prototype,"CullingList",[Fs],Object.getOwnPropertyDescriptor(Ds.prototype,"CullingList"),Ds.prototype),zs=Ds))||zs);E._RF.pop(),E._RF.push({},"f8b5e4BLTJNX7FPcFOEaBkq","ZipBundleLoader",void 0);var Us,js,Ws,Xs,Ks,Ys,Zs,qs,Js,Qs,$s,tl,el,il,nl,ol,rl,al,sl,ll,cl,ul,pl,hl,ml,_l,dl,fl,yl,gl,Sl,bl,wl,vl,Cl,El,Bl,xl,Ll,Nl,kl,Pl,Tl,Ol,Il,Rl,Al,Fl,zl,Dl,Ml,Gl,Hl,Vl,Ul,jl,Wl,Xl,Kl,Yl,Zl,ql,Jl,Ql,$l,tc,ec,ic,nc,oc,rc,ac,sc=new Map,lc=new Map,cc=new Map,uc=function(){function t(){this.loadedZipNames=new Array}var e=t.prototype;return e.downloadZip=function(t,e){return new Promise((function(i){var n=t.match(/[^/]+$/);if(null!==n){var o=""+n[0]+e+".zip";A.downloader.downloadFile(t+"/"+o,{xhrResponseType:"arraybuffer"},null,(function(t,e){i(e)}))}else i(null)}))},e.loadZip=function(){var t=y(g().mark((function t(e,i){var n,o,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i?"."+i:"",t.next=3,this.downloadZip(e,n);case 3:null!==(o=t.sent)&&(r=e.replace(/(.*?)\/assets\//,"assets/"),globalThis.fflate.unzip(new Uint8Array(o),(function(t,i){t?console.warn("Unzip failed:",t.message):Object.keys(i).forEach((function(t){sc.set(e+"/"+t,i[t]),sc.set(r+"/"+t,i[t])}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),e.init=function(){if(globalThis.fflate){var t=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return this.ZipCacheUrl?lc.get(this.ZipCacheUrl):t.get.call(this)},set:function(t){},configurable:!0});var e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,i,n,o,r){return sc.has(i)&&(this.ZipCacheUrl=i),e.apply(this,arguments)};var i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=y(g().mark((function t(e){var n,o,r,a,s,l,c,u,p=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ZipCacheUrl){t.next=26;break}if(lc.has(this.ZipCacheUrl)){t.next=24;break}n=this.responseType,o=sc.get(this.ZipCacheUrl),r=null,t.t0=n,t.next="arraybuffer"===t.t0?8:"json"===t.t0?10:"text"===t.t0?14:17;break;case 8:return r=o.buffer?o.buffer:o,t.abrupt("break",18);case 10:return a=new TextDecoder,s=a.decode(o),r=JSON.parse(s),t.abrupt("break",18);case 14:return l=new TextDecoder,r=l.decode(o),t.abrupt("break",18);case 17:console.error("Unknown type in zipCache:",n);case 18:(c=cc.get(this.ZipCacheUrl))&&(lc.delete(this.ZipCacheUrl+"@version"+c),cc.delete(this.ZipCacheUrl)),u=performance.now(),cc.set(this.ZipCacheUrl,u),this.ZipCacheUrl=this.ZipCacheUrl+"@version"+u,lc.set(this.ZipCacheUrl,r);case 24:return this.onload(),t.abrupt("return");case 26:return t.abrupt("return",i.apply(this,p));case 27:case"end":return t.stop()}}),t,this)})))}else console.error("fflate is not found.")},t}(),pc=globalThis.__zipBundleLoader;globalThis.fflate&&!pc&&(pc=new uc,globalThis.__zipBundleLoader=pc,pc.init()),E._RF.pop(),E._RF.push({},"c933866GvpLKaZlVxLlOz0C","FeatureManagerComponent",void 0);var hc,mc=["game"],_c=B.ccclass,dc=B.property;!function(t){t[t.CommonMainBundle=0]="CommonMainBundle",t[t.CommonBundle=1]="CommonBundle",t[t.OtherBundle=2]="OtherBundle",t[t.DefaultLangBundle=3]="DefaultLangBundle",t[t.LangTextBundle=4]="LangTextBundle",t[t.GameBundle=5]="GameBundle"}(hc||(hc={}));var fc,yc,gc={CN:"zh-CN",EN:"en-US",TH:"th-TH",VN:"vi-VN",ID:"id-ID",HI:"hi-IN",TA:"ta-IN",MM:"my-MM",JP:"ja-JP",MS:"ms-MY",KO:"ko-KR",BN:"bn-IN",ES:"es-AR",PT:"pt-BR",IT:"it-IT",SE:"sv-SE",DE:"de-DE",DADK:"da-DK",RORO:"ro-RO",NLNL:"nl-NL",TRTR:"tr-TR",RURU:"ru-RU",GRGR:"gr-GR",FRFR:"fr-FR"},Sc={CN:"cn",EN:"en",TH:"th",VN:"vn",ID:"id",HI:"hi",TA:"ta",MM:"mm",JP:"jp",MS:"ms",KO:"ko",BN:"bn",ES:"es",PT:"pt",IT:"it",SE:"se",DE:"de",DADK:"da",RORO:"ro",NLNL:"nl",TRTR:"trTR",RURU:"ruRU",GRGR:"grGR",FRFR:"frFR"},bc=Sc.EN,wc=[10263],vc=[3],Cc={JILI:0,TADA:1,ACE_ROYALE:2,JILI_START:3,TADA_CASINO:4,NONE:5,UFA:6};!function(t){t[t.None=0]="None",t[t.AutoPlaySettingPanel=1]="AutoPlaySettingPanel",t[t.AutoPlaySettingPanel_DFI=2]="AutoPlaySettingPanel_DFI",t[t.AutoPlaySettingPanel_DFIII=3]="AutoPlaySettingPanel_DFIII",t[t.AutoPlaySettingPanel_BS=4]="AutoPlaySettingPanel_BS",t[t.AutoPlaySetting_AG2=5]="AutoPlaySetting_AG2",t[t.AutoPlaySetting_FD=6]="AutoPlaySetting_FD",t[t.AutoPlaySettingPanel_MS=7]="AutoPlaySettingPanel_MS"}(fc||(fc={})),function(t){t[t.None=0]="None",t[t.Dark=1]="Dark"}(yc||(yc={}));var Ec,Bc,xc,Lc,Nc,kc,Pc,Tc,Oc,Ic,Rc,Ac,Fc=(Us=_c("StyleSetting"),js=dc({type:et,tooltip:"是否有骰子造型"}),Ws=dc({type:et,tooltip:"是否有萬聖造型"}),Xs=dc({type:et,tooltip:"是否有聖誕造型"}),Ks=dc({type:et,tooltip:"是否有OKBET廠商造型"}),Ys=dc({type:st(yc),tooltip:"系列"}),Us((Js=t((qs=function(){i(this,"HasDice",Js,this),i(this,"HasHolloween",Qs,this),i(this,"HasXmas",$s,this),i(this,"HasOkbet",tl,this),i(this,"Series",el,this)}).prototype,"HasDice",[js],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qs=t(qs.prototype,"HasHolloween",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$s=t(qs.prototype,"HasXmas",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tl=t(qs.prototype,"HasOkbet",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),el=t(qs.prototype,"Series",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yc.None}}),Zs=qs))||Zs),zc=(il=_c("PlayTypeSetting"),nl=dc({type:et,tooltip:"Match"}),ol=dc({type:et,tooltip:"Break"}),il((sl=t((al=function(){i(this,"Match",sl,this),i(this,"Break",ll,this)}).prototype,"Match",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ll=t(al.prototype,"Break",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rl=al))||rl);cl=dc({type:V,tooltip:"遊戲縮寫(server位置)"}),ul=dc({type:String,tooltip:"遊戲主場prefab路徑"}),pl=dc({type:String,tooltip:"遊戲多語系圖片路徑"}),hl=dc({type:String,tooltip:"遊戲ID"}),ml=dc({type:String,tooltip:"Logo名稱，只要給到底線之前"}),_l=dc({type:Boolean,tooltip:"鎖定橫版"}),dl=dc({type:Boolean,tooltip:"鎖定直版"}),fl=dc({type:Boolean,tooltip:"是否為街機"}),yl=dc({type:P,tooltip:"不分語系LOGO"}),gl=dc({type:St,tooltip:"遊戲Logo合圖"}),Sl=dc({type:V,tooltip:"展示頁"}),bl=dc({type:String,tooltip:"敘述圖名稱"}),wl=dc({type:P,tooltip:"特色圖"}),vl=dc({type:P,tooltip:"背景圖，0:直,1:橫"}),Cl=dc({type:P,tooltip:"腳色"}),El=dc({type:Number,tooltip:"辣椒數"}),Bl=dc({type:Number,tooltip:"最大贏分倍率"}),xl=dc({type:st(fc),tooltip:"自動玩介面"}),Ll=dc({type:et,tooltip:"是否開啟晚3秒ShowGameScene進入遊戲"}),Nl=dc({type:et,tooltip:"可以跳過前導動畫"}),kl=dc({type:Fc,tooltip:"是否有其他特色樣式"}),Pl=dc({type:zc,tooltip:"是否有其他特色樣式"}),Tl=dc({type:et,tooltip:"是否為遠程包"}),Ol=dc({type:et,tooltip:"是否是SSS版"}),Il=dc({type:V,tooltip:"使用哪個遠程包版本"}),_c((Fl=t((Al=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_gameShortName",Fl,n(e)),i(e,"m_scenePrefabPath",zl,n(e)),i(e,"m_gameImgPath",Dl,n(e)),i(e,"m_gameId",Ml,n(e)),i(e,"m_logoName",Gl,n(e)),i(e,"m_isLockLandScope",Hl,n(e)),i(e,"m_isLockPortrait",Vl,n(e)),i(e,"m_isStreet",Ul,n(e)),i(e,"m_singleLogo",jl,n(e)),i(e,"m_logoSpriteAtlas",Wl,n(e)),i(e,"m_pagePrefabPaths",Xl,n(e)),i(e,"m_infoNames",Kl,n(e)),i(e,"m_featureSpriteFrames",Yl,n(e)),i(e,"m_bgSpriteFrames",Zl,n(e)),i(e,"m_characterSpriteFrame",ql,n(e)),i(e,"m_chilliNum",Jl,n(e)),i(e,"m_maxWinNum",Ql,n(e)),i(e,"m_autoplayPanelNo",$l,n(e)),i(e,"m_isWatting",tc,n(e)),i(e,"m_skipIntro",ec,n(e)),i(e,"m_styleSetting",ic,n(e)),i(e,"m_playTypeSetting",nc,n(e)),i(e,"m_isRemote",oc,n(e)),i(e,"m_isSSS",rc,n(e)),i(e,"m_ReomveVersion",ac,n(e)),e.m_startSceneTime=-1,e.m_otherBundle=null,e.m_commonBundle=null,e.m_commonPath="",e.m_commonVersion="",e.m_langTextBundle=null,e.m_defaultLangPath="",e.m_defaultLangVersion="",e.m_commonMainBundle=null,e.m_gameBundle=null,e.m_pagePrefabs=[],e.m_apiId=0,e.m_isTaDa=!1,e.m_viewNode=null,e.m_lang="en",e.m_loadOldType=!0,e.m_isForceLite=!1,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.m_isTaDa=this.IsTada(),this.Config(),this.Log(100),null==window.SetProgressInterval||window.SetProgressInterval(60),"109"===this.m_gameId&&(A.downloader.maxConcurrency=12,A.downloader.maxRequestsPerFrame=12)},r.start=function(){var t=y(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.m_startSceneTime=this.m_isWatting?Date.now():-1,t.next=3,this.LoadVersion("game");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.Config=function(){D.prototype.fillBuffers=function(t){this._renderFlag&&t._pOpacity>0&&this._render(t)}},r.update=function(){},r.LoadZip=function(){var t=y(g().mark((function t(e,i,n,o){var r,a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=""),void 0===o&&(o=""),pc){t.next=4;break}return t.abrupt("return");case 4:if(!(pc.loadedZipNames.indexOf(e)>=0)){t.next=6;break}return t.abrupt("return");case 6:if(i||-1!==mc.indexOf(e)){t.next=8;break}return t.abrupt("return");case 8:return r=n,a=o,i||(s=Ct.querySettings(Et.Category.ASSETS,"bundleVers"),r="./assets/"+e,a=s[e]),pc.loadedZipNames.push(e),t.next=13,pc.loadZip(r,a);case 13:case"end":return t.stop()}}),t)})));return function(e,i,n,o){return t.apply(this,arguments)}}(),r.LoadVersion=function(){var t=y(g().mark((function t(e){var i,n,o,r,a,s,l,c,u,p,h,m,_,d,f,S,b,w,v,C,E,B,x,L;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=globalThis.LobbyData,n=this.m_isTaDa?"tada":"jili",this.m_commonPath="assets/common/Astt/"+n,o="assets/common/Astt/"+n+"Main",r="assets/common/Astt/other",a="AsttText/AsttText/en",this.m_defaultLangPath="AsttText/AsttText/en",s="assets/"+e,this.m_commonVersion="",l="",c="",this.m_defaultLangVersion="",u="",p="",h="",m="";try{void 0!==i&&(console.error("lobbyData",JSON.stringify(i)),s=i.bundleDomin+e,p=i.versionJson[e],this.m_commonPath=i.bundleDomin+n,this.m_commonVersion=i.versionJson[n],r=i.bundleDomin+"other",u=i.versionJson.other)}catch(t){}if(!this.m_isRemote){t.next=55;break}return _=/(\d+)\.(\d+)/,d=Bt.match(_),f=d[1]+"."+d[2],S="https://"+window.location.host+"/",b="astarte2",w="web-mobile",vt.isNative&&(w="android",f="app"+f),this.m_ReomveVersion.length>0&&(w=w+"-"+this.m_ReomveVersion),i&&(S=i.cdnHost),this.m_isSSS&&(b="astarte3"),(v=this.GetLinkParameterByName("remoteVersion"))&&v.length>0&&(f=""+v+d[1]+"."+d[2]),t.next=33,new Promise((function(t){A.loadRemote(""+S+b+"/"+f+"/"+w+"/assets/versions.json?"+(Date.now()/600).toFixed(0),{reload:!0,cacheAsset:!1,cacheEnabled:!1},y(g().mark((function e(i,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n);case 1:case"end":return e.stop()}}),e)}))))}));case 33:if(C=t.sent,E=""+S+b+"/"+f+"/"+w+"/src/chunks/bundle."+C.json["bundle.js"]+".js",!vt.isNative){t.next=40;break}return t.next=38,new Promise((function(t,e){A.downloader.downloadScript(E,{systemJs:!0},(function(i){i?(console.error("load bundle error",i),e(i)):t()}))}));case 38:t.next=42;break;case 40:return t.next=42,System.import(E);case 42:r=""+S+b+"/"+f+"/"+w+"/assets/other",u=C.json.other,this.m_commonPath=""+S+b+"/"+f+"/"+w+"/assets/"+n,this.m_commonVersion=C.json[n],o=""+S+b+"/"+f+"/"+w+"/assets/"+n+"Main",l=C.json[n+"Main"],this.m_lang=this.GetLanguage(),a=""+S+b+"/"+f+"/"+w+"/assets/"+this.m_lang,c=C.json[this.m_lang],this.m_defaultLangPath=""+S+b+"/"+f+"/"+w+"/assets/en",this.m_defaultLangVersion=C.json.en,h=""+S+b+"/"+f+"/"+w+"/assets/extra",m=C.json.extra;case 55:if((""!=l&&null!=l||!this.m_isRemote)&&(this.m_loadOldType=!1),!this.m_loadOldType){t.next=71;break}return t.next=59,Promise.all([this.LoadZip(n,this.m_isRemote,this.m_commonPath,this.m_commonVersion),this.LoadZip(e,!1)]);case 59:return(B=[this.LoadBundleSync(r,u),this.LoadBundleSync(s,p,void 0,{bundleName:void 0!==i?this.m_gameShortName+e:void 0})]).push(this.LoadBundleSync(o,l),this.LoadBundleSync(a,c)),t.next=63,Promise.all(B);case 63:x=t.sent,this.m_otherBundle=x[0],this.m_gameBundle=x[1],this.m_commonMainBundle=x[2],this.m_langTextBundle=x[3],this.CheckBundles(),t.next=76;break;case 71:return L=[this.LoadBundleSync(h,m),this.LoadBundleSync(o,l,hc.CommonMainBundle),this.LoadBundleSync(r,u,hc.OtherBundle),this.LoadBundleSync(a,c,hc.LangTextBundle),this.LoadZip(n+"Main",this.m_isRemote,o,l),this.LoadBundleSync(this.m_commonPath,this.m_commonVersion,hc.CommonBundle)],this.m_isForceLite?L.push(this.LoadBundleSync("assets/gameLite","",hc.GameBundle)):this.m_isTaDa||L.push(this.LoadBundleSync("assets/game","",hc.GameBundle)),t.next=75,Promise.all(L);case 75:this.CheckBundles();case 76:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.CheckBundles=function(){this.m_loadOldType?this.m_otherBundle&&this.m_gameBundle&&this.m_commonBundle&&this.LoadIntroResources():this.m_commonMainBundle&&this.m_otherBundle&&this.m_langTextBundle&&(!this.m_isForceLite||this.m_isForceLite&&this.m_gameBundle)&&this.LoadIntroResources()},r.LoadBundle=function(t,e,i,n){var o=this;n||(n={}),n.version=e,A.loadBundle(t,n,(function(n,r){n?o.LoadBundle(t,e,i):i(r)}))},r.LoadBundleSync=function(t,e,i,n){var o=this;return new Promise((function(r){o.LoadBundle(t,e,(function(t){if(void 0!==i)switch(i){case hc.CommonMainBundle:o.m_commonMainBundle=t;break;case hc.CommonBundle:o.m_commonBundle=t;break;case hc.OtherBundle:o.m_otherBundle=t;break;case hc.LangTextBundle:o.m_langTextBundle=t;break;case hc.GameBundle:o.m_gameBundle=t}r(t)}),n)}))},r.LoadIntroResources=function(){if("109"==this.m_gameId&&(window.DiffTime961=Date.now()-window.StartTime),this.LoadIntroView(),this.m_gameBundle&&this.m_pagePrefabPaths.length>0)for(var t=0;t<this.m_pagePrefabPaths.length;t++)this.LoadIntroCell(t)},r.LoadIntroView=function(){var t=this,e="Astt/%s/Intro/Prefab/IntroView";e=this.m_isTaDa?bt.formatStr(e,"framework_americas"):bt.formatStr(e,"framework");var i=this.m_commonMainBundle;this.m_loadOldType&&(i=this.m_commonBundle),i.load(e,wt,(function(t,e){null==window.SetProgressInterval||window.SetProgressInterval(t/e*40+60)}),(function(e,i){if(e)return console.error("LoadIntroView ERROR",e),void t.LoadIntroView();t.m_viewNode=_t(i),t.node.addChild(t.m_viewNode),t.CheckIntroResources()}))},r.LoadIntroCell=function(t){var e=this;this.m_gameBundle.load(this.m_pagePrefabPaths[t],wt,(function(i,n){i?e.LoadIntroCell(t):(e.m_pagePrefabs[t]=n,e.CheckIntroResources())}))},r.CheckIntroResources=function(){if(this.m_viewNode){if(this.m_gameBundle&&this.m_pagePrefabPaths.length>0)for(var t=0;t<this.m_pagePrefabPaths.length;t++)if(!this.m_pagePrefabs[t])return;this.Complete()}},r.Complete=function(){"109"==this.m_gameId&&(window.DiffTime962=Date.now()-window.StartTime),this.m_viewNode.emit("Init",{ScenePrefabPath:this.m_scenePrefabPath,GameImgPath:this.m_gameImgPath,GameId:this.m_gameId,LogoName:this.m_logoName,PagePrefabs:this.m_pagePrefabs,PagePrefabPaths:this.m_pagePrefabPaths,FeatureSpriteFrames:this.m_featureSpriteFrames,IsLockLandScope:this.m_isLockLandScope,IsLockPortrait:this.m_isLockPortrait,LogoSpriteAtlas:this.m_logoSpriteAtlas,BgSpriteFrames:this.m_bgSpriteFrames,CharacterSpriteFrame:this.m_characterSpriteFrame,InfoNames:this.m_infoNames,ChilliNum:this.m_chilliNum,MaxWinNum:this.m_maxWinNum,SingleLogo:this.m_singleLogo,IsStreet:this.m_isStreet,StartSceneTime:this.m_startSceneTime,OtherBundle:this.m_otherBundle,CommonBundle:this.m_commonBundle,CommonPath:this.m_commonPath,CommonVersion:this.m_commonVersion,CommonMainBundle:this.m_commonMainBundle,LangTextBundle:this.m_langTextBundle,DefaultLangPath:this.m_defaultLangPath,DefaultLangVersion:this.m_defaultLangVersion,GameBundle:this.m_gameBundle,ApiID:this.m_apiId.toString(),IsTaDa:this.m_isTaDa,GameShortName:this.m_gameShortName,AutoplayPanelNo:this.m_autoplayPanelNo,StyleSetting:this.m_styleSetting,PlayTypeSetting:this.m_playTypeSetting,lstZipBundleName:mc,IsRemote:this.m_isRemote,LoadLessRes:!1,SkipIntro:this.m_skipIntro,IsSSS:this.m_isSSS})},r.GetLanguage=function(){var t,e,i,n=this.GetLinkParameterByName("lang")||this.GetLinkParameterByName("ln");if(null!=(t=window)&&null!=(e=t.location)&&null!=(i=e.href)&&i.includes("/sss-")&&(n=gc.EN),n){var o=this.FormatLang(n);if(""!==o)return o}if(!vt.isNative){var r=this.FormatLang(navigator.language);if(""!==r&&null!=r)return r}return bc},r.IsTada=function(){var t=(this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join(""),e=Number(this.GetLinkParameterByName("apiId")),i=-1!==t.search("tada");if(!isNaN(e)){this.m_apiId=Number(e),this.m_isForceLite=-1!==mc.indexOf("gameLite")&&wc.includes(this.m_apiId);for(var n=0;n<vc.length;n++)if(e===vc[n]){i=!0;break}}var o=this.GetLinkParameterByName("tadaSkin");o&&"1"===o&&(i=!0);var r=this.GetLinkParameterByName("skin");return!r||r!=Cc.TADA.toString()&&r!=Cc.TADA_CASINO.toString()||(i=!0),i},r.GetLinkParameterByName=function(t,e){if(void 0===e&&(e=null),!e)if("undefined"!=typeof LobbyData)try{""===(e=LobbyData.url)&&lt("No URL!")}catch(t){t(JSON.stringify(t))}else e=this.CheckReplayUrlAndDecode();t=t.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.CheckReplayUrlAndDecode=function(){var t=window.location.href,e=this.GetLinkParameterByName("replaydata",t);if(!e)return t;for(var i="0".charCodeAt(0),n="9".charCodeAt(0),o="a".charCodeAt(0),r="z".charCodeAt(0),a="A".charCodeAt(0),s="Z".charCodeAt(0),l="",c=0;c<e.length;c++){var u=e.charCodeAt(c);u>=i&&u<=n?(u=n-(u-i),l+=String.fromCharCode(u)):u>=o&&u<=r&&c%2==0?(u=r-(u-o),l+=String.fromCharCode(u)):u>=a&&u<=s&&c%3==0?(u=s-(u-a),l+=String.fromCharCode(u)):l+=String.fromCharCode(u)}var p=t.split("replaydata="+e);return p.join(""),p+atob(l)},r.Log=function(t){if(!vt.isNative){var e="https://"+window.location.host+"/";if(-1==e.indexOf("localhost")&&1!=/^http(s)?:\/\/([0-9]{1,3}\.){3}[0-9]{1,3}(:[0-9]+)?\/.*?$/.test(e)){var i=this.GetLinkParameterByName("apiId"),n=this.GetLinkParameterByName("ssoKey"),o="https://"+(this.GetLinkParameterByName("domain_platform")||this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join("")+"/webservice/event/trigger?";o+="AccountID=-1&BrowserSystem=-1&DeviceSystem=-1&GameID="+this.m_gameId+"&GameVersion="+(new Date).getTime()+"&EventID="+t+"&EventStatus=0&SSOKey="+n+"&CreateTime="+(new Date).toISOString()+"&ApiId="+i,this.Send(o),window.DiffTime960=Date.now()-window.StartTime}}},r.Send=function(t){var e={Accept:"application/json, text/javascript, text/plain"},i=new XMLHttpRequest;i.open("GET",t,!0),e&&Object.keys(e).forEach((function(t){return i.setRequestHeader(t,e[t])})),i.timeout=5e3,i.onload=function(){},i.onerror=function(){},i.ontimeout=function(){},i.send()},r.FormatLang=function(t){return(t=t.toLocaleLowerCase())==Sc.CN||t==gc.CN.toLocaleLowerCase()?Sc.CN:t==Sc.EN||t==gc.EN.toLocaleLowerCase()?Sc.EN:t==Sc.TH||t==gc.TH.toLocaleLowerCase()?Sc.TH:t==Sc.VN||t==gc.VN.toLocaleLowerCase()?Sc.VN:t==Sc.ID||t==gc.ID.toLocaleLowerCase()?Sc.ID:t==Sc.HI||t==gc.HI.toLocaleLowerCase()?Sc.HI:t==Sc.TA||t==gc.TA.toLocaleLowerCase()?Sc.TA:t==Sc.MM||t==gc.MM.toLocaleLowerCase()?Sc.MM:t==Sc.JP||t==gc.JP.toLocaleLowerCase()?Sc.JP:t==Sc.MS||t==gc.MS.toLocaleLowerCase()?Sc.MS:t==Sc.KO||t==gc.KO.toLocaleLowerCase()?Sc.KO:t==Sc.BN||t==gc.BN.toLocaleLowerCase()?Sc.BN:t==Sc.ES||t==gc.ES.toLocaleLowerCase()?Sc.ES:t==Sc.PT||t==gc.PT.toLocaleLowerCase()?Sc.PT:t==Sc.IT||t==gc.IT.toLocaleLowerCase()?Sc.IT:t==Sc.SE||t==gc.SE.toLocaleLowerCase()?Sc.SE:t==Sc.DE||t==gc.DE.toLocaleLowerCase()?Sc.DE:t==Sc.DADK||t==gc.DADK.toLocaleLowerCase()?Sc.DADK:t==Sc.RORO||t==gc.RORO.toLocaleLowerCase()?Sc.RORO:t==Sc.NLNL||t==gc.NLNL.toLocaleLowerCase()?Sc.NLNL:t==Sc.TRTR.toLocaleLowerCase()||t==gc.TRTR.toLocaleLowerCase()?Sc.TRTR:t==Sc.RURU.toLocaleLowerCase()||t==gc.RURU.toLocaleLowerCase()?Sc.RURU:t==Sc.GRGR.toLocaleLowerCase()||t==gc.GRGR.toLocaleLowerCase()?Sc.GRGR:t==Sc.FRFR.toLocaleLowerCase()||t==gc.FRFR.toLocaleLowerCase()?Sc.FRFR:""},o}(H)).prototype,"m_gameShortName",[cl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zl=t(Al.prototype,"m_scenePrefabPath",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dl=t(Al.prototype,"m_gameImgPath",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ml=t(Al.prototype,"m_gameId",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gl=t(Al.prototype,"m_logoName",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hl=t(Al.prototype,"m_isLockLandScope",[_l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vl=t(Al.prototype,"m_isLockPortrait",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ul=t(Al.prototype,"m_isStreet",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jl=t(Al.prototype,"m_singleLogo",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wl=t(Al.prototype,"m_logoSpriteAtlas",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xl=t(Al.prototype,"m_pagePrefabPaths",[Sl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kl=t(Al.prototype,"m_infoNames",[bl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yl=t(Al.prototype,"m_featureSpriteFrames",[wl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zl=t(Al.prototype,"m_bgSpriteFrames",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ql=t(Al.prototype,"m_characterSpriteFrame",[Cl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jl=t(Al.prototype,"m_chilliNum",[El],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ql=t(Al.prototype,"m_maxWinNum",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$l=t(Al.prototype,"m_autoplayPanelNo",[xl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fc.None}}),tc=t(Al.prototype,"m_isWatting",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ec=t(Al.prototype,"m_skipIntro",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic=t(Al.prototype,"m_styleSetting",[kl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Fc}}),nc=t(Al.prototype,"m_playTypeSetting",[Pl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new zc}}),oc=t(Al.prototype,"m_isRemote",[Tl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rc=t(Al.prototype,"m_isSSS",[Ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ac=t(Al.prototype,"m_ReomveVersion",[Il],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rl=Al));E._RF.pop(),E._RF.push({},"89025dALbBFj7AFo+6o3xYM","SwipeScreen",void 0);var Dc=B.ccclass,Mc=B.property,Gc=function(t,e,i,n,o,r){this.name=t,this.height=e,this.width=i,this.ratio=n,this.statusHeight=o,this.homeHeight=r},Hc=[new Gc("iPhone 6.5-inch",896,414,3,44,34),new Gc("iPhone 6.1-inch",896,414,2,44,34),new Gc("iPhone 5.8-inch",812,375,3,44,34),new Gc("iPhone 5.5-inch",736,414,3,18,0),new Gc("iPhone 4.7-inch",667,375,2,20,0),new Gc("iPhone 4-inch",568,320,2,20,0),new Gc("iPhone 3.5-inch",480,320,2,20,0),new Gc("iPhone(Legacy) & iPod Touch",480,320,1,20,0),new Gc("iPad Pro 12.9-inch",1366,1024,2,20,0),new Gc("iPad Pro 10.5-inch",1112,834,2,20,0),new Gc("iPad 9.7-inch Retina",1024,768,2,20,0),new Gc("iPad",1024,768,1,20,0),new Gc("iPad Mini Retina",1024,768,2,20,0),new Gc("iPad Mini",1024,768,1,20,0)],Vc="mask",Uc="mask_close_tip",jc="mask_close",Wc="bar",Xc={tw:["滑動無效時, 請點擊此處進入遊戲. ❎","請解除豎排方向鎖定, 並將手機水平放置."],cn:["滑动无效时, 请点击此处进入游戏. ❎","请解除竖排方向锁定, 并将手机水平放置."],th:["เมื่อสไลด์ไม่ถูกต้อง กรุณาคลิกที่นี่เพื่อเข้าสู่เกม ❎","โปรดทำการปลดล็อกรูปแบบทิศทาง เพื่อสามารถเปลี่ยนรูปแบบทิศทางตามระดับโทรศัพท์ได้"],vn:["Nếu không thể lthao tác, hãy chạm vào đây để vào game. ❎","Hãy mở khóa xoay hướng, đồng thời xoay ngang màn hình."],id:["Klik di sini untuk masuk ke permainan, ketika tidak bisa di scroll. ❎","Silakan buka kunci posisi vertikal, dan letakkan telepon seluler secara horizontal."],mm:["When the slide is invalid, please click here. ❎","Please unlock the vertical direction and place the phone horizontally."],jp:["スライドで入れない場合は、ここをタップしてください。 ❎","垂直固定を解除し、端末を水平方向に置いてください。"],en:["If swiping does not work, please tap here. ❎","Please unlock screen rotation and hold the phone horizontally."]},Kc=["tw","zh-TW"],Yc=["cn","zh-CN"],Zc=["en","en-US"],qc=["th","th-TH"],Jc=["vn","vi-VN"],Qc=["id","id-ID"],$c=["hi","hi-IN"],tu=["ta","ta-IN"],eu=["mm","my-MM"],iu=["jp","ja-JP"],nu=[1131],ou=[1864,1002];Ec=Mc(Boolean),Bc=Mc(Boolean),xc=Mc(Boolean),Lc=Mc(Boolean),Nc=Mc(Number),Dc((Tc=t((Pc=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"isLandscape",Tc,n(e)),i(e,"isPortrait",Oc,n(e)),i(e,"isIOS",Ic,n(e)),i(e,"isAndroid",Rc,n(e)),i(e,"android_Apiid",Ac,n(e)),e.m_mask=null,e.m_isScrolling=!1,e.m_isblock=!1,e.m_scrollInterval=void 0,e.m_scrollTimeOut=void 0,e.m_backGround=null,e.m_isLandscape=!0,e}e(o,t);var r=o.prototype;return r.onLoad=function(){vt.isNative||this.Init()},r.GetDeviceName=function(){if(vt.os===vt.OS.IOS){var t=this.GetiOSDevice();if(t)return t.name}else if(vt.os===vt.OS.ANDROID){var e=/Mozilla\/5.0\s*\([^()]*?(Android[^()]*?);\s*([^()]*?)\)/g.exec(navigator.userAgent);if(e&&e.length>2)return e[2].split(" Build")[0]}return"unknown"},r.CreateHtmlTag=function(){if(!this.m_backGround){this.node.active=!0;var t=document.body;t.style.overflow="visible";var e=document.getElementById("Cocos3dGameContainer");e.style.overflow="hidden",e.style.position="fixed";var i=document.createElement("div");i.id=Wc,i.style.position="absolute",i.style.height="100vh";var n=document.createElement("div");n.id=Vc,n.style.backgroundColor="rgba(0, 0, 0, 0.7)",n.style.height="150vh",n.style.width="100vw",n.style.zIndex="99",n.style.display="none",n.style.position="absolute",n.style.top="0%",n.style.left="0%",this.m_backGround=n;var o=document.createElement("div");o.id=Uc,o.style.width="70vw",o.style.top="28vh",o.style.left="50vw",o.style.transform="translate(-50%, -50%)",o.style.fontSize="18px",o.style.fontWeight="bold",o.style.color="#FFFFFF",o.style.position="fixed";var r=document.createElement("div");r.style.top="16vh",r.style.left="50vw",r.style.transform="translate(-50%, -50%)",r.style.position="fixed";var a=document.createElement("div");a.id=jc,a.style.width="90vw",a.style.fontSize="24px",a.style.fontWeight="bold",a.style.color="#EEE8AA",a.style.wordWrap="break-word";var s=document.createElement("div");s.style.fontSize="48px",s.style.fontWeight="bold",s.style.color="#EEE8AA";var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.style.width="150px",l.style.height="150px",l.style.position="fixed",l.style.top="75vh",l.style.left="50vw",l.style.transform="translate(-50%, -50%)",l.style.animationDuration="2s",l.style.animationName="fullscreen-swipe",l.style.animationIterationCount="infinite";var c=document.createElement("style"),u=document.createTextNode("@keyframes fullscreen-swipe {from { top:80% }to { top:50% }}");c.appendChild(u),l.appendChild(c),l.setAttribute("viewBox","0 0 547.371 547.371");var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("fill","#FFFFFF"),p.setAttribute("d","M136.623,52.13v164.027l-23.875,23.877c-54.503,54.479-54.503,143.151,0,197.627l57.317,57.292c33.806,33.808,78.743,52.416,126.521,52.416c98.658,0,178.912-80.254,178.912-178.911V208.522c0-28.752-23.381-52.131-52.156-52.131c-10.713,0-20.695,3.258-28.984,8.836c-7.143-20.308-26.51-34.902-49.211-34.902c-10.713,0-20.695,3.26-28.984,8.838c-7.141-20.307-26.509-34.901-49.21-34.901c-9.487,0-18.402,2.555-26.065,7.012V52.132c0-28.75-23.38-52.131-52.131-52.131C160.003,0.001,136.623,23.38,136.623,52.13z M214.845,52.13v169.425c0,7.192,5.839,13.032,13.033,13.032s13.033-5.84,13.033-13.032v-65.162c0-14.39,11.703-26.066,26.064-26.066c14.362,0,26.063,11.678,26.063,26.066v39.098c0,7.193,5.84,13.033,13.033,13.033s13.033-5.84,13.033-13.033v-13.033c0-14.389,11.703-26.063,26.064-26.063c14.363,0,26.064,11.676,26.064,26.063v26.064c0,7.192,5.84,13.033,13.033,13.033s13.033-5.841,13.033-13.033c0-14.39,11.703-26.064,26.064-26.064c14.359,0,26.064,11.676,26.064,26.064v159.938c0,84.27-68.578,152.848-152.848,152.848c-40.819,0-79.188-15.899-108.066-44.78l-57.317-57.292c-22.155-22.183-33.233-51.271-33.233-80.385c0-29.115,11.078-58.203,33.233-80.387l5.448-5.446v72.8c0,7.192,5.839,13.033,13.032,13.033c7.194,0,13.033-5.841,13.033-13.033V52.13c0-14.389,11.704-26.065,26.065-26.065C203.141,26.063,214.845,37.743,214.845,52.13z"),t.appendChild(n),n.appendChild(o),n.appendChild(r),l.appendChild(p),n.appendChild(l),r.appendChild(a),r.appendChild(s),t.appendChild(i)}},r.Init=function(){var t=this,e=!1;"undefined"!=typeof LobbyData&&(e=LobbyData.pwa);var i=Math.floor(Number(this.GetLinkParameterByName("apiId")));if(this.isPortrait?this.m_isblock=nu.indexOf(i)>=0:this.isAndroid&&this.android_Apiid.length>0&&this.android_Apiid.indexOf(i)>=0&&(this.isAndroid=!1),this.m_isblock||(this.m_isblock=ou.indexOf(i)>=0),!e&&!this.m_isblock)if(this.AddGameViewMask(),this.isIOS=!1,vt.os==vt.OS.IOS&&0==this.IsWebview()&&this.isIOS)if(this.CreateHtmlTag(),this.SetCloseContent(),this.m_backGround.style.display="inline",this.SetShowMask(),1==this.IsChrome()){var n=this.GetiOSDevice();if(null!=n){var o=.99*(screen.height-n.statusHeight-n.homeHeight-20),r=.99*(screen.width-n.statusHeight-20);document.body.onresize=function(){(window.innerHeight>=window.innerWidth?o:r)<=window.innerHeight?t.HideMask():t.ShowMask()},window.addEventListener("scroll",(function(){return t.m_isScrolling=!0}),{capture:!1,passive:!0}),this.m_backGround.addEventListener("touchend",(function(){return t.ScrollReset()}))}else this.HideMask()}else{var a=document.body.onresize;document.body.onresize=function(){a&&a(null,null);var e=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight,n=e>i;document.getElementById(Wc).clientHeight==window.innerHeight?t.HideMask():t.SetShowMask(n),window.addEventListener("scroll",(function(){return t.m_isScrolling=!0}),{capture:!1,passive:!0}),t.m_backGround.addEventListener("touchend",(function(){return t.ScrollReset()})),t.m_isLandscape=e>i}}else if(vt.os==vt.OS.ANDROID&&0==this.IsWebview()&&this.isAndroid)if(vt.browserType==vt.BrowserType.MOBILE_QQ||vt.browserType==vt.BrowserType.UC);else{var s=function(){t.HasFullscreen()&&!t.IsFullscreen()&&(t.m_mask.active=!0)};document.body.onresize=s,s()}},r.SetShowMask=function(t){if(void 0===t&&(t=void 0),this.IsIOS15orOver())if(void 0===t){var e=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight;this.m_isLandscape=e>i,this.m_isLandscape?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden"}else document.getElementById(Wc).clientHeight,window.innerHeight,t===this.m_isLandscape&&document.getElementById(Wc).clientHeight===window.innerHeight||(t?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden");else this.ShowMask()},r.SetCloseContent=function(){var t=this,e=this.GetLang("lang");e=this.ChangeLang(e);var i=document.getElementById(jc),n=this.isLandscape?document.getElementById(Uc):null;Xc[e]?(i.textContent=Xc[e][0],n&&(n.textContent=Xc[e][1])):(i.textContent=Xc[Zc[0]][0],n&&(n.textContent=Xc[Zc[0]][1])),i.onclick||(i.onclick=function(){t.HideMask()})},r.GetLang=function(t){var e=vt.localStorage.getItem("LobbyLanguage");if(!e||""==e){if(-1!=(e="undefined"!=typeof LobbyData?LobbyData.url:window.location.href).indexOf("?"))for(var i=e.split("?")[1].split("&"),n=0;n<i.length;n++)if(i[n].split("=")[0]==t)return i[n].split("=")[1];return Zc[0]}return e},r.ChangeLang=function(t){switch(t){case Kc[1]:return Kc[0];case Yc[1]:return Yc[0];case qc[1]:return qc[0];case Jc[1]:return Jc[0];case Qc[1]:return Qc[0];case $c[1]:return $c[0];case tu[1]:return tu[0];case eu[1]:return eu[0];case iu[1]:return iu[0];default:return Zc[0]}},r.ShowMask=function(){for(var t=this,e=document.getElementById("Cocos3dGameContainer").getElementsByTagName("div"),i=0,n=0;n<e.length;n++){var o=e[n].getElementsByTagName("iframe");if(o&&o.length>0){i=n;break}}var r=e[i];r&&"hidden"!==r.style.visibility||(this.m_backGround.style.visibility="visible",this.m_mask&&(this.m_mask.active=!0),window.scrollTo(0,0),this.m_scrollInterval&&clearInterval(this.m_scrollInterval),this.m_scrollInterval=setInterval((function(){t.m_isScrolling&&(t.m_isScrolling=!1,t.ScrollReset())}),250))},r.ScrollReset=function(){var t=this;window.scrollTo(0,0),this.m_scrollTimeOut&&clearTimeout(this.m_scrollTimeOut),this.m_scrollTimeOut=setTimeout((function(){window.scrollTo(0,0),clearInterval(t.m_scrollInterval),t.m_scrollInterval=null}),250)},r.HideMask=function(){var t=this;window.scrollTo(0,0),this.m_backGround&&(this.m_backGround.style.visibility="hidden"),this.scheduleOnce((function(){t.m_mask&&(t.m_mask.active=!1)}),0)},r.AddGameViewMask=function(){var t=this,e=ft.getScene();this.m_mask||e.getChildByName("ScrollForMask")||vt.browserType==vt.BrowserType.FIREFOX?!this.m_mask&&e.getChildByName("ScrollForMask")&&(this.m_mask=xt("ScrollForMask")):(this.m_mask=new k,this.m_mask.name="ScrollForMask",this.m_mask.addComponent(N).setContentSize(new Lt(2e3,2e3)),this.m_mask.addComponent(X),this.m_mask.active=!1,e.addChild(this.m_mask),this.m_mask.setSiblingIndex(e.children.length),this.m_mask.on(k.EventType.TOUCH_END,(function(){if(vt.os==vt.OS.IOS&&0==t.IsWebview()){var e=t.m_backGround;e&&"hidden"==e.style.visibility&&(t.m_mask.active=!1)}else vt.os==vt.OS.ANDROID&&0==t.IsWebview()&&t.Fullscreen()})))},r.IsWebview=function(){var t=navigator.userAgent,e=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*(wv|.0.0.0)"].join("|")+")","ig");return Boolean(t.match(e))},r.IsChrome=function(){return/CriOS/.test(navigator.userAgent)},r.GetiOSDevice=function(){for(var t,e=v(Hc);!(t=e()).done;){var i=t.value;if(screen.height===i.height&&screen.width===i.width&&window.devicePixelRatio===i.ratio)return i}return null},r.HasFullscreen=function(){return null!=(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},r.IsFullscreen=function(){return null!=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},r.Fullscreen=function(){try{var t=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen,e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;if(this.HasFullscreen())if(this.IsFullscreen())e.call(document);else try{var i=t.call(document.documentElement);i instanceof Promise&&i.catch((function(){}))}catch(t){}else console.log("not support fullscreen.");this.m_mask.active=!1}catch(t){this.m_mask.active=!1}},r.GetLinkParameterByName=function(t){var e=window.location.href;t=t.replace(/[[]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.IsIOS15orOver=function(){return vt.os==vt.OS.IOS&&/iPhone OS 15/.test(window.navigator.userAgent)},r.IsIOS15Version=function(t){return vt.os==vt.OS.IOS&&-1!==window.navigator.userAgent.search("iPhone OS 15_"+t)},o}(H)).prototype,"isLandscape",[Ec],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oc=t(Pc.prototype,"isPortrait",[Bc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ic=t(Pc.prototype,"isIOS",[xc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rc=t(Pc.prototype,"isAndroid",[Lc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ac=t(Pc.prototype,"android_Apiid",[Nc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kc=Pc));E._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});