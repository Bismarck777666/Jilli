System.register("chunks:///_virtual/AppManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./Tools.ts","./AutoShowManager.ts"],(function(e){"use strict";var o,t,a,i,n,b,d,s,r,y;return{setters:[function(e){o=e.createClass},function(e){t=e.cclegacy,a=e.error,i=e.sys,n=e.assetManager,b=e.find},function(e){d=e.default},function(e){s=e.default},function(e){r=e.default},function(e){y=e.default}],execute:function(){t._RF.push({},"c0586UVj0JHM5dXCUDWBbe0","AppManager",void 0);var m=null,u=e("default",function(){function e(){}return e.GetUrl=function(){return"undefined"!=typeof LobbyData?LobbyData.url:m?window.location.href:(a("LobbyData is undefined!"),"")},e.AddLeaveCbs=function(e){this.m_leaveCbs.push(e)},e.SetChangeGameStateCb=function(e){this.m_changeGameStateCb=e},e.LoadingComplete=function(){a("LoadingComplete ",i.isNative||e.LobbyData),(i.isNative||e.LobbyData)&&(a("LoadingComplete this.Token:",this.Token),this.m_lobbyBridgeNode&&(this.m_lobbyBridgeNode.emit(this.Game2Lobby.LoadingComplete,{token:this.Token}),this.m_changeGameStateCb&&this.m_changeGameStateCb()))},e.ChangePos=function(o){(i.isNative||e.LobbyData)&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.Rotation)},e.LeaveGame=function(o,t){if(void 0===t&&(t=null),i.isNative||e.LobbyData)a("LeaveGame native"),m?window.location.replace(e.LobbyData.backUrl+(t?"&gameID="+t:"")):this.m_lobbyBridgeNode&&(this.m_leaveCbs.forEach((function(e){e()})),o?this.m_lobbyBridgeNode.emit(this.Game2Lobby.CloseByGame,{token:this.Token,gameId:t,mute:s.getInstance().isMute}):this.m_lobbyBridgeNode.emit(this.Game2Lobby.GameClose,{token:this.Token,mute:s.getInstance().isMute}),e.OnExit());else if(window.top==window.self){var n="lobby://send?";t&&(n+="gameID="+t),window.location.replace(n)}else window.location.replace(e.LobbyData.backUrl+(t?"&gameID="+t:""))},e.SetNovice=function(){(i.isNative||e.LobbyData)&&this.m_lobbyBridgeNode&&1==e.LobbyData.novice&&1==this.canSendNovice&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SetNovice)},e.LoadVersion=function(e,o){var t=this;if(!this.m_addAutoShowSkyBarCB){this.m_addAutoShowSkyBarCB=!0;y.GetInstance().AddAutoShowCb((function(){t.AutoOpenSkyBar(),y.GetInstance().AutoShowNext()}),d.AutoShowOrder.SKY_BAR)}},e.LoadBundle=function(e,o,t){var a=this;n.loadBundle(e,{version:o},(function(i,n){i?a.LoadBundle(e,o,t):t(n)}))},e.GetMarquee=function(o,t){e.LobbyData&&this.m_lobbyBridgeNode?this.m_lobbyBridgeNode.emit(this.Game2Lobby.Marquee,(function(e){t(e)}),o):t(null)},e.ShowSkyBar=function(e,o){void 0===o&&(o=!1),a("ShowSkyBar"),r.IsTadaCasino&&!this.isShowedSkyBar&&this.m_lobbyBridgeNode&&(this.isShowedSkyBar=!0,this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(t){t.onResize(e),t.show(),o&&t.shopTopBar()})))},e.InitLevelSystem=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.setGetLevelDataFunc(e)}))},e.SetData=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.reportData(e)}))},e.SetIAP=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.node.on(o.EventType.IAP_CONSUME_COMPLETE,e)}))},e.AutoOpenSkyBar=function(){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(e){e.shopTopBar()}))},e.SetOpenSkyBar=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.node.on(o.EventType.TOP_BAR_SHOW_START,e),o.node.on(o.EventType.TOP_BAR_SHOW_END,(function(){}))}))},e.ShowReward=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.showLobbyPerformance().then((function(){e()}))}))},e.SetRewardDatas=function(e,o){r.IsTadaCasino&&this.m_lobbyBridgeNode&&(a("➤➤➤➤➤SetRewardDatas"),this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.setReward(e)})))},e.InitBuffSystem=function(e,o,t,i){r.IsTadaCasino&&this.m_lobbyBridgeNode&&(a("➤➤➤➤➤InitBuffSystem"),this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(a){a.initBuffSystem(Number(d.NOW_GAME_ID),e,o,t,i)})))},e.UseBuff=function(e,o){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(t){t.useBuff(e,o)}))},e.GetBuffCardData=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){var t=o.getAllBuffCardData();console.error("✚✚✚✚✚GetBuffCardData:",t),e&&e(t)}))},e.GetBuffCardNode=function(e,o,t){void 0===t&&(t=1),r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(a){var i=a.getBuffCardNode(e,t);i.name=e.toString(),t>1&&(i.name=e.toString()+"+"+t.toString()),console.error("✚✚✚✚✚GetBuffCardNode:",e,i,t),o&&o(i)}))},e.ForceBuffEnd=function(e){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(o){o.forceBuffEnd(e)}))},e.ConvertCardList=function(e,o){var t=[];if(e&&e.length>0){for(var a=0;a<e.length;a++){var i={data:{type:d.RewardInfoDataType.ALBUM_CARD,amount:e[a].Count?e[a].Count:0,value:e[a].GameID?e[a].GameID:0,value2:e[a].Level?e[a].Level:0,value3:e[a].CardIndex?e[a].CardIndex:0,value4:null}};t.push(i)}console.error("ConvertCardList",JSON.stringify(t)),this.SetRewardDatas(t,o)}},e.OnExit=function(){r.IsTadaCasino&&this.m_lobbyBridgeNode&&this.m_lobbyBridgeNode.emit(this.Game2Lobby.SkyBarNotify,(function(e){e.node.targetOff(e.EventType.IAP_CONSUME_COMPLETE)})),this.m_lobbyBridgeNode=null,this.canSendNovice=!0,this.m_leaveCbs=[],"undefined"!=typeof LobbyData&&(LobbyData=void 0),this.isShowedSkyBar=!1},o(e,null,[{key:"LobbyData",get:function(){return"undefined"!=typeof LobbyData?LobbyData:m||(r.GetLinkParameterByNameForLobbyData("LobbyData")&&""!=r.GetLinkParameterByNameForLobbyData("LobbyData")?m=JSON.parse(r.GetLinkParameterByNameForLobbyData("LobbyData")):null)}},{key:"LobbyBridge",get:function(){return this.m_lobbyBridgeNode||(this.m_lobbyBridgeNode=b("LobbyPersistCanvas/LobbyBridge")),this.m_lobbyBridgeNode}},{key:"BackPackInfo",get:function(){return"undefined"!=typeof LobbyData?LobbyData.backpack:(a("LobbyData is undefined!"),null)}}]),e}());u.Game2Lobby={GameClose:"onSubGameClosed",CloseByGame:"onSubGameCloseSelf",LoadingComplete:"onSubGameLoadingComplete",Rotation:"onSubGameRotation",SetNovice:"onSubGameSetNovice",Marquee:"onSubGameMarquee",SkyBarNotify:"onSubGameGetGameHud"},u.Lobby2Game={GameClose:"onLobbyCloseSubGame"},u.LobbyComponentName={marquee:"lobbyMarquee"},u.Token="",u.m_lobbyBridgeNode=null,u.m_addAutoShowSkyBarCB=!1,u.m_leaveCbs=[],u.m_changeGameStateCb=null,u.canSendNovice=!0,u.isShowedSkyBar=!1,t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSourceExtension.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,n=t.AudioSource}],execute:function(){var r;o._RF.push({},"925baxqzmFKk7D1p7Z4daRN","AudioSourceExtension",void 0);var s=i.ccclass;t("AudioSourceExtension",s("AudioSourceExtension")(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._isLoaded=!1,e}e(o,t);var i=o.prototype;return i.IsIdle=function(){return!!this._player&&(this.state!=o.AudioState.PLAYING&&this.state!=o.AudioState.PAUSED)},i.Reset=function(){this._isLoaded=!1,this._player=null,this.clip=null},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./Define.ts","./Tools.ts","./ConnectionManager.ts","./LocaleStringManager.ts"],(function(t){"use strict";var e,n,i,o,a,m,r,s,_,c,l,h,u,C,N,g,d,p,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){m=t.cclegacy,r=t._decorator,s=t.Sprite,_=t.Node,c=t.Button,l=t.Label,h=t.RichText,u=t.Toggle,C=t.log,N=t.Component},function(t){g=t.default},function(t){d=t.default},function(t){p=t.default},function(t){T=t.default},function(t){I=t.default}],execute:function(){var B,f,b,y,S,k,L,A,O,G,U,R,M,E,v,D,V,w,P,x,X,F,K,H,Y,z,W,j,Z,q,J,Q,$,tt,et,nt,it,ot,at,mt,rt;m._RF.push({},"959620eWhNOTbnAXs05Z5Dm","AutoPlaySetting",void 0);var st=[{MIN:5,MAX:999},{MIN:1,MAX:999999999},{MIN:0,MAX:999999999},{MIN:0,MAX:999999999},{}],_t=[1,1,10,10],ct=[1,3,5,10,50],lt=.05,ht=.2,ut=t("AutoplaySettingIndex",{TotalRound:0,TotalBet:1,LessChip:2,GreatChip:3}),Ct=[50,100,200,500,999],Nt=(t("PanelData",(function(){this.TotalRound={isCheck:!1,value:"100"},this.TotalBet={isCheck:!1,value:""},this.LessThan={isCheck:!1,value:""},this.GreaterThan={isCheck:!1,value:""}})),r.ccclass),gt=r.property;t("default",(B=gt(s),f=gt(_),b=gt(_),y=gt(_),S=gt(_),k=gt({type:c,tooltip:"整塊的選項按鈕"}),L=gt({type:_,tooltip:"checkbox方塊"}),A=gt({type:_,tooltip:"checkbox mark"}),O=gt(c),G=gt(c),U=gt(c),R=gt(c),M=gt(l),E=gt(_),v=gt(_),D=gt(h),V=gt(l),w=gt(_),P=gt(l),Nt(((rt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),m=0;m<n;m++)a[m]=arguments[m];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_title",F,o(e)),i(e,"m_totalRoundCheckNode",K,o(e)),i(e,"m_totalBetCheckNode",H,o(e)),i(e,"m_chipGreatCheckNode",Y,o(e)),i(e,"m_chipLessCheckNode",z,o(e)),i(e,"m_checkboxBtn",W,o(e)),i(e,"m_checkboxBg",j,o(e)),i(e,"m_checkboxMark",Z,o(e)),i(e,"m_closeBtn",q,o(e)),i(e,"m_cancelBtn",J,o(e)),i(e,"m_confirmBtn",Q,o(e)),i(e,"m_constRoundBtn",$,o(e)),i(e,"m_constRoundNum",tt,o(e)),i(e,"m_increaseBtn",et,o(e)),i(e,"m_decreaseBtn",nt,o(e)),i(e,"m_infoValue",it,o(e)),i(e,"m_infoTxt",ot,o(e)),i(e,"m_totalRoundBg",at,o(e)),i(e,"m_constRoundTxt",mt,o(e)),e.m_settingInfoData=[100,100,0,0],e.m_confirmCb=null,e.m_cancelCb=null,e.m_countTarget=null,e.m_isCountStart=!1,e.m_increaseOrDecrease=1,e.m_holdTime=0,e.m_typeIndex=0,e.m_timer=lt,e.m_holdIncreaseStep=0,e.m_currentTouchName=null,e.m_isInvert=!1,e.m_aid=void 0,e.m_apiid=void 0,e.m_gameid=void 0,e.m_bottombarView=void 0,e.m_storageKey="",e.m_isLandscape=!1,e.m_totalTime=0,e.m_totalRound=5,e.m_totalBet=1,e.m_chipLessLimit=0,e.m_chipGreatLimit=0,e.m_isUseWisePlay=!1,e.m_checkTotalRound="-",e.m_checkTotalBet="-",e.m_checkChipGreatLimit="-",e.m_checkChipLessLimit="-",e.m_isInTrial=!1,e.m_lastCurrencyID=void 0,e.m_singleWin=-1,e.m_nowBet=-1,e.m_tempBet=-1,e}n(e,t);var m=e.prototype;return m.onLoad=function(){var t=this;this.m_totalRoundCheckNode.getComponent(u).isChecked=!0,this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!0);for(var n=function(n){var i=t.node.getChildByName(e.UIName.CHECKBOX+n);i&&i.on("toggle",(function(n){n.isChecked?n.node.getChildByName(e.UIName.IMG_ON_BG).active=!0:(!t.m_isInvert||n.node.name!=e.UIName.CHECKBOX+"3"&&n.node.name!=e.UIName.CHECKBOX+"4"?n.node.getChildByName(e.UIName.IMG_ON_BG).active:t.m_isInvert=!1,n.node.getChildByName(e.UIName.IMG_ON_BG).active=!1)}),t);var o=null;if(i&&(o=i.getChildByName(e.UIName.BUTTON)),o&&(o.on(_.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)}),t),o.on(_.EventType.TOUCH_END,(function(e){if(t.m_currentTouchName==e.target.name){t.m_currentTouchName=null;var n=o.getComponent(c);if(!t.m_bottombarView.IsGLIGames&&!t.m_bottombarView.IsBMMGames&&!p.KeepGLISetting&&n.interactable){var a=i.getComponent(u);a.isChecked?(g.getInstance().Play(d.AudioClips.COMMON_CHECKBOX_OFF),a.isChecked=!1):(g.getInstance().Play(d.AudioClips.COMMON_CHECKBOX_ON),a.isChecked=!0)}}}),t),o.on(_.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null),t.m_currentTouchName=null}),t)),n<5){var a=null;i&&(a=i.getChildByName(e.UIName.BTN_DECREASE)),a?(a.on(_.EventType.TOUCH_START,(function(n){if(n.propagationImmediateStopped=!0,n.propagationStopped=!0,null==t.m_currentTouchName){t.m_currentTouchName=i.name+"/"+n.target.name;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1;t.m_typeIndex=m,t.m_holdTime=0,t.m_holdIncreaseStep=0,t.m_countTarget=a,t.m_increaseOrDecrease=-1,lt=ht,t.m_timer=lt,t.m_isCountStart=!0,t.m_bottombarView.IsGLIGames||t.m_bottombarView.IsBMMGames||p.KeepGLISetting||(o.getComponent(u).isChecked=!0)}}),t),a.on(_.EventType.TOUCH_END,(function(n){if(t.m_currentTouchName==i.name+"/"+n.target.name){t.m_currentTouchName=null;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1,r=t.OnClickChange(a,_t[m],-1,st[m].MIN,st[m].MAX,m);t.m_settingInfoData[m]=m>1?t.m_bottombarView.GetRawValue(r):r,t.m_isCountStart=!1,g.getInstance().Play(d.AudioClips.COMMON_BTN),"checkbox1"==o.name&&t.ChangeTotalRoundBg(!1)}}),t),a.on(_.EventType.TOUCH_CANCEL,(function(n){if(t.m_currentTouchName==i.name+"/"+n.target.name){t.m_currentTouchName=null;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1,r=t.OnClickChange(a,_t[m],-1,st[m].MIN,st[m].MAX,m);t.m_settingInfoData[m]=m>1?t.m_bottombarView.GetRawValue(r):r,t.m_isCountStart=!1}}),t)):t.SetSubBtnNode(t.m_decreaseBtn[n-1],n-1);var m=null;i&&(m=i.getChildByName(e.UIName.BTN_INCREASE)),m?(m.on(_.EventType.TOUCH_START,(function(n){if(n.propagationImmediateStopped=!0,n.propagationStopped=!0,null==t.m_currentTouchName){t.m_currentTouchName=i.name+"/"+n.target.name;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1;t.m_typeIndex=m,t.m_holdTime=0,t.m_holdIncreaseStep=0,t.m_countTarget=a,t.m_increaseOrDecrease=1,lt=ht,t.m_timer=lt,t.m_isCountStart=!0,t.m_bottombarView.IsGLIGames||t.m_bottombarView.IsBMMGames||p.KeepGLISetting||(o.getComponent(u).isChecked=!0)}}),t),m.on(_.EventType.TOUCH_END,(function(n){if(t.m_currentTouchName==i.name+"/"+n.target.name){t.m_currentTouchName=null;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1,r=t.OnClickChange(a,_t[m],1,st[m].MIN,st[m].MAX,m);t.m_settingInfoData[m]=m>1?t.m_bottombarView.GetRawValue(r):r,t.m_isCountStart=!1,g.getInstance().Play(d.AudioClips.COMMON_BTN),"checkbox1"==o.name&&t.ChangeTotalRoundBg(!1)}}),t),m.on(_.EventType.TOUCH_CANCEL,(function(n){if(t.m_currentTouchName==i.name+"/"+n.target.name){t.m_currentTouchName=null;var o=n.target.parent,a=o.getChildByName(e.UIName.VALUE).getComponent(h),m=Number(o.name.split(e.UIName.CHECKBOX)[1])-1,r=t.OnClickChange(a,_t[m],1,st[m].MIN,st[m].MAX,m);t.m_settingInfoData[m]=m>1?t.m_bottombarView.GetRawValue(r):r,t.m_isCountStart=!1}}),t)):t.SetAddBtnNode(t.m_increaseBtn[n-1],n-1)}},i=1;i<=4;i++)n(i);this.m_confirmBtn&&this.m_confirmBtn.node.on("click",(function(e){t.m_totalRound=t.m_settingInfoData[ut.TotalRound],t.IsCheckTotalRound?(t.SetUseWisePlay(!0),t.m_checkTotalRound=String(t.m_totalRound)):t.m_checkTotalRound="-",t.IsCheckTotalBet?(t.SetUseWisePlay(!0),t.m_totalBet=t.m_settingInfoData[ut.TotalBet],t.m_checkTotalBet=String(t.m_totalBet)+"X"):t.m_checkTotalBet="-",t.IsCheckChipGreat?(t.SetUseWisePlay(!0),t.m_chipGreatLimit=t.m_settingInfoData[ut.GreatChip],t.m_checkChipGreatLimit=String(t.m_chipGreatLimit)):t.m_checkChipGreatLimit="-",t.IsCheckChipLess?(t.SetUseWisePlay(!0),t.m_chipLessLimit=t.m_settingInfoData[ut.LessChip],t.m_checkChipLessLimit=String(t.m_chipLessLimit)):t.m_checkChipLessLimit="-",t.m_confirmCb(),g.getInstance().Play(d.AudioClips.COMMON_BTN,!1),T.getInstance().SendBtnClickEvent(T.FormBtnClickParams(t.m_aid,t.m_apiid,Number(t.m_gameid),d.GAME_VERSION,d.BTN_CLICK_EVENT.WISEAUTO_TOTAL,t.SumaryWiseAutoPlay(),t.m_isLandscape))})),this.m_cancelBtn.node.on("click",(function(e){t.m_confirmBtn?(t.m_cancelCb(),g.getInstance().Play(d.AudioClips.COMMON_CANCEL_BTN)):t.IsCheckAnyToggle()?(t.m_totalRound=t.m_settingInfoData[ut.TotalRound],t.IsCheckTotalBet&&(t.m_totalBet=t.m_settingInfoData[ut.TotalBet]),t.IsCheckChipGreat&&(t.m_chipGreatLimit=t.m_settingInfoData[ut.GreatChip]),t.IsCheckChipLess&&(t.m_chipLessLimit=t.m_settingInfoData[ut.LessChip]),t.m_confirmCb()):(t.m_cancelCb(),g.getInstance().Play(d.AudioClips.COMMON_CANCEL_BTN))})),this.m_closeBtn&&this.m_closeBtn.node.on("click",(function(e){t.m_confirmBtn?(t.m_cancelCb(),g.getInstance().Play(d.AudioClips.COMMON_CANCEL_BTN)):t.IsCheckAnyToggle()?(t.m_totalRound=t.m_settingInfoData[ut.TotalRound],t.IsCheckTotalBet&&(t.m_totalBet=t.m_settingInfoData[ut.TotalBet]),t.IsCheckChipGreat&&(t.m_chipGreatLimit=t.m_settingInfoData[ut.GreatChip]),t.IsCheckChipLess&&(t.m_chipLessLimit=t.m_settingInfoData[ut.LessChip]),t.m_confirmCb()):(t.m_cancelCb(),g.getInstance().Play(d.AudioClips.COMMON_CANCEL_BTN))}));for(var o=function(n){m=null,m=t.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE)?t.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE).getComponent(h):t.m_infoValue[ut.TotalRound],t.m_constRoundBtn[n].node.on(_.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)})),t.m_constRoundBtn[n].node.on(_.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),t.m_constRoundBtn[n].node.on(_.EventType.TOUCH_END,(function(i){t.m_currentTouchName==i.target.name&&(t.m_currentTouchName=null,t.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(t.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!0),t.m_bottombarView.IsGLIGames||t.m_bottombarView.IsBMMGames||p.KeepGLISetting||(t.m_totalRoundCheckNode.getComponent(u).isChecked=!0),t.m_settingInfoData[0]=Ct[n],m.string=Ct[n].toString(),g.getInstance().Play(d.AudioClips.COMMON_BTN),t.ChangeTotalRoundBg(!1))}))},a=0;a<this.m_constRoundBtn.length;a++){var m;o(a)}},m.SetSubBtnNode=function(t,e){var n=this;t.on(_.EventType.TOUCH_START,(function(t){if(t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName){n.m_currentTouchName=t.target.name+e.toString();var i=t.target.parent,o=e;n.m_typeIndex=o,n.m_holdTime=0,n.m_holdIncreaseStep=0,n.m_countTarget=n.m_infoValue[e],n.m_increaseOrDecrease=-1,lt=ht,n.m_timer=lt,n.m_isCountStart=!0,n.m_bottombarView.IsGLIGames||n.m_bottombarView.IsBMMGames||p.KeepGLISetting||(i.parent.getComponent(u).isChecked=!0)}}),this),t.on(_.EventType.TOUCH_END,(function(t){if(n.m_currentTouchName==t.target.name+e.toString()){n.m_currentTouchName=null;var i=e,o=n.OnClickChange(n.m_infoValue[e],_t[i],-1,st[i].MIN,st[i].MAX,i);n.m_settingInfoData[i]=i>1?n.m_bottombarView.GetRawValue(o):o,n.m_isCountStart=!1,g.getInstance().Play(d.AudioClips.COMMON_BTN)}}),this),t.on(_.EventType.TOUCH_CANCEL,(function(t){if(n.m_currentTouchName==t.target.name+e.toString()){n.m_currentTouchName=null;var i=n.m_infoValue[e],o=e,a=n.OnClickChange(i,_t[o],-1,st[o].MIN,st[o].MAX,o);n.m_settingInfoData[o]=o>1?n.m_bottombarView.GetRawValue(a):a,n.m_isCountStart=!1}}),this)},m.SetAddBtnNode=function(t,e){var n=this;t.on(_.EventType.TOUCH_START,(function(t){if(t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName){n.m_currentTouchName=t.target.name+e.toString();var i=t.target.parent,o=e;n.m_typeIndex=o,n.m_holdTime=0,n.m_holdIncreaseStep=0,n.m_countTarget=n.m_infoValue[e],n.m_increaseOrDecrease=1,lt=ht,n.m_timer=lt,n.m_isCountStart=!0,n.m_bottombarView.IsGLIGames||n.m_bottombarView.IsBMMGames||p.KeepGLISetting||(i.parent.getComponent(u).isChecked=!0)}}),this),t.on(_.EventType.TOUCH_END,(function(t){if(n.m_currentTouchName==t.target.name+e.toString()){n.m_currentTouchName=null;var i=n.m_infoValue[e],o=e,a=n.OnClickChange(i,_t[o],1,st[o].MIN,st[o].MAX,o);n.m_settingInfoData[o]=o>1?n.m_bottombarView.GetRawValue(a):a,n.m_isCountStart=!1,g.getInstance().Play(d.AudioClips.COMMON_BTN)}}),this),t.on(_.EventType.TOUCH_CANCEL,(function(t){if(n.m_currentTouchName==t.target.name+e.toString()){n.m_currentTouchName=null;var i=n.m_infoValue[e],o=e,a=n.OnClickChange(i,_t[o],1,st[o].MIN,st[o].MAX,o);n.m_settingInfoData[o]=o>1?n.m_bottombarView.GetRawValue(a):a,n.m_isCountStart=!1}}),this)},m.Init=function(t,e,n,i){if(this.m_aid=t,this.m_apiid=e,this.m_gameid=n,this.m_bottombarView=i,this.m_storageKey=this.m_aid+":"+this.m_gameid+":AutoPlayPanel",(this.m_bottombarView.IsGLIGames||this.m_bottombarView.IsBMMGames||p.KeepGLISetting)&&(d.GLIAutoPlaySingleWinRate(),this.m_totalRoundCheckNode.getComponent(u).isChecked=!0,this.m_totalRoundCheckNode.getComponent(u).interactable=!1,this.m_totalBetCheckNode.getComponent(u).isChecked=!0,this.m_totalBetCheckNode.getComponent(u).interactable=!1,this.m_chipGreatCheckNode.getComponent(u).isChecked=!0,this.m_chipGreatCheckNode.getComponent(u).interactable=!1,this.m_chipLessCheckNode.getComponent(u).isChecked=!0,this.m_chipLessCheckNode.getComponent(u).interactable=!1,this.CloseButtonAndBox()),d.HAS_CLIENTMODE){if(d.AUTOPLAY_MAX_ROUND>0&&st[ut.TotalRound].MAX!=d.AUTOPLAY_MAX_ROUND){st[ut.TotalRound].MAX=d.AUTOPLAY_MAX_ROUND;var o=d.AUTOPLAY_MAX_ROUND<100?d.AUTOPLAY_MAX_ROUND:100;this.m_settingInfoData=[o,0,0,0]}for(var a=0;a<this.m_constRoundBtn.length;a++)a+1>d.AUTOPLAY_ROUND_BTN.length||d.AUTOPLAY_ROUND_BTN[a]&&d.AUTOPLAY_ROUND_BTN[a]>d.AUTOPLAY_MAX_ROUND?(this.m_constRoundBtn[a].node.active=!1,this.m_constRoundNum[a].node.active=!1):(Ct[a]=d.AUTOPLAY_ROUND_BTN[a],this.m_constRoundNum[a]&&(this.m_constRoundNum[a].string=d.AUTOPLAY_ROUND_BTN[a].toString()))}},m.CloseButtonAndBox=function(){this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!1);for(var t=0;t<this.m_checkboxBg.length;t++)this.m_checkboxBtn[0]&&(this.m_checkboxBtn[t].interactable=!1),this.m_checkboxBg[t].active=!1,this.m_checkboxMark[t].active=!1},m.SetBallIcon=function(t){},m.SetTotalRound=function(t){Number(t)>st[ut.TotalRound].MAX&&(t=st[ut.TotalRound].MAX.toString()),this.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE).getComponent(l).string=t:this.m_infoValue[ut.TotalRound].string=t,this.SavePanelData()},m.CleanConstRoundBtnState=function(){for(var t=0;t<this.m_constRoundBtn.length;t++)this.m_constRoundBtn[t].node.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_constRoundBtn[t].node.getChildByName(e.UIName.IMG_ON_BG).active=!1)},m.OnClickChange=function(t,e,n,i,o,a){var m,r,s=d.RevertDotLang.includes(I.CurrLang)?this.m_countTarget.string.replace(/<,*?>|\(\d*\)|[^0-9|,]/g,"").replace(/^\./g,""):this.m_countTarget.string.replace(/<.*?>|\(\d*\)|[^0-9|.]/g,"").replace(/^\./g,"");(isNaN(Number(s))||(m=Number(s)),(m=p.plus(m,p.times(e,n)))<=i?m=i:m>o&&(m=o),2==a||3==a)?(t.string=(this.m_isInTrial||null!=(r=d.GameSwitchOff)&&r.IsSSS?"":"<p>"+d.DollarSymbol+" </p>")+p.FormatNumberThousands(m,p.FORMAT_NUMBER_TYPE.NONE_DOT)+d.DollarSymbolSuffix,t.fontFamily=d.DollarFontFamily,this.CheckFontSize(t,m)):t.string=1==a?p.FormatNumberThousands(m,p.FORMAT_NUMBER_TYPE.NONE_DOT)+"X":p.FormatNumberThousands(m,p.FORMAT_NUMBER_TYPE.NONE_DOT);return m},m.SetInitChips=function(t,n,i,o){this.m_isInTrial=n,this.m_nowBet=this.m_bottombarView.GetNowBetValue(),this.LoadPanelData();var a=null,m=null;this.m_chipGreatCheckNode.getChildByName(e.UIName.VALUE)&&this.m_chipLessCheckNode.getChildByName(e.UIName.VALUE)?(a=this.m_chipGreatCheckNode.getChildByName(e.UIName.VALUE).getComponent(h),m=this.m_chipLessCheckNode.getChildByName(e.UIName.VALUE).getComponent(h)):(a=this.m_infoValue[ut.GreatChip],m=this.m_infoValue[ut.LessChip]);var r=this.m_bottombarView.GetRawValue(parseInt(a.string.replace(/<.*?>|[^0-9|.]/g,""))),s=this.m_bottombarView.GetRawValue(parseInt(m.string.replace(/<.*?>|[^0-9|.]/g,""))),_=1.5*t,c=.4*t,l=o!=this.m_lastCurrencyID;this.m_lastCurrencyID=o;var C,N,g="0",T="0";if(this.m_bottombarView.IsGLIGames||this.m_bottombarView.IsBMMGames||p.KeepGLISetting){var I=0,B=t%1e3,f=p.times(this.m_nowBet,1e3),b=B>0?1e3:0;I=t>=1e3?p.plus(p.plus(p.minus(t,B),b),f):1e3,g=p.FormatNumberThousands(I,p.FORMAT_NUMBER_TYPE.NONE_DOT),_=I,c=0}else g=p.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(_),p.FORMAT_NUMBER_TYPE.NONE_DOT),T=p.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(c),p.FORMAT_NUMBER_TYPE.NONE_DOT);l||""==a.string||t>r||this.m_bottombarView.IsGLIGames||this.m_bottombarView.IsBMMGames||p.KeepGLISetting?(a.string=(this.m_isInTrial||null!=(C=d.GameSwitchOff)&&C.IsSSS?"":"<p>"+d.DollarSymbol+" </p>")+g+d.DollarSymbolSuffix,a.fontFamily=d.DollarFontFamily,this.m_settingInfoData[ut.GreatChip]=Math.floor(_),this.CheckFontSize(a,_)):this.m_settingInfoData[ut.GreatChip]=r;l||""==m.string||t<s||this.m_bottombarView.IsGLIGames||this.m_bottombarView.IsBMMGames||p.KeepGLISetting?(m.string=(this.m_isInTrial||null!=(N=d.GameSwitchOff)&&N.IsSSS?"":"<p>"+d.DollarSymbol+" </p>")+T+d.DollarSymbolSuffix,m.fontFamily=d.DollarFontFamily,this.m_settingInfoData[ut.LessChip]=Math.floor(c),this.CheckFontSize(m,c)):this.m_settingInfoData[ut.LessChip]=s;var y=null;"0"==(y=this.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(e.UIName.VALUE).getComponent(h):this.m_infoValue[ut.TotalRound]).string&&(y.string=st[ut.TotalRound].MIN.toString()),Number(y.string)>st[ut.TotalRound].MAX&&(y.string=st[ut.TotalRound].MAX.toString());var S=null;"0"==(S=this.m_totalBetCheckNode.getChildByName(e.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(e.UIName.VALUE).getComponent(h):this.m_infoValue[ut.TotalBet]).string&&(S.string=st[ut.TotalBet].MIN.toString()),d.IS_DEMO&&(this.m_totalRoundCheckNode.getComponent(u).isChecked=!0,this.m_totalRoundCheckNode.getComponent(u).interactable=!1,this.m_checkboxBtn[0]&&(this.m_checkboxBtn[0].interactable=!1))},m.IsCheckAnyToggle=function(){return C("IsCheckAnyToggle"),!!this.m_totalBetCheckNode.getComponent(u).isChecked||(!!this.m_totalRoundCheckNode.getComponent(u).isChecked||!!this.m_chipLessCheckNode.getComponent(u).isChecked)},m.update=function(t){if(this.m_isCountStart)if(this.m_totalTime+=t,lt=this.m_totalTime>=1?.05:ht,this.m_timer<0){this.m_holdTime+=lt;var e=0;e=this.m_holdTime>6?ct[4]:this.m_holdTime>4.5?ct[3]:this.m_holdTime>3?ct[2]:this.m_holdTime>1?ct[1]:ct[0],this.m_holdIncreaseStep=p.plus(this.m_holdIncreaseStep,e);var n,i=d.RevertDotLang.includes(I.CurrLang)?this.m_countTarget.string.replace(/<,*?>|\(\d*\)|[^0-9|,]/g,""):this.m_countTarget.string.replace(/<.*?>|\(\d*\)|[^0-9|.]/g,"");isNaN(Number(i))||(n=Number(i));var o,a=p.plus(this.m_holdIncreaseStep,_t[this.m_typeIndex]);if((n=p.plus(n,p.times(a,this.m_increaseOrDecrease)))<st[this.m_typeIndex].MIN?n=st[this.m_typeIndex].MIN:n>st[this.m_typeIndex].MAX&&(n=st[this.m_typeIndex].MAX),2==this.m_typeIndex||3==this.m_typeIndex)this.m_countTarget.string=(this.m_isInTrial||null!=(o=d.GameSwitchOff)&&o.IsSSS?"":"<p>"+d.DollarSymbol+" </p>")+p.FormatNumberThousands(n,p.FORMAT_NUMBER_TYPE.NONE_DOT)+d.DollarSymbolSuffix,this.m_countTarget.fontFamily=d.DollarFontFamily,this.CheckFontSize(this.m_countTarget,n);else this.m_countTarget.string=p.FormatNumberThousands(n,p.FORMAT_NUMBER_TYPE.NONE_DOT);this.m_settingInfoData[this.m_typeIndex]=this.m_typeIndex>1?this.m_bottombarView.GetRawValue(n):n,this.m_timer=lt}else this.m_timer-=t},m.GetString=function(t){return I.GetInstance().GetString(t)},m.SetTxt=function(){var t=null;if(I.CurrLang===d.Lang.MM&&(t=d.DefaultFont),this.m_totalRoundCheckNode.getChildByName(e.UIName.TXT1)?(this.m_totalRoundCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_TOTALROUND),this.m_totalRoundCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).font=t):(this.m_infoTxt[ut.TotalRound].string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_TOTALROUND),p.SetFont(this.m_infoTxt[ut.TotalRound])),this.m_totalBetCheckNode.getChildByName(e.UIName.TXT1)?(this.m_totalBetCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_SINGLE_AWARD),this.m_totalBetCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).font=t):(this.m_infoTxt[ut.TotalBet].string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_SINGLE_AWARD),p.SetFont(this.m_infoTxt[ut.TotalBet])),this.m_chipGreatCheckNode.getChildByName(e.UIName.TXT1)?(this.m_chipGreatCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_CHIPS_GREAT),this.m_chipGreatCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).font=t):(this.m_infoTxt[ut.GreatChip].string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_CHIPS_GREAT),p.SetFont(this.m_infoTxt[ut.GreatChip])),this.m_chipLessCheckNode.getChildByName(e.UIName.TXT1)?(this.m_chipLessCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_CHIPS_LESS),this.m_chipLessCheckNode.getChildByName(e.UIName.TXT1).getComponent(l).font=t):(this.m_infoTxt[ut.LessChip].string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_CHIPS_LESS),p.SetFont(this.m_infoTxt[ut.LessChip])),this.m_cancelBtn.node.getChildByName(e.UIName.LABEL).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_CANEL),p.SetFont(this.m_cancelBtn.node.getChildByName(e.UIName.LABEL).getComponent(l)),this.m_confirmBtn&&(this.m_confirmBtn.node.getChildByName(e.UIName.LABEL).getComponent(l).string=this.GetString(d.StringKey.AUTO_PLAY_PANEL_START),p.SetFont(this.m_confirmBtn.node.getChildByName(e.UIName.LABEL).getComponent(l))),this.m_infoValue)for(var n=0;n<this.m_infoValue.length;n++)p.SetFont(this.m_infoValue[n]);if(this.m_constRoundTxt)for(var i=0;i<this.m_constRoundTxt.length;i++)p.SetFont(this.m_constRoundTxt[i])},m.ClearPanel=function(){if(!(this.m_bottombarView.IsGLIGames||this.m_bottombarView.IsBMMGames||p.KeepGLISetting)){this.m_totalRoundCheckNode.getComponent(u).isChecked=!1;for(var t=0;t<this.m_constRoundBtn.length;t++)this.m_constRoundBtn[t].node.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_constRoundBtn[t].node.getChildByName(e.UIName.IMG_ON_BG).active=!1);this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!1),this.m_totalBetCheckNode.getComponent(u).isChecked=!1,this.m_totalBetCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_totalBetCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!1),this.m_chipGreatCheckNode.getComponent(u).isChecked=!1,this.m_chipGreatCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_chipGreatCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!1),this.m_chipLessCheckNode.getComponent(u).isChecked=!1,this.m_chipLessCheckNode.getChildByName(e.UIName.IMG_ON_BG)&&(this.m_chipLessCheckNode.getChildByName(e.UIName.IMG_ON_BG).active=!1)}},m.IsUseWisePlay=function(){return this.m_isUseWisePlay},m.SetUseWisePlay=function(t){this.m_isUseWisePlay=t},m.SetFreeGameSelectSprites=function(t,e){},m.ChangeTotalRoundBg=function(t){this.m_totalRoundBg&&(this.m_totalRoundBg.active=t)},m.CheckFontSize=function(t,e){var n;null!=(n=d.GameSwitchOff)&&n.IsSSS&&(t.fontSize=e>9999999999?21:e>99999999&&e<=9999999999?25:27)},a(e,[{key:"Title",get:function(){return this.m_title}},{key:"ConfirmCb",set:function(t){var e=this;this.m_confirmCb=function(){e.m_isCountStart=!1,e.m_currentTouchName=null,t&&t()}}},{key:"CancelCb",set:function(t){var e=this;this.m_cancelCb=function(){e.m_isCountStart=!1,e.m_currentTouchName=null,t&&t()}}},{key:"IsCheckTotalRound",get:function(){return!!d.IS_DEMO||this.m_totalRoundCheckNode.getComponent(u).isChecked}},{key:"IsCheckTotalBet",get:function(){return this.m_totalBetCheckNode.getComponent(u).isChecked}},{key:"IsCheckChipGreat",get:function(){return this.m_chipGreatCheckNode.getComponent(u).isChecked}},{key:"IsCheckChipLess",get:function(){return this.m_chipLessCheckNode.getComponent(u).isChecked}},{key:"AID",get:function(){return this.m_aid}},{key:"TotalRound",get:function(){return this.m_totalRound}},{key:"TotalBet",get:function(){return this.m_totalBet}},{key:"ChipLessLimit",get:function(){return this.m_chipLessLimit}},{key:"ChipGreatLimit",get:function(){return this.m_chipGreatLimit}}]),e}(N)).UIName={IMG_AUTOPLAY_LABEL:"img_autoplay_label",BTN_CLOSE:"btn_close",IMG_HOSTING_LABEL:"img_hosting_label",CHECKBOX:"checkbox",IMG_ON_BG:"img_on_bg",BUTTON:"button",VALUE:"value",BTN_DECREASE:"btn_decrease",BTN_INCREASE:"btn_increase",BTN_FAST:"btn_fast0",TXT1:"txt1",TXT2:"txt2",IMG_MASK:"img_mask",BTN_CANCEL:"btn_cancel",LABEL:"Label",BTN_OK:"btn_ok"},F=e((X=rt).prototype,"m_title",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(X.prototype,"m_totalRoundCheckNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(X.prototype,"m_totalBetCheckNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(X.prototype,"m_chipGreatCheckNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(X.prototype,"m_chipLessCheckNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(X.prototype,"m_checkboxBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(X.prototype,"m_checkboxBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(X.prototype,"m_checkboxMark",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(X.prototype,"m_closeBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(X.prototype,"m_cancelBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(X.prototype,"m_confirmBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(X.prototype,"m_constRoundBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(X.prototype,"m_constRoundNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(X.prototype,"m_increaseBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(X.prototype,"m_decreaseBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(X.prototype,"m_infoValue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(X.prototype,"m_infoTxt",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(X.prototype,"m_totalRoundBg",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(X.prototype,"m_constRoundTxt",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=X))||x));m._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel_BS.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPlaySetting.ts","./Define.ts","./SoundManager.ts","./LocalStorageManager.ts","./Tools.ts"],(function(e){"use strict";var t,a,i,n,o,h,m,r,s,l,c,C,_,g,u,N,d,p,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){h=e.cclegacy,m=e._decorator,r=e.Node,s=e.Button,l=e.Toggle,c=e.Label,C=e.Sprite,_=e.RichText},function(e){g=e.default,u=e.PanelData},function(e){N=e.default},function(e){d=e.default},function(e){p=e.default},function(e){k=e.default}],execute:function(){var f,y,T,B,I,v,D,U,S,G,b,O,L,A,E,F,M,P;h._RF.push({},"926caCzOlZHcamP4sy2DnOE","AutoPlaySettingPanel_BS",void 0);var V=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckTatget=!1,this.targetType=[]})),R=m.ccclass,W=m.property,X=0,w=1,H=2,K=3,x=function(e){function t(){var t;return(t=e.call(this)||this).WhenFree={isCheck:!1},t.WhenTarget={isCheck:!1,value:[-1]},t}return a(t,e),t}(u);e("default",(f=W(r),y=W(r),T=W(r),B=W(r),I=W(r),v=W(s),D=W(r),U=W(r),R((b=t((G=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),h=0;h<a;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_targetCheckNode",b,n(t)),i(t,"m_targetCheckTxt",O,n(t)),i(t,"m_freeCheckNode",L,n(t)),i(t,"m_freeCheckTxt",A,n(t)),i(t,"m_freeMask",E,n(t)),i(t,"m_freeMaskBtn",F,n(t)),i(t,"m_targetTypeNode",M,n(t)),i(t,"m_targetTypeSprite",P,n(t)),t.m_panelData=new x,t.m_freeGameString1=null,t.m_freeGameString2=null,t.m_freeGameString3=void 0,t.m_targetType=[],t.m_isCloseJp=!1,t.m_isCheckTarget="-",t.m_isCheckFree="-",t}a(t,e);var h=t.prototype;return h.onLoad=function(){var a=this;e.prototype.onLoad.call(this),this.m_targetCheckNode.getComponent(l).isChecked=!0,this.m_targetCheckNode.getChildByName(g.UIName.IMG_ON_BG)&&(this.m_targetCheckNode.getChildByName(g.UIName.IMG_ON_BG).active=!0),this.m_freeMask&&(this.m_freeMask.active=!1);for(var i=function(){var e=a.node.getChildByName(t.UIName.CHECKBOX+n);e?e.on("toggle",(function(e){e.node.name==t.UIName.CHECKBOX+"6"&&(a.m_freeMask.active=!e.isChecked),e.isChecked?e.node.getChildByName(t.UIName.IMG_ON_BG).active=!0:(!a.m_isInvert||e.node.name!=t.UIName.CHECKBOX+"3"&&e.node.name!=t.UIName.CHECKBOX+"4"?e.node.getChildByName(t.UIName.IMG_ON_BG).active:a.m_isInvert=!1,e.node.getChildByName(t.UIName.IMG_ON_BG).active=!1)}),a):6==n&&a.m_targetCheckNode.on("toggle",(function(e){a.m_targetCheckNode.getComponent(l).isChecked?a.m_freeMask.active=!1:a.m_freeMask.active=!0}),a);var i=null;if(e&&(i=e.getChildByName(t.UIName.BUTTON)),i&&(i.on(r.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==a.m_currentTouchName||e.target&&0==e.target.active)&&(a.m_currentTouchName=e.target.name)}),a),i.on(r.EventType.TOUCH_END,(function(t){if(a.m_currentTouchName==t.target.name){a.m_currentTouchName=null;var i=e.getComponent(l);i.isChecked?(d.getInstance().Play(N.AudioClips.COMMON_CHECKBOX_OFF),i.isChecked=!1):(d.getInstance().Play(N.AudioClips.COMMON_CHECKBOX_ON),i.isChecked=!0)}}),a),i.on(r.EventType.TOUCH_CANCEL,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null),a.m_currentTouchName=null}),a)),6==n)for(var o=function(i){var n=null;if(!(n=e?e.getChildByName(t.UIName.CHECKBOX+"_D"+i):a.m_targetTypeNode[i-1]))return"continue";n.on("click",(function(e){a.m_freeMask.active,d.getInstance().Play(N.AudioClips.COMMON_CHECKBOX_ON)}),a)},h=1;h<=7;h++)o(h)},n=5;n<=6;n++)i();this.m_confirmBtn&&this.m_confirmBtn.node.on("click",(function(e){a.m_targetCheckNode.getComponent(l).isChecked?a.m_targetType=a.CheckTarget():a.m_targetType=[],a.SavePanelData()})),this.m_cancelBtn.node.on("click",(function(e){a.m_confirmBtn&&(a.m_targetCheckNode.getComponent(l).isChecked?a.m_targetType=a.CheckTarget():a.m_targetType=[],a.SavePanelData())}))},h.CheckTarget=function(){for(var e=[],t=0;t<this.m_targetTypeNode.length;t++)this.m_targetTypeNode[t].getComponent(l).isChecked&&e.push(t);return e},h.Init=function(t,a,i,n){e.prototype.Init.call(this,t,a,i,n),this.LoadPanelDataFromLocal()},h.OthersInfo=function(e){var t=new V;return e?(t.isCheckTatget=this.m_targetCheckNode.getComponent(l).isChecked,t.targetType=this.CheckTarget(),t.isCheckFree=this.m_freeCheckNode.getComponent(l).isChecked,this.SavePanelData(),t.isCheckTatget?(this.SetUseWisePlay(!0),this.m_isCheckTarget="1"):(this.SetUseWisePlay(!1),this.m_isCheckTarget="-"),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckTatget=!1,t.targetType=[],t.isCheckFree=!1),JSON.stringify(t)},h.SetFreeGameString=function(e,a,i){if(null!=e){this.m_freeGameString1=e;var n=null;this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?n=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(n=this.m_freeCheckTxt,k.SetFont(n.getComponent(c))),n.getComponent(c).string=this.GetString(e),n.getComponent(c).font||(n.getComponent(c).font=N.DefaultFont)}if(null!=a){this.m_freeGameString2=a;var o=null;this.m_targetCheckNode.getChildByName(t.UIName.TXT1)?o=this.m_targetCheckNode.getChildByName(t.UIName.TXT1):(o=this.m_targetCheckTxt,k.SetFont(o.getComponent(c))),o.getComponent(c).string=this.GetString(a),o.getComponent(c).font||(o.getComponent(c).font=N.DefaultFont)}},h.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_targetCheckNode.getComponent(l).isChecked||(!!this.m_freeCheckNode.getComponent(l).isChecked||t)},h.SetTxt=function(){if(e.prototype.SetTxt.call(this),null!=this.m_freeGameString1){var a=null;this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?a=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(a=this.m_freeCheckTxt,k.SetFont(a.getComponent(c))),a.getComponent(c).string=this.GetString(this.m_freeGameString1),a.getComponent(c).font||(a.getComponent(c).font=N.DefaultFont)}if(null!=this.m_freeGameString2){var i=null;this.m_targetCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_targetCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_targetCheckTxt,k.SetFont(i.getComponent(c))),i.getComponent(c).string=this.GetString(this.m_freeGameString2),i.getComponent(c).font||(i.getComponent(c).font=N.DefaultFont)}},h.SetBallIcon=function(e){for(var a=this.node.getChildByName(t.UIName.CHECKBOX+6),i=1;i<=7;i++){var n=null;if(n=a?a.getChildByName(t.UIName.CHECKBOX+"_D"+i):this.m_targetCheckNode){var o=n.getChildByName("D_icon");if(o||(o=this.m_targetTypeSprite[i-1]),k.Line===N.LineSetting.street){var h=o.getComponent(C);e[i]&&(h.spriteFrame=e[i])}}}},h.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_targetCheckNode.getComponent(l).isChecked=!1,this.m_targetCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_targetCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1),this.m_freeCheckNode.getComponent(l).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},h.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(l).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[X],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(l).isChecked){var a=null;a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[w],this.m_panelData.TotalBet.isCheck=!0;var i=a.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(i),this.m_panelData.TotalBet.value=parseInt(i).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(l).isChecked){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[H],this.m_panelData.LessThan.isCheck=!0;var o=n.string.replace(/[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(l).isChecked){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[K],this.m_panelData.GreaterThan.isCheck=!0;var m=h.string.replace(/[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(m)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_freeCheckNode.getComponent(l).isChecked?this.m_panelData.WhenFree.isCheck=!0:this.m_panelData.WhenFree.isCheck=!1,this.m_targetCheckNode.getComponent(l).isChecked?(this.m_panelData.WhenTarget.isCheck=!0,this.m_panelData.WhenTarget.value=this.m_targetType):(this.m_panelData.WhenTarget.isCheck=!1,this.m_panelData.WhenTarget.value=[]),p.SetObject(this.m_storageKey,this.m_panelData)},h.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[X],this.m_totalRoundCheckNode.getComponent(l).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[X]=Number(this.m_panelData.TotalRound.value))}else p.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(l).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1));var a=null;if(a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[w],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(l).isChecked=!0;var i=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(i))||(this.m_settingInfoData[w]=Number(i),this.m_singleWin=this.m_settingInfoData[w])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(a.string="100X",a.fontFamily=N.DollarFontFamily,this.m_settingInfoData[w]=100,this.m_singleWin=100):(a.string=this.m_singleWin.toString()+"X",a.fontFamily=N.DollarFontFamily,this.m_settingInfoData[w]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[H],this.m_chipLessCheckNode.getComponent(l).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);n.string=N.DollarSymbol+k.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),k.FORMAT_NUMBER_TYPE.NONE_DOT),n.fontFamily=N.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[H]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(_):this.m_infoValue[K],this.m_chipGreatCheckNode.getComponent(l).isChecked=!0;var m=parseInt(this.m_panelData.GreaterThan.value);h.string=N.DollarSymbol+k.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(m),k.FORMAT_NUMBER_TYPE.NONE_DOT),h.fontFamily=N.DollarFontFamily,isNaN(Number(m))||(this.m_settingInfoData[K]=Number(m))}if(this.m_panelData.WhenFree.isCheck&&(this.m_freeCheckNode.getComponent(l).isChecked=!0),this.m_panelData.WhenTarget.isCheck){for(var r=1;r<=7;r++){var s=this.m_targetCheckNode.getChildByName(t.UIName.CHECKBOX+"_D"+r);s||(s=this.m_targetTypeNode[r-1]),s.getComponent(l).isChecked=!1}for(var c=0;c<this.m_panelData.WhenTarget.value.length;c++){var C=this.m_targetCheckNode.getChildByName(t.UIName.CHECKBOX+"_D"+(this.m_panelData.WhenTarget.value[c]+1));C||(C=this.m_targetTypeNode[this.m_panelData.WhenTarget.value[c]]),C.getComponent(l).isChecked=!0}this.m_targetCheckNode.getChildByName(t.UIName.IMG_MASK)&&(this.m_targetCheckNode.getChildByName(t.UIName.IMG_MASK).active=!1),this.m_targetCheckNode.getComponent(l).isChecked=!0}},h.LoadPanelDataFromLocal=function(){var e=p.GetObject(this.m_storageKey);e&&e.WhenTarget&&(this.m_panelData=e,this.m_panelData.TotalRound.value="100",this.LoadPanelData())},h.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckTarget)+","+String(this.m_isCheckFree)},h.CloseJPCheckBox=function(){this.m_isCloseJp=!0},o(t,[{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,Number(N.NOW_GAME_ID)==N.GAME_ID.BS?"Clip_AutoPlayBS_Portrait":"Clip_AutoPlayAG_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,Number(N.NOW_GAME_ID)==N.GAME_ID.BS?"Clip_AutoPlayBS_Landscape":"Clip_AutoPlayAG_Landscape"}}]),t}(g)).prototype,"m_targetCheckNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(G.prototype,"m_targetCheckTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(G.prototype,"m_freeCheckNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(G.prototype,"m_freeCheckTxt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(G.prototype,"m_freeMask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(G.prototype,"m_freeMaskBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(G.prototype,"m_targetTypeNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(G.prototype,"m_targetTypeSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=G))||S));h._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel_DFI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./AutoPlaySetting.ts","./Tools.ts","./LocalStorageManager.ts"],(function(e){"use strict";var t,a,i,n,o,h,s,m,l,r,c,C,_,p,u,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){h=e.cclegacy,s=e._decorator,m=e.Node,l=e.Toggle,r=e.Label,c=e.RichText},function(e){C=e.default},function(e){_=e.default},function(e){p=e.default},function(e){u=e.default},function(e){N=e.default}],execute:function(){var d,g,k,f,T,y,D,I,B,v;h._RF.push({},"96bb6sHHn9Ib4WFYDMWCvRn","AutoPlaySettingPanel_DFI",void 0);var U=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckJp=!1})),G=0,S=1,F=2,L=3,b=s.ccclass,O=s.property;e("default",(d=O(m),g=O(m),k=O(m),f=O(m),b((D=t((y=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),h=0;h<a;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_freeCheckNode",D,n(t)),i(t,"m_freeCheckTxt",I,n(t)),i(t,"m_jpCheckNode",B,n(t)),i(t,"m_jpCheckTxt",v,n(t)),t.m_panelData={TotalRound:{isCheck:!1,value:"100"},TotalBet:{isCheck:!1,value:"50"},LessThan:{isCheck:!1,value:""},GreaterThan:{isCheck:!1,value:""},WhenFreeGame:{isCheck:!1},WhenJp:{isCheck:!1}},t.m_freeGameString1=null,t.m_freeGameString2=null,t.m_isCheckFree="-",t.m_isCheckJp="-",t}a(t,e);var h=t.prototype;return h.onLoad=function(){var a=this;e.prototype.onLoad.call(this);for(var i=function(){var e=a.node.getChildByName(t.UIName.CHECKBOX+n);e&&e.on("toggle",(function(e){e.isChecked?e.node.getChildByName(t.UIName.IMG_ON_BG).active=!0:(!a.m_isInvert||e.node.name!=t.UIName.CHECKBOX+"3"&&e.node.name!=t.UIName.CHECKBOX+"4"?e.node.getChildByName(t.UIName.IMG_ON_BG).active:a.m_isInvert=!1,e.node.getChildByName(t.UIName.IMG_ON_BG).active=!1)}));var i=null;e&&(i=e.getChildByName(t.UIName.BUTTON)),i&&(i.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==a.m_currentTouchName||e.target&&0==e.target.active)&&(a.m_currentTouchName=e.target.name)}),a),i.on(m.EventType.TOUCH_END,(function(t){if(a.m_currentTouchName==t.target.name){a.m_currentTouchName=null;var i=e.getComponent(l);i.isChecked?(_.getInstance().Play(C.AudioClips.COMMON_CHECKBOX_OFF),i.isChecked=!1):(_.getInstance().Play(C.AudioClips.COMMON_CHECKBOX_ON),i.isChecked=!0)}}),a),i.on(m.EventType.TOUCH_CANCEL,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null),a.m_currentTouchName=null}),a))},n=5;n<=6;n++)i()},h.Init=function(t,a,i,n){e.prototype.Init.call(this,t,a,i,n),this.LoadPanelDataFromLocal()},h.OthersInfo=function(e){var t=new U;return e?(t.isCheckFree=this.m_freeCheckNode.getComponent(l).isChecked,t.isCheckJp=this.m_jpCheckNode.getComponent(l).isChecked,this.SavePanelData(),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-"),t.isCheckJp?(this.SetUseWisePlay(!0),this.m_isCheckJp="1"):(this.SetUseWisePlay(!1),this.m_isCheckJp="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckFree=!1,t.isCheckJp=!1),JSON.stringify(t)},h.SetFreeGameString=function(e,a){if(null!=e){this.m_freeGameString1=e;var i=null;this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_freeCheckTxt,u.SetFont(i.getComponent(r))),i.getComponent(r).string=this.GetString(e),i.getComponent(r).font||(i.getComponent(r).font=C.DefaultFont)}if(null!=a){this.m_freeGameString2=a;var n=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?n=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(n=this.m_jpCheckTxt,u.SetFont(n.getComponent(r))),n.getComponent(r).string=this.GetString(a),n.getComponent(r).font||(n.getComponent(r).font=C.DefaultFont)}},h.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_freeCheckNode.getComponent(l).isChecked||(!!this.m_jpCheckNode.getComponent(l).isChecked||t)},h.SetTxt=function(){if(e.prototype.SetTxt.call(this),null!=this.m_freeGameString1){var a=null;this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?a=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(a=this.m_freeCheckTxt,u.SetFont(a.getComponent(r))),a.getComponent(r).string=this.GetString(this.m_freeGameString1),a.getComponent(r).font||(a.getComponent(r).font=C.DefaultFont)}if(null!=this.m_freeGameString2){var i=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_jpCheckTxt,u.SetFont(i.getComponent(r))),i.getComponent(r).string=this.GetString(this.m_freeGameString2),i.getComponent(r).font||(i.getComponent(r).font=C.DefaultFont)}},h.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_freeCheckNode.getComponent(l).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1),this.m_jpCheckNode.getComponent(l).isChecked=!1,this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},h.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(l).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[G],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(l).isChecked){var a=null;a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[S],this.m_panelData.TotalBet.isCheck=!0;var i=a.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(i),this.m_panelData.TotalBet.value=parseInt(i).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(l).isChecked){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[F],this.m_panelData.LessThan.isCheck=!0;var o=n.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(l).isChecked){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[L],this.m_panelData.GreaterThan.isCheck=!0;var s=h.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(s)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_freeCheckNode.getComponent(l).isChecked?this.m_panelData.WhenFreeGame.isCheck=!0:this.m_panelData.WhenFreeGame.isCheck=!1,this.m_jpCheckNode.getComponent(l).isChecked?this.m_panelData.WhenJp.isCheck=!0:this.m_panelData.WhenJp.isCheck=!1,N.SetObject(this.m_storageKey,this.m_panelData)},h.LoadPanelDataFromLocal=function(){var e=N.GetObject(this.m_storageKey);e&&(this.m_panelData.TotalRound=e.TotalRound,this.m_panelData.TotalBet=e.TotalBet,this.m_panelData.LessThan=e.LessThan,this.m_panelData.GreaterThan=e.GreaterThan,this.m_panelData.WhenFreeGame=e.WhenFreeGame?e.WhenFreeGame:{isCheck:!1},this.m_panelData.WhenJp=e.WhenJp?e.WhenJp:{isCheck:!1},this.LoadPanelData())},h.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[G],this.m_totalRoundCheckNode.getComponent(l).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[G]=Number(this.m_panelData.TotalRound.value))}else N.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(l).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1));var a=null;if(a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[S],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(l).isChecked=!0;var i=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(i))||(this.m_settingInfoData[S]=Number(i),this.m_singleWin=this.m_settingInfoData[S])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(a.string="100X",a.fontFamily=C.DollarFontFamily,this.m_settingInfoData[S]=100,this.m_singleWin=100):(a.string=this.m_singleWin.toString()+"X",a.fontFamily=C.DollarFontFamily,this.m_settingInfoData[S]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[F],this.m_chipLessCheckNode.getComponent(l).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);n.string=C.DollarSymbol+u.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),u.FORMAT_NUMBER_TYPE.NONE_DOT)+C.DollarSymbolSuffix,n.fontFamily=C.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[F]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[L],this.m_chipGreatCheckNode.getComponent(l).isChecked=!0;var s=parseInt(this.m_panelData.GreaterThan.value);h.string=C.DollarSymbol+u.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(s),u.FORMAT_NUMBER_TYPE.NONE_DOT)+C.DollarSymbolSuffix,h.fontFamily=C.DollarFontFamily,isNaN(Number(s))||(this.m_settingInfoData[L]=Number(s))}this.m_panelData.WhenFreeGame&&this.m_panelData.WhenFreeGame.isCheck&&(this.m_freeCheckNode.getComponent(l).isChecked=!0),this.m_panelData.WhenJp&&this.m_panelData.WhenJp.isCheck&&(this.m_jpCheckNode.getComponent(l).isChecked=!0)},h.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckFree)+","+String(this.m_isCheckJp)},h.CloseJPCheckBox=function(){this.m_jpCheckNode.active=!1},o(t,[{key:"IsCheckFree",get:function(){return this.m_freeCheckNode.getComponent(l).isChecked}},{key:"IsCheckJp",get:function(){return this.m_jpCheckNode.getComponent(l).isChecked}},{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,"Clip_AutoPlayDFI_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,"Clip_AutoPlayDFI_Landscape"}}]),t}(p)).prototype,"m_freeCheckNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"m_freeCheckTxt",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"m_jpCheckNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"m_jpCheckTxt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));h._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel_DFIII.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./AutoPlaySetting.ts","./Tools.ts","./LocalStorageManager.ts"],(function(e){"use strict";var t,n,a,i,o,m,h,s,l,r,C,c,_,p,g,N,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){m=e.cclegacy,h=e._decorator,s=e.Node,l=e.Toggle,r=e.Label,C=e.RichText},function(e){c=e.default},function(e){_=e.default},function(e){p=e.default,g=e.PanelData},function(e){N=e.default},function(e){u=e.default}],execute:function(){var f,d,k,y,T,I,B,D,v,U,S,G,F,O,b,L;m._RF.push({},"2db0c7JOxRH/6VNV6pLRe4/","AutoPlaySettingPanel_DFIII",void 0);var E=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckJp=!1,this.freeType=0})),A=h.ccclass,P=h.property,M=0,V=1,X=2,R=3,W=4,x=function(e){function t(){var t;return(t=e.call(this)||this).WhenJp={isCheck:!1},t.WhenFreeGame={isCheck:!1,value:0},t}return n(t,e),t}(g);e("default",(f=P(s),d=P(s),k=P(s),y=P(s),T=P(s),I=P(s),B=P(s),A((U=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),m=0;m<n;m++)o[m]=arguments[m];return t=e.call.apply(e,[this].concat(o))||this,a(t,"m_freeCheckNode",U,i(t)),a(t,"m_freeCheckTxt",S,i(t)),a(t,"m_jpCheckNode",G,i(t)),a(t,"m_jpCheckTxt",F,i(t)),a(t,"m_freeMask",O,i(t)),a(t,"m_freeTypeNode",b,i(t)),a(t,"m_freeTypeTxt",L,i(t)),t.m_panelData=new x,t.m_freeGameString1=null,t.m_freeGameString2=null,t.m_freeGameString3=void 0,t.m_freeType=0,t.m_isCloseJp=!1,t.m_isCheckFree="-",t.m_isCheckJp="-",t}n(t,e);var m=t.prototype;return m.onLoad=function(){var n=this;e.prototype.onLoad.call(this),this.m_settingInfoData.push(0);for(var a=function(){var e=n.node.getChildByName(t.UIName.CHECKBOX+i);e&&e.on("toggle",(function(e){e.node.name==t.UIName.CHECKBOX+"6"&&(n.m_freeMask.active=!e.isChecked),e.isChecked?e.node.getChildByName(t.UIName.IMG_ON_BG).active=!0:(!n.m_isInvert||e.node.name!=t.UIName.CHECKBOX+"3"&&e.node.name!=t.UIName.CHECKBOX+"4"?e.node.getChildByName(t.UIName.IMG_ON_BG).active:n.m_isInvert=!1,e.node.getChildByName(t.UIName.IMG_ON_BG).active=!1)}));var a=null;if(e&&(a=e.getChildByName(t.UIName.BUTTON)),a&&(a.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==n.m_currentTouchName||e.target&&0==e.target.active)&&(n.m_currentTouchName=e.target.name)}),n),a.on(s.EventType.TOUCH_END,(function(t){if(n.m_currentTouchName==t.target.name){n.m_currentTouchName=null;var a=e.getComponent(l);a.isChecked?(_.getInstance().Play(c.AudioClips.COMMON_CHECKBOX_OFF),a.isChecked=!1):(_.getInstance().Play(c.AudioClips.COMMON_CHECKBOX_ON),a.isChecked=!0)}}),n),a.on(s.EventType.TOUCH_CANCEL,(function(e){n.m_currentTouchName==e.target.name&&(n.m_currentTouchName=null),n.m_currentTouchName=null}),n)),6==i){for(o=1;o<=3;o++){(e?e.getChildByName(t.UIName.CHECKBOX+o):n.m_freeTypeNode[o-1]).on("click",(function(e){var t=o-1;if(!n.m_freeMask.active)for(var a=0;a<n.m_freeTypeNode.length;a++){n.m_freeTypeNode[a].getComponent(l).isChecked=!1}_.getInstance().Play(c.AudioClips.COMMON_CHECKBOX_ON),n.m_settingInfoData[W]=t}),n)}n.m_freeCheckNode.on("toggle",(function(e){n.m_freeCheckNode.getComponent(l).isChecked?n.m_freeMask.active=!1:n.m_freeMask.active=!0}),n)}},i=5;i<=6;i++){var o;a()}this.m_confirmBtn&&this.m_confirmBtn.node.on("click",(function(e){n.m_freeType=n.m_settingInfoData[W]||0,n.SavePanelData()})),this.m_cancelBtn.node.on("click",(function(e){n.m_confirmBtn&&(n.m_freeType=n.m_settingInfoData[W]||0,n.SavePanelData())}))},m.Init=function(t,n,a,i){e.prototype.Init.call(this,t,n,a,i),this.LoadPanelDataFromLocal()},m.OthersInfo=function(e){var t=new E;return e?(t.isCheckFree=this.m_freeCheckNode.getComponent(l).isChecked,t.freeType=this.m_settingInfoData[W],t.isCheckJp=this.m_jpCheckNode.getComponent(l).isChecked,this.SavePanelData(),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-"),t.isCheckJp?(this.SetUseWisePlay(!0),this.m_isCheckJp="1"):(this.SetUseWisePlay(!1),this.m_isCheckJp="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckFree=!1,t.freeType=-1,t.isCheckJp=!1),JSON.stringify(t)},m.SetFreeGameString=function(e,n,a){if(null!=e){this.m_freeGameString1=e;var i=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_freeCheckTxt,N.SetFont(i.getComponent(r))),i.getComponent(r).string=this.GetString(e),i.getComponent(r).font||(i.getComponent(r).font=c.DefaultFont),null!=a){this.m_freeGameString3=a;var o=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"1"),m=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"2"),h=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"3"),s=null,l=null,C=null;o&&m?(s=o.getChildByName(t.UIName.TXT1),l=m.getChildByName(t.UIName.TXT1),C=h.getChildByName(t.UIName.TXT1)):(s=this.m_freeTypeTxt[0],l=this.m_freeTypeTxt[1],C=this.m_freeTypeTxt[2]),s.getComponent(r).string=this.GetString(a[0]),s.getComponent(r).font||(s.getComponent(r).font=c.DefaultFont),l.getComponent(r).string=this.GetString(a[1]),l.getComponent(r).font||(l.getComponent(r).font=c.DefaultFont),C.getComponent(r).string=this.GetString(a[2]),C.getComponent(r).font||(C.getComponent(r).font=c.DefaultFont)}}if(null!=n){this.m_freeGameString2=n;var _=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?_=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(_=this.m_jpCheckTxt,N.SetFont(_.getComponent(r))),_.getComponent(r).string=this.GetString(n),_.getComponent(r).font||(_.getComponent(r).font=c.DefaultFont)}},m.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_freeCheckNode.getComponent(l).isChecked||(!!this.m_jpCheckNode.getComponent(l).isChecked||t)},m.SetTxt=function(){if(e.prototype.SetTxt.call(this),null!=this.m_freeGameString1){var n=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?n=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(n=this.m_freeCheckTxt,N.SetFont(n.getComponent(r))),n.getComponent(r).string=this.GetString(this.m_freeGameString1),n.getComponent(r).font||(n.getComponent(r).font=c.DefaultFont),null!=this.m_freeGameString3){var a=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"1"),i=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"2"),o=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"3"),m=null,h=null,s=null;a&&i?(m=a.getChildByName(t.UIName.TXT1),h=i.getChildByName(t.UIName.TXT1),s=o.getChildByName(t.UIName.TXT1)):(m=this.m_freeTypeTxt[0],h=this.m_freeTypeTxt[1],s=this.m_freeTypeTxt[2]),m.getComponent(r).string=this.GetString(this.m_freeGameString3[0]),m.getComponent(r).font||(m.getComponent(r).font=c.DefaultFont),h.getComponent(r).string=this.GetString(this.m_freeGameString3[1]),h.getComponent(r).font||(h.getComponent(r).font=c.DefaultFont),s.getComponent(r).string=this.GetString(this.m_freeGameString3[2]),s.getComponent(r).font||(s.getComponent(r).font=c.DefaultFont)}}if(null!=this.m_freeGameString2){var l=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?l=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(l=this.m_jpCheckTxt,N.SetFont(l.getComponent(r))),l.getComponent(r).string=this.GetString(this.m_freeGameString2),l.getComponent(r).font||(l.getComponent(r).font=c.DefaultFont)}},m.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_freeCheckNode.getComponent(l).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1),this.m_jpCheckNode.getComponent(l).isChecked=!1,this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},m.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(l).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[M],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(l).isChecked){var n=null;n=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_panelData.TotalBet.isCheck=!0;var a=n.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(a),this.m_panelData.TotalBet.value=parseInt(a).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(l).isChecked){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[X],this.m_panelData.LessThan.isCheck=!0;var o=i.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(l).isChecked){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[R],this.m_panelData.GreaterThan.isCheck=!0;var h=m.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(h)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_jpCheckNode.getComponent(l).isChecked?this.m_panelData.WhenJp.isCheck=!0:this.m_panelData.WhenJp.isCheck=!1,this.m_freeCheckNode.getComponent(l).isChecked?(this.m_panelData.WhenFreeGame.isCheck=!0,this.m_panelData.WhenFreeGame.value=this.m_freeType):(this.m_panelData.WhenFreeGame.isCheck=!1,this.m_panelData.WhenFreeGame.value=0),u.SetObject(this.m_storageKey,this.m_panelData)},m.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[M],this.m_totalRoundCheckNode.getComponent(l).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[M]=Number(this.m_panelData.TotalRound.value))}else u.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(l).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1));var n=null;if(n=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(l).isChecked=!0;var a=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(a))||(this.m_settingInfoData[V]=Number(a),this.m_singleWin=this.m_settingInfoData[V])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(n.string="100X",n.fontFamily=c.DollarFontFamily,this.m_settingInfoData[V]=100,this.m_singleWin=100):(n.string=this.m_singleWin.toString()+"X",n.fontFamily=c.DollarFontFamily,this.m_settingInfoData[V]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[X],this.m_chipLessCheckNode.getComponent(l).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);i.string=c.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),N.FORMAT_NUMBER_TYPE.NONE_DOT)+c.DollarSymbolSuffix,i.fontFamily=c.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[X]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[R],this.m_chipGreatCheckNode.getComponent(l).isChecked=!0;var h=parseInt(this.m_panelData.GreaterThan.value);m.string=c.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(h),N.FORMAT_NUMBER_TYPE.NONE_DOT)+c.DollarSymbolSuffix,m.fontFamily=c.DollarFontFamily,isNaN(Number(h))||(this.m_settingInfoData[R]=Number(h))}if(this.m_panelData.WhenJp&&this.m_panelData.WhenJp.isCheck&&(this.m_jpCheckNode.getComponent(l).isChecked=!0),this.m_panelData.WhenFreeGame&&this.m_panelData.WhenFreeGame.isCheck){var s=this.m_panelData.WhenFreeGame.value+1;this.m_settingInfoData[W]=this.m_panelData.WhenFreeGame.value,this.m_freeType=this.m_settingInfoData[W]||0,null!=s&&null!=s||(s=1);for(var r=1;r<=3;r++){var _=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+r);_||(_=this.m_freeTypeNode[r-1]),_.getComponent(l).isChecked=!1}var p=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+s);p||(p=this.m_freeTypeNode[s-1]),this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK).active=!1),this.m_freeCheckNode.getComponent(l).isChecked=!0,p.getComponent(l).isChecked=!0}},m.LoadPanelDataFromLocal=function(){var e=u.GetObject(this.m_storageKey);e&&(this.m_panelData=e,this.m_panelData.TotalRound.value="100",this.LoadPanelData())},m.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckFree)+","+String(this.m_isCheckJp)},m.CloseJPCheckBox=function(){this.m_isCloseJp=!0},o(t,[{key:"IsCheckFree",get:function(){return this.m_freeCheckNode.getComponent(l).isChecked}},{key:"IsCheckJp",get:function(){return this.m_jpCheckNode.getComponent(l).isChecked}},{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,"Clip_AutoPlayMS_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,"Clip_AutoPlayMS_Landscape"}}]),t}(p)).prototype,"m_freeCheckNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"m_freeCheckTxt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(v.prototype,"m_jpCheckNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"m_jpCheckTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(v.prototype,"m_freeMask",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"m_freeTypeNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(v.prototype,"m_freeTypeTxt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=v))||D));m._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel_FD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPlaySetting.ts","./Define.ts","./SoundManager.ts","./LocalStorageManager.ts","./Tools.ts"],(function(e){"use strict";var t,a,n,i,o,m,h,s,r,l,C,c,_,p,g,f,u,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){m=e.cclegacy,h=e._decorator,s=e.Node,r=e.Toggle,l=e.Label,C=e.RichText,c=e.Sprite},function(e){_=e.default,p=e.PanelData},function(e){g=e.default},function(e){f=e.default},function(e){u=e.default},function(e){N=e.default}],execute:function(){var d,y,k,T,D,B,I,v,U,S,G,F,L,O;m._RF.push({},"d8fb6c7EnRDU7Z6hkTzo86r","AutoPlaySettingPanel_FD",void 0);var b=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckJp=!1,this.freeType=0})),E=0,A=1,P=2,V=3,M=4,R=function(e){function t(){var t;return(t=e.call(this)||this).WhenFreeGame={isCheck:!1,value:0},t}return a(t,e),t}(p),X=h.ccclass,K=h.property;e("default",(d=K(s),y=K(s),k=K(s),T=K(s),D=K(s),B=K(s),X((U=t((v=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_freeCheckNode",U,i(t)),n(t,"m_freeCheckTxt",S,i(t)),n(t,"m_freeMask",G,i(t)),n(t,"m_freeTypeNodes",F,i(t)),n(t,"m_freeTypeTxt",L,i(t)),n(t,"m_freeTypeSprite",O,i(t)),t.m_panelData=new R,t.m_freeGameString1=null,t.m_freeGameString2=null,t.m_freeGameString3=void 0,t.m_freeType=0,t.m_isCloseJp=!1,t.m_isCheckFree="-",t.m_isCheckJp="-",t}a(t,e);var m=t.prototype;return m.onLoad=function(){var a=this;e.prototype.onLoad.call(this),this.m_settingInfoData.push(4);for(var n=function(){var e=a.node.getChildByName(t.UIName.CHECKBOX+i);e&&e.on("toggle",(function(e){e.node.name==t.UIName.CHECKBOX+"6"&&(a.m_freeMask.active=!e.isChecked),e.isChecked?e.node.getChildByName(t.UIName.IMG_ON_BG).active=!0:(!a.m_isInvert||e.node.name!=t.UIName.CHECKBOX+"3"&&e.node.name!=t.UIName.CHECKBOX+"4"?e.node.getChildByName(t.UIName.IMG_ON_BG).active:a.m_isInvert=!1,e.node.getChildByName(t.UIName.IMG_ON_BG).active=!1)}));var n=null;if(e&&(n=e.getChildByName(t.UIName.BUTTON)),n&&(n.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==a.m_currentTouchName||e.target&&0==e.target.active)&&(a.m_currentTouchName=e.target.name)}),a),n.on(s.EventType.TOUCH_END,(function(t){if(a.m_currentTouchName==t.target.name){a.m_currentTouchName=null;var n=e.getComponent(r);n.isChecked?(f.getInstance().Play(g.AudioClips.COMMON_CHECKBOX_OFF),n.isChecked=!1):(f.getInstance().Play(g.AudioClips.COMMON_CHECKBOX_ON),n.isChecked=!0)}}),a),n.on(s.EventType.TOUCH_CANCEL,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null),a.m_currentTouchName=null}),a)),6==i){for(o=1;o<=5;o++){(e?e.getChildByName(t.UIName.CHECKBOX+"_D"+o):a.m_freeTypeNodes[o-1]).on("click",(function(e){var t=o-1;if(!a.m_freeMask.active)for(var n=0;n<a.m_freeTypeNodes.length;n++){a.m_freeTypeNodes[n].getComponent(r).isChecked=!1}f.getInstance().Play(g.AudioClips.COMMON_CHECKBOX_ON),a.m_settingInfoData[M]=t}),a)}a.m_freeCheckNode.on("toggle",(function(e){a.m_freeCheckNode.getComponent(r).isChecked?a.m_freeMask.active=!1:a.m_freeMask.active=!0}),a)}},i=5;i<=6;i++){var o;n()}this.m_confirmBtn&&this.m_confirmBtn.node.on("click",(function(e){a.m_freeType=a.m_settingInfoData[M]||0,a.SavePanelData()})),this.m_cancelBtn.node.on("click",(function(e){a.m_confirmBtn&&(a.m_freeType=a.m_settingInfoData[M]||0,a.SavePanelData())}))},m.Init=function(t,a,n,i){e.prototype.Init.call(this,t,a,n,i),this.LoadPanelDataFromLocal()},m.OthersInfo=function(e){var t=new b;return e?(t.isCheckFree=this.m_freeCheckNode.getComponent(r).isChecked,t.freeType=this.m_settingInfoData[M],t.isCheckJp=!1,this.SavePanelData(),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-"),t.isCheckJp?(this.SetUseWisePlay(!0),this.m_isCheckJp="1"):(this.SetUseWisePlay(!1),this.m_isCheckJp="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckFree=!1,t.freeType=-1,t.isCheckJp=!1),JSON.stringify(t)},m.SetFreeGameString=function(e,a,n){if(null!=e){this.m_freeGameString1=e;var i=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_freeCheckTxt,N.SetFont(i.getComponent(l))),i.getComponent(l).string=this.GetString(e),i.getComponent(l).font||(i.getComponent(l).font=g.DefaultFont),null!=n){this.m_freeGameString3=n;var o=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D1"),m=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D2"),h=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D3"),s=null,r=null,C=null;o&&m&&h?(s=o.getChildByName(t.UIName.TXT1),r=m.getChildByName(t.UIName.TXT1),C=h.getChildByName(t.UIName.TXT1)):(s=this.m_freeTypeTxt[0],r=this.m_freeTypeTxt[1],C=this.m_freeTypeTxt[2]),s.getComponent(l).string=this.GetString(n[0]),s.getComponent(l).font||(s.getComponent(l).font=g.DefaultFont),r.getComponent(l).string=this.GetString(n[1]),r.getComponent(l).font||(r.getComponent(l).font=g.DefaultFont),C.getComponent(l).string=this.GetString(n[2]),C.getComponent(l).font||(C.getComponent(l).font=g.DefaultFont)}}},m.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_freeCheckNode.getComponent(r).isChecked||t},m.SetTxt=function(){if(e.prototype.SetTxt.call(this),null!=this.m_freeGameString1){var a=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?a=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(a=this.m_freeCheckTxt,N.SetFont(a.getComponent(l))),a.getComponent(l).string=this.GetString(this.m_freeGameString1),a.getComponent(l).font||(a.getComponent(l).font=g.DefaultFont),null!=this.m_freeGameString3){var n=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D1"),i=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D2"),o=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D3"),m=null,h=null,s=null;n&&i&&o?(m=n.getChildByName(t.UIName.TXT1),h=i.getChildByName(t.UIName.TXT1),s=o.getChildByName(t.UIName.TXT1)):(m=this.m_freeTypeTxt[0],h=this.m_freeTypeTxt[1],s=this.m_freeTypeTxt[2]),m.getComponent(l).string=this.GetString(this.m_freeGameString3[0]),m.getComponent(l).font||(m.getComponent(l).font=g.DefaultFont),h.getComponent(l).string=this.GetString(this.m_freeGameString3[1]),h.getComponent(l).font||(h.getComponent(l).font=g.DefaultFont),s.getComponent(l).string=this.GetString(this.m_freeGameString3[2]),s.getComponent(l).font||(s.getComponent(l).font=g.DefaultFont)}}},m.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_freeCheckNode.getComponent(r).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},m.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(r).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[E],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(r).isChecked){var a=null;a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[A],this.m_panelData.TotalBet.isCheck=!0;var n=a.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(n),this.m_panelData.TotalBet.value=parseInt(n).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(r).isChecked){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[P],this.m_panelData.LessThan.isCheck=!0;var o=i.string.replace(/[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(r).isChecked){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_panelData.GreaterThan.isCheck=!0;var h=m.string.replace(/[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(h)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_freeCheckNode.getComponent(r).isChecked?(this.m_panelData.WhenFreeGame.isCheck=!0,this.m_panelData.WhenFreeGame.value=this.m_freeType):(this.m_panelData.WhenFreeGame.isCheck=!1,this.m_panelData.WhenFreeGame.value=0),u.SetObject(this.m_storageKey,this.m_panelData)},m.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[E],this.m_totalRoundCheckNode.getComponent(r).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[E]=Number(this.m_panelData.TotalRound.value))}else u.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(r).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1));var a=null;if(a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[A],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(r).isChecked=!0;var n=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(n))||(this.m_settingInfoData[A]=Number(n),this.m_singleWin=this.m_settingInfoData[A])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(a.string="100X",a.fontFamily=g.DollarFontFamily,this.m_settingInfoData[A]=100,this.m_singleWin=100):(a.string=this.m_singleWin.toString()+"X",a.fontFamily=g.DollarFontFamily,this.m_settingInfoData[A]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[P],this.m_chipLessCheckNode.getComponent(r).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);i.string=g.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),N.FORMAT_NUMBER_TYPE.NONE_DOT),i.fontFamily=g.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[P]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_chipGreatCheckNode.getComponent(r).isChecked=!0;var h=parseInt(this.m_panelData.GreaterThan.value);m.string=g.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(h),N.FORMAT_NUMBER_TYPE.NONE_DOT),m.fontFamily=g.DollarFontFamily,isNaN(Number(h))||(this.m_settingInfoData[V]=Number(h))}if(this.m_panelData.WhenFreeGame.isCheck){var s=this.m_panelData.WhenFreeGame.value+1;this.m_settingInfoData[M]=this.m_panelData.WhenFreeGame.value,this.m_freeType=this.m_settingInfoData[M]||0,null!=s&&null!=s||(s=1);for(var l=1;l<=5;l++){var c=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D"+l);c||(c=this.m_freeTypeNodes[l-1]),c.getComponent(r).isChecked=!1}var _=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"_D"+s);_||(_=this.m_freeTypeNodes[s-1]),this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK).active=!1),this.m_freeCheckNode.getComponent(r).isChecked=!0,_.getComponent(r).isChecked=!0}},m.LoadPanelDataFromLocal=function(){var e=u.GetObject(this.m_storageKey);e&&(this.m_panelData=e,this.m_panelData.TotalRound.value="100",this.LoadPanelData())},m.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckFree)+","+String(this.m_isCheckJp)},m.CloseJPCheckBox=function(){this.m_isCloseJp=!0},m.SetFreeGameSelectSprites=function(e,t){if(this.m_freeTypeNodes.length===e.length)for(var a=0;a<this.m_freeTypeNodes.length;a++){var n=this.m_freeTypeNodes[a].getChildByName("D_icon");n||(n=this.m_freeTypeSprite[a]);var i=n.getComponent(c);i||(i=n.addComponent(c)),i.spriteFrame=e[a]}if(this.m_freeTypeNodes.length===t.length)for(var o=0;o<this.m_freeTypeNodes.length;o++){var m=this.m_freeTypeNodes[o].getChildByName("label");m||(m=this.m_freeTypeTxt[o]),m.active=!0;var h=m.getComponent(l);h||(h=m.addComponent(l)),h.string=N.strip(t[o]).toString(),h.font||(h.font=g.DefaultFont)}else for(var s=0;s<this.m_freeTypeNodes.length;s++){var r=this.m_freeTypeNodes[s].getChildByName("label");r||(r=this.m_freeTypeTxt[s]),r.active=!1}},o(t,[{key:"IsCheckFree",get:function(){return this.m_freeCheckNode.getComponent(r).isChecked}},{key:"IsCheckJp",get:function(){return!1}},{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,"Clip_AutoPlayFD_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,"Clip_AutoPlayFD_Landscape"}}]),t}(_)).prototype,"m_freeCheckNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"m_freeCheckTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(v.prototype,"m_freeMask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"m_freeTypeNodes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(v.prototype,"m_freeTypeTxt",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(v.prototype,"m_freeTypeSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=v))||I));m._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel_MS.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPlaySetting.ts","./Define.ts","./SoundManager.ts","./LocalStorageManager.ts","./Tools.ts"],(function(e){"use strict";var t,a,n,i,o,m,h,s,l,r,C,c,_,p,g,u,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){m=e.cclegacy,h=e._decorator,s=e.Node,l=e.Toggle,r=e.Label,C=e.RichText},function(e){c=e.default,_=e.PanelData},function(e){p=e.default},function(e){g=e.default},function(e){u=e.default},function(e){N=e.default}],execute:function(){var d,f,k,y,T,I,B,D,v,U,G,S,F,O,b,L;m._RF.push({},"d5a43bGslBKerIVJhF2PcP+","AutoPlaySettingPanel_MS",void 0);var E=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckJp=!1,this.freeType=1})),M=0,P=1,A=2,V=3,R=4,X=function(e){function t(){var t;return(t=e.call(this)||this).WhenJp={isCheck:!1},t.WhenFreeGame={isCheck:!1,value:0},t}return a(t,e),t}(_),W=h.ccclass,j=h.property;e("default",(d=j(s),f=j(s),k=j(s),y=j(s),T=j(s),I=j(s),B=j(s),W((U=t((v=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_freeCheckNode",U,i(t)),n(t,"m_freeCheckTxt",G,i(t)),n(t,"m_jpCheckNode",S,i(t)),n(t,"m_jpCheckTxt",F,i(t)),n(t,"m_freeMask",O,i(t)),n(t,"m_freeTypeNodes",b,i(t)),n(t,"m_freeTypeTxt",L,i(t)),t.m_panelData=new X,t.m_freeGameString1=null,t.m_freeGameString2=null,t.m_freeGameString3=void 0,t.m_freeType=0,t.m_isCloseJp=!1,t.m_isCheckFree="-",t.m_isCheckJp="-",t}a(t,e);var m=t.prototype;return m.onLoad=function(){var a=this;e.prototype.onLoad.call(this),this.m_settingInfoData.push(1);for(var n=function(e){var n=a.node.getChildByName(t.UIName.CHECKBOX+e);n&&n.on("toggle",(function(e){e.node.name==t.UIName.CHECKBOX+"6"&&a.m_freeMask&&(a.m_freeMask.active=!e.isChecked),e.isChecked?e.node.getChildByName(t.UIName.IMG_ON_BG).active=!0:(!a.m_isInvert||e.node.name!=t.UIName.CHECKBOX+"3"&&e.node.name!=t.UIName.CHECKBOX+"4"?e.node.getChildByName(t.UIName.IMG_ON_BG).active:a.m_isInvert=!1,e.node.getChildByName(t.UIName.IMG_ON_BG).active=!1)}));var i=null;if(n&&(i=n.getChildByName(t.UIName.BUTTON)),i&&(i.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==a.m_currentTouchName||e.target&&0==e.target.active)&&(a.m_currentTouchName=e.target.name)}),a),i.on(s.EventType.TOUCH_END,(function(e){if(a.m_currentTouchName==e.target.name){a.m_currentTouchName=null;var i=n.getComponent(l);i.isChecked?(g.getInstance().Play(p.AudioClips.COMMON_CHECKBOX_OFF),i.isChecked=!1):(g.getInstance().Play(p.AudioClips.COMMON_CHECKBOX_ON),i.isChecked=!0),n.name==t.UIName.CHECKBOX+"6"&&a.m_freeMask&&(a.m_freeMask.active=!i.isChecked)}}),a),i.on(s.EventType.TOUCH_CANCEL,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null),a.m_currentTouchName=null}),a)),6==e){for(var o=function(e){(n?n.getChildByName(t.UIName.CHECKBOX+e):a.m_freeTypeNodes[e-1]).on("click",(function(t){var i=e;if(!a.m_freeMask.active){n?n.getComponent(l).isChecked=!0:a.m_freeCheckNode.getComponent(l).isChecked=!0;for(var o=0;o<a.m_freeTypeNodes.length;o++){a.m_freeTypeNodes[o].getComponent(l).isChecked=!1}}g.getInstance().Play(p.AudioClips.COMMON_CHECKBOX_ON),a.m_settingInfoData[R]=i}),a)},m=1;m<=2;m++)o(m);a.m_freeCheckNode.on("toggle",(function(e){a.m_freeCheckNode.getComponent(l).isChecked?a.m_freeMask.active=!1:a.m_freeMask.active=!0}),a)}},i=5;i<=6;i++)n(i);this.m_confirmBtn&&this.m_confirmBtn.node.on("click",(function(e){a.m_freeType=a.m_settingInfoData[R]||0,a.SavePanelData()})),this.m_cancelBtn&&this.m_cancelBtn.node.on("click",(function(e){a.m_confirmBtn&&(a.m_freeType=a.m_settingInfoData[R]||0,a.SavePanelData())}))},m.Init=function(t,a,n,i){e.prototype.Init.call(this,t,a,n,i),this.LoadPanelDataFromLocal()},m.OthersInfo=function(e){var t=new E;return e?(t.isCheckFree=this.m_freeCheckNode.getComponent(l).isChecked,t.freeType=this.m_settingInfoData[R],t.isCheckJp=this.m_jpCheckNode.getComponent(l).isChecked,this.SavePanelData(),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-"),t.isCheckJp?(this.SetUseWisePlay(!0),this.m_isCheckJp="1"):(this.SetUseWisePlay(!1),this.m_isCheckJp="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckFree=!1,t.freeType=-1,t.isCheckJp=!1),JSON.stringify(t)},m.SetFreeGameString=function(e,a,n){if(null!=e){this.m_freeGameString1=e;var i=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?i=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(i=this.m_freeCheckTxt,N.SetFont(i.getComponent(r))),i.getComponent(r).string=this.GetString(e),i.getComponent(r).font||(i.getComponent(r).font=p.DefaultFont),null!=n){this.m_freeGameString3=n;var o=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"1"),m=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"2"),h=null,s=null;o&&m?(h=o.getChildByName(t.UIName.TXT1),s=m.getChildByName(t.UIName.TXT2)):(h=this.m_freeTypeTxt[0],s=this.m_freeTypeTxt[1]),h.getComponent(r).string=this.GetString(n[0]),h.getComponent(r).font||(h.getComponent(r).font=p.DefaultFont),s.getComponent(r).string=this.GetString(n[1]),s.getComponent(r).font||(s.getComponent(r).font=p.DefaultFont)}}if(null!=a){this.m_freeGameString2=a;var l=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?l=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(l=this.m_jpCheckTxt,N.SetFont(l.getComponent(r))),l.getComponent(r).string=this.GetString(a),l.getComponent(r).font||(l.getComponent(r).font=p.DefaultFont)}},m.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_freeCheckNode.getComponent(l).isChecked||(!!this.m_jpCheckNode.getComponent(l).isChecked||t)},m.SetTxt=function(){if(e.prototype.SetTxt.call(this),null!=this.m_freeGameString1){var a=null;if(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?a=this.m_freeCheckNode.getChildByName(t.UIName.TXT1):(a=this.m_freeCheckTxt,N.SetFont(a.getComponent(r))),a.getComponent(r).string=this.GetString(this.m_freeGameString1),a.getComponent(r).font||(a.getComponent(r).font=p.DefaultFont),null!=this.m_freeGameString3){var n=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"1"),i=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+"2"),o=null,m=null;n&&i?(o=n.getChildByName(t.UIName.TXT1),m=i.getChildByName(t.UIName.TXT2)):(o=this.m_freeTypeTxt[0],m=this.m_freeTypeTxt[1]),o.getComponent(r).string=this.GetString(this.m_freeGameString3[0]),o.getComponent(r).font||(o.getComponent(r).font=p.DefaultFont),m.getComponent(r).string=this.GetString(this.m_freeGameString3[1]),m.getComponent(r).font||(m.getComponent(r).font=p.DefaultFont)}}if(null!=this.m_freeGameString2){var h=null;this.m_jpCheckNode.getChildByName(t.UIName.TXT1)?h=this.m_jpCheckNode.getChildByName(t.UIName.TXT1):(h=this.m_jpCheckTxt,N.SetFont(h.getComponent(r))),h.getComponent(r).string=this.GetString(this.m_freeGameString2),h.getComponent(r).font||(h.getComponent(r).font=p.DefaultFont)}},m.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_freeCheckNode.getComponent(l).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1),this.m_jpCheckNode.getComponent(l).isChecked=!1,this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_jpCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},m.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(l).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[M],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(l).isChecked){var a=null;a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[P],this.m_panelData.TotalBet.isCheck=!0;var n=a.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(n),this.m_panelData.TotalBet.value=parseInt(n).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(l).isChecked){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[A],this.m_panelData.LessThan.isCheck=!0;var o=i.string.replace(/[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(l).isChecked){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_panelData.GreaterThan.isCheck=!0;var h=m.string.replace(/[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(h)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_jpCheckNode.getComponent(l).isChecked?this.m_panelData.WhenJp.isCheck=!0:this.m_panelData.WhenJp.isCheck=!1,this.m_freeCheckNode.getComponent(l).isChecked?(this.m_panelData.WhenFreeGame.isCheck=!0,this.m_panelData.WhenFreeGame.value=this.m_freeType):(this.m_panelData.WhenFreeGame.isCheck=!1,this.m_panelData.WhenFreeGame.value=1),u.SetObject(this.m_storageKey,this.m_panelData)},m.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[M],this.m_totalRoundCheckNode.getComponent(l).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[M]=Number(this.m_panelData.TotalRound.value))}else u.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(l).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1));var a=null;if(a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[P],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(l).isChecked=!0;var n=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(n))||(this.m_settingInfoData[P]=Number(n),this.m_singleWin=this.m_settingInfoData[P])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(a.string="100X",a.fontFamily=p.DollarFontFamily,this.m_settingInfoData[P]=100,this.m_singleWin=100):(a.string=this.m_singleWin.toString()+"X",a.fontFamily=p.DollarFontFamily,this.m_settingInfoData[P]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var i=null;i=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[A],this.m_chipLessCheckNode.getComponent(l).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);i.string=p.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),N.FORMAT_NUMBER_TYPE.NONE_DOT),i.fontFamily=p.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[A]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var m=null;m=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(C):this.m_infoValue[V],this.m_chipGreatCheckNode.getComponent(l).isChecked=!0;var h=parseInt(this.m_panelData.GreaterThan.value);m.string=p.DollarSymbol+N.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(h),N.FORMAT_NUMBER_TYPE.NONE_DOT),m.fontFamily=p.DollarFontFamily,isNaN(Number(h))||(this.m_settingInfoData[V]=Number(h))}if(this.m_panelData.WhenJp&&this.m_panelData.WhenJp.isCheck&&(this.m_jpCheckNode.getComponent(l).isChecked=!0),this.m_panelData.WhenFreeGame&&this.m_panelData.WhenFreeGame.isCheck){var s=this.m_panelData.WhenFreeGame.value;this.m_settingInfoData[R]=this.m_panelData.WhenFreeGame.value,this.m_freeType=this.m_settingInfoData[R]||0,null!=s&&null!=s||(s=1);for(var r=1;r<=2;r++){var c=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+r);c||(c=this.m_freeTypeNodes[r-1]),c.getComponent(l).isChecked=!1}var _=this.m_freeCheckNode.getChildByName(t.UIName.CHECKBOX+s);_||(_=this.m_freeTypeNodes[s-1]),this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_MASK).active=!1),this.m_freeCheckNode.getComponent(l).isChecked=!0,_.getComponent(l).isChecked=!0}},m.LoadPanelDataFromLocal=function(){var e=u.GetObject(this.m_storageKey);e&&(this.m_panelData=e,this.m_panelData.TotalRound.value="100",this.LoadPanelData())},m.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckFree)+","+String(this.m_isCheckJp)},m.CloseJPCheckBox=function(){this.m_isCloseJp=!0},o(t,[{key:"IsCheckFree",get:function(){return this.m_freeCheckNode.getComponent(l).isChecked}},{key:"IsCheckJp",get:function(){return this.m_jpCheckNode.getComponent(l).isChecked}},{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,"Clip_AutoPlayMS_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,"Clip_AutoPlayMS_Landscape"}}]),t}(c)).prototype,"m_freeCheckNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(v.prototype,"m_freeCheckTxt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"m_jpCheckNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"m_jpCheckTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(v.prototype,"m_freeMask",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"m_freeTypeNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(v.prototype,"m_freeTypeTxt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=v))||D));m._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaySettingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./AutoPlaySetting.ts","./Tools.ts","./LocalStorageManager.ts"],(function(e){"use strict";var t,a,i,n,o,h,s,l,m,r,c,C,_,u,N,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){h=e.cclegacy,s=e._decorator,l=e.Node,m=e.Label,r=e.Toggle,c=e.RichText},function(e){C=e.default},function(e){_=e.default},function(e){u=e.default,N=e.AutoplaySettingIndex,d=e.PanelData},function(e){g=e.default},function(e){p=e.default}],execute:function(){var f,k,T,I,D,y;h._RF.push({},"7750dQEOpdIyLzTa9nQpCPu","AutoPlaySettingPanel",void 0);var G=e("AutoplayType",(function(){this.isCheckFree=!1,this.isCheckJp=!1})),B=function(e){function t(){var t;return(t=e.call(this)||this).WhenFreeGame={isCheck:!1},t}return a(t,e),t}(d),A=[C.GAME_ID.TWKS,C.GAME_ID.OLS,C.GAME_ID.GEM2,C.GAME_ID.PP,C.GAME_ID.XYY,C.GAME_ID.MC,C.GAME_ID.MP,C.GAME_ID.IFFF,C.GAME_ID.SR,C.GAME_ID.FG,C.GAME_ID.TW,C.GAME_ID.USA_FG,C.GAME_ID.USA_MC,C.GAME_ID.CAI,C.GAME_ID.FG2,C.GAME_ID.MC2,C.GAME_ID.GJ,C.GAME_ID.FGP,C.GAME_ID.MP2,C.GAME_ID.USA_GJ,C.GAME_ID.FG3,C.GAME_ID.JPJ,C.GAME_ID.PW],U=s.ccclass,v=s.property;e("default",(f=v(l),k=v(m),U((D=t((I=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),h=0;h<a;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_freeCheckNode",D,n(t)),i(t,"m_freeCheckTxt",y,n(t)),t.m_freeGameString1=null,t.m_isCheckFree="-",t.m_panelData=new B,t}a(t,e);var h=t.prototype;return h.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.m_freeCheckNode.on("toggle",(function(e){var t=e.target.getComponent(r);e.target.getChildByName(u.UIName.IMG_ON_BG)&&(t.isChecked?e.target.getChildByName(u.UIName.IMG_ON_BG).active=!0:e.target.getChildByName(u.UIName.IMG_ON_BG).active=!1)}),this);var a=this.m_freeCheckNode.getChildByName(u.UIName.BUTTON);a&&(a.on(l.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)}),this),a.on(l.EventType.TOUCH_END,(function(e){if(t.m_currentTouchName==e.target.name){t.m_currentTouchName=null;var a=t.m_freeCheckNode.getComponent(r);a.isChecked?(_.getInstance().Play(C.AudioClips.COMMON_CHECKBOX_OFF),a.isChecked=!1):(_.getInstance().Play(C.AudioClips.COMMON_CHECKBOX_ON),a.isChecked=!0)}}),this),a.on(l.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null),t.m_currentTouchName=null}),this))},h.Init=function(t,a,i,n){e.prototype.Init.call(this,t,a,i,n);for(var o=0;o<A.length;o++)if(this.m_gameid==A[o]){this.m_freeCheckNode.active=!1,this.m_freeCheckTxt&&(this.m_freeCheckTxt.node.active=!1);break}this.LoadPanelDataFromLocal()},h.OthersInfo=function(e){var t=new G;return e?(t.isCheckFree=this.m_freeCheckNode.getComponent(r).isChecked,this.SavePanelData(),t.isCheckFree?(this.SetUseWisePlay(!0),this.m_isCheckFree="1"):(this.SetUseWisePlay(!1),this.m_isCheckFree="-")):(this.SavePanelData(),this.ClearPanel(),t.isCheckFree=!1),JSON.stringify(t)},h.SetFreeGameString=function(e,a){null!=e&&(this.m_freeGameString1=e,this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?(this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).string=this.GetString(e),this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).font||(this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).font=C.DefaultFont)):this.m_freeCheckTxt.string=this.GetString(e))},h.IsCheckAnyToggle=function(){var t=e.prototype.IsCheckAnyToggle.call(this);return!!this.m_freeCheckNode.getComponent(r).isChecked||t},h.SetTxt=function(){e.prototype.SetTxt.call(this),null!=this.m_freeGameString1&&(this.m_freeCheckNode.getChildByName(t.UIName.TXT1)?(this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).string=this.GetString(this.m_freeGameString1),this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).font||(this.m_freeCheckNode.getChildByName(t.UIName.TXT1).getComponent(m).font=C.DefaultFont)):(this.m_freeCheckTxt.string=this.GetString(this.m_freeGameString1),g.SetFont(this.m_freeCheckTxt)))},h.ClearPanel=function(){e.prototype.ClearPanel.call(this),this.m_freeCheckNode.getComponent(r).isChecked=!1,this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG)&&(this.m_freeCheckNode.getChildByName(t.UIName.IMG_ON_BG).active=!1)},h.SavePanelData=function(){if(this.m_totalRoundCheckNode.getComponent(r).isChecked){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.TotalRound],this.m_panelData.TotalRound.isCheck=!0,this.m_panelData.TotalRound.value=e.string}else this.m_panelData.TotalRound.isCheck=!1,this.m_panelData.TotalRound.value="100";if(this.m_totalBetCheckNode.getComponent(r).isChecked){var a=null;a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.TotalBet],this.m_panelData.TotalBet.isCheck=!0;var i=a.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_singleWin=parseInt(i),this.m_panelData.TotalBet.value=parseInt(i).toString()}else this.m_panelData.TotalBet.isCheck=!1;if(this.m_chipLessCheckNode.getComponent(r).isChecked){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.LessChip],this.m_panelData.LessThan.isCheck=!0;var o=n.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.LessThan.value=this.m_bottombarView.GetRawValue(parseInt(o)).toString()}else this.m_panelData.LessThan.isCheck=!1;if(this.m_chipGreatCheckNode.getComponent(r).isChecked){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.GreatChip],this.m_panelData.GreaterThan.isCheck=!0;var s=h.string.replace(/<.*?>|[^0-9|.]/g,"");this.m_panelData.GreaterThan.value=this.m_bottombarView.GetRawValue(parseInt(s)).toString()}else this.m_panelData.GreaterThan.isCheck=!1;this.m_freeCheckNode.getComponent(r).isChecked?this.m_panelData.WhenFreeGame.isCheck=!0:this.m_panelData.WhenFreeGame.isCheck=!1,p.SetObject(this.m_storageKey,this.m_panelData)},h.LoadPanelData=function(){if(this.m_panelData.TotalRound.isCheck){var e=null;e=this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalRoundCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.TotalRound],this.m_totalRoundCheckNode.getComponent(r).isChecked=!0,e.string=this.m_panelData.TotalRound.value,isNaN(Number(this.m_panelData.TotalRound.value))||(this.m_settingInfoData[N.TotalRound]=Number(this.m_panelData.TotalRound.value))}else p.GetObject(this.m_storageKey)&&(this.m_totalRoundCheckNode.getComponent(r).isChecked=!1,this.m_totalRoundCheckNode.getChildByName(u.UIName.IMG_ON_BG)&&(this.m_totalRoundCheckNode.getChildByName(u.UIName.IMG_ON_BG).active=!1));var a=null;if(a=this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE)?this.m_totalBetCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.TotalBet],this.m_panelData.TotalBet.isCheck){this.m_totalBetCheckNode.getComponent(r).isChecked=!0;var i=parseInt(this.m_panelData.TotalBet.value);isNaN(Number(i))||(this.m_settingInfoData[N.TotalBet]=Number(i),this.m_singleWin=this.m_settingInfoData[N.TotalBet])}if(-1!=this.m_nowBet&&(-1==this.m_singleWin?(a.string="100X",a.fontFamily=C.DollarFontFamily,this.m_settingInfoData[N.TotalBet]=100,this.m_singleWin=100):(a.string=this.m_singleWin.toString()+"X",a.fontFamily=C.DollarFontFamily,this.m_settingInfoData[N.TotalBet]=this.m_singleWin)),this.m_panelData.LessThan.isCheck){var n=null;n=this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipLessCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.LessChip],this.m_chipLessCheckNode.getComponent(r).isChecked=!0;var o=parseInt(this.m_panelData.LessThan.value);n.string=C.DollarSymbol+g.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(o),g.FORMAT_NUMBER_TYPE.NONE_DOT)+C.DollarSymbolSuffix,n.fontFamily=C.DollarFontFamily,isNaN(Number(o))||(this.m_settingInfoData[N.LessChip]=Number(o))}if(this.m_panelData.GreaterThan.isCheck){var h=null;h=this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE)?this.m_chipGreatCheckNode.getChildByName(t.UIName.VALUE).getComponent(c):this.m_infoValue[N.GreatChip],this.m_chipGreatCheckNode.getComponent(r).isChecked=!0;var s=parseInt(this.m_panelData.GreaterThan.value);h.string=C.DollarSymbol+g.FormatNumberThousands(this.m_bottombarView.GetDisplayValue(s),g.FORMAT_NUMBER_TYPE.NONE_DOT)+C.DollarSymbolSuffix,h.fontFamily=C.DollarFontFamily,isNaN(Number(s))||(this.m_settingInfoData[N.GreatChip]=Number(s))}this.m_panelData.WhenFreeGame&&this.m_panelData.WhenFreeGame.isCheck&&(this.m_freeCheckNode.getComponent(r).isChecked=!0)},h.LoadPanelDataFromLocal=function(){var e=p.GetObject(this.m_storageKey);e&&(this.m_panelData=e,this.m_panelData.TotalRound.value="100",this.LoadPanelData())},h.SumaryWiseAutoPlay=function(){return String(this.m_checkTotalRound)+","+String(this.m_checkTotalBet)+","+String(this.m_checkChipLessLimit)+","+String(this.m_checkChipGreatLimit)+","+String(this.m_isCheckFree)+","},h.CloseJPCheckBox=function(){},o(t,[{key:"IsCheckFree",get:function(){return this.m_freeCheckNode.getComponent(r).isChecked}},{key:"PanelAniS",get:function(){return this.m_isLandscape=!1,"Clip_AutoPlayDFI_Portrait"}},{key:"PanelAniL",get:function(){return this.m_isLandscape=!0,"Clip_AutoPlayDFI_Landscape"}}]),t}(u)).prototype,"m_freeCheckNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(I.prototype,"m_freeCheckTxt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=I))||T));h._RF.pop()}}}));

System.register("chunks:///_virtual/AutoShowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o;return{setters:[function(t){i=t.createClass},function(t){o=t.cclegacy}],execute:function(){function n(t,i){return t.order-i.order}o._RF.push({},"090c0Ac2bVF7J9GZO2B0JHH","AutoShowManager",void 0);var s=t("default",function(){function t(){this.m_autoShowCb=new Array,this.m_isIntorViewOpen=!0,this.m_nowShowIdx=0,this.m_showOver=!1,this.m_hasGameIntro=!1,this.m_canShowNext=!1,this.m_isStart=!1,this.m_isFeaturesDemoMode=!1,this.m_isInTrail=!1}t.GetInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var o=t.prototype;return o.CheckIntroViewClose=function(){this.m_isIntorViewOpen=!1},o.GetIntroViewClose=function(){return this.m_isIntorViewOpen},o.SetIsFeaturesDemoMode=function(t){this.m_isFeaturesDemoMode=t},o.SetIsInTrial=function(t){this.m_isInTrail=t},o.AddAutoShowCb=function(t,i){var o={order:i,cb:t};this.m_autoShowCb.push(o),this.m_autoShowCb.sort(n)},o.StartAutoShow=function(){this.m_isStart||this.m_isIntorViewOpen||this.m_showOver||this.m_isInTrail||this.m_isFeaturesDemoMode||!this.m_autoShowCb[this.m_nowShowIdx]||(this.m_isStart=!0,this.m_autoShowCb[this.m_nowShowIdx].cb())},o.AutoShowNext=function(){this.m_isStart&&!this.m_showOver&&(this.m_nowShowIdx++,this.m_nowShowIdx==this.m_autoShowCb.length?this.m_showOver=!0:this.m_nowShowIdx<this.m_autoShowCb.length&&this.m_autoShowCb[this.m_nowShowIdx].cb())},o.CheckShowOver=function(){return 0==this.m_autoShowCb.length&&(this.m_showOver=!0),this.m_showOver},i(t,[{key:"IsIntorViewOpen",get:function(){return this.m_isIntorViewOpen}}]),t}());s._instance=new s,o._RF.pop()}}}));

System.register("chunks:///_virtual/AwardCell.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,l,o,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Sprite,u=e.Label,s=e.Component}],execute:function(){var p,c,m,b,f,_;a._RF.push({},"7e3da11kY1JI4gIrIg0HrIT","AwardCell",void 0);var d=l.ccclass,h=l.property;e("default",(p=h({type:o,tooltip:"獎勵圖"}),c=h({type:u,tooltip:"數量"}),d((f=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_awardSprite",f,n(t)),i(t,"m_numLabel",_,n(t)),t.m_baseNum=0,t}r(t,e);var a=t.prototype;return a.Init=function(e,t){this.m_awardSprite.spriteFrame=e,this.m_numLabel.string="X"+t,this.m_baseNum=t},a.UpdateNum=function(e){this.m_numLabel.string="X"+this.m_baseNum*e},t}(s)).prototype,"m_awardSprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(b.prototype,"m_numLabel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Backpack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Protocol.ts","./Define.ts","./SoundManager.ts","./MsgBox.ts","./LocaleStringManager.ts","./Tools.ts","./TimeBool.ts","./ItemList.ts","./ExtraManager.ts","./NotificationManager.ts","./AppManager.ts","./LoadRemotePlist.ts","./GameItems.ts","./OtherGames.ts","./ItemDetail.ts","./ItemSystemMsgs.ts","./ItemUse.ts","./ItemEnd.ts","./SpinEft.ts","./env","./itemproto.mjs_cjs=&original=.js","./BackpackManager.ts","./BottombarManager.ts","./BuffManager.ts","./itemproto.js"],(function(t){"use strict";var e,i,n,o,a,s,m,r,l,c,h,_,u,d,g,f,p,C,S,I,b,v,N,y,A,T,L,R,B,E,P,k,M,D,G,w,F,O,U,q,x,K,z,H,W,X,Y,V,Z;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,m=t._decorator,r=t.Node,l=t.Label,c=t.SpriteFrame,h=t.Prefab,_=t.Sprite,u=t.instantiate,d=t.sys,g=t.UITransform,f=t.v3,p=t.tween,C=t.js,S=t.Animation,I=t.UIOpacity,b=t.error,v=t.log,N=t.SpriteAtlas,y=t.Component,A=t.Button},function(t){T=t.default},function(t){L=t.default},function(t){R=t.default},function(t){B=t.default},function(t){E=t.default},function(t){P=t.default},function(t){k=t.default},function(t){M=t.default},function(t){D=t.default},function(t){G=t.default},function(t){w=t.default},function(t){F=t.default},function(t){O=t.default},function(t){U=t.default},function(t){q=t.default},function(t){x=t.default},function(t){K=t.default},function(t){z=t.default},function(t){H=t.default},function(t){W=t.PREVIEW},null,function(t){X=t.backpackManager},function(t){Y=t.default},function(t){V=t.default},function(t){Z=t.default}],execute:function(){var j,J,Q,$,tt,et,it,nt,ot,at,st,mt,rt,lt,ct,ht,_t,ut,dt,gt,ft,pt,Ct,St,It,bt,vt,Nt,yt,At,Tt,Lt,Rt,Bt,Et,Pt,kt,Mt,Dt,Gt,wt,Ft,Ot,Ut,qt,xt,Kt,zt;s._RF.push({},"db61fQBL6xGa6NM86faOrgn","Backpack",void 0);var Ht="Clip_Common_TagFrame_Landscape",Wt="Clip_Common_TagFrame_Portrait",Xt={Game:0,All:1,Msg:2},Yt=["Backpack_ThisGame","Backpack_OtherGame","Backpack_Message"],Vt=(t("VendorSource",14),[1,3,5,10,50]),Zt=.05,jt=5,Jt=6,Qt=7,$t=m.ccclass,te=m.property;t("default",(j=te({type:r,tooltip:"道具卡遮罩"}),J=te({type:l,tooltip:"道具卡阻擋提示"}),Q=te({type:c,tooltip:"廠商icon"}),$=te({type:r,tooltip:"背景遮罩"}),tt=te({type:r,tooltip:"內容"}),et=te({type:h,tooltip:"道具卡"}),it=te({type:h,tooltip:"道具卡資訊"}),nt=te({type:h,tooltip:"全遊戲"}),ot=te({type:h,tooltip:"個人訊息"}),at=te({type:r,tooltip:"亮起的頁簽"}),st=te({type:r,tooltip:"紅點"}),mt=te({type:_,tooltip:"標題"}),rt=te({type:_,tooltip:"頁簽標題-暗"}),lt=te({type:_,tooltip:"頁簽標題-亮"}),ct=te({type:h,tooltip:"使用道具卡"}),ht=te({type:h,tooltip:"使用道具卡結束"}),_t=te({type:h,tooltip:"押注轉換特效"}),ut=te({type:h,tooltip:"道具卡效果"}),dt=te({type:h,tooltip:"使用道具卡特效"}),gt=te({type:h,tooltip:"SPIN特效"}),ft=te({type:r,tooltip:"Logo"}),pt=te({type:r,tooltip:"Other Logo"}),Ct=te({type:r,tooltip:"TaDa Casino"}),$t((bt=e((It=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"m_blockNodes",bt,o(e)),n(e,"m_blockLabels",vt,o(e)),n(e,"m_vendorIconSpriteFrame",Nt,o(e)),n(e,"m_bgMaskNode",yt,o(e)),n(e,"m_contentNode",At,o(e)),n(e,"m_itemPagePrefab",Tt,o(e)),n(e,"m_detailPagePrefab",Lt,o(e)),n(e,"m_allPagePrefab",Rt,o(e)),n(e,"m_msgPagePrefab",Bt,o(e)),n(e,"m_lightPageNodes",Et,o(e)),n(e,"m_redPointNodes",Pt,o(e)),n(e,"m_titleSprite",kt,o(e)),n(e,"m_darkTabTitleSprites",Mt,o(e)),n(e,"m_lightTabTitleSprites",Dt,o(e)),n(e,"m_itemUseAniPrefab",Gt,o(e)),n(e,"m_itemEndAniPrefab",wt,o(e)),n(e,"m_betAniPrefab",Ft,o(e)),n(e,"m_iconFXPrefab",Ot,o(e)),n(e,"m_usingCardEftPrefab",Ut,o(e)),n(e,"m_spinBtnEftPrefab",qt,o(e)),n(e,"m_logoNode",xt,o(e)),n(e,"m_otherLogoNode",Kt,o(e)),n(e,"m_tadaCasinoLogoNode",zt,o(e)),e.m_controller=null,e.m_currentTouchName=null,e.m_curItemCellCountL=30,e.m_curItemCellCountS=30,e.m_curMsgCellCountL=0,e.m_curMsgCellCountS=0,e.m_curAllCellCountL=0,e.m_curAllCellCountS=0,e.m_isLandscape=null,e.m_isSmall=void 0,e.m_isOnLoad=!0,e.m_itemList=void 0,e.m_itemPlist=void 0,e.m_realItemPlist=void 0,e.m_itemEft=void 0,e.m_itemsCellL=void 0,e.m_itemsCellS=void 0,e.m_msgCell=void 0,e.m_allCell=void 0,e.m_spinBtnEft=void 0,e.m_usingCardEft=null,e.m_itemsNodeL=[],e.m_itemsNumL=[],e.m_itemsHintL=[],e.m_itemsNodeS=[],e.m_itemsNumS=[],e.m_itemsHintS=[],e.m_msgNodeL=[],e.m_msgNodeS=[],e.m_allNodeL=[],e.m_allNodeS=[],e.m_usingCard=void 0,e.m_usingCardNum=void 0,e.m_usingCardIcon=void 0,e.m_bottomRp=void 0,e.m_hasReqItem=!1,e.m_hasReqBuff=!1,e.m_hasReqMsg=!1,e.m_hasReqUseItem=!1,e.m_hasReqUseBuff=!1,e.m_hasReqAll=!1,e.m_curDescL=null,e.m_curDescS=null,e.m_reqDataFunc=void 0,e.m_reqUseFunc=void 0,e.m_reqMsgFunc=void 0,e.m_reqCleanMsgFunc=void 0,e.m_reqAlltabDataFunc=void 0,e.m_curItemID=null,e.m_curItemIdx=null,e.m_onUseItemID=null,e.m_isPlayingAni=!1,e.m_isPlayingShowAni=!1,e.m_msgList=void 0,e.m_allList=void 0,e.m_isRead=!0,e.m_oldBet=0,e.m_countTarget=null,e.m_isCountStart=!1,e.m_increaseOrDecrease=1,e.m_holdTime=0,e.m_timer=Zt,e.m_holdIncreaseStep=0,e.m_totalTime=0,e.m_loadTimer=void 0,e.m_lastitemLength=0,e.m_lastimsgLength=0,e.m_lastiallLength=0,e.m_curTab=0,e.m_curStartTime=void 0,e.m_curEndTime=void 0,e.m_isLockNumControl=!1,e.m_smallIconCb={},e.m_fstTouchT=0,e.m_secTouchT=0,e.m_fstTouchB=0,e.m_secTouchB=0,e.m_isAutoShowEnd=!1,e.m_gameItems=null,e.m_itemDetail=null,e.m_otherGames=null,e.m_itemSystemMsgs=null,e}i(e,t);var s=e.prototype;return s.onLoad=function(){X.OnLoad(this)},s.onDestroy=function(){X.OnDestroy()},s.start=function(){},s.Init=function(t,e,i,n,o,a,s,m,r){var l=this;if(this.m_controller=t,this.m_bottomRp=n,this.m_usingCard=i,this.m_reqDataFunc=o,this.m_reqUseFunc=a,this.m_reqMsgFunc=s,this.m_reqCleanMsgFunc=m,this.m_reqAlltabDataFunc=r,this.m_loadTimer=new k,this.m_loadTimer.UseDT(!0),this.m_contentNode){var c=u(this.m_itemPagePrefab);this.m_contentNode.addChild(c),this.m_gameItems=c.getComponent(O),this.m_gameItems.Init((function(t,e){void 0===e&&(e=-1),-1==t&&-1!=e?l.ShowBuffCard(e):l.m_itemList&&l.m_itemList[t]&&l.ShowItemCard(t)}));var h=u(this.m_detailPagePrefab);this.node.addChild(h),h.active=!1,this.m_itemDetail=h.getComponent(q),this.m_itemDetail.Init(this.m_controller,this,(function(t,e,i){l.ReqUseItemCard(t,e,i)}),(function(t,e){l.ReqUseBuffCard(t,e)}));var _=u(this.m_allPagePrefab);this.m_contentNode.addChild(_),_.active=!1,this.m_otherGames=_.getComponent(U);var d=u(this.m_msgPagePrefab);this.m_contentNode.addChild(d),d.active=!1,this.m_itemSystemMsgs=d.getComponent(x)}this.LoadRes(),E.GetInstance().IsBackpackStringLoaded()?this.SetTxtByLocale():E.GetInstance().RegisterOnBackpackStringLoadedCb((function(){l.SetTxtByLocale()})),M.GetInstance().AddListener("AutoShow",(function(){l.m_isAutoShowEnd||l.AutoShow()})),this.SetLogoIcon()},s.SetLogoIcon=function(){if(P.LoadIcon(E.CurrLang,Number(L.NOW_GAME_ID),null),this.m_logoNode)if(P.Line!=L.LineSetting.americas&&P.Line!=L.LineSetting.americas_str){var t=P.UsingLogoSpriteFrame();t?P.OtherLogo&&this.m_otherLogoNode?(this.m_otherLogoNode.active=!0,this.m_logoNode.active=!1,this.m_otherLogoNode.getComponent(_).spriteFrame=t):this.m_logoNode.active=!0:this.m_logoNode.active=!1}else P.IsTadaCasino&&this.m_tadaCasinoLogoNode&&(this.m_logoNode.active=!1,this.m_tadaCasinoLogoNode.active=!0)},s.OnSelectTab=function(t,e){var i=Number(e);if(!isNaN(i)){R.getInstance().Play(L.AudioClips.COMMON_BTN);for(var n=0;n<this.m_lightPageNodes.length;n++)this.m_lightPageNodes[n].active=i==n;switch(this.m_redPointNodes[i].active=!1,this.m_gameItems.node.active=i==Xt.Game,this.m_otherGames.node.active=i==Xt.All,this.m_itemSystemMsgs.node.active=i==Xt.Msg,i){case Xt.Game:this.m_gameItems.ScrollToTop(),this.ShowGameRedpoint(!1);break;case Xt.All:this.m_otherGames.ScrollToTop(),this.ShowAllRedpoint(!1);break;case Xt.Msg:this.m_itemSystemMsgs.ScrollToTop(),this.ShowMsgRedpoint(!1),this.ReqMsgCleanData()}this.ShowRedpoint(!1),this.OnRotation(this.m_isLandscape)}},s.OnClose=function(){R.getInstance().Play(L.AudioClips.COMMON_BTN),this.Hide()},s.AutoShow=function(){if(this.m_itemPlist&&null!==this.m_isLandscape&&E.GetInstance().IsBackpackStringLoaded()&&M.GetInstance().GetGameSpriteAtlas()&&this.m_itemList&&this.CheckRes()){this.m_isAutoShowEnd=!0;var t=window.location.search.split("itemIdx=")[1];if(d.isNative||w.LobbyData){var e=w.BackPackInfo;if(e&&this.m_itemList)for(var i=e.itemindex,n=0;n<this.m_itemList.length;n++)i==this.m_itemList[n].itemindex&&(this.Show(this.m_isLandscape),this.ShowItemCard(n))}else if(t&&this.m_itemList)for(var o=parseInt(t,10),a=0;a<this.m_itemList.length;a++)o==this.m_itemList[a].itemindex&&(this.Show(this.m_isLandscape),this.ShowItemCard(a))}},s.Show=function(t){var e=this;if(E.GetInstance().IsBackpackStringLoaded()){if(!this.m_isPlayingShowAni){this.m_isPlayingShowAni=!0,this.node.active=!0,this.ResetUI(),this.OnRotation(t,this.m_isSmall);var i=P.DiffPos(this.m_controller.node.getComponent(g).anchorPoint,this.m_isLandscape);i=this.m_isLandscape?f(0,320):f(0,568);var n=this.m_controller.BackPackBtnNode.getChildByName(D.UIName.IMG_BACKPACKNODE);n||(n=this.m_controller.BackPackBtnNode);var o=n.parent.getComponent(g).convertToWorldSpaceAR(n.getPosition()),a=this.m_controller.node.getComponent(g).convertToNodeSpaceAR(o);this.node.position=f(a.x,a.y),this.node.setScale(f(.1,.1,1)),this.m_bgMaskNode.active=!1,p(this.node).to(.2,{position:f(i.x,i.y),scale:f(1,1,1)}).call((function(){e.ResetUI(),e.m_loadTimer.Start(1e4),e.ReqItemData(),e.ReqBuffData(),e.m_onUseItemID||e.ReqMsgData(),e.ReqAlltabData(),e.ShowGameRedpoint(!1),e.ShowRedpoint(!1),e.m_bgMaskNode.active=!0})).delay(.1).call((function(){e.m_isPlayingShowAni=!1})).start()}}else B.getInstance().ShowMessageBox(L.StringKey.MSGBOX_ONLOADING)},s.Hide=function(){var t=this;if(!this.m_isPlayingShowAni){this.m_isPlayingShowAni=!0,this.m_bgMaskNode.active=!1;var e=this.m_controller.BackPackBtnNode.getChildByName(D.UIName.IMG_BACKPACKNODE);e||(e=this.m_controller.BackPackBtnNode);var i=e.parent.getComponent(g).convertToWorldSpaceAR(e.getPosition()),n=this.m_controller.node.getComponent(g).convertToNodeSpaceAR(i);p(this.node).to(.3,{position:f(n.x,n.y),scale:f(.1,.1,1)}).call((function(){t.m_bgMaskNode.active=!0,t.m_controller.SetBackpackBtnAniTimer(t.CheckCanUseItem()),t.m_isPlayingShowAni=!1,t.node.active=!1})).start(),this.CloseInfo(),this.m_itemDetail&&this.m_itemDetail.OnClose()}},s.ShowItemCard=function(t){if(this.m_itemList[t].gameid===L.GAME_ID.ENTITY){var e=L.RealItemsMap[this.m_itemList[t].itemid],i=E.GetInstance().GetString(L.StringKey.ITEM_DESC+L.GAME_ID.ENTITY);i=i.replace("{PH}",E.GetInstance().GetString(e));var n=E.GetInstance().GetString(L.StringKey.GF_GIFTCARD),o=E.GetInstance().GetString(e),a=this.m_controller.getComponent(Y),s=this.m_realItemPlist.getSpriteFrame(this.m_itemList[t].itemid.toString());a.OpenCommonText(n,E.GetInstance().GetString(L.StringKey.BACKPACK_TXT_INFO)+"\n"+i,o,s,this.m_itemList[t].amount)}else this.m_itemDetail.ShowItemDetail(this.m_itemList[t],this.m_itemPlist,this.m_itemEft,this.m_vendorIconSpriteFrame,this.m_realItemPlist);this.OnRotation(this.m_isLandscape)},s.ShowBuffCard=function(t){if(V.GetInstance().BuffCardDatas.length>0){var e=V.GetInstance().BuffCardDatas[t];this.m_itemDetail.ShowBuffDetail(e),this.OnRotation(this.m_isLandscape)}},s.GetTimeString=function(t){t*=1e3;var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),m="%s/%s/%s %s:%s";return m=C.formatStr(m,i,n<10?"0"+n:n,o<10?"0"+o:o,a<10?"0"+a:a,s<10?"0"+s:s)},s.SetLockNumControl=function(t){this.m_isLockNumControl=t},s.CloseInfo=function(){this.m_curDescL=null,this.m_curDescS=null,this.m_curItemID=null,this.m_curItemIdx=null,this.ShowNumControl(!1)},s.ReloadItemData=function(){this.m_gameItems.SetItemInfo(this.m_itemList,this.m_itemPlist,this.m_itemEft,this.m_realItemPlist)},s.ReloadMsgData=function(){this.m_itemSystemMsgs.SetMsgs(this.m_msgList)},s.ReloadAllTabData=function(){this.m_otherGames.SetInfo(this.m_allList)},s.GetItemInfo=function(t){for(var e=0;e<this.m_itemList.length;e++)if(this.m_itemList[e].itemid==t)return this.m_itemList[e];return null},s.CheckAmount=function(t){var e=0;return this.m_itemList.forEach((function(i){i.itemid==t&&(e+=i.amount)})),e},s.CheckCanUseItem=function(){if(this.m_itemList)for(var t=0;t<this.m_itemList.length;t++)if(this.m_itemList[t]&&0==this.m_itemList[t].banreason)return!0;return!1},s.ShowNumControl=function(t){},s.ShowAward=function(t,e,i,n){var o=this;void 0===i&&(i=!1),void 0===n&&(n=!0);var a=u(this.m_itemEndAniPrefab),s=u(this.m_betAniPrefab),m=a.getComponent(z).Label,r=P.StringFormat(this.GetString(L.StringKey.BACKPACK_AWARD),P.FormatNumberThousands(this.m_controller.GetDisplayValue(P.strip(t)),P.FORMAT_NUMBER_TYPE.DEFINE_DOT));r=P.CustomStringFormat(r,{symbol:"<p>"+L.DollarSymbol+" </p>"}),m.string=r,m.fontFamily=L.DollarFontFamily,P.SetFont(m),a.setPosition(f(-30,a.position.y));var l=this.m_controller.BetBtn.node.position;s.position=l,s.active=!1,this.m_onUseItemID=null,this.m_usingCard.addChild(a),this.m_controller.node.addChild(s),P.SetZIndex(s,L.ZOrder.BACKPACK+1),this.m_isPlayingAni=!0,a.getComponent(S).play("Clip_Backpack_ItemCard_End"),a.getComponent(S).once(S.EventType.FINISHED,(function(){p(o.m_usingCard).to(.2,{scale:f(0,0,1)}).call((function(){s.active=!0,s.getComponent(S).play("Clip_Backpack_ItemCard_Bet")})).delay(.5).call((function(){n&&0!=o.m_oldBet&&(o.m_controller.SetNowBet(o.m_oldBet),o.m_oldBet=0),o.m_controller.SetItemBetSprite(L.BetMode.Normal),e&&e(),o.m_spinBtnEft.removeFromParent(),o.m_spinBtnEft.destroy(),o.m_spinBtnEft=null,o.m_usingCardEft.getComponent(S).stop(),o.m_isPlayingAni=!1,o.SetUsingCard(!1),a.removeFromParent(),a.destroy(),s.removeFromParent(),s.destroy(),o.m_controller.SetLeaveFree(i)})).start(),o.m_spinBtnEft&&p(o.m_spinBtnEft.getComponent(I)).to(.2,{opacity:0}).delay(.5).call((function(){o.m_spinBtnEft&&(o.m_spinBtnEft.removeFromParent(),o.m_spinBtnEft.destroy(),o.m_spinBtnEft=null)})).start(),o.ShowMsgRedpoint(!0),o.ShowRedpoint(!0)})),this.ReqItemData()},s.ReqUseItemCard=function(t,e,i){this.m_hasReqUseItem||(this.m_hasReqUseItem=!0,this.m_reqUseFunc(t,e,i))},s.ReqUseBuffCard=function(t,e){this.m_hasReqUseBuff||(this.m_hasReqUseBuff=!0,w.UseBuff(t,e),this.Hide())},s.ReqItemData=function(){b("ReqItemData",this.m_hasReqItem),this.m_hasReqItem||(this.m_hasReqItem=!0,this.m_reqDataFunc(),G.GetInstance().CleanBackpackNotify())},s.ReqBuffData=function(){this.m_hasReqBuff=!0;w.GetBuffCardData((function(t){V.GetInstance().BuffCardDatas=t}))},s.ReqMsgData=function(){this.m_hasReqMsg||(this.m_hasReqMsg=!0,this.m_reqMsgFunc())},s.ReqMsgCleanData=function(){this.m_isRead||this.m_reqCleanMsgFunc()},s.ReqAlltabData=function(){this.m_hasReqAll||(this.m_hasReqAll=!0,this.m_reqAlltabDataFunc())},s.OnRevAllTabDataAck=function(t){v(t);var e=null,i=null,n=null;t instanceof Z.itemprotocol.ListAllGameInfo?(e={result:t.result,canuseitem:t.canuseitem},i=T.Ret.SERVER_SUCCESS,n=e.result):(e=t.info,i=t.ret,n=e.result),this.m_hasReqAll=!1,i==T.Ret.SERVER_SUCCESS&&n==T.ItemAck.ITEM_USESUCCESS&&(this.m_allList=e.canuseitem?e.canuseitem:[],this.PreloadSmallIcon(),this.ReloadAllTabData())},s.OnRevMsgCleanDataAck=function(t){v(t)},s.OnRevMsgDataAck=function(t){v(t);var e=null,i=null,n=null;t instanceof Z.itemprotocol.GetMailAck?(e={result:t.result,isread:t.isread,usermailackdata:t.usermailackdata},i=T.Ret.SERVER_SUCCESS,n=e.result):(e=t.info,i=t.ret,n=e.result),this.m_hasReqMsg=!1,i==T.Ret.SERVER_SUCCESS&&(n==T.ItemAck.ITEM_USESUCCESS?(this.m_msgList=e.usermailackdata?e.usermailackdata:[],this.ReloadMsgData()):this.m_msgList&&this.ReloadMsgData())},s.OnRevItemDataAck=function(t){var e=this,i=null,n=null,o=null;if(t instanceof Z.itemprotocol.ListInfo?(i={result:t.result,playeritemdata:t.playeritemdata},n=T.Ret.SERVER_SUCCESS,o=t.result):(i=t.info,n=t.ret,o=i.result),this.m_hasReqItem=!1,this.m_hasReqUseItem=!1,this.m_hasReqUseBuff=!1,this.m_loadTimer.Clear(),n==T.Ret.SERVER_SUCCESS){if(o==T.ItemAck.ITEM_USESUCCESS){for(var a=0;a<this.m_blockNodes.length;a++)this.m_blockNodes[a].active=!1;this.m_itemList=i.playeritemdata?i.playeritemdata:[],1==this.node.active||W||G.GetInstance().UpdateBackpackNotify(this.m_itemList),this.CheckItemData(this.m_itemList.length),this.ReloadItemData(),this.m_controller.SetBackpackBtnAniTimer(this.CheckCanUseItem()),this.m_isAutoShowEnd||this.AutoShow()}else if(o==T.ItemAck.ITEM_RTPFAIL)for(var s=0;s<this.m_blockNodes.length;s++)this.m_blockNodes[s].active=!0;this.m_isAutoShowEnd||this.AutoShow()}else B.getInstance().ShowMessageBox(L.StringKey.MSGBOX_RESYNC,L.StringKey.MSGBOX_TITLE_SYSTEM_INFO,(function(){e.Hide()}))},s.OnRevUseItemCardAck=function(t,e,i,n,o,a,s){var m=this;if(void 0===a&&(a=!1),t){console.error("Why"),this.m_onUseItemID=e;var r=this.m_controller.BetBtn.node,c=u(this.m_itemUseAniPrefab),h=u(this.m_betAniPrefab),d=u(this.m_iconFXPrefab),C=this.m_itemDetail.IconSprite.node,b=this.m_controller.node.getComponent(g).convertToNodeSpaceAR(C.parent.getComponent(g).convertToWorldSpaceAR(f(0,0))),v=r.position,N=this.m_controller.node.getComponent(g).convertToNodeSpaceAR(this.m_usingCard.parent.getComponent(g).convertToWorldSpaceAR(this.m_usingCard.position));c.position=b,h.position=v,d.position=N;var y=c.getComponent(K).MoveNode,A=c.getComponent(K).IconNode,T=c.getComponent(K).NumNode,E=this.m_controller.node.getComponent(g).convertToNodeSpaceAR(this.m_usingCard.parent.getComponent(g).convertToWorldSpaceAR(this.m_usingCard.position));E=c.getComponent(g).convertToNodeSpaceAR(E);var k=r.position;if(k=c.getComponent(g).convertToNodeSpaceAR(k),A.getComponent(_).spriteFrame=this.m_itemPlist?M.GetInstance().GetItemIcon(n):this.m_itemEft.getSpriteFrame("common_card"),T.getComponent(l).string=o.toString(),this.m_controller.node.addChild(c),P.SetZIndex(c,L.ZOrder.BACKPACK+1),this.m_controller.node.addChild(h),P.SetZIndex(h,L.ZOrder.BACKPACK+1),this.m_controller.node.addChild(d),P.SetZIndex(d,L.ZOrder.BACKPACK+1),h.active=!1,this.m_oldBet=this.m_controller.GetNowBetValue(),!this.m_usingCardEft){this.m_usingCardEft=u(this.m_usingCardEftPrefab),this.m_usingCard.addChild(this.m_usingCardEft);var D=this.m_usingCardEft.getComponent(K).IconNode,G=this.m_usingCardEft.getComponent(K).NumNode;this.m_usingCardIcon=D.getComponent(_),this.m_usingCardNum=G.getComponent(l)}this.m_controller.SetEnterFree(a),this.Hide(),this.m_controller.getComponent(Y).SetGiftCodeBtnState(),R.getInstance().Play(L.AudioClips.ITEM_CARD_USE),c.getComponent(S).play("Clip_Backpack_ItemCard_Use"),c.getComponent(S).once(S.EventType.FINISHED,(function(){p(y).to(.25,{position:f(k.x,k.y),scale:f(.4,.4,1)}).call((function(){h.active=!0,h.getComponent(S).play("Clip_Backpack_ItemCard_Bet"),y.getComponent(I).opacity=0,m.m_controller.SetNowBet(P.strip(i),!0),m.m_controller.SetItemBetSprite(L.BetMode.Item)})).delay(.1).call((function(){d.getComponent(S).play("Clip_Backpack_ItemCard_IconFX"),d.getComponent(S).once(S.EventType.FINISHED,(function(){y.getComponent(I).opacity=255,y.setPosition(E.x,E.y)}))})).delay(.5).call((function(){m.SetUsingCard(!0,e,n,o),m.m_isPlayingAni=!1,c.removeFromParent(),c.destroy(),h.removeFromParent(),h.destroy(),d.removeFromParent(),d.destroy(),s&&s()})).start()})),this.m_isPlayingAni=!0,this.m_spinBtnEft=u(this.m_spinBtnEftPrefab);var w=this.m_spinBtnEft.getComponent(H);w&&w.SetState(),(P.Line===L.LineSetting.street||P.Line===L.LineSetting.americas_str?this.m_controller.SpinBtn.node:this.m_controller.SpinBtn.node.parent).addChild(this.m_spinBtnEft)}else B.getInstance().ShowMessageBox(L.StringKey.MSGBOX_RESYNC);this.m_hasReqUseItem=!1},s.ShowRedpoint=function(t){if(t)this.m_bottomRp.active=!0,this.m_controller.SetBackpackBtnAniTimer(!0);else{for(var e=!0,i=0;i<this.m_redPointNodes.length;i++)if(this.m_redPointNodes[i].active){e=!1;break}e&&(this.m_bottomRp.active=!1,this.m_controller.SetBackpackBtnAniTimer(!1))}},s.ShowGameRedpoint=function(t){this.m_redPointNodes[Xt.Game].active=t},s.ShowAllRedpoint=function(t){this.m_redPointNodes[Xt.All].active=t},s.ShowMsgRedpoint=function(t){this.m_redPointNodes[Xt.Msg].active=t},s.SetUsingCard=function(t,e,i,n){t&&e&&i&&n?(this.m_usingCardIcon.spriteFrame=this.m_itemPlist?M.GetInstance().GetItemIcon(i):this.m_itemEft.getSpriteFrame("common_card"),this.m_usingCardNum.string=n.toString(),p(this.m_usingCard).to(.016,{scale:f(1,1,1)}).start(),this.m_usingCardEft&&(this.m_usingCardEft.active=!0)):(this.m_usingCardEft&&(this.m_usingCardEft.active=!1),this.m_usingCardIcon.getComponent(_).spriteFrame=null)},s.SetUsingCardNum=function(t,e){this.m_usingCardNum.string=t.toString(),e&&this.m_usingCardEft.getComponent(S).play()},s.RestUsingState=function(){this.m_usingCardEft.getComponent(S).stop(),this.m_isPlayingAni=!1,this.SetUsingCard(!1),this.m_onUseItemID=null,this.m_controller.SetLeaveFree(!0),this.m_controller.SetItemBetSprite(L.BetMode.Normal)},s.ResetUI=function(){this.m_curTab=Xt.Game,this.OnSelectTab(null,Xt.Game.toString()),this.m_gameItems.ScrollToTop()},s.SetTxtByLocale=function(){E.GetInstance().GetCommonAtlas(),E.CurrLang===L.Lang.MM&&L.DefaultFont;if(E.CurrLang!==L.Lang.EN){var t=E.GetInstance().GetCommonAtlas();this.m_titleSprite.spriteFrame=t.getSpriteFrame("Backpack_Title");for(var e=0;e<this.m_darkTabTitleSprites.length;e++)this.m_darkTabTitleSprites[e].spriteFrame=t.getSpriteFrame(Yt[e]),this.m_lightTabTitleSprites[e].spriteFrame=t.getSpriteFrame(Yt[e]+"_On")}if(this.m_gameItems.SetTxt(),this.m_itemDetail.SetTxt(),this.m_otherGames.SetTxt(),this.m_itemSystemMsgs.SetTxt(),this.m_blockLabels)for(var i=this.GetString(L.StringKey.MSGBOX_ONLOADING),n=0;n<this.m_blockLabels.length;n++)this.m_blockLabels[n].string=i,P.SetFont(this.m_blockLabels[n])},s.GetString=function(t){return E.GetInstance().GetString(t)},s.OnRotation=function(t,e){this.m_isLandscape=t,void 0!==e&&(this.m_isSmall=e),this.m_isLandscape?this.node.getComponent(S).play(Ht):this.node.getComponent(S).play(Wt),this.m_gameItems.OnRotation(t),this.m_itemDetail.OnRotation(t),this.m_otherGames.OnRotation(t),this.m_itemSystemMsgs.OnRotation(t),this.m_isAutoShowEnd||this.AutoShow()},s.CheckItemData=function(t){if(t>this.m_curItemCellCountL){var e=Math.ceil((t-this.m_curItemCellCountL)/5);this.m_curItemCellCountL+=5*e;for(var i=0;i<e;i++)this.AddItemCell(!0)}if(t>this.m_curItemCellCountS){var n=Math.ceil((t-this.m_curItemCellCountS)/3);this.m_curItemCellCountS+=3*n;for(var o=0;o<n;o++)this.AddItemCell(!1)}},s.AddItemCell=function(t){var e=this,i=this.m_itemsCellS,n=this.m_itemsNodeS,o=this.m_itemsNumS;if(t&&(i=this.m_itemsCellL,n=this.m_itemsNodeL,o=this.m_itemsNumL),i){var a=u(i);a.name="items"+n.length,a.children.forEach((function(t){if("item"==t.name){t.name=n.length.toString();var i=t.getChildByName("HintIcon");i&&(i.getComponent(_).spriteFrame=e.m_vendorIconSpriteFrame),n.push(t)}else"num"==t.name&&(t.name=o.length.toString(),o.push(t))})),this.SetItemTouchEvent(a.children)}},s.CheckMsgData=function(t){if(t>this.m_curMsgCellCountL){var e=t-this.m_curMsgCellCountL;this.m_curMsgCellCountL+=e;for(var i=0;i<e;i++)this.AddMsgCell(!0)}if(t>this.m_curMsgCellCountS){var n=t-this.m_curMsgCellCountS;this.m_curMsgCellCountS+=n;for(var o=0;o<n;o++)this.AddMsgCell(!1)}},s.AddMsgCell=function(t){if(this.m_msgCell){var e=u(this.m_msgCell),i=t?this.m_msgNodeL:this.m_msgNodeS;e.name=i.length.toString(),i.push(e)}},s.CheckAllData=function(t){if(t>this.m_curAllCellCountL){var e=t-this.m_curAllCellCountL;this.m_curAllCellCountL+=e;for(var i=0;i<e;i++)this.AddAllCell(!0)}if(t>this.m_curAllCellCountS){var n=t-this.m_curAllCellCountS;this.m_curAllCellCountS+=n;for(var o=0;o<n;o++)this.AddAllCell(!1)}},s.AddAllCell=function(t){if(this.m_allCell){var e=t?this.m_allNodeL:this.m_allNodeS,i=u(this.m_allCell);i.name=e.length.toString(),e.push(i)}},s.PreloadSmallIcon=function(){for(var t=this,e=!1,i=function(i){var n=t.m_allList[i].gameid;if(P.Icons[n])return"continue";M.GetInstance().GetSmallIcon(n,(function(e){if(P.Icons[n]=e,t.m_smallIconCb[n]&&t.m_smallIconCb[n].length>0){for(;t.m_smallIconCb[n].length>0;)t.m_smallIconCb[n].shift()();t.m_smallIconCb[n]=[]}})),n==Number(L.NOW_GAME_ID)&&(e=!0)},n=0;n<this.m_allList.length;n++)i(n);e||M.GetInstance().GetSmallIcon(Number(L.NOW_GAME_ID),(function(t){P.Icons[L.NOW_GAME_ID]=t}))},s.SetItemTouchEvent=function(t){for(var e=this,i=function(i){var n=t[i].getComponent(A);if(!n)return{v:void 0};n.node.on(r.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==e.m_currentTouchName&&n.interactable||t.target&&0==t.target.active)&&(e.m_currentTouchName=t.target.name)})),n.node.on(r.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null)})),n.node.on(r.EventType.TOUCH_END,(function(t){if(e.m_currentTouchName==t.target.name){var i=Number(t.target.name);e.m_itemList&&e.m_itemList[i]&&e.ShowItemCard(i),e.m_currentTouchName=null}}))},n=0;n<t.length;n++){var o=i(n);if("object"==typeof o)return o.v}},s.OnClickChange=function(t,e,i,n,o){var a,s=this.m_countTarget.string.replace(/<.*?>|[^0-9|.]/g,"");return isNaN(Number(s))||(a=Number(s)),(a=P.plus(a,P.times(e,i)))<=n?a=n:a>o&&(a=o),t.string=P.FormatNumberThousands(a,P.FORMAT_NUMBER_TYPE.NONE_DOT),a},s.update=function(t){var e=this;if(this.m_loadTimer&&(this.m_loadTimer.Update(1e3*t),this.m_loadTimer.ToBool()&&(this.m_loadTimer.Clear(),B.getInstance().ShowMessageBox(L.StringKey.MSGBOX_RESYNC,L.StringKey.MSGBOX_TITLE_SYSTEM_INFO,(function(){e.Hide()})))),this.m_isCountStart)if(this.m_totalTime+=t,Zt=this.m_totalTime>=1?.05:.2,this.m_timer<0){this.m_holdTime+=Zt;var i=0;i=this.m_holdTime>6?Vt[4]:this.m_holdTime>4.5?Vt[3]:this.m_holdTime>3?Vt[2]:this.m_holdTime>1?Vt[1]:Vt[0],this.m_holdIncreaseStep=P.plus(this.m_holdIncreaseStep,i);var n,o=this.m_countTarget.string.replace(/<.*?>|[^0-9|.]/g,"");isNaN(Number(o))||(n=Number(o));var a=P.plus(this.m_holdIncreaseStep,1);((n=P.plus(n,P.times(a,this.m_increaseOrDecrease)))<1||n>1)&&(n=1),this.m_countTarget.string=P.FormatNumberThousands(n,P.FORMAT_NUMBER_TYPE.NONE_DOT),this.m_timer=Zt}else this.m_timer-=t},s.ShowTab=function(t){switch(this.m_curTab=t,t){case Xt.Game:this.SetTabRotate(Xt.Game),this.ShowGameRedpoint(!1),this.ShowRedpoint(!1),this.m_controller.PushClickToBuffer(jt);break;case Xt.All:this.SetTabRotate(Xt.All),this.ShowAllRedpoint(!1),this.ShowRedpoint(!1),this.m_controller.PushClickToBuffer(Jt);break;case Xt.Msg:this.SetTabRotate(Xt.Msg),this.ShowMsgRedpoint(!1),this.ShowRedpoint(!1),this.m_controller.PushClickToBuffer(Qt),this.ReqMsgCleanData()}},s.SetTabRotate=function(t){},s.LoadRes=function(){var t=this,e=E.CurrLang;e!==L.Lang.CN&&e!==L.Lang.EN&&(e=L.Lang.EN);var i="/smallicon/ItemCards/{gameid}_{lang}.plist";if(i=(i=i.replace("{gameid}",L.NOW_GAME_ID)).replace("{lang}",e),d.isNative||w.LobbyData)try{var n=w.GetUrl();""===(i=n.slice(0,n.search(/\.com/g)+4)+i)&&b("No URL!")}catch(t){t(JSON.stringify(t))}var o=function(){t.CheckRes()&&(t.m_reqDataFunc(),t.m_reqMsgFunc(),t.m_reqAlltabDataFunc()),t.m_isAutoShowEnd||t.AutoShow()};F(i,(function(e,n){e?b("err, url",e,i):(M.GetInstance().SetGameSpriteAtlas(n),t.m_itemPlist=n,o())}));var a="Astt/%s/backpack/GiftCards/{lang}/GiftCards";a=a.replace("{lang}",e),a=P.GetFilePath(a),L.CommonBundle.load(a,N,(function(e,i){e?console.error(e.message||e):(M.GetInstance().SetRealItemSpriteAtlas(i),t.m_realItemPlist=i,o())})),this.m_controller.LoadCommonItem(L.CbKey.Backpack,(function(e){M.GetInstance().SetCommonSpriteAtlas(e),t.m_itemEft=e,o()}))},s.CheckRes=function(){return!(!this.m_itemPlist||!this.m_itemEft)},a(e,[{key:"ItemPlist",get:function(){return this.m_itemPlist}},{key:"RealItemPlist",get:function(){return this.m_realItemPlist}},{key:"ItemEft",get:function(){return this.m_itemEft}},{key:"OnUseItemID",get:function(){return this.m_onUseItemID}},{key:"IsPlayingAni",get:function(){return this.m_isPlayingAni}},{key:"IsPlayingShowAni",get:function(){return this.m_isPlayingShowAni}},{key:"IsLockNumControl",get:function(){return this.m_isLockNumControl}}]),e}(y)).prototype,"m_blockNodes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=e(It.prototype,"m_blockLabels",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=e(It.prototype,"m_vendorIconSpriteFrame",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(It.prototype,"m_bgMaskNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(It.prototype,"m_contentNode",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(It.prototype,"m_itemPagePrefab",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(It.prototype,"m_detailPagePrefab",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(It.prototype,"m_allPagePrefab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(It.prototype,"m_msgPagePrefab",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(It.prototype,"m_lightPageNodes",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=e(It.prototype,"m_redPointNodes",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=e(It.prototype,"m_titleSprite",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(It.prototype,"m_darkTabTitleSprites",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(It.prototype,"m_lightTabTitleSprites",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=e(It.prototype,"m_itemUseAniPrefab",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(It.prototype,"m_itemEndAniPrefab",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(It.prototype,"m_betAniPrefab",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=e(It.prototype,"m_iconFXPrefab",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=e(It.prototype,"m_usingCardEftPrefab",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=e(It.prototype,"m_spinBtnEftPrefab",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=e(It.prototype,"m_logoNode",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(It.prototype,"m_otherLogoNode",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(It.prototype,"m_tadaCasinoLogoNode",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=It))||St));s._RF.pop()}}}));

System.register("chunks:///_virtual/BackpackComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,l,o,u,a,m,f,_,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,u=e._decorator,a=e.Sprite,m=e.Node,f=e.Button,_=e.Label,c=e.ScrollView,p=e.Component}],execute:function(){var b,g,s,y,w,k,h,z,V,T,S,L,d,I,M,G,A,R,x,v,B,C,N,P,U,W,D,E,j,F,J,H,Z,q,K,O,Q,X,Y,$,ee,te,ne,ie,re,le,oe,ue,ae,me,fe,_e,ce,pe,be,ge,se,ye,we,ke,he,ze,Ve,Te,Se,Le,de,Ie,Me,Ge,Ae,Re,xe,ve,Be,Ce,Ne,Pe,Ue,We,De,Ee,je,Fe,Je,He,Ze,qe,Ke,Oe,Qe,Xe,Ye,$e,et,tt,nt,it,rt,lt,ot,ut,at,mt,ft,_t,ct,pt,bt,gt,st,yt,wt,kt,ht,zt,Vt,Tt,St,Lt,dt,It,Mt,Gt,At,Rt,xt,vt,Bt,Ct,Nt,Pt,Ut,Wt,Dt,Et,jt,Ft,Jt,Ht,Zt,qt,Kt,Ot,Qt,Xt,Yt,$t,en,tn,nn,rn,ln,on;o._RF.push({},"deb57ES+JJGsZl/pI8jdxsT","BackpackComponent",void 0);var un=u.ccclass,an=u.property;e("default",(b=an(a),g=an(m),s=an({type:f,tooltip:"關閉"}),y=an({type:f,tooltip:"道具卡說明關閉"}),w=an({type:m,tooltip:"分頁"}),k=an(m),h=an(f),z=an(_),V=an(m),T=an(f),S=an(_),L=an(m),d=an(f),I=an(_),M=an(m),G=an({type:c,tooltip:"橫版道具ScrollView"}),A=an({type:m,tooltip:"橫版道具警告"}),R=an({type:m,tooltip:"橫版道具"}),x=an({type:c,tooltip:"直版道具ScrollView"}),v=an({type:m,tooltip:"直版道具警告"}),B=an({type:m,tooltip:"直版道具"}),C=an({type:c,tooltip:"橫版個人訊息ScrollView"}),N=an({type:m,tooltip:"橫版個人訊息"}),P=an({type:m,tooltip:"橫版個人訊息警告"}),U=an({type:c,tooltip:"直版個人訊息ScrollView"}),W=an({type:m,tooltip:"直版個人訊息"}),D=an({type:m,tooltip:"直版個人訊息警告"}),E=an({type:c,tooltip:"橫版所有卡片ScrollView"}),j=an({type:m,tooltip:"橫版所有卡片"}),F=an({type:m,tooltip:"橫版所有卡片警告"}),J=an({type:c,tooltip:"直版所有卡片ScrollView"}),H=an({type:m,tooltip:"直版所有卡片"}),Z=an({type:m,tooltip:"直版所有卡片警告"}),q=an({type:m,tooltip:"道具卡說明頁"}),K=an({type:_,tooltip:"道具卡說明標題"}),O=an({type:a,tooltip:"道具卡說明圖片"}),Q=an({type:_,tooltip:"道具卡說明圖片數字"}),X=an({type:m,tooltip:"道具卡說明對應遊戲"}),Y=an(_),$=an(_),ee=an({type:m,tooltip:"道具卡說明押注"}),te=an(_),ne=an(_),ie=an({type:m,tooltip:"道具卡說明圖vip"}),re=an(_),le=an(_),oe=an({type:m,tooltip:"道具卡說明圖財產限制"}),ue=an(m),ae=an(_),me=an(_),fe=an({type:m,tooltip:"道具卡說明可使用日期"}),_e=an(m),ce=an(_),pe=an(_),be=an({type:m,tooltip:"道具卡說明到期日期"}),ge=an(_),se=an(_),ye=an({type:m,tooltip:"道具卡說明"}),we=an(_),ke=an(_),he=an({type:m,tooltip:"遮罩"}),ze=an({type:m,tooltip:"道具卡說明遮罩"}),Ve=an({type:f,tooltip:"使用"}),Te=an(_),Se=an({type:m,tooltip:"限制原因"}),Le=an(_),de=an({type:m,tooltip:"loading mask"}),Ie=an({type:m,tooltip:"調整數量"}),Me=an({type:f,tooltip:"+"}),Ge=an({type:f,tooltip:"-"}),Ae=an(_),Re=an(m),xe=an(m),ve=an(m),Be=an(f),Ce=an(f),un((Ue=t((Pe=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"m_topTitle",Ue,r(t)),i(t,"m_logo",We,r(t)),i(t,"m_close",De,r(t)),i(t,"m_info_close",Ee,r(t)),i(t,"m_tabs",je,r(t)),i(t,"m_tabs_bg",Fe,r(t)),i(t,"m_tabs_game",Je,r(t)),i(t,"m_tabs_gameLabel",He,r(t)),i(t,"m_tabs_gameRp",Ze,r(t)),i(t,"m_tabs_all",qe,r(t)),i(t,"m_tabs_allLabel",Ke,r(t)),i(t,"m_tabs_allRp",Oe,r(t)),i(t,"m_tabs_msg",Qe,r(t)),i(t,"m_tabs_msgLabel",Xe,r(t)),i(t,"m_tabs_msgRp",Ye,r(t)),i(t,"m_scrollViewGameL",$e,r(t)),i(t,"m_warningGameL",et,r(t)),i(t,"m_contentGameL",tt,r(t)),i(t,"m_scrollViewGameS",nt,r(t)),i(t,"m_warningGameS",it,r(t)),i(t,"m_contentGameS",rt,r(t)),i(t,"m_scrollViewMsgL",lt,r(t)),i(t,"m_contentMsgL",ot,r(t)),i(t,"m_warningMsgL",ut,r(t)),i(t,"m_scrollViewMsgS",at,r(t)),i(t,"m_contentMsgS",mt,r(t)),i(t,"m_warningMsgS",ft,r(t)),i(t,"m_scrollViewAllL",_t,r(t)),i(t,"m_contentAllL",ct,r(t)),i(t,"m_warningAllL",pt,r(t)),i(t,"m_scrollViewAllS",bt,r(t)),i(t,"m_contentAllS",gt,r(t)),i(t,"m_warningAllS",st,r(t)),i(t,"m_info",yt,r(t)),i(t,"m_info_title",wt,r(t)),i(t,"m_info_img",kt,r(t)),i(t,"m_info_imgNum",ht,r(t)),i(t,"m_info_game",zt,r(t)),i(t,"m_info_gameTitle",Vt,r(t)),i(t,"m_info_gameValue",Tt,r(t)),i(t,"m_info_bet",St,r(t)),i(t,"m_info_betTitle",Lt,r(t)),i(t,"m_info_betValue",dt,r(t)),i(t,"m_info_vip",It,r(t)),i(t,"m_info_vipTitle",Mt,r(t)),i(t,"m_info_vipValue",Gt,r(t)),i(t,"m_info_property",At,r(t)),i(t,"m_info_propertyRefused",Rt,r(t)),i(t,"m_info_propertyTitle",xt,r(t)),i(t,"m_info_propertyValue",vt,r(t)),i(t,"m_info_usage",Bt,r(t)),i(t,"m_info_usageRefused",Ct,r(t)),i(t,"m_info_usageTitle",Nt,r(t)),i(t,"m_info_usageValue",Pt,r(t)),i(t,"m_info_expire",Ut,r(t)),i(t,"m_info_expireTitle",Wt,r(t)),i(t,"m_info_expireValue",Dt,r(t)),i(t,"m_info_content",Et,r(t)),i(t,"m_info_contentTitle",jt,r(t)),i(t,"m_info_contentValue",Ft,r(t)),i(t,"m_mask",Jt,r(t)),i(t,"m_info_mask",Ht,r(t)),i(t,"m_info_use",Zt,r(t)),i(t,"m_info_useValue",qt,r(t)),i(t,"m_info_refused",Kt,r(t)),i(t,"m_info_refusedValue",Ot,r(t)),i(t,"m_loadingMask",Qt,r(t)),i(t,"m_numNode",Xt,r(t)),i(t,"m_btn_plus",Yt,r(t)),i(t,"m_btn_dec",$t,r(t)),i(t,"m_btn_num",en,r(t)),i(t,"m_btn_bg",tn,r(t)),i(t,"m_btn_plusTxt",nn,r(t)),i(t,"m_btn_decTxt",rn,r(t)),i(t,"m_scrollToTop",ln,r(t)),i(t,"m_scrollToBot",on,r(t)),t}return n(t,e),l(t,[{key:"TopTitle",get:function(){return this.m_topTitle}},{key:"Logo",get:function(){return this.m_logo}},{key:"Close",get:function(){return this.m_close}},{key:"InfoClose",get:function(){return this.m_info_close}},{key:"Tabs",get:function(){return this.m_tabs}},{key:"TabsBg",get:function(){return this.m_tabs_bg}},{key:"TabsGame",get:function(){return this.m_tabs_game}},{key:"TabsGameLabel",get:function(){return this.m_tabs_gameLabel}},{key:"TabsGameRedpoint",get:function(){return this.m_tabs_gameRp}},{key:"TabsAll",get:function(){return this.m_tabs_all}},{key:"TabsAllLabel",get:function(){return this.m_tabs_allLabel}},{key:"TabsAllRedpoint",get:function(){return this.m_tabs_allRp}},{key:"TabsMsg",get:function(){return this.m_tabs_msg}},{key:"TabsMsgLabel",get:function(){return this.m_tabs_msgLabel}},{key:"TabsMsgRedpoint",get:function(){return this.m_tabs_msgRp}},{key:"ScrollViewGameL",get:function(){return this.m_scrollViewGameL}},{key:"WarningGameL",get:function(){return this.m_warningGameL}},{key:"ContentGameL",get:function(){return this.m_contentGameL}},{key:"ScrollViewGameS",get:function(){return this.m_scrollViewGameS}},{key:"WarningGameS",get:function(){return this.m_warningGameS}},{key:"ContentGameS",get:function(){return this.m_contentGameS}},{key:"ScrollViewMsgL",get:function(){return this.m_scrollViewMsgL}},{key:"ContentMsgL",get:function(){return this.m_contentMsgL}},{key:"WarningMsgL",get:function(){return this.m_warningMsgL}},{key:"ScrollViewMsgS",get:function(){return this.m_scrollViewMsgS}},{key:"ContentMsgS",get:function(){return this.m_contentMsgS}},{key:"WarningMsgS",get:function(){return this.m_warningMsgS}},{key:"ScrollViewAllL",get:function(){return this.m_scrollViewAllL}},{key:"ContentAllL",get:function(){return this.m_contentAllL}},{key:"WarningAllL",get:function(){return this.m_warningAllL}},{key:"ScrollViewAllS",get:function(){return this.m_scrollViewAllS}},{key:"ContentAllS",get:function(){return this.m_contentAllS}},{key:"WarningAllS",get:function(){return this.m_warningAllS}},{key:"Info",get:function(){return this.m_info}},{key:"InfoTitle",get:function(){return this.m_info_title}},{key:"InfoImg",get:function(){return this.m_info_img}},{key:"InfoImgNum",get:function(){return this.m_info_imgNum}},{key:"InfoGame",get:function(){return this.m_info_game}},{key:"InfoGameTitle",get:function(){return this.m_info_gameTitle}},{key:"InfoGameValue",get:function(){return this.m_info_gameValue}},{key:"InfoBet",get:function(){return this.m_info_bet}},{key:"InfoBetTitle",get:function(){return this.m_info_betTitle}},{key:"InfoBetValue",get:function(){return this.m_info_betValue}},{key:"InfoVip",get:function(){return this.m_info_vip}},{key:"InfoVipTitle",get:function(){return this.m_info_vipTitle}},{key:"InfoVipValue",get:function(){return this.m_info_vipValue}},{key:"InfoProperty",get:function(){return this.m_info_property}},{key:"InfoPropertyRefused",get:function(){return this.m_info_propertyRefused}},{key:"InfoPropertyTitle",get:function(){return this.m_info_propertyTitle}},{key:"InfoPropertyValue",get:function(){return this.m_info_propertyValue}},{key:"InfoUsage",get:function(){return this.m_info_usage}},{key:"InfoUsageRefused",get:function(){return this.m_info_usageRefused}},{key:"InfoUsageTitle",get:function(){return this.m_info_usageTitle}},{key:"InfoUsageValue",get:function(){return this.m_info_usageValue}},{key:"InfoExpire",get:function(){return this.m_info_expire}},{key:"InfoExpireTitle",get:function(){return this.m_info_expireTitle}},{key:"InfoExpireValue",get:function(){return this.m_info_expireValue}},{key:"InfoContent",get:function(){return this.m_info_content}},{key:"InfoContentTitle",get:function(){return this.m_info_contentTitle}},{key:"InfoContentValue",get:function(){return this.m_info_contentValue}},{key:"Mask",get:function(){return this.m_mask}},{key:"InfoMask",get:function(){return this.m_info_mask}},{key:"InfoUse",get:function(){return this.m_info_use}},{key:"InfoUseValue",get:function(){return this.m_info_useValue}},{key:"InfoRefused",get:function(){return this.m_info_refused}},{key:"InfoRefusedValue",get:function(){return this.m_info_refusedValue}},{key:"LoadingMask",get:function(){return this.m_loadingMask}},{key:"NumNode",get:function(){return this.m_numNode}},{key:"InfoPlus",get:function(){return this.m_btn_plus}},{key:"InfoDec",get:function(){return this.m_btn_dec}},{key:"InfoBtnNum",get:function(){return this.m_btn_num}},{key:"InfoBtnBg",get:function(){return this.m_btn_bg}},{key:"InfoPlusTxt",get:function(){return this.m_btn_plusTxt}},{key:"InfoDecTxt",get:function(){return this.m_btn_decTxt}},{key:"ScrollToTop",get:function(){return this.m_scrollToTop}},{key:"ScrollToBot",get:function(){return this.m_scrollToBot}}]),t}(p)).prototype,"m_topTitle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Pe.prototype,"m_logo",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Pe.prototype,"m_close",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Pe.prototype,"m_info_close",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Pe.prototype,"m_tabs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Pe.prototype,"m_tabs_bg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Pe.prototype,"m_tabs_game",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Pe.prototype,"m_tabs_gameLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Pe.prototype,"m_tabs_gameRp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Pe.prototype,"m_tabs_all",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Pe.prototype,"m_tabs_allLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Pe.prototype,"m_tabs_allRp",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Pe.prototype,"m_tabs_msg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Pe.prototype,"m_tabs_msgLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Pe.prototype,"m_tabs_msgRp",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Pe.prototype,"m_scrollViewGameL",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Pe.prototype,"m_warningGameL",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Pe.prototype,"m_contentGameL",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Pe.prototype,"m_scrollViewGameS",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Pe.prototype,"m_warningGameS",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Pe.prototype,"m_contentGameS",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Pe.prototype,"m_scrollViewMsgL",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Pe.prototype,"m_contentMsgL",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Pe.prototype,"m_warningMsgL",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Pe.prototype,"m_scrollViewMsgS",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(Pe.prototype,"m_contentMsgS",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(Pe.prototype,"m_warningMsgS",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=t(Pe.prototype,"m_scrollViewAllL",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Pe.prototype,"m_contentAllL",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(Pe.prototype,"m_warningAllL",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(Pe.prototype,"m_scrollViewAllS",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(Pe.prototype,"m_contentAllS",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Pe.prototype,"m_warningAllS",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(Pe.prototype,"m_info",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=t(Pe.prototype,"m_info_title",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=t(Pe.prototype,"m_info_img",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(Pe.prototype,"m_info_imgNum",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=t(Pe.prototype,"m_info_game",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=t(Pe.prototype,"m_info_gameTitle",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=t(Pe.prototype,"m_info_gameValue",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=t(Pe.prototype,"m_info_bet",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=t(Pe.prototype,"m_info_betTitle",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(Pe.prototype,"m_info_betValue",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=t(Pe.prototype,"m_info_vip",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=t(Pe.prototype,"m_info_vipTitle",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=t(Pe.prototype,"m_info_vipValue",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=t(Pe.prototype,"m_info_property",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=t(Pe.prototype,"m_info_propertyRefused",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=t(Pe.prototype,"m_info_propertyTitle",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(Pe.prototype,"m_info_propertyValue",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=t(Pe.prototype,"m_info_usage",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=t(Pe.prototype,"m_info_usageRefused",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=t(Pe.prototype,"m_info_usageTitle",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=t(Pe.prototype,"m_info_usageValue",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=t(Pe.prototype,"m_info_expire",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=t(Pe.prototype,"m_info_expireTitle",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=t(Pe.prototype,"m_info_expireValue",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=t(Pe.prototype,"m_info_content",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=t(Pe.prototype,"m_info_contentTitle",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=t(Pe.prototype,"m_info_contentValue",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=t(Pe.prototype,"m_mask",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=t(Pe.prototype,"m_info_mask",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=t(Pe.prototype,"m_info_use",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=t(Pe.prototype,"m_info_useValue",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=t(Pe.prototype,"m_info_refused",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=t(Pe.prototype,"m_info_refusedValue",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=t(Pe.prototype,"m_loadingMask",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=t(Pe.prototype,"m_numNode",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=t(Pe.prototype,"m_btn_plus",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=t(Pe.prototype,"m_btn_dec",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=t(Pe.prototype,"m_btn_num",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=t(Pe.prototype,"m_btn_bg",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=t(Pe.prototype,"m_btn_plusTxt",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=t(Pe.prototype,"m_btn_decTxt",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=t(Pe.prototype,"m_scrollToTop",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=t(Pe.prototype,"m_scrollToBot",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=Pe))||Ne));o._RF.pop()}}}));

System.register("chunks:///_virtual/BackpackManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Protocol.ts","./ConnectManager.ts","./LocaleStringManager.ts","./Wallet.ts","./gaiaProto.mjs_cjs=&original=.js","./itemproto.mjs_cjs=&original=.js","./GaiaManager.ts","./itemproto.js","./gaiaProto.js"],(function(t){"use strict";var e,n,a,c,i,o,r,u,s,l,k;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.default},function(t){c=t.ItemReqData,i=t.default},function(t){o=t.default},function(t){r=t.default},function(t){u=t.walletManger},null,null,function(t){s=t.gaiaManager},function(t){l=t.default},function(t){k=t.default}],execute:function(){n._RF.push({},"b575cOkgaVB5IqEVkoBXBFv","BackpackManager",void 0);var m=21,f=22,d=24,h=25,A=26;t("backpackManager",new(function(){function t(){this.m_backpack=null,this.m_createViewCb=null,this.m_useCardCb=null,this.m_isAutoLock=!1,this.m_recvUseCardEndCb=null}var n=t.prototype;return n.OnLoad=function(t){this.m_backpack=t},n.OnDestroy=function(){this.m_backpack=null},n.Init=function(t,e,n,a,c,i,o,r,u){var s;null==(s=this.m_backpack)||s.Init(t,e,n,a,c,i,o,r,u)},n.NewInit=function(t,e,n){var l=this;void 0===e&&(e=!1),void 0===n&&(n=null),this.m_useCardCb=t,this.m_isAutoLock=e,this.m_recvUseCardEndCb=n;this.m_createViewCb("",(function(){if(a.APP){var t=new k.gaiaProto.ItemListReq;t.aid=Number(a.APP.GetAID()),t.token=a.APP.GetAToken(),t.lang=i.Language[r.CurrLang],u.HasWallet&&(t.currencynumber=u.CurencyID);var e=new c.ItemDataReq;e.reqData=k.gaiaProto.ItemListReq.encode(t).finish(),o.GetInstance().SendCommand(e,(function(t){s.CheckAck(t,(function(t,e){l.OnRecvAck(t,e)}))}),!1,!0)}}),(function(t,e,n){if(a.APP){var i=new k.gaiaProto.ItemUseCardReq;i.aid=Number(a.APP.GetAID()),i.token=a.APP.GetAToken(),i.itemindex=e.toString(),i.itemid=t.toString(),i.amount=n.toString(),u.HasWallet&&(i.currencynumber=u.CurencyID);var r=new c.ItemUseReq;r.reqData=k.gaiaProto.ItemUseCardReq.encode(i).finish(),o.GetInstance().SendCommand(r,(function(t){s.CheckAck(t,(function(t,e){l.OnRecvAck(t,e)}))}),!1,!0)}}),(function(){if(a.APP){var t=new k.gaiaProto.ItemGetMailReq;t.aid=Number(a.APP.GetAID()),t.token=a.APP.GetAToken(),u.HasWallet&&(t.currencynumber=u.CurencyID);var e=new c.GetItemMail;e.reqData=k.gaiaProto.ItemGetMailReq.encode(t).finish(),o.GetInstance().SendCommand(e,(function(t){s.CheckAck(t,(function(t,e){l.OnRecvAck(t,e)}))}),!1,!0)}}),(function(){}),(function(){if(a.APP){var t=new k.gaiaProto.ItemAllGameReq;t.aid=Number(a.APP.GetAID()),t.token=a.APP.GetAToken(),t.lang=i.Language[r.CurrLang],u.HasWallet&&(t.currencynumber=u.CurencyID);var e=new c.ItemAllGameDateReq;e.reqData=k.gaiaProto.ItemAllGameReq.encode(t).finish(),o.GetInstance().SendCommand(e,(function(t){s.CheckAck(t,(function(t,e){l.OnRecvAck(t,e)}))}),!1,!0)}}))},n.OnRecvAck=function(t,e){switch(t){case m:var n,a=l.itemprotocol.ListInfo.decode(e);null==(n=this.m_backpack)||n.OnRevItemDataAck(a);break;case f:var c,i,o=l.itemprotocol.UseCardAck.decode(e),r=!1;if(0==o.result||!o.result)r=!0,null==(i=this.m_useCardCb)||i.call(this,o.itemid,o.amount,o.bet);null==(c=this.m_backpack)||c.OnRevUseItemCardAck(r,o.itemid,o.bet,o.icon,o.amount,this.m_isAutoLock,this.m_recvUseCardEndCb);break;case d:var u,s=l.itemprotocol.GetMailAck.decode(e);null==(u=this.m_backpack)||u.OnRevMsgDataAck(s);break;case h:break;case A:var k,b=l.itemprotocol.ListAllGameInfo.decode(e);null==(k=this.m_backpack)||k.OnRevAllTabDataAck(b)}},n.AutoShow=function(){var t;null==(t=this.m_backpack)||t.AutoShow()},n.Show=function(t){var e;null==(e=this.m_backpack)||e.Show(t)},n.SetLockNumControl=function(t){var e;null==(e=this.m_backpack)||e.SetLockNumControl(t)},n.ShowAward=function(t,e,n,a){var c;void 0===n&&(n=!1),void 0===a&&(a=!0),null==(c=this.m_backpack)||c.ShowAward(t,e,n,a)},n.OnRevAllTabDataAck=function(t){var e;null==(e=this.m_backpack)||e.OnRevAllTabDataAck(t)},n.OnRevMsgDataAck=function(t){var e;null==(e=this.m_backpack)||e.OnRevMsgDataAck(t)},n.OnRevItemDataAck=function(t){var e;null==(e=this.m_backpack)||e.OnRevItemDataAck(t)},n.OnRevUseItemCardAck=function(t,e,n,a,c,i,o){var r;void 0===i&&(i=!1),null==(r=this.m_backpack)||r.OnRevUseItemCardAck(t,e,n,a,c,i,o)},n.ShowRedpoint=function(t){var e;null==(e=this.m_backpack)||e.ShowRedpoint(t)},n.ShowGameRedpoint=function(t){var e;null==(e=this.m_backpack)||e.ShowGameRedpoint(t)},n.SetUsingCardNum=function(t,e){var n;null==(n=this.m_backpack)||n.SetUsingCardNum(t,e)},n.OnRotation=function(t,e){var n;null==(n=this.m_backpack)||n.OnRotation(t,e)},e(t,[{key:"CreateViewCb",set:function(t){this.m_createViewCb=t}},{key:"IsPlayingAni",get:function(){return!!this.m_backpack&&this.m_backpack.IsPlayingAni}},{key:"OnUseItemID",get:function(){return this.m_backpack?this.m_backpack.OnUseItemID:null}},{key:"HasBackpack",get:function(){return!!this.m_backpack}},{key:"ItemPlist",get:function(){return this.m_backpack?this.m_backpack.ItemPlist:null}}]),t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/BarBodyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,l,a,p,u,m,b,c,_,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Animation,p=t.Sprite,u=t.Button,m=t.Label,b=t.RichText,c=t.Node,_=t.Widget,y=t.Component}],execute:function(){var f,s,B,S,w,h,L,g,d,z,k,N,V,v,A,H,C,R,M,x,I,P,E,W,T,D,F,U,j,J,K,O,X,Z,q,G,Q,Y,$,tt,et,it,nt,ot,rt,lt,at,pt,ut,mt,bt,ct,_t,yt,ft,st,Bt,St,wt,ht,Lt,gt,dt,zt,kt,Nt,Vt,vt,At,Ht,Ct,Rt,Mt,xt,It,Pt,Et,Wt,Tt,Dt,Ft,Ut,jt,Jt,Kt,Ot,Xt,Zt,qt,Gt,Qt,Yt,$t,te,ee,ie,ne,oe,re,le,ae,pe,ue,me,be,ce,_e,ye,fe,se;r._RF.push({},"9661aSWZHFKO7J7m9SCRitz","BarBodyComponent",void 0);var Be=l.ccclass,Se=l.property;t("default",(f=Se({type:a,tooltip:"連線提示動畫"}),s=Se({type:p,tooltip:"連線狀態"}),B=Se({type:u,tooltip:"Spin按鈕"}),S=Se({type:u,tooltip:"Stop Spin按鈕"}),w=Se({type:u,tooltip:"自動玩按鈕"}),h=Se({type:u,tooltip:"停止自動玩按鈕"}),L=Se({type:u,tooltip:"停止計數自動玩按鈕"}),g=Se({type:u,tooltip:"快停按鈕"}),d=Se({type:u,tooltip:"多幣別按鈕"}),z=Se({type:u,tooltip:"Bet按鈕"}),k=Se({type:u,tooltip:"功能列按鈕"}),N=Se({type:p,tooltip:"功能列按鈕圖示"}),V=Se({type:u,tooltip:"功能列裡智能託管按鈕"}),v=Se({type:u,tooltip:"功能列裡歷程按鈕"}),A=Se({type:u,tooltip:"功能列裡說明按鈕"}),H=Se({type:u,tooltip:"遊戲說明按鈕 for BMM"}),C=Se({type:u,tooltip:"返回大廳按鈕"}),R=Se({type:m,tooltip:"智能託管按鈕局數"}),M=Se({type:b,tooltip:"贏分數字"}),x=Se({type:b,tooltip:"使用中押注數字"}),I=Se({type:b,tooltip:"財產數字"}),P=Se({type:m,tooltip:"局號"}),E=Se({type:m,tooltip:"版號"}),W=Se({type:m,tooltip:"時間"}),T=Se({type:c,tooltip:"時間Layout節點"}),D=Se({type:m,tooltip:"平台版號"}),F=Se({type:c,tooltip:"押注根結點"}),U=Se({type:c,tooltip:"押注板結點"}),j=Se({type:c,tooltip:"額外bet板結點"}),J=Se({type:c,tooltip:"功能列"}),K=Se({type:u,tooltip:"音效開關鈕"}),O=Se({type:p,tooltip:"Spin按鈕圖"}),X=Se({type:p,tooltip:"Stop Spin按鈕圖"}),Z=Se({type:p,tooltip:"自動玩按鈕圖"}),q=Se({type:p,tooltip:"停止自動玩按鈕圖"}),G=Se({type:p,tooltip:"停止計數自動玩按鈕圖"}),Q=Se({type:m,tooltip:"自動玩提示"}),Y=Se({type:c,tooltip:"自動玩提示"}),$=Se({type:m,tooltip:"加速按鈕提示"}),tt=Se({type:m,tooltip:"贏分文字"}),et=Se({type:m,tooltip:"財產文字"}),it=Se({type:m,tooltip:"vip用的財產文字"}),nt=Se({type:p,tooltip:"vip 提示"}),ot=Se({type:c,tooltip:"vip押注遮罩"}),rt=Se({type:c,tooltip:"vip提示"}),lt=Se({type:c,tooltip:"vip解鎖"}),at=Se({type:p,tooltip:"解鎖的VIP提示"}),pt=Se({type:p,tooltip:"vip鎖提示文字"}),ut=Se({type:c,tooltip:"遮罩"}),mt=Se({type:c,tooltip:"EX BET按鈕根節點"}),bt=Se({type:m,tooltip:"押注金額文字"}),ct=Se({type:u,tooltip:"背包按鈕"}),_t=Se({type:c,tooltip:"背包紅點"}),yt=Se({type:p,tooltip:"背包圖示"}),Be((Bt=e((st=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_connectAnim",Bt,o(e)),n(e,"m_connectSprite",St,o(e)),n(e,"m_spinBtn",wt,o(e)),n(e,"m_stopSpinBtn",ht,o(e)),n(e,"m_autoBtn",Lt,o(e)),n(e,"m_stopAutoBtn",gt,o(e)),n(e,"m_stopAutoCountBtn",dt,o(e)),n(e,"m_speedButton",zt,o(e)),n(e,"m_currencyBtn",kt,o(e)),n(e,"m_betBtn",Nt,o(e)),n(e,"m_commBtn",Vt,o(e)),n(e,"m_commSprite",vt,o(e)),n(e,"m_wiseAutoBtn",At,o(e)),n(e,"m_historyBtn",Ht,o(e)),n(e,"m_ratioBtn",Ct,o(e)),n(e,"m_BMMratioBtn",Rt,o(e)),n(e,"m_homeBtn",Mt,o(e)),n(e,"m_stopRoundLabel",xt,o(e)),n(e,"m_winLabel",It,o(e)),n(e,"m_nowBetLabel",Pt,o(e)),n(e,"m_balanceLabel",Et,o(e)),n(e,"m_logIndex",Wt,o(e)),n(e,"m_version",Tt,o(e)),n(e,"m_timeLabel",Dt,o(e)),n(e,"m_timeLayoutNode",Ft,o(e)),n(e,"m_platVerLabel",Ut,o(e)),n(e,"m_betRootNode",jt,o(e)),n(e,"m_betViewNode",Jt,o(e)),n(e,"m_extraBetView",Kt,o(e)),n(e,"m_commView",Ot,o(e)),n(e,"m_soundBtn",Xt,o(e)),n(e,"m_spinSprite",Zt,o(e)),n(e,"m_spinStopSprite",qt,o(e)),n(e,"m_autoSprite",Gt,o(e)),n(e,"m_autoStopSprite",Qt,o(e)),n(e,"m_autoCountStopSprite",Yt,o(e)),n(e,"m_autoHintLabel",$t,o(e)),n(e,"m_autoHintEffect",te,o(e)),n(e,"m_speedHintLabel",ee,o(e)),n(e,"m_barWinLabel",ie,o(e)),n(e,"m_barBalanceLabel",ne,o(e)),n(e,"m_vipBalanceLabel",oe,o(e)),n(e,"m_vipSprite",re,o(e)),n(e,"m_vipLockNode",le,o(e)),n(e,"m_vipHintNode",ae,o(e)),n(e,"m_unLockVipNode",pe,o(e)),n(e,"m_unlockVIPSprite",ue,o(e)),n(e,"m_lockHintSprite",me,o(e)),n(e,"m_vipMaskNodes",be,o(e)),n(e,"m_extraBtnNode",ce,o(e)),n(e,"m_betLabel",_e,o(e)),n(e,"m_backpackBtn",ye,o(e)),n(e,"m_backpackRp",fe,o(e)),n(e,"m_backpackSprite",se,o(e)),e}return i(e,t),e.prototype.ResetComponent=function(t,e,i){this.m_backpackBtn.getComponent(_).target=i,t.ConnectAnim=this.m_connectAnim,t.ConnectSprite=this.m_connectSprite,t.SpinBtn=this.m_spinBtn,t.StopSpinBtn=this.m_stopSpinBtn,t.AutoBtn=this.m_autoBtn,t.StopAutoBtn=this.m_stopAutoBtn,t.StopAutoCountBtn=this.m_stopAutoCountBtn,t.SpeedButton=this.m_speedButton,t.CurrencyBtn=this.m_currencyBtn,t.BetBtn=this.m_betBtn,t.CommBtn=this.m_commBtn,t.CommSprite=this.m_commSprite,t.WiseAutoBtn=this.m_wiseAutoBtn,t.HistoryBtn=this.m_historyBtn,t.RatioBtn=this.m_ratioBtn,t.BMMratioBtn=this.m_BMMratioBtn,t.HomeBtn=this.m_homeBtn,t.StopRoundLabel=this.m_stopRoundLabel,t.WinLabel=this.m_winLabel,t.NowBetLabel=this.m_nowBetLabel,t.BalanceLabel=this.m_balanceLabel,t.LogIndex=this.m_logIndex,t.Version=this.m_version,t.TimeLabel=this.m_timeLabel,t.TimeLayoutNode=this.m_timeLayoutNode,t.PlatVerLabel=this.m_platVerLabel,t.BetRootNode=this.m_betRootNode,t.BetViewNode=this.m_betViewNode,t.ExtraBetView=this.m_extraBetView,t.CommView=this.m_commView,t.SoundBtn=this.m_soundBtn,t.SpinSprite=this.m_spinSprite,t.SpinStopSprite=this.m_spinStopSprite,t.AutoSprite=this.m_autoSprite,t.AutoStopSprite=this.m_autoStopSprite,t.AutoCountStopSprite=this.m_autoCountStopSprite,t.AutoHintLabel=this.m_autoHintLabel,t.AutoHintEffect=this.m_autoHintEffect,t.SpeedHintLabel=this.m_speedHintLabel,t.BarWinLabel=this.m_barWinLabel,t.BarBalanceLabel=this.m_barBalanceLabel,t.VipBalanceLabel=this.m_vipBalanceLabel,t.VipSprite=this.m_vipSprite,t.VipLockNode=this.m_vipLockNode,t.VipHintNode=this.m_vipHintNode,t.UnLockVipNode=this.m_unLockVipNode,t.UnlockVIPSprite=this.m_unlockVIPSprite,t.LockHintSprite=this.m_lockHintSprite,t.VipMaskNodes=this.m_vipMaskNodes,t.ExtraBtnNode=this.m_extraBtnNode,e.BetLabel=this.m_betLabel,e.BackPackBtn=this.m_backpackBtn,e.BackpackRp=this.m_backpackRp,e.BackpackSprite=this.m_backpackSprite},e}(y)).prototype,"m_connectAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(st.prototype,"m_connectSprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(st.prototype,"m_spinBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(st.prototype,"m_stopSpinBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(st.prototype,"m_autoBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(st.prototype,"m_stopAutoBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(st.prototype,"m_stopAutoCountBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(st.prototype,"m_speedButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(st.prototype,"m_currencyBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(st.prototype,"m_betBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(st.prototype,"m_commBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(st.prototype,"m_commSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(st.prototype,"m_wiseAutoBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(st.prototype,"m_historyBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(st.prototype,"m_ratioBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(st.prototype,"m_BMMratioBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(st.prototype,"m_homeBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(st.prototype,"m_stopRoundLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(st.prototype,"m_winLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(st.prototype,"m_nowBetLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(st.prototype,"m_balanceLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(st.prototype,"m_logIndex",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(st.prototype,"m_version",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(st.prototype,"m_timeLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(st.prototype,"m_timeLayoutNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(st.prototype,"m_platVerLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(st.prototype,"m_betRootNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(st.prototype,"m_betViewNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(st.prototype,"m_extraBetView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(st.prototype,"m_commView",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(st.prototype,"m_soundBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(st.prototype,"m_spinSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(st.prototype,"m_spinStopSprite",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(st.prototype,"m_autoSprite",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(st.prototype,"m_autoStopSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(st.prototype,"m_autoCountStopSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=e(st.prototype,"m_autoHintLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=e(st.prototype,"m_autoHintEffect",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=e(st.prototype,"m_speedHintLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(st.prototype,"m_barWinLabel",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=e(st.prototype,"m_barBalanceLabel",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(st.prototype,"m_vipBalanceLabel",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=e(st.prototype,"m_vipSprite",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=e(st.prototype,"m_vipLockNode",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=e(st.prototype,"m_vipHintNode",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(st.prototype,"m_unLockVipNode",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=e(st.prototype,"m_unlockVIPSprite",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=e(st.prototype,"m_lockHintSprite",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=e(st.prototype,"m_vipMaskNodes",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=e(st.prototype,"m_extraBtnNode",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=e(st.prototype,"m_betLabel",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=e(st.prototype,"m_backpackBtn",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=e(st.prototype,"m_backpackRp",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=e(st.prototype,"m_backpackSprite",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=st))||ft));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseState.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9c1e2Kfqt9CI5VbeEyOqvHK","BaseState",void 0);t("BaseState",(function(){}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BasicSpineController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,o,a,s,r,l,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.sp,l=t.log,m=t.Component}],execute:function(){var c,u,h,p,k,f,_;a._RF.push({},"246b78WKUlOga5EXi65CLme","BasicSpineController",void 0);var d=s.ccclass,g=s.property;var v=["walk","run","jump"];t("default",(c=d("BasicSpineController"),u=g({type:r.Skeleton,displayName:"Skeleton"}),h=g({displayName:"Mixing Time",tooltip:"動畫1轉換至動畫2的動作漸變時間"}),c((f=n((k=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this).m_hasStop=!1,i(n,"m_skeleton",f,o(n)),i(n,"m_mixTime",_,o(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){var t=this;!function(t,n,e){if(t&&n&&n.length>1)for(var i=0;i<n.length-1;i++)for(var o=n[i],a=i+1;a<n.length;a++){var s=n[a];t.setMix(o,s,e),t.setMix(s,o,e)}}(this.m_skeleton,v,this.m_mixTime),this.m_skeleton.setStartListener((function(t){var n=t.animation?t.animation.name:"";l("[track %s][animation %s] start.",t.trackIndex,n)})),this.m_skeleton.setInterruptListener((function(t){var n=t.animation?t.animation.name:"";l("[track %s][animation %s] interrupt.",t.trackIndex,n)})),this.m_skeleton.setEndListener((function(t){var n=t.animation?t.animation.name:"";l("[track %s][animation %s] end.",t.trackIndex,n)})),this.m_skeleton.setDisposeListener((function(t){var n=t.animation?t.animation.name:"";l("[track %s][animation %s] will be disposed.",t.trackIndex,n)})),this.m_skeleton.setCompleteListener((function(n){var e=n.animation?n.animation.name:"";"shoot"===e&&t.Action("clearTrack",1);var i=Math.floor(n.trackTime/n.animationEnd);l("[track %s][animation %s] complete: %s",n.trackIndex,e,i)})),this.m_skeleton.setEventListener((function(t,n){t.animation&&t.animation.name}))},a.Stop=function(){this.Action("clearTrack",0),this.m_hasStop=!0},a.Walk=function(){this.Action("setAnimation",0,"walk",!0),this.m_hasStop=!1},a.Run=function(){this.Action("setAnimation",0,"run",!0),this.m_hasStop=!1},a.Jump=function(){var t=this.m_skeleton.animation;this.Action("setAnimation",0,"jump",!1),t&&!this.m_hasStop&&this.Action("addAnimation",0,"run"===t?"run":"walk",!0,0)},a.Shoot=function(){this.Action("setAnimation",1,"shoot",!1)},a.Action=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];this.m_skeleton[t].apply(this.m_skeleton,e)},a.ToggleDebugSlots=function(){this.m_skeleton.debugSlots=!this.m_skeleton.debugSlots},a.ToggleDebugBones=function(){this.m_skeleton.debugBones=!this.m_skeleton.debugBones},a.ToggleTimeScale=function(){1===this.m_skeleton.timeScale?this.m_skeleton.timeScale=.3:this.m_skeleton.timeScale=1},n}(m)).prototype,"m_skeleton",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(k.prototype,"m_mixTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),p=k))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/BigFavorHint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconTemplate.ts","./LocaleStringManager.ts","./Define.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,c,u,m,s,p,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Label,c=t.Button,u=t.Node,m=t.js,s=t.Component},function(t){p=t.default},function(t){_=t.default},function(t){f=t.default}],execute:function(){var d,g,h,b,T,y,v,S,L,B;r._RF.push({},"934d3liAUlAw7lHZqdg+0qd","BigFavorHint",void 0);var N=a.ccclass,I=a.property;t("default",(d=I({type:l,tooltip:"標題"}),g=I({type:l,tooltip:"說明"}),h=I({type:p,tooltip:"遊戲icon節點"}),b=I({type:c,tooltip:"關閉按鈕"}),N((v=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_titleLabel",v,o(e)),i(e,"m_descLabel",S,o(e)),i(e,"m_iconTemplate",L,o(e)),i(e,"m_closeBtn",B,o(e)),e.m_currentTouchName=null,e}n(e,t);var r=e.prototype;return r.start=function(){var t=this;this.m_closeBtn.node.on(u.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName&&t.m_closeBtn.node.active||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)})),this.m_closeBtn.node.on(u.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_closeBtn.node.on(u.EventType.TOUCH_END,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.node.active=!1)}))},r.SetIcon=function(t,e){this.m_iconTemplate&&this.m_iconTemplate.SetIconSpriteFrame(t,e),this.m_titleLabel.string=_.GetInstance().GetString(f.StringKey.MSGBOX_TITLE_SYSTEM_INFO),this.m_titleLabel.font||(this.m_titleLabel.font=f.DefaultFont);var n=_.GetInstance().GetString(f.StringKey.FAVOR_BIG_DESC),i=_.GetInstance().GetGameName(e);this.m_descLabel.string=m.formatStr(n,i),this.m_descLabel.font||(this.m_descLabel.font=f.DefaultFont)},e}(s)).prototype,"m_titleLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"m_descLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(y.prototype,"m_iconTemplate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(y.prototype,"m_closeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts"],(function(t){"use strict";var e,n,i,s,r,a,o,m,h,u,l,c,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){m=t.cclegacy,h=t._decorator,u=t.sp,l=t.Label,c=t.Component},function(t){_=t.default}],execute:function(){var p,w,S,d,b,v,f,E,k;m._RF.push({},"77acaFcNgVDULwRQEtO5wYa","BigWinComponent",void 0);var g=t("BigWinAnimName",{Big:{Start:"BigWin_Start",End:"BigWin_End"},Mega:{Start:"MegaWin_Start",End:"MegaWin_End"},Super:{Start:"SuperWin_Start",End:"SuperWin_End"}}),L=h.ccclass,y=h.property;t("default",(p=y({type:u.Skeleton,tooltip:"spine"}),w=y({type:u.Skeleton,tooltip:"遮罩"}),S=y({type:l,tooltip:"贏分"}),L(((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_spine",v,s(e)),i(e,"m_maskSpine",f,s(e)),i(e,"m_winLabel",E,s(e)),e.m_isEnd=!0,e.m_isShowEnd=!0,e.m_isShowAward=!1,e.m_eventCb=null,e.m_showValueCb=null,e.m_lvl=0,e.m_cancelCb=null,e.m_nowLvl=0,e.m_win=0,e.m_showWin=0,e.m_step=0,e}n(e,t);var m=e.prototype;return m.update=function(t){this.m_isShowAward&&(this.m_showWin+=this.m_step*t,this.m_showWin>=this.m_win&&(this.m_showWin=this.m_win,this.m_isShowAward=!1),this.m_winLabel.string=_.FormatNumberThousands(_.strip(this.m_showValueCb?this.m_showValueCb(this.m_showWin):this.m_showWin),_.FORMAT_NUMBER_TYPE.PERMANENT_DOT))},m.Init=function(t,e){this.m_eventCb=t,this.m_showValueCb=e,this.m_maskSpine&&(this.m_maskSpine.node.active=!1)},m.Show=function(t,n){if(t>0&&n>e.Level.NONE&&n<=e.Level.SUPER){this.m_isEnd=!1,this.m_lvl=n,this.m_nowLvl=0,this.m_win=t,this.m_showWin=0,this.m_winLabel.string="0",this.m_isShowEnd=!1;for(var i=0,s=e.Level.BIG;s<=this.m_lvl;s++){var r="",a="";switch(s){case e.Level.BIG:r=g.Big.Start,a=g.Big.End;break;case e.Level.MEGA:r=g.Mega.Start,a=g.Mega.End;break;case e.Level.SUPER:r=g.Super.Start,a=g.Super.End}if(""!==r&&""!==a){var o=this.m_spine.findAnimation(r);o&&(i+=o.duration)}}this.m_step=_.divide(this.m_win,i||5),this.m_isShowAward=!0,this.m_maskSpine&&(this.m_maskSpine.node.active=!0,this.PlayAnimation(this.m_maskSpine,"BigWin_Start")),this.ShowNext()}},m.Stop=function(){this.m_isShowEnd||(this.m_cancelCb&&this.m_cancelCb(),this.ShowEnd())},m.SetSkin=function(t){this.m_spine.setSkin(t)},m.ShowNext=function(){var t=a(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.m_nowLvl!==this.m_lvl){t.next=4;break}this.ShowEnd(),t.next=22;break;case 4:this.m_nowLvl++,n=!1,t.t0=this.m_nowLvl,t.next=t.t0===e.Level.BIG?9:t.t0===e.Level.MEGA?13:t.t0===e.Level.SUPER?17:21;break;case 9:return t.next=11,this.PlayAnimation(this.m_spine,g.Big.Start);case 11:return n=t.sent,t.abrupt("break",21);case 13:return t.next=15,this.PlayAnimation(this.m_spine,g.Mega.Start);case 15:return n=t.sent,t.abrupt("break",21);case 17:return t.next=19,this.PlayAnimation(this.m_spine,g.Super.Start);case 19:return n=t.sent,t.abrupt("break",21);case 21:n||this.ShowNext();case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.ShowEnd=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.m_isShowEnd){t.next=2;break}return t.abrupt("return");case 2:this.m_isShowEnd=!0,this.m_isShowAward=!1,this.m_winLabel.string=_.FormatNumberThousands(_.strip(this.m_showValueCb?this.m_showValueCb(this.m_win):this.m_win),_.FORMAT_NUMBER_TYPE.PERMANENT_DOT),this.m_maskSpine&&this.PlayAnimation(this.m_maskSpine,"BigWin_End"),t.t0=this.m_lvl,t.next=t.t0===e.Level.BIG?9:t.t0===e.Level.MEGA?12:t.t0===e.Level.SUPER?15:18;break;case 9:return t.next=11,this.PlayAnimation(this.m_spine,g.Big.End);case 11:return t.abrupt("break",18);case 12:return t.next=14,this.PlayAnimation(this.m_spine,g.Mega.End);case 14:return t.abrupt("break",18);case 15:return t.next=17,this.PlayAnimation(this.m_spine,g.Super.End);case 17:return t.abrupt("break",18);case 18:this.m_maskSpine&&(this.m_maskSpine.node.active=!1),this.m_isEnd=!0;case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.PlayAnimation=function(t,e,n,i){var s=this;return void 0===n&&(n=!1),void 0===i&&(i=0),new Promise((function(r){var a=!1;s.m_cancelCb=function(){r(a=!0)},t.clearTrack(i),t.setToSetupPose();var o=t.setAnimation(i,e,n),m=function(){s.m_cancelCb=null,r(a)};o?(t.setTrackEventListener(o,(function(t,n){var i=n.data.name,r=n.stringValue;s.m_eventCb&&s.m_eventCb(i,r,e)})),t.setTrackCompleteListener(o,(function(){t.setTrackCompleteListener(o,(function(){})),m()}))):t.setCompleteListener((function(){t.setCompleteListener(null),m()}))}))},r(e,[{key:"IsEnd",get:function(){return this.m_isEnd},set:function(t){this.m_isEnd=t}}]),e}(c)).Level={NONE:0,BIG:1,MEGA:2,SUPER:3},v=e((b=k).prototype,"m_spine",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(b.prototype,"m_maskSpine",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(b.prototype,"m_winLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));m._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinReplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./ViewTemplate.ts","./TimeBool.ts","./Tools.ts","./MsgBox.ts","./LocaleStringManager.ts","./PlayerInfo.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,m,_,h,u,f,p,c,y,d,T,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Sprite,a=t.Toggle,m=t.Prefab,_=t.Node,h=t.instantiate,u=t.Animation},function(t){f=t.default},function(t){p=t.default},function(t){c=t.default},function(t){y=t.default},function(t){d=t.default},function(t){T=t.default},function(t){S=t.default}],execute:function(){var I,g,R,b,A,B,x,N,v,w,E,C,F,L,M,P,D,O,k,G,z;r._RF.push({},"a50d4CJix5En5AQVIQ8aJmZ","BigWinReplay",void 0),function(t){t[t.DRAGON=0]="DRAGON",t[t.TIGER=1]="TIGER"}(z||(z={}));var j=[[3,1],[2,0]],q=["replayer_username_odds","replayer_username"],U=s.ccclass,Y=s.property;t("default",(I=Y({type:l,tooltip:"排名標題文字"}),g=Y({type:l,tooltip:"全體排名標題文字"}),R=Y({type:l,tooltip:"我的紀錄標題文字"}),b=Y({type:a,tooltip:"龍榜虎榜按鈕"}),A=Y({type:l,tooltip:"倍率榜Txt"}),B=Y({type:l,tooltip:"贏分榜Txt"}),x=Y({type:m,tooltip:"玩家資訊樣板"}),N=Y({type:_,tooltip:"橫版內容存放位置"}),v=Y({type:_,tooltip:"直版內容存放位置"}),U((C=e((E=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_rankTxt",C,o(e)),n(e,"m_allRecordTxt",F,o(e)),n(e,"m_myRecordTxt",L,o(e)),n(e,"m_typeBtn",M,o(e)),n(e,"m_rateBtnTxt",P,o(e)),n(e,"m_winBtnTxt",D,o(e)),n(e,"m_playerInfoPrefab",O,o(e)),n(e,"m_contentNodeL",k,o(e)),n(e,"m_contentNodeS",G,o(e)),e.m_playerInfos=[],e.m_listType=z.DRAGON,e.m_selectCb=null,e.m_infoReqFunc=null,e.m_roundIndex=[[],[]],e.m_dollarSignIndex=[[],[]],e.m_unitIndex=[[],[]],e.m_currency=[[],[]],e.m_infoAid=[[],[]],e.m_infoName=[[],[]],e.m_infoScore=[[],[]],e.m_infoScoreAdjust=[[],[]],e.m_infoBet=[[],[]],e.m_replayBtns=[[],[]],e.m_controller=null,e.m_timer=null,e.m_localeSpriteAtlas=null,e.m_info=null,e.m_bottomBar=null,e.m_isLandscape=!1,e}i(e,t);var r=e.prototype;return r.Init=function(t,e,i,n,o,r){var s=this;this.m_controller=t,this.m_bottomBar=i,this.m_infoReqFunc=n,this.m_selectCb=o,this.m_timer=new c,this.m_timer.UseDT(!0),this.m_timer.Clear(),this.m_timer.Start(12e4);for(var l=0;l<2;l++)for(var a=0;a<10;a++)this.m_roundIndex[l].push(""),this.m_dollarSignIndex[l].push(""),this.m_infoAid[l].push(""),this.m_infoName[l].push(""),this.m_unitIndex[l].push(0),this.m_currency[l].push(0),this.m_infoScore[l].push(0),this.m_infoScoreAdjust[l].push(0),this.m_infoBet[l].push(0);for(var m=e?this.m_contentNodeL:this.m_contentNodeS,_=0;_<10;_++){var u=h(this.m_playerInfoPrefab);m.addChild(u);var p=u.getComponent(S);p.SetRank(_+1),this.m_playerInfos.push(p),this.m_replayBtns[0].push(p.AllReplayBtn),this.m_replayBtns[1].push(p.MyReplayBtn)}for(var y=function(t){for(var e=function(e){s.m_replayBtns[t][e].node.on("click",(function(){s.m_bottomBar.CanShowReplay?""!=s.m_roundIndex[t][e]&&(s.m_controller.CloseDiscountView(),s.m_bottomBar.SendClickEvent(f.BTN_CLICK_EVENT.BIG_WIN_REPLAY,s.m_listType+"-"+t+"-"+(e+1)),s.m_bottomBar.PlayReplayStartAni(s.m_infoBet[t][e],(function(){s.m_selectCb(s.m_roundIndex[t][e])})),s.m_bottomBar.ReplayAndChangeDollarSign(s.m_dollarSignIndex[t][e]),s.m_bottomBar.ReplayAndChangeUnit(s.m_unitIndex[t][e])):d.getInstance().ShowMessageBox(f.StringKey.TRIAL_REFUSED_REASON+"1",f.StringKey.MSGBOX_TITLE_SYSTEM_INFO)}))},i=0;i<s.m_replayBtns[t].length;i++)e(i)},T=0;T<this.m_replayBtns.length;T++)y(T);for(var I=function(t){s.m_typeBtn[t].node.on("click",(function(){s.ChangeListType(t)}))},g=0;g<this.m_typeBtn.length;g++)I(g);this.ReqInfo(),this.m_controller.ShowMask(),r(),this.OnRotation(e)},r.OnRotation=function(t){if(this.m_isLandscape=t,this.m_isLandscape){this.node.getComponent(u).play("replayer_username_L");for(var e=0;e<this.m_playerInfos.length;e++)this.m_playerInfos[e].node.removeFromParent(),this.m_contentNodeL.addChild(this.m_playerInfos[e].node)}else{this.node.getComponent(u).play("replayer_username_S");for(var i=0;i<this.m_playerInfos.length;i++)this.m_playerInfos[i].node.removeFromParent(),this.m_contentNodeS.addChild(this.m_playerInfos[i].node)}for(var n=0;n<this.m_playerInfos.length;n++)this.m_playerInfos[n].OnRotation(this.m_isLandscape)},r.ReqInfo=function(){this.m_infoReqFunc&&this.m_infoReqFunc()},r.ChangeListType=function(t){if(t!=this.m_listType){this.m_controller.ShowMask(),this.m_listType=t;for(var e=0;e<this.m_playerInfos.length;e++)this.m_playerInfos[e].PlayAnim(q[t]);this.m_info&&this.SetInfo(this.m_info)}},r.SetPlayButtonState=function(t,e,i){this.m_replayBtns[t][e].node.active=i},r.SetInfo=function(t){for(var e=0;e<this.m_roundIndex.length;e++)for(var i=0;i<this.m_roundIndex[e].length;i++)t.info.list&&t.info.list[j[this.m_listType][e]]&&t.info.list[j[this.m_listType][e]][i]?(this.m_roundIndex[e][i]=t.info.list[j[this.m_listType][e]][i].index,this.m_dollarSignIndex[e][i]=t.info.list[j[this.m_listType][e]][i].currsymbol,this.m_unitIndex[e][i]=t.info.list[j[this.m_listType][e]][i].currunit,this.m_currency[e][i]=t.info.list[j[this.m_listType][e]][i].currency,this.SetPlayButtonState(e,i,!0)):(this.m_roundIndex[e][i]="",this.m_dollarSignIndex[e][i]="",this.m_unitIndex[e][i]=1,this.SetPlayButtonState(e,i,!1));for(var n=0;n<2;n++)for(var o=0;o<10;o++)if(t.info.list&&t.info.list[j[this.m_listType][n]]&&t.info.list[j[this.m_listType][n]][o]){var r=t.info.list[j[this.m_listType][n]][o];this.m_infoAid[n][o]=r.account,this.m_infoName[n][o]=r.name,this.m_infoBet[n][o]=r.bet,this.m_listType==z.DRAGON?(this.m_infoScore[n][o]=r.odd,this.m_infoScoreAdjust[n][o]=r.odd):this.m_listType==z.TIGER&&(this.m_infoScore[n][o]=r.win,this.m_infoScoreAdjust[n][o]=r.adjustwin)}else this.m_infoAid[n][o]="-",this.m_infoName[n][o]="-",this.m_infoBet[n][o]=0,(this.m_listType==z.DRAGON||this.m_listType==z.TIGER)&&(this.m_infoScore[n][o]=0,this.m_infoScoreAdjust[n][o]=0);for(var s=0;s<10;s++)if(this.m_playerInfos[s].AllMemberAccount=this.m_infoAid[0][s],this.m_playerInfos[s].AllMemberNickName=this.m_infoName[0][s],0==this.m_infoScore[0][s])this.m_playerInfos[s].AllRate="-",this.m_playerInfos[s].AllRateAdjust="-";else{var l="",a="";this.m_listType==z.TIGER&&(l=0==this.m_currency[0][s]?f.DollarSymbol:this.m_dollarSignIndex[0][s],a=f.DollarSymbol),this.m_playerInfos[s].AllRate=l+y.FormatNumberThousands(this.m_infoScore[0][s],y.FORMAT_NUMBER_TYPE.PERMANENT_DOT),this.m_playerInfos[s].AllRateAdjust=a+y.FormatNumberThousands(this.m_infoScoreAdjust[0][s],y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)}for(var m=0;m<10;m++)if(0==this.m_infoScore[1][m])this.m_playerInfos[m].MyRate="-";else{var _="";this.m_listType==z.TIGER&&(_=f.DollarSymbol),this.m_playerInfos[m].MyRate=_+y.FormatNumberThousands(this.m_infoScore[1][m],y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)}this.m_controller.HideMask()},r.Process=function(t){this.m_timer&&(this.m_timer.Update(1e3*t),this.m_timer.ToBool()&&(this.ReqInfo(),this.m_timer.Clear(),this.m_timer.Start(12e4)))},r.OnRecvBigWin=function(t){this.m_info=t,this.SetInfo(this.m_info)},r.SetTxt=function(t){this.m_localeSpriteAtlas=t,this.m_rankTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("bigwin_rank02_"+T.CurrLang),this.m_allRecordTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("bigwin_rank_"+T.CurrLang),this.m_myRecordTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("bigwin_myrecord_"+T.CurrLang),this.m_rateBtnTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("bigwin_odds02_"+T.CurrLang),this.m_winBtnTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("bigwin_win_"+T.CurrLang)},e}(p)).prototype,"m_rankTxt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(E.prototype,"m_allRecordTxt",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"m_myRecordTxt",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(E.prototype,"m_typeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(E.prototype,"m_rateBtnTxt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"m_winBtnTxt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(E.prototype,"m_playerInfoPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"m_contentNodeL",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"m_contentNodeS",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=E))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/BoneFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,o,n,l,a,r,s,c,u,h,_,p,m,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Enum,s=e.sp,c=e.Vec2,u=e.isValid,h=e.UITransform,_=e.v3,p=e.instantiate,m=e.Component,d=e.v2}],execute:function(){var f,b,w,S,y,F,g,v,z,R,C,N,A,L,x,B,P,X,k,Y,I,D,O,E,M,T,U,W,V,j,q,H,G,J,K;l._RF.push({},"18f47v83XtI64h+ISwRgq3A","BoneFollow",void 0);var Q=a.ccclass,Z=a.property,$=a.menu,ee={None:0},ie=r(ee),te=3.1415927,oe=te/180;function ne(e,i,t,o,n){var l,a=(l=n,Math.sin(l*oe)),r=function(e){return Math.cos(e*oe)}(n);return 57.29577866666166*Math.atan2(r*t+a*o,r*e+a*i)}e("default",(f=Q("BoneFollow"),b=$("Chiron/Spine/BoneFollow"),w=Z({type:s.Skeleton,tooltip:"目標 Spine 骨架"}),S=Z({tooltip:"目標同步骨骼名稱"}),y=Z({tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),F=Z({tooltip:"是否同步位置"}),g=Z({tooltip:"是否同步旋轉"}),v=Z({tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),z=Z({tooltip:"是否同步縮放"}),R=Z({tooltip:"是否將目標縮放量轉換成區域縮放量"}),C=Z({visible:!1}),N=Z({type:ie,visible:!0,displayName:"Bone"}),A=Z({visible:!0,displayName:"Preview"}),L=Z({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),x=Z({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_isFollowScale}}),B=Z({type:c,displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_isFollowPosition}}),P=Z({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_isFollowRotation}}),f(X=b(((K=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return(i=e.call.apply(e,[this].concat(l))||this).editor=void 0,o(i,"m_spineSkeleton",Y,n(i)),o(i,"m_boneName",I,n(i)),o(i,"m_isCacheData",D,n(i)),o(i,"m_isFollowPosition",O,n(i)),o(i,"m_isFollowRotation",E,n(i)),o(i,"m_isRotationLocalization",M,n(i)),o(i,"m_isFollowScale",T,n(i)),o(i,"m_isScaleLocalization",U,n(i)),o(i,"__boneIndex",W,n(i)),o(i,"_boneIndex",V,n(i)),o(i,"m_preview",j,n(i)),o(i,"m_cacheAncestors",q,n(i)),o(i,"m_scaleFactor",H,n(i)),o(i,"m_positionOffset",G,n(i)),o(i,"m_rotationFactor",J,n(i)),i._oldAngle=0,i._oldScaleX=1,i._oldScaleY=1,i._isCached=!1,i._cachedRotation=0,i._cachedScaleX=1,i._cachedScaleY=1,i}t(i,e);var l=i.prototype;return l.__preload=function(){},l.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},l.update=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_isFollowPosition||this.m_isFollowRotation||this.m_isFollowScale)){var e=null;if(e=this.m_spineSkeleton.findBone(this.m_boneName)){var i,t,o;if(!this.m_cacheAncestors||!this._isCached){for(var n=0,l=0,a=1,r=1,s=1,c=1,p=this.m_spineSkeleton.node;p;)a*=p.scale.x,r*=p.scale.y,n+=p.angle,p=p.parent;for(p=this.node.parent;p;)s*=p.scale.x,c*=p.scale.y,l-=p.angle,p=p.parent;this._cachedRotation=n+l,this._cachedScaleX=a/s,this._cachedScaleY=r/c,this._isCached=!0}if(i=this.m_isRotationLocalization?this._cachedRotation:this._oldAngle,t=this.m_isScaleLocalization?this._cachedScaleX:this._oldScaleX,o=this.m_isScaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_isFollowRotation){var m=e.parent,d=e.arotation;this.node.angle=i+(u(m)?ne(m.a,m.b,m.c,m.d,d):e.arotation)+this.m_rotationFactor}if(this.m_isFollowScale&&this.node.setScale(t*e.getWorldScaleX()*this.m_scaleFactor.x,o*e.getWorldScaleY()*this.m_scaleFactor.y),this.m_isFollowPosition){var f=this.m_spineSkeleton.node.getComponent(h).convertToWorldSpaceAR(_(e.worldX,e.worldY,0)),b=this.node.parent.getComponent(h).convertToNodeSpaceAR(f);this.node.setPosition(_(b.x+this.m_positionOffset.x,b.y+this.m_positionOffset.y))}}}},l.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_isFollowPosition=null,this.m_isFollowRotation=null,this.m_isRotationLocalization=null,this.m_isFollowScale=null,this.m_isScaleLocalization=null},l.CacheUpdate=function(){this._isCached=!1},l._refreshInspector=function(){this._updateBoneEnum()},l._boneEnum=function(){var e=p(ee);return this.m_spineSkeleton,e},l._updateBoneEnum=function(){},i}(m)).BoneFollow="BoneFollow",Y=i((k=K).prototype,"m_spineSkeleton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(k.prototype,"m_boneName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=i(k.prototype,"m_isCacheData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=i(k.prototype,"m_isFollowPosition",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=i(k.prototype,"m_isFollowRotation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=i(k.prototype,"m_isRotationLocalization",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=i(k.prototype,"m_isFollowScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=i(k.prototype,"m_isScaleLocalization",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=i(k.prototype,"__boneIndex",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=i(k.prototype,"_boneIndex",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.None}}),j=i(k.prototype,"m_preview",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=i(k.prototype,"m_cacheAncestors",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=i(k.prototype,"m_scaleFactor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d(1,1)}}),G=i(k.prototype,"m_positionOffset",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d(0,0)}}),J=i(k.prototype,"m_rotationFactor",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=k))||X)||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/BottombarManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoPlaySetting.ts","./Tools.ts","./SoundManager.ts","./MsgBox.ts","./Define.ts","./LocalStorageManager.ts","./LocaleStringManager.ts","./ConnectionManager.ts","./TimeBool.ts","./Rankboard.ts","./LifeSocket.ts","./FloatView.ts","./CurrencyChange.ts","./Wallet.ts","./EffectWin.ts","./AppManager.ts","./ExtraManager.ts","./ItemList.ts","./NotificationManager.ts","./VolatilityManager.ts","./VipManager.ts","./EnvironmentConfig.ts","./ConnectionSpeed.ts","./JPManager.ts","./MHBManager.ts","./CommonTextManager.ts","./PlayReadyComponent.ts","./CommonWebPage.ts","./ItemUse.ts","./SpinEft.ts","./ItemEnd.ts","./BarBodyComponent.ts","./GameAppA.ts","./ConnectManager.ts","./LoadPrefabManager.ts","./RetryManager.ts","./RoundController.ts","./AutoShowManager.ts","./DailyMissionManager.ts","./GaiaManager.ts","./BuyBonusManager.ts","./LevelManager.ts","./IframeCommandManager.ts","./BuffManager.ts","./ErrorMsgManager.ts","./GiftCodeManager.ts","./EventManager.ts","./BackpackManager.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,m,l,_,u,p,h,c,S,B,d,b,f,g,C,T,y,N,I,A,L,E,v,w,M,P,O,F,R,D,k,U,G,x,V,H,W,z,K,Y,q,Z,j,X,J,Q,$,tt,et,it,nt,ot,at,st,rt,mt,lt,_t,ut,pt,ht,ct,St,Bt,dt,bt,ft,gt,Ct,Tt,yt,Nt,It,At,Lt,Et,vt,wt,Mt,Pt,Ot,Ft,Rt,Dt,kt,Ut,Gt,xt,Vt,Ht;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime,r=t.createClass},function(t){m=t.cclegacy,l=t.v3,_=t.size,u=t.v2,p=t.color,h=t._decorator,c=t.Prefab,S=t.Node,B=t.SpriteAtlas,d=t.Sprite,b=t.SpriteFrame,f=t.Animation,g=t.Button,C=t.Label,T=t.RichText,y=t.WebView,N=t.UIOpacity,I=t.Layout,A=t.instantiate,L=t.sys,E=t.UITransform,v=t.tween,w=t.view,M=t.screen,P=t.misc,O=t.Widget,F=t.EventTouch,R=t.UIRenderer,D=t.log,k=t.error,U=t.Vec2,G=t.Size,x=t.js,V=t.TweenSystem,H=t.Vec3,W=t.assetManager,z=t.Component},function(t){K=t.default},function(t){Y=t.default},function(t){q=t.default},function(t){Z=t.default},function(t){j=t.default},function(t){X=t.default},function(t){J=t.default},function(t){Q=t.default},function(t){$=t.default},function(t){tt=t.default},function(t){et=t.default},function(t){it=t.default},function(t){nt=t.default},function(t){ot=t.walletManger,at=t.currencyNameOrder,st=t.walletInfo},function(t){rt=t.default},function(t){mt=t.default},function(t){lt=t.default},function(t){_t=t.default},function(t){ut=t.default},function(t){pt=t.default},function(t){ht=t.default},function(t){ct=t.default},function(t){St=t.default},function(t){Bt=t.default},function(t){dt=t.default},function(t){bt=t.default},function(t){ft=t.default},function(t){gt=t.default},function(t){Ct=t.default},function(t){Tt=t.default},function(t){yt=t.default},function(t){Nt=t.default},function(t){It=t.default},function(t){At=t.default},function(t){Lt=t.default},function(t){Et=t.default},function(t){vt=t.default},function(t){wt=t.default},function(t){Mt=t.missionManager},function(t){Pt=t.gaiaManager},function(t){Ot=t.buyBonusManager},function(t){Ft=t.default},function(t){Rt=t.iframeCommandManager},function(t){Dt=t.default,kt=t.BUFF_TYPE},function(t){Ut=t.ErrorMsgManager},function(t){Gt=t.giftCodeManager},function(t){xt=t.default,Vt=t.CommonEventName},function(t){Ht=t.backpackManager}],execute:function(){var Wt,zt,Kt,Yt,qt,Zt,jt,Xt,Jt,Qt,$t,te,ee,ie,ne,oe,ae,se,re,me,le,_e,ue,pe,he,ce,Se,Be,de,be,fe,ge,Ce,Te,ye,Ne,Ie,Ae,Le,Ee,ve,we,Me,Pe,Oe,Fe,Re,De,ke,Ue,Ge,xe,Ve,He,We,ze,Ke,Ye,qe,Ze,je,Xe,Je,Qe,$e,ti,ei,ii,ni,oi,ai,si,ri,mi,li,_i,ui,pi,hi,ci,Si,Bi,di,bi,fi,gi,Ci,Ti,yi,Ni,Ii,Ai,Li,Ei,vi,wi,Mi,Pi,Oi,Fi,Ri,Di,ki,Ui,Gi,xi,Vi,Hi,Wi,zi,Ki,Yi,qi,Zi,ji,Xi,Ji,Qi,$i,tn,en,nn,on,an,sn,rn,mn,ln,_n,un,pn,hn,cn,Sn,Bn,dn,bn,fn,gn,Cn,Tn,yn,Nn,In,An,Ln,En,vn,wn,Mn,Pn,On,Fn,Rn,Dn,kn,Un,Gn,xn,Vn,Hn,Wn,zn,Kn,Yn,qn,Zn,jn,Xn,Jn,Qn,$n,to,eo,io,no,oo,ao,so,ro,mo,lo,_o,uo,po,ho,co,So,Bo,bo,fo,go,Co,To,yo,No,Io,Ao,Lo,Eo,vo,wo,Mo,Po,Oo,Fo,Ro,Do,ko,Uo,Go,xo,Vo,Ho,Wo,zo,Ko,Yo,qo,Zo,jo,Xo,Jo,Qo,$o,ta,ea,ia,na,oa,aa,sa,ra,ma,la,_a,ua,pa,ha,ca,Sa,Ba,da,ba,fa,ga,Ca,Ta,ya,Na,Ia,Aa,La,Ea,va,wa,Ma,Pa,Oa,Fa,Ra,Da,ka,Ua,Ga,xa,Va,Ha,Wa,za,Ka,Ya,qa,Za,ja;t("BarManager",void 0),m._RF.push({},"2ff17i2NCFHlLYdJZ7jCoAi","BottombarManager",void 0);var Xa,Ja={AutoPlay:"BottomBar_AutoSpin",AutoHint0:"BottomBar_Tap",AutoHint1:"BottomBar_Hold",Bet:"BottomBar_Bet",Spin:"BottomBar_Spin",SpinStop:"BottomBar_Stop",AutoStop:"BottomBar_AutoStop",AutoPlayTittle:"AutoPlay_Title",ItemBet:"",FreeSpins_01:"FreeSpins_01",Balance:"",SpinStop_b:"",Win:"",HostingAutoStop:"",FeaturesBtn:"",TrialBtn:"",TrialCoin:"",TrialBet:"",FeaturesDemo_btn:"",FeaturesDemo_Win:"",FeaturesDemo_bet:"",FeaturesDemoMode:"",FeaturesDemoReal:"",FeaturesDemoPlay:"",FeaturesGoRealDes:"",FeaturesMenuDes:"",DemoMode:"",ReplayStartSprite:"",ReplayEndSprite:"",ReplayMode:"",ReplayBalanceSprite:"",ReplayBetSprite:"",ReplayWinSprite:"",VipBetLock:"img_vipbet_ unlock",PrizeUpBtnTxt:"Btn_Bonus"},Qa={AutoPlay:"BottomBar_AutoSpin",AutoHint0:"BottomBar_Tap",AutoHint1:"BottomBar_Hold",Bet:"BottomBar_Bet",Spin:"BottomBar_Spin",SpinStop:"BottomBar_Stop",AutoStop:"BottomBar_AutoStop",AutoPlayTittle:"AutoPlay_Title",ItemBet:"",FreeSpins_01:"FreeSpins_01",Balance:"",SpinStop_b:"",Win:"",HostingAutoStop:"",FeaturesBtn:"",TrialBtn:"",TrialCoin:"",TrialBet:"",FeaturesDemo_btn:"",FeaturesDemo_Win:"",FeaturesDemo_bet:"",FeaturesDemoMode:"",FeaturesDemoReal:"",FeaturesDemoPlay:"",FeaturesGoRealDes:"",FeaturesMenuDes:"",DemoMode:"",ReplayStartSprite:"",ReplayEndSprite:"",ReplayMode:"",ReplayBalanceSprite:"",ReplayBetSprite:"",ReplayWinSprite:"",VipBetLock:""},$a={Normal:"BottomBar_Btn_Bet",NormalPressed:"BottomBar_Btn_Bet_Pressed",Mult:"BottomBar_Btn_BetSp",MultPressed:"BottomBar_Btn_BetSp_Pressed"},ts={Landscape:"Clip_BottomBar_ScreenLandscape",Portrait:"Clip_BottomBar_ScreenPortrait",Portrait_Small:"Clip_BottomBar_ScreenPortrait",Portrait_Low:"Clip_BottomBar_ScreenPortrait"},es="Clip_BottomBar_BodyLandscape",is="Clip_BottomBar_BodyPortrait",ns="Clip_BottomBar_BodyLandscape_App",os="Clip_BottomBar_BodyPortrait_App",as=t("SCALE_TIME",.05),ss=l(0,7.5),rs=1e3,ms=t("BUTTON_STATE",{SPIN:0,STOP:1,AUTO:2,STOP_AUTO:3,STOP_AUTO_COUNT:4}),ls=_(94,340),_s=_(110,350),us=[{GameId:j.GAME_ID.MC,type:5},{GameId:j.GAME_ID.SR,type:20}],ps=function(){function t(t){this.name="",this.name=t}return t.prototype.getName=function(){return this.name},t}();t("BigFavorUser",{BigWin:0,MayLike:1});Xa||(Xa=t("BarManager",{}));var hs={2:[204],3:[136],4:[340,340,68],5:[340,340],7:[340,204]},cs=(u(68,-60),u(68,-24),u(136,-110),u(136,-110),u(136,-60),{105:[4,7]}),Ss={105:[2,3]},Bs={100:[{VIP:0,CN:3,Coin:400,Diff:1},{VIP:0,CN:8,Coin:53,Diff:1}],105:[{VIP:0,CN:3,Coin:400,Diff:1},{VIP:0,CN:8,Coin:53,Diff:1}],106:[{VIP:0,CN:3,Coin:400,Diff:1},{VIP:0,CN:8,Coin:53,Diff:1}]},ds={Silver:"app_icon_coin_silver",Gold:"app_icon_coin",40:"app_icon_coin_HI",41:"app_icon_coin_BN"},bs={200:{40:!0,41:!0},201:{40:!0,41:!0}},fs={40:115,41:100},gs="DiffInfo:AID:",Cs="BottomBar_Bg_Portrait",Ts="BottomBar_Bg_Landscape",ys="BottomBar_Btn_S_02",Ns={Dark:p(135,126,98),Light:p(255,255,255)},Is=h.ccclass,As=h.property;t("default",(Wt=As({type:c,tooltip:"共用說明介面"}),zt=As({type:c,tooltip:"india共用說明介面"}),Kt=As({type:S,tooltip:"Common Webview父節點"}),Yt=As({type:c,tooltip:"共用開網頁"}),qt=As({type:B,tooltip:"地BAR合圖"}),Zt=As({type:S,tooltip:"地BAR主體"}),jt=As({type:S,tooltip:"地BAR背景"}),Xt=As({type:S,tooltip:"客製地BAR背景根節點"}),Jt=As({type:d,tooltip:"客製地BAR背景"}),Qt=As({type:d,tooltip:"金幣圖示"}),$t=As({type:B,tooltip:"金幣合圖"}),te=As({type:b,tooltip:"JILI logo"}),ee=As({type:b,tooltip:"印度logo"}),ie=As({type:b,tooltip:"TaDalogo"}),ne=As({type:b,tooltip:"UFAlogo"}),oe=As({type:b,tooltip:"JILI STAR logo"}),ae=As({type:b,tooltip:"品牌Logo，依照Tools的BrandLogo排序"}),se=As({type:f,tooltip:"連線提示動畫"}),re=As({type:d,tooltip:"連線狀態"}),me=As({type:B,tooltip:"連線狀態"}),le=As(g),_e=As(g),ue=As(g),pe=As(g),he=As(g),ce=As(g),Se=As({type:b,tooltip:"快停按鈕圖示"}),Be=As(g),de=As(g),be=As(d),fe=As(d),ge=As(b),Ce=As(g),Te=As({type:S,tooltip:"TadaApp押注紐總開關"}),ye=As(g),Ne=As(g),Ie=As(g),Ae=As(g),Le=As(g),Ee=As(d),ve=As(g),we=As(g),Me=As(g),Pe=As({type:g,tooltip:"遊戲說明鈕 for BMM"}),Oe=As({type:g,tooltip:"返回大廳按鈕"}),Fe=As({type:g,tooltip:"Gift Code"}),Re=As(g),De=As(C),ke=As(T),Ue=As(T),Ge=As(T),xe=As(T),Ve=As(T),He=As(T),We=As(C),ze=As(C),Ke=As({type:C,tooltip:"時間"}),Ye=As({type:S,tooltip:"時間Layout節點"}),qe=As({type:C,tooltip:"遊戲時數"}),Ze=As({type:S,tooltip:"遊戲時數Layout節點"}),je=As({type:C,tooltip:"平台版號"}),Xe=As(S),Je=As(S),Qe=As(S),$e=As({type:S,tooltip:"押注根結點"}),ti=As(S),ei=As({type:S,tooltip:"額外bet"}),ii=As(S),ni=As(S),oi=As({type:g,tooltip:"音效開關鈕"}),ai=As({type:b,tooltip:"音效開關鈕:0開1關"}),si=As(S),ri=As(S),mi=As(S),li=As(y),_i=As(g),ui=As({type:S,tooltip:"WebView的天bar"}),pi=As(B),hi=As(b),ci=As(b),Si=As({type:B,tooltip:"街機合圖，可不放"}),Bi=As({type:d,tooltip:"Logo"}),di=As({type:d,tooltip:"Logo(stop spin)"}),bi=As({type:d,tooltip:"Logo_Free"}),fi=As({type:d,tooltip:"Logo_Free(stop spin)"}),gi=As(d),Ci=As(d),Ti=As(d),yi=As(d),Ni=As(d),Ii=As({type:d,tooltip:"自動玩提示"}),Ai=As({type:C,tooltip:"自動玩提示"}),Li=As({type:S,tooltip:"自動玩提示"}),Ei=As({type:C,tooltip:"加速按鈕提示"}),vi=As(d),wi=As(C),Mi=As(d),Pi=As(C),Oi=As({type:C,tooltip:"洗馬/免費贈金 balance"}),Fi=As({type:d,tooltip:"vip用的"}),Ri=As({type:C,tooltip:"vip用的"}),Di=As(c),ki=As(d),Ui=As(C),Gi=As(d),xi=As(S),Vi=As(S),Hi=As(S),Wi=As(S),zi=As(S),Ki=As({type:d,tooltip:"vip 提示"}),Yi=As({type:b,tooltip:"vip圖示"}),qi=As({type:b,tooltip:"app vip圖示"}),Zi=As({type:g,tooltip:"聯合彩金機制按鈕父節點"}),ji=As({type:g,tooltip:"滿額必開機制按鈕父節點"}),Xi=As({type:S,tooltip:"vip押注遮罩"}),Ji=As({type:S,tooltip:"vip提示"}),Qi=As({type:S,tooltip:"vip解鎖"}),$i=As({type:d,tooltip:"解鎖的VIP提示"}),tn=As({type:d,tooltip:"vip鎖提示文字"}),en=As({type:S,tooltip:"遮罩"}),nn=As({type:S,tooltip:"BET按鈕遮罩根"}),on=As({type:c,tooltip:"BET按鈕遮罩"}),an=As({type:S,tooltip:"Level Bet鎖遮罩layout"}),sn=As({type:S,tooltip:"EX BET按鈕根節點"}),rn=As({type:S,tooltip:"智慧訊息根節點"}),mn=As({type:c,tooltip:"前導遮罩"}),ln=As({type:S,tooltip:"使用道具卡"}),_n=As({type:c,tooltip:"使用freespin"}),un=As({type:c,tooltip:"使用freespin結束"}),pn=As({type:c,tooltip:"freespin押注轉換特效"}),hn=As({type:c,tooltip:"SPIN特效"}),cn=As({type:C,tooltip:"Num_FreespinCounter"}),Sn=As({type:f,tooltip:"FreeSpins_Gain"}),Bn=As({type:C,tooltip:"Num_ItemCount"}),dn=As({type:d,tooltip:"FreeSpin 提示文字"}),Is(((ja=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"m_commonTextPrefab",gn,o(e)),n(e,"m_commonTextPrefabID",Cn,o(e)),n(e,"m_commonWebviewParentNode",Tn,o(e)),n(e,"m_commonWebPagePrefab",yn,o(e)),n(e,"m_barAtlas",Nn,o(e)),n(e,"m_barNode",In,o(e)),n(e,"m_barBgNode",An,o(e)),n(e,"m_barBgCustRoot",Ln,o(e)),n(e,"m_barBgCustSprite",En,o(e)),n(e,"m_coinIconSprite",vn,o(e)),n(e,"m_coinIconSpriteAtlas",wn,o(e)),n(e,"m_jiliLogoSpriteFrame",Mn,o(e)),n(e,"m_indiaLogoSpriteFrame",Pn,o(e)),n(e,"m_TaDaLogoSpriteFrame",On,o(e)),n(e,"m_UFALogoSpriteFrame",Fn,o(e)),n(e,"m_jiliStarLogoSpriteFrame",Rn,o(e)),n(e,"m_brandSpriteFrames",Dn,o(e)),n(e,"m_connectAnim",kn,o(e)),n(e,"m_connectSprite",Un,o(e)),n(e,"m_connectAtlas",Gn,o(e)),n(e,"m_spinBtn",xn,o(e)),n(e,"m_stopSpinBtn",Vn,o(e)),n(e,"m_autoBtn",Hn,o(e)),n(e,"m_stopAutoBtn",Wn,o(e)),n(e,"m_stopAutoCountBtn",zn,o(e)),n(e,"m_speedButton",Kn,o(e)),n(e,"m_speedSprite",Yn,o(e)),n(e,"m_currencyBtn",qn,o(e)),n(e,"m_betBtn",Zn,o(e)),n(e,"m_betBtnIcon",jn,o(e)),n(e,"m_BMMbetBtnIcon",Xn,o(e)),n(e,"m_betIcons",Jn,o(e)),n(e,"m_BMMbetBtn",Qn,o(e)),n(e,"m_appBetBg",$n,o(e)),n(e,"m_appBetBtn",to,o(e)),n(e,"m_appBetPlusBtns",eo,o(e)),n(e,"m_appBetMinusBtns",io,o(e)),n(e,"m_betCloseBtn",no,o(e)),n(e,"m_commBtn",oo,o(e)),n(e,"m_commSprite",ao,o(e)),n(e,"m_wiseAutoBtn",so,o(e)),n(e,"m_historyBtn",ro,o(e)),n(e,"m_ratioBtn",mo,o(e)),n(e,"m_BMMratioBtn",lo,o(e)),n(e,"m_homeBtn",_o,o(e)),n(e,"m_giftCodeBtn",uo,o(e)),n(e,"m_notifyBtn",po,o(e)),n(e,"m_stopRoundLabel",ho,o(e)),n(e,"m_winLabel",co,o(e)),n(e,"m_netWinLabel",So,o(e)),n(e,"m_nowBetLabel",Bo,o(e)),n(e,"m_BMMnowBetLabel",bo,o(e)),n(e,"m_APPnowBetLabel",fo,o(e)),n(e,"m_balanceLabel",go,o(e)),n(e,"m_logIndex",Co,o(e)),n(e,"m_version",To,o(e)),n(e,"m_timeLabel",yo,o(e)),n(e,"m_timeLayoutNode",No,o(e)),n(e,"m_playTimeLabel",Io,o(e)),n(e,"m_playTimeLayoutNode",Ao,o(e)),n(e,"m_platVerLabel",Lo,o(e)),n(e,"m_marqueeNodeL",Eo,o(e)),n(e,"m_marqueeNodeS",vo,o(e)),n(e,"m_lobbyMarqueeNode",wo,o(e)),n(e,"m_betRootNode",Mo,o(e)),n(e,"m_betViewNode",Po,o(e)),n(e,"m_extraBetView",Oo,o(e)),n(e,"m_autoplayMenuNode",Fo,o(e)),n(e,"m_commView",Ro,o(e)),n(e,"m_soundBtn",Do,o(e)),n(e,"m_soundBtnSprite",ko,o(e)),n(e,"m_txt_blessing",Uo,o(e)),n(e,"m_img_win",Go,o(e)),n(e,"m_fullScreenMask",xo,o(e)),n(e,"m_webView",Vo,o(e)),n(e,"m_webViewCloseBtn",Ho,o(e)),n(e,"m_upBarNode",Wo,o(e)),n(e,"m_commAtlas",zo,o(e)),n(e,"m_betBack",Ko,o(e)),n(e,"m_appBetBack",Yo,o(e)),n(e,"m_streetAtlas",qo,o(e)),n(e,"m_logoSprite",Zo,o(e)),n(e,"m_logoSpriteStop",jo,o(e)),n(e,"m_logoFreeSprite",Xo,o(e)),n(e,"m_logoFreeStopSprite",Jo,o(e)),n(e,"m_spinSprite",Qo,o(e)),n(e,"m_spinStopSprite",$o,o(e)),n(e,"m_autoSprite",ta,o(e)),n(e,"m_autoStopSprite",ea,o(e)),n(e,"m_autoCountStopSprite",ia,o(e)),n(e,"m_autoHintSprite",na,o(e)),n(e,"m_autoHintLabel",oa,o(e)),n(e,"m_autoHintEffect",aa,o(e)),n(e,"m_speedHintLabel",sa,o(e)),n(e,"m_winSprite",ra,o(e)),n(e,"m_barWinLabel",ma,o(e)),n(e,"m_balanceSprite",la,o(e)),n(e,"m_barBalanceLabel",_a,o(e)),n(e,"m_barTrailBalanceLabel",ua,o(e)),n(e,"m_vipBalanceSprite",pa,o(e)),n(e,"m_vipBalanceLabel",ha,o(e)),n(e,"m_betBtnPrefab",ca,o(e)),n(e,"m_speedPanel",Sa,o(e)),n(e,"m_speedPanelLabel",Ba,o(e)),n(e,"m_webViewTitleSprite",da,o(e)),n(e,"m_marqueeBgL",ba,o(e)),n(e,"m_marqueeBgS",fa,o(e)),n(e,"m_marqueeMask",ga,o(e)),n(e,"m_volatilityParent",Ca,o(e)),n(e,"m_floatView",Ta,o(e)),n(e,"m_vipSprite",ya,o(e)),n(e,"m_vipSpriteFrames",Na,o(e)),n(e,"m_appVipSpriteFrames",Ia,o(e)),n(e,"m_jackPotBtn",Aa,o(e)),n(e,"m_mustHitByBtn",La,o(e)),n(e,"m_vipLockNode",Ea,o(e)),n(e,"m_vipHintNode",va,o(e)),n(e,"m_unLockVipNode",wa,o(e)),n(e,"m_unlockVIPSprite",Ma,o(e)),n(e,"m_lockHintSprite",Pa,o(e)),n(e,"m_vipMaskNodes",Oa,o(e)),n(e,"m_levelBetLockRoot",Fa,o(e)),n(e,"m_betBtnMask",Ra,o(e)),n(e,"m_levelBetLocks",Da,o(e)),n(e,"m_extraBtnNode",ka,o(e)),n(e,"m_notifyRoot",Ua,o(e)),n(e,"m_playReadyPrefab",Ga,o(e)),n(e,"m_usingCard",xa,o(e)),n(e,"m_freespinUseAniPrefab",Va,o(e)),n(e,"m_freespinEndAniPrefab",Ha,o(e)),n(e,"m_freespinBetAniPrefab",Wa,o(e)),n(e,"m_freespinBtnEftPrefab",za,o(e)),e.m_freespinBtnEft=null,n(e,"m_num_FreespinCounter",Ka,o(e)),n(e,"m_freeSpins_Gain",Ya,o(e)),n(e,"m_num_ItemCount",qa,o(e)),n(e,"m_freeSpinSprite",Za,o(e)),e.m_gameEXnode=null,e.m_IsFreeSpin=!1,e.m_betIcon=null,e.m_betIconEX=null,e.SlotBottomBarState={IDLE:0,CLICK_SPIN:1,START_SPIN:2,CLICK_STOP:3,GET_AWARD:4,CLICK_GET:5,CLICK_AUTOPLAY:6,CLICK_CANCEL:7,IDLE_AGAIN:8,SPIN_DISABLE:9,CLICK_STOP_IN_AUTOPLAY:10,SKIP_SMALL_FLASH:11,SKIP_SMALL_FLASH_AUTOPLAY:12,SKIP_BIG_FLASH:13,CLICK_STOP_NO_AUTO:14,GET_AWARD_NO_AUTO:15,CLICK_STOP_IN_AUTOPLAY_NO_AUTO:16,SPIN_DISABLE_DISABLE_STOP:17,AUTO_UNABLE:18,AUTO_ABLE:19,CLICK_AUTOPLAY_HARDSTOP:20},e.m_view=null,e.m_betList=null,e.m_betIndex=0,e.m_appBetLimit=null,e.m_speedBtn=null,e.m_speedImg=null,e.m_speedBtnStatus=!1,e.m_soundBtnStatus=!0,e.m_autoplayConfirmCb=null,e.m_isStartTouchAuto=!1,e.m_autoTouchTime=null,e.m_btn_state=-1,e.m_totalRound=-1,e.m_singleWin=-1,e.m_chipLessLimit=-1,e.m_chipGreatLimit=-1,e.m_chipCompareTypes=-1,e.m_localeSpriteAtlas=null,e.m_freeType=-1,e.m_isHardStop=!1,e.m_oldState=e.SlotBottomBarState.IDLE,e.m_isLandscape=!0,e.m_isSmall=!1,e.m_showAward=0,e.m_step=0,e.m_totalAward=0,e.m_win=0,e.m_netWin=0,e.m_durTick=0,e.m_isShowAward=!1,e.m_originalWin=0,e.m_delay=0,e.m_autoplaySetting=null,e.m_multiBetInfo=null,e.m_multiBetPrefab=null,e.m_isLow=!1,e.m_prefer=null,e.m_webViewLock=!1,e.m_reelCount=1,e.m_currentTouchName=null,e.m_autoplayPrefab=null,e.m_currencyInfo=void 0,e.m_cb=null,e.m_clickCount=0,e.m_clickStartTime=0,e.m_isHintQuickMod=!1,e.m_betBtns=new Array,e.m_betLabels=new Array,e.m_betLayoutNodes=new Array,e.m_btnLayoutNodes=new Array,e.m_betNumLayoutNodes=new Array,e.m_isChangePos=!1,e.m_ratioURL=null,e.m_historyUrl=null,e.m_backpackUrl=null,e.m_memberUrl=null,e.m_lockBetEnable=!1,e.m_lockAutoEnable=!1,e.m_lockWiseAutoEnable=!1,e.m_lockhistoryEnable=!1,e.m_lockInfoEnable=!1,e.m_fullScreenCheck=0,e.m_isWiseAutoPlay=!1,e.m_canFullScreen=!1,e.m_isSkipFlash=!1,e.m_timer=void 0,e.m_marqueeTimer=void 0,e.m_useSoundTimer=null,e.m_soundTime=0,e.m_soundTimeFlag=!1,e.m_spinClickCount=0,e.m_isSpinCountFinished=!1,e.m_spinWithSpeed=0,e.m_spinWithAuto=0,e.m_clickBuffer=[0,0,0,0,0,0,0,0],e.CLICK_BUFFER_TYPE={FEATURES:0,RATIO:1,HISTORY:2,WISEAUTO:3,BACKPACK:4,BACKPACK_GAME:5,BACKPACK_ALL:6,BACKPACK_MSG:7,RANKING:8,DAILY_MISSION:9,DEBRIS:10,GIFT_CODE:11},e.CLICK_BUFFER_STATE={ON:1,OFF:2},e.m_haveStopSound=!0,e.m_canScaleWinValue=!1,e.m_imgTxt=null,e.m_eftWin=null,e.m_marqueeObj=null,e.m_topLeftLabel=null,e.m_isFirstSpin=!0,e.m_isSpinTurbo=!1,e.m_chips=0,e.m_touchCb=null,e.m_isInitChips=!1,e.m_firstCheckChips=!0,e.m_initTimer=null,e.m_oldExchangeChips=null,e.m_shouldUpdateBetBtn=!1,e.m_spinHoldTimer=null,e.m_isFirstSpinHold=!1,e.m_dollarSymbolSize=25,e.m_isOpenMall=0,e.m_trailBetNum=0,e.m_isGameIdle=!1,e.m_showGameSceneFromGame=!1,e.m_extraManager=null,e.m_isSendBetViewOpen=!1,e.m_isSendBetChange=!1,e.m_commMenu=null,e.m_itemBet=0,e.m_isItemBet=!1,e.m_buyBonusBet=0,e.m_isBuyBonusBet=!1,e.m_isFirstSetting=!0,e.m_multBetIdx=0,e.m_openBtnCbs={},e.m_closeBtnCbs={},e.m_isVipInit=!1,e.m_betLimit=null,e.m_isLockConnectSprite=!1,e.m_betLayoutSize=ls,e.m_commonText=null,e.m_commonWebPage=null,e.m_playReadyNode=null,e.m_gameLogoNodes=null,e.m_gaemLogoDiffs=null,e.m_followNode=null,e.m_followDiffs=null,e.m_tadaProgressBar=null,e.m_isCustomize=!1,e.m_volatilitySprite=null,e.m_sec=1,e.m_betDollerSymbol="",e.m_playTimerStarted=!1,e.m_playTime_sec=0,e.m_playTime_min=0,e.m_playTime_hr=0,e.m_idleTime=0,e.m_realityCheckTime=0,e.m_levelBetMasks=null,e.m_btn_spinstop_Sprite=null,e.m_btn_spinstop_iconSprite=null,e.m_btn_spin_Sprite=null,e.m_btn_spin_iconSprite=null,e.m_netTxt="NET : ",e.sendTestLog=function(t){var e,i,n;if(!(j.StartSceneTime<=0)){var o=(Date.now()-j.StartSceneTime)/1e3,a="264057",s="v_0.115_2511";j.APP&&j.APP.userInfo&&(a=j.APP.GetAID()),j.GAME_VERSION&&(s=j.GAME_VERSION);var r="https://"+(null==(e=Y.GetLinkParameterByName("domain_platform"))||null==(i=e.split(""))||null==(n=i.reverse())?void 0:n.join(""))+"/webservice/event/user",m="?AccountID="+a+"&ApiID="+Y.GetLinkParameterByName("apiId")+"&GameID="+j.NOW_GAME_ID+"&GameVersion="+s+"&EventNo="+t+"&EventValue="+Y.GetLinkParameterByName("ssoKey")+" , "+o+"&BrowserSystem=0&DeviceSystem=0&Screen=0&CurrencyNumber="+j.CURRENCY_NUMBER+"&SubAgentCode="+j.SUB_AGENT_CODE,l=new XMLHttpRequest;return l.open("get",r+m),l.send(),o}},e}i(e,t);var m=e.prototype;return m.SetLockBetEnable=function(t){this.m_lockBetEnable=t},m.onLoad=function(){Y.PerformanceProgress(.96),this.m_tadaProgressBar=document.getElementById("progressBar_TaDa_IN"),this.CheckExtraManager();var t=[];if(this.m_jiliLogoSpriteFrame?(t.push(this.m_jiliLogoSpriteFrame),t.push(this.m_jiliLogoSpriteFrame)):(t.push(this.m_TaDaLogoSpriteFrame),t.push(this.m_TaDaLogoSpriteFrame)),t.push(this.m_indiaLogoSpriteFrame),t.push(this.m_TaDaLogoSpriteFrame),t.push(this.m_UFALogoSpriteFrame),t.push(this.m_jiliStarLogoSpriteFrame),Y.LogoSpriteFrames=this.m_brandSpriteFrames,this.m_logoSprite){var e=Y.UsingLogoSpriteFrame();e?(Y.Line!=j.LineSetting.americas&&Y.Line!=j.LineSetting.americas_str&&(this.m_logoSprite.spriteFrame=e,this.m_logoSpriteStop&&(this.m_logoSpriteStop.spriteFrame=e)),this.m_logoSprite.node.active=!0,this.m_logoSpriteStop&&(this.m_logoSpriteStop.node.active=!0)):(this.m_logoSprite.node.active=!1,this.m_logoSpriteStop&&(this.m_logoSpriteStop.node.active=!1))}if(this.m_platVerLabel.node.active=Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowPlateformVer),this.m_platVerLabel&&(this.m_platVerLabel.string=j.PLATFORM_VER),this.m_timeLayoutNode.active=Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowTime),this.m_playTimeLayoutNode.active=Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowPlayTime),this.m_platVerLabel.node.active=Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowPlateformVer),Y.SetZIndex(this.m_webView.node,j.ZOrder.WEBVIEW),this.m_logoFreeSprite&&(this.m_logoFreeSprite.node.active=!1),this.m_logoFreeStopSprite&&(this.m_logoFreeStopSprite.node.active=!1),this.m_speedPanel.node.active=!1,this.m_speedPanel.node.getComponent(N).opacity=0,Y.SetZIndex(this.m_speedPanel.node,j.ZOrder.HINT),Y.SetZIndex(this.m_speedPanelLabel.node,j.ZOrder.HINT+1),this.m_timer=new $,this.m_timer.Start(1e4),this.m_marqueeTimer=new $,this.m_marqueeTimer.Start(5e3),this.m_useSoundTimer=new $,this.m_imgTxt=this.node.getChildByName("img_txt"),this.m_initTimer=new $,this.m_initTimer.UseDT(!0),this.m_commMenu=this.m_homeBtn.node.parent.getComponent(I),this.m_connectAnim&&(this.m_connectAnim.node.active=!0,this.m_connectAnim.play("Connect_Close")),this.m_commonTextPrefab||this.m_commonTextPrefabID){var i=null,n=parseInt(j.API_ID);(i=!isNaN(n)&&n>=200&&n<300&&this.m_commonTextPrefabID?A(this.m_commonTextPrefabID):A(this.m_commonTextPrefab)).active=!1,this.node.addChild(i),Y.SetZIndex(i,j.ZOrder.ITEMINFO),this.m_commonText=i.getComponent(bt)}if(this.m_commonWebPagePrefab){var o=A(this.m_commonWebPagePrefab);this.m_commonWebviewParentNode.addChild(o),o.active=!1,Y.SetZIndex(this.m_commonWebviewParentNode,j.ZOrder.WEBVIEW),this.m_commonWebPage=o.getComponent(gt)}this.m_extraManager.BuyBonusBtn&&(this.m_extraManager.BuyBonusBtn.node.active=!1),Pt.BottomBar=this},m.start=function(){var t,e,i=this;if(Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinHoldTimer=new $,this.m_spinHoldTimer.UseDT(!0)),L.isNative)this.m_webView.setJavascriptInterfaceScheme(j.SchemeKey),this.m_webView.setOnJSCallback((function(t,e){var n=e.replace(j.SchemeKey+"://","");if(n===j.WebViewEvent.Close)i.CloseWebView();else if(n.includes(j.WebViewEvent.ChangeGame)){var o=Number(n.split(":")[1]);o&&!isNaN(o)&&et.GetInstance().ReqUrl(o,j.BTN_CLICK_EVENT.EVENT_CHANGE_GAME)}}));else{var n=ct.HISTORY_URL.search(/\.com/g),o=ct.HISTORY_URL.slice(0,n+4);n=ct.RATIO_URL.search(/\.com/g);var r=ct.RATIO_URL.slice(0,n+4);Rt.AddCb({CloseWebView:function(t){-1===t.search(o)&&-1===t.search(r)||i.CloseWebView()},ChangeGame:function(t){t&&et.GetInstance().ReqUrl(t,j.BTN_CLICK_EVENT.EVENT_CHANGE_GAME)}})}if(this.m_webView&&(this.m_webView.node.active=!1),et.GetInstance().SyncBalanceCb=function(t,e,n){i.SyncChips(t,e,!1,n)},this.m_vipLockNode.active=!1,ht.GetInstance().AddUpdateCb(j.CbKey.BottomBar,a(s().mark((function t(e){var n,o,a,r,m,l,_,u,p,h,c,S,B,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseVip)){t.next=2;break}return t.abrupt("return");case 2:if(i.m_isVipInit||(i.m_isVipInit=!0,i.SetBalanceSprite(!0)),n=e.Lv,0==(o=Number(j.API_ID))&&(o=Number(Y.GetLinkParameterByName("apiId"))),!(!isNaN(o)&&o>=100&&o<500)){t.next=42;break}if(i.m_vipSprite.spriteFrame=i.m_appVipSpriteFrames[n]?i.m_appVipSpriteFrames[n]:i.m_appVipSpriteFrames[i.m_appVipSpriteFrames.length-1],a=0,!(r=X.GetInt(gs+j.AID))){t.next=14;break}0===n&&(a=r),t.next=37;break;case 14:if(!(m=Bs[o])||!ot.HasWallet){t.next=37;break}if(l=ot.GetWallet(),0==j.SSO_CURRENCY_NUMBER.length)for(_=0;_<l.length;_++)j.SSO_CURRENCY_NUMBER.push(l[_].currencyNumber);u=i.GetChips(),p=0;case 20:if(!(p<m.length)){t.next=37;break}h=!1,c=0;case 23:if(!(c<j.SSO_CURRENCY_NUMBER.length)){t.next=32;break}if(!(n===m[p].VIP&&j.SSO_CURRENCY_NUMBER[c]===m[p].CN&&u>=m[p].Coin)){t.next=29;break}return a=m[p].Diff,h=!0,X.SetInt(gs+j.AID,a),t.abrupt("break",32);case 29:c++,t.next=23;break;case 32:if(!h){t.next=34;break}return t.abrupt("break",37);case 34:p++,t.next=20;break;case 37:if(S=cs[o],j.NOW_GAME_ID==j.GAME_ID.MC.toString()&&(S=Ss[o]),S)if(i.m_betLimit=S[n+a],i.m_betLimit&&hs[i.m_betLimit])for(i.m_vipLockNode.active=!0,i.m_unlockVIPSprite.spriteFrame=i.m_appVipSpriteFrames[n+1],i.m_vipHintNode.getComponent(f).play("VipLock_"+i.m_betLimit.toString()),B=0;B<i.m_vipMaskNodes.length;B++)(d=hs[i.m_betLimit][B])?(i.m_vipMaskNodes[B].active=!0,i.m_vipMaskNodes[B].getComponent(E).height=d):i.m_vipMaskNodes[B].active=!1;else i.m_vipLockNode.active=!1;else i.m_vipLockNode.active=!1;t.next=43;break;case 42:i.m_vipSprite.spriteFrame=i.m_vipSpriteFrames[n]?i.m_vipSpriteFrames[n]:i.m_vipSpriteFrames[i.m_vipSpriteFrames.length-1];case 43:case"end":return t.stop()}}),t)})))),this.m_vipSprite&&(Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseVip)?this.m_vipSprite.node.active=!1:(this.m_vipSprite.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==i.m_currentTouchName&&i.m_vipSprite.node.active?(i.m_currentTouchName=t.target.name,i.SetScaleAction(i.m_vipSprite.node,!0)):t.target&&0==t.target.active&&(i.m_currentTouchName=t.target.name)})),this.m_vipSprite.node.on(S.EventType.TOUCH_CANCEL,(function(t){i.SetScaleAction(i.m_vipSprite.node,!1),i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_vipSprite.node.on(S.EventType.TOUCH_END,(function(t){if(i.SetScaleAction(i.m_vipSprite.node,!1),i.m_currentTouchName==t.target.name){i.m_currentTouchName=null;var e=ct.WEB_URL.replace("{target}","member/vip");i.OpenWebView(e,j.StringKey.BOTTOM_BAR_BACK_GAME_HISTORY),Q.getInstance().SendBtnClickEvent(Q.FormBtnClickParams(Number(j.AID),Number(j.API_ID),Number(j.NOW_GAME_ID),j.GAME_VERSION,j.BTN_CLICK_EVENT.SIGN_IN_INFO_CLICK,1))}})))),this.m_connectSprite&&this.m_connectAnim&&(this.IsGLIGames||this.IsBMMGames?(this.m_connectSprite.node.active=!1,this.m_connectAnim.node.active=!1):St.GetInstance().AddSpeedNotify(j.CbKey.BottomBar,(function(t){i.m_isLockConnectSprite||i.UpdateConnectSprite(i.m_isLockConnectSprite)}))),(this.IsGLIGames||this.IsBMMGames)&&this.m_imgTxt){var m=this.m_imgTxt.getChildByName("img_autotop_1").getPosition();this.m_imgTxt.getChildByName("img_autoplay").setPosition(m.x,m.y)}this.m_btn_spinstop_Sprite=this.m_stopSpinBtn.node.parent.getComponent(d),this.m_btn_spinstop_iconSprite=null==(t=this.m_stopSpinBtn.node.parent.getChildByName("Icon"))?void 0:t.getComponent(d),this.m_btn_spin_Sprite=this.m_spinBtn.node.parent.getComponent(d),this.m_btn_spin_iconSprite=null==(e=this.m_spinBtn.node.parent.getChildByName("Icon"))?void 0:e.getComponent(d)},m.BarBodyCustomize=function(t,e){if(Y.Line==j.LineSetting.americas&&(this.m_isCustomize=!0,this.m_barBgNode.active=!1,this.m_barBgCustRoot.active=!0,e.getSpriteFrame(Cs)&&(this.m_barBgCustSprite[0].spriteFrame=e.getSpriteFrame(Cs)),e.getSpriteFrame(Ts)&&(this.m_barBgCustSprite[1].spriteFrame=e.getSpriteFrame(Ts)),e.getSpriteFrame(ys)&&(this.m_volatilitySprite=e.getSpriteFrame(ys),this.m_notifyBtn.node.getComponent(d).spriteFrame=e.getSpriteFrame(ys)),this.m_barNode)){var i=A(t);i.getComponent(Nt).ResetComponent(this,this.m_extraManager,this.m_floatView);var n=this.m_barNode.getChildByName("Bar_Body");n.removeFromParent(),n.destroy(),this.m_extraManager.FeaturesDemoRootNode.zIndex=1,this.m_barNode.addChild(i),this.m_commMenu=this.m_homeBtn.node.parent.getComponent(I),Y.SetZIndex(i,-1)}},m.SetGameLogo=function(t,e){var i=this;this.m_gameLogoNodes=t,this.m_gaemLogoDiffs=e,this.m_floatView&&this.m_gameLogoNodes.forEach((function(t){t.removeFromParent(),i.m_floatView.addChild(t),Y.SetZIndex(t,-1)}))},m.SetBarNodeVisiable=function(t,e){void 0===e&&(e=0);var i=0;if(t&&(i=255),this.m_barNode){var n=this.m_isCustomize?this.m_barBgCustRoot:this.m_barBgNode;this.m_barNode.active=t,n.active=t,v(this.m_barNode.getComponent(N)).to(e,{opacity:i}).start(),v(n.getComponent(N)).to(e,{opacity:i}).start(),this.m_extraManager.Recommend&&v(this.m_extraManager.Recommend.node.getComponent(N)).to(e,{opacity:i}).start()}this.m_extraManager.SetBarNodeVisiable(t,e)},m.SetFollowNode=function(t,e){this.m_followNode=t,this.m_followDiffs=e,this.m_followNode&&(this.m_followNode.removeFromParent(),this.m_floatView.addChild(this.m_followNode),Y.SetZIndex(this.m_followNode,-2))},m.ChangePos=function(t,e,i,n){this.m_cb=e,this.m_isLandscape=t,i&&(this.m_isSmall=i),this.m_isChangePos=!0;var o=w.getDesignResolutionSize(),a=M.windowSize,s=a.height*o.width/a.width,r=a.width*o.height/a.height,m=ts;if(t){if(this.PlayAnim(m.Landscape),this.m_barNode&&(Y.IsTadaCasino?this.m_barNode.getComponentInChildren(f).play(ns):this.m_barNode.getComponentInChildren(f).play(es)),this.m_autoplaySetting)(_=this.m_autoplaySetting.node.getComponent(f))&&_.play(this.m_autoplaySetting.PanelAniL);s=P.clampf(s,j.DEFAULT_LANDSCAPE_SIZE.height-1,j.DEFAULT_LANDSCAPE_SIZE.height),r=P.clampf(r,j.DEFAULT_LANDSCAPE_SIZE.width,1348),this.m_playReadyNode&&this.m_playReadyNode.parent===this.node&&this.m_playReadyNode.setPosition(l(0,320)),this.m_num_FreespinCounter&&this.m_num_FreespinCounter.node.setPosition(l(400,69)),this.m_logoFreeSprite&&this.m_logoFreeSprite.node.setPosition(l(0,10)),this.m_logoFreeStopSprite&&this.m_logoFreeStopSprite.node.setPosition(l(0,10))}else{var _;if(i?n?(this.m_isLow=!0,this.PlayAnim(m.Portrait_Low)):this.PlayAnim(m.Portrait_Small):this.PlayAnim(m.Portrait),this.m_barNode&&(Y.IsTadaCasino?this.m_barNode.getComponentInChildren(f).play(os):this.m_barNode.getComponentInChildren(f).play(is)),this.m_autoplaySetting)(_=this.m_autoplaySetting.node.getComponent(f))&&_.play(this.m_autoplaySetting.PanelAniS);s=P.clampf(s,j.DEFAULT_LANDSCAPE_SIZE.width,1500),r=P.clampf(r,j.DEFAULT_LANDSCAPE_SIZE.height-1,j.DEFAULT_LANDSCAPE_SIZE.height),this.m_playReadyNode&&this.m_playReadyNode.parent===this.node&&this.m_playReadyNode.setPosition(l(0,568)),this.m_num_FreespinCounter&&this.m_num_FreespinCounter.node.setPosition(l(-2,109)),this.m_logoFreeSprite&&this.m_logoFreeSprite.node.setPosition(l(0,10)),this.m_logoFreeStopSprite&&this.m_logoFreeStopSprite.node.setPosition(l(0,10))}if(this.m_floatView){if(this.m_floatView.getComponent(E).setContentSize(r,s),this.m_floatView.children.forEach((function(t){t.getComponent(it)&&t.getComponent(it).SetDiffPos()})),this.m_gameLogoNodes){var u=l(0,0);this.m_gaemLogoDiffs&&this.m_gaemLogoDiffs[Number(t)]&&(u=this.m_gaemLogoDiffs[Number(t)]),this.m_gameLogoNodes.forEach((function(e){e.setPosition(l(0,s/2).add(u).add(j.LOGO_BASE_DIFF[Number(t)]))}))}if(this.m_barNode){var p=this.m_barNode.getComponent(O);p&&(this.m_isLandscape||s===j.DEFAULT_LANDSCAPE_SIZE.width?(j.BAR_DIFF_HEIGHT=0,p.bottom=0):(j.BAR_DIFF_HEIGHT=10,p.bottom=j.BAR_DIFF_HEIGHT))}if(this.m_barBgNode){var h=this.m_barBgNode.getComponent(O);h&&(this.m_isLandscape||j.DEFAULT_LANDSCAPE_SIZE.width,h.bottom=j.BAR_DIFF_HEIGHT)}if(this.m_followNode){var c=l(0,0);if(this.m_followDiffs&&this.m_followDiffs[Number(t)]&&(c=this.m_followDiffs[Number(t)]),this.m_isLandscape)this.m_followNode.setPosition(l(0,0).add(c));else{var S=.75,B=l(0,-45);Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(B=l(0,0),S=1);var d=l(0,(j.DEFAULT_LANDSCAPE_SIZE.width-s)/2*S+j.BAR_DIFF_HEIGHT);this.m_followNode.setPosition(B.add(d).add(c))}}}this.ChangeWebViewSize(this.m_isLandscape),this.m_eftWin&&this.m_eftWin.OnRatation(t),this.m_currencyInfo&&this.m_currencyInfo.OnRotation(t,i);var b=this.m_floatView.getComponent(E).contentSize,g=(b.width-j.DEFAULT_LANDSCAPE_SIZE.width)/2;g=g>0?g:0;var C=(b.height-j.DEFAULT_LANDSCAPE_SIZE.width)/2;if(C=C>0?C:0,this.m_commBtn){var T=this.m_commBtn.node.getComponent(O);T&&(t?(T.isAlignBottom=!0,T.isAlignTop=!1,T.bottom=32,T.left=4+g):(T.isAlignBottom=!1,T.isAlignTop=!0,T.top=8,T.left=10))}if(this.m_commMenu){var y=this.m_commMenu.node.getComponent(O);y&&(t?(y.isAlignBottom=!0,y.isAlignTop=!1,y.bottom=62,y.left=50+g):(y.isAlignBottom=!1,y.isAlignTop=!0,y.top=-6,y.left=99))}if(this.m_speedBtn){var I=this.m_speedBtn.node.getComponent(O);I&&(t?(I.bottom=191,I.right=24):(I.bottom=i?n?246+C-52:246+C:283+C,I.right=14))}if(this.m_usingCard){var A=this.m_usingCard.getComponent(O);A&&(t?(A.bottom=255,A.right=24):Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str?(A.bottom=244,A.right=101):(A.bottom=195,A.right=92))}if(this.m_notifyBtn){var v=this.m_notifyBtn.node.getComponent(O);v&&(t?(v.bottom=186,v.left=10.5):(v.bottom=38.5,v.left=24,Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(v.bottom=430.5,v.left=18)))}if(this.m_volatilityParent){var F=this.m_volatilityParent.getComponent(O);F&&(t?(F.isAlignRight=!1,F.isAlignLeft=!0,F.bottom=253,F.left=24):(F.isAlignRight=!0,F.isAlignLeft=!1,F.bottom=180,F.right=10))}if(this.m_connectAnim){var R=this.m_connectAnim.node.getComponent(O);R&&(L.isNative?t?(R.isAlignBottom=!1,R.isAlignTop=!0,R.top=30,R.left=155):(R.isAlignBottom=!0,R.isAlignTop=!1,R.bottom=107+C,R.left=130):t?(R.isAlignBottom=!1,R.isAlignTop=!0,R.top=30,R.left=155):(R.isAlignBottom=!0,R.isAlignTop=!1,n?(R.bottom=79+C-25,R.left=600):(R.bottom=79+C,R.left=130)))}if(this.m_freeSpins_Gain&&(t?this.m_freeSpins_Gain.node.setScale(l(1,1,1)):this.m_freeSpins_Gain.node.setScale(l(.7,.7,.7))),this.m_commonText&&this.m_commonText.OnRotation(t),this.m_commonWebPage&&this.m_commonWebPage.OnRotation(t),this.RotateItemSpinBtn(),this.m_notifyRoot||ut.GetInstance().OnRotation(t),pt.GetInstance().OnRotation(t),Bt.GetInstance().Rotation(t),dt.GetInstance().Rotation(t),this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_L")&&this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_S")){this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_L").getComponent(N).opacity=t?255:0,this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_S").getComponent(N).opacity=t?0:255;var D=this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_S").position.x;this.m_lobbyMarqueeNode.getChildByName("lobbyMarquee_S").setPosition(D,b.height/2)}L.isNative?mt.ChangePos(t):window.scrollTo(0,0)},m.RotateItemSpinBtn=function(){},m.OpenCommonText=function(t,e,i,n,o,a){this.m_commonText&&this.m_commonText.OpenCommonText(t,e,i,n,o,a)},m.InitFavorIcon=function(t){t&&this.m_commonText&&this.m_commonText.InitFavorIcon(t)},m.CloseCommonText=function(){this.m_commonText&&this.m_commonText.CloseCommonText()},m.SetContentText_HorizontalAlign=function(t){this.m_commonText&&this.m_commonText.SetContentText_HorizontalAlign(t)},m.OpenCommonWebPage=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=!1),this.m_commonWebPage&&(this.m_commonWebPage.SetTitle(e),this.m_commonWebPage.Show(t,this.m_isLandscape,i))},m.CloseCommonWebPage=function(){this.m_commonWebPage&&this.m_commonWebPage.OnClose()},m.AddOpenCloseBtnCb=function(t,e,i){this.m_openBtnCbs[t]=e,this.m_closeBtnCbs[t]=i},m.OpenAllBtn=function(){for(var t in this.m_openBtnCbs)if(Object.prototype.hasOwnProperty.call(this.m_openBtnCbs,t)){var e=this.m_openBtnCbs[t];e&&e()}},m.CloseAllBtn=function(){for(var t in this.m_closeBtnCbs)if(Object.prototype.hasOwnProperty.call(this.m_closeBtnCbs,t)){var e=this.m_closeBtnCbs[t];e&&e()}},m.ChangeWebViewSize=function(t){var e=this.m_floatView.getComponent(E).contentSize;this.m_webView.node.getComponent(E).setContentSize(_(e.width,e.height))},m.ChangeEnd=function(){this.SetSpinState(this.m_btn_state),this.m_cb&&(this.m_cb(),this.m_cb=null)},m.PlayAnim=function(t){var e=this,i=this.getComponent(f);i?(i.play(t),i.once(f.EventType.FINISHED,(function(){e.SetExtraBetView()}))):this.SetExtraBetView()},m.SetScaleAction=function(t,e,i){var n=l(.95,.95,1),o=l(1,1,1);e?v(t).to(as,{scale:n}).start():v(t).to(as,{scale:o}).start()},m.SendReleaseSpinEvent=function(){if(this.m_touchCb){var t=new F([],!1,"");t.target=new ps(e.UIName.BTN_RELEASE_SPIN),this.m_touchCb(t)}},m.CheckExtraManager=function(){var t=this;this.m_extraManager||(this.m_extraManager=this.node.getComponent(lt),this.m_extraManager.SetOpenCloseBtnCb((function(){t.OpenAllBtn()}),(function(){t.CloseAllBtn()})))},m.SetTouchEvet=function(t){var i,n=this;(this.m_touchCb=t,this.CheckExtraManager(),this.m_extraManager.SetTouchEvent(),Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseSpeedUp))?((i=this.m_floatView.getChildByName(e.UIName.BTN_SPEED)?this.m_floatView.getChildByName(e.UIName.BTN_SPEED):this.m_speedButton.node).getChildByName(e.UIName.IMG_SPEED).active=!1,i.active=!1,this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!1)):(this.m_floatView.getChildByName(e.UIName.BTN_SPEED)?this.m_speedBtn=this.m_floatView.getChildByName(e.UIName.BTN_SPEED).getComponent(g):this.m_speedBtn=this.m_speedButton,this.m_speedImg=this.m_speedBtn.node.getChildByName(e.UIName.IMG_SPEED),this.m_speedBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_speedBtn.interactable?(n.m_currentTouchName=t.target.name,n.SetScaleAction(n.m_speedBtn.node,!0,!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_speedBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.SetScaleAction(n.m_speedBtn.node,!1,!0),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_speedBtn.node.on(S.EventType.TOUCH_END,(function(t){n.SetScaleAction(n.m_speedBtn.node,!1,!0),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null,n.ClickSpeedBtn())})));if(this.m_soundBtn||(this.m_soundBtn=this.m_commView.getChildByName(e.UIName.BTN_SOUND).getComponent(g)),L.isNative||mt.LobbyData)try{mt.LobbyData.mute?(this.m_soundBtnStatus=!1,this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[1],this.m_soundBtn.node.getComponent(R).color=p(135,126,98),q.getInstance().SetAllMute(!0),this.CheckSound(),this.m_soundTime=0,this.SendClickEvent(j.BTN_CLICK_EVENT.SOUND_OFF,this.m_spinWithSpeed)):(this.m_soundBtnStatus=!0,this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[0],this.m_soundBtn.node.getComponent(R).color=p(255,255,255),q.getInstance().SetAllMute(!1),this.CheckSound(),this.SendClickEvent(j.BTN_CLICK_EVENT.SOUND_ON,this.m_spinWithSpeed))}catch(t){}this.m_soundBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_soundBtn.interactable?(n.m_currentTouchName=t.target.name,v(n.m_soundBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_soundBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(n.m_soundBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_soundBtn.node.on(S.EventType.TOUCH_END,(function(e){v(n.m_soundBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==e.target.name&&(n.m_currentTouchName=null,n.ClickSoundBtn(),t(e))})),this.m_commBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_commBtn.interactable?(n.m_currentTouchName=t.target.name,v(n.m_commBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_commBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(n.m_commBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_commBtn.node.on(S.EventType.TOUCH_END,(function(i){if(v(n.m_commBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==i.target.name){if(n.m_currentTouchName=null,n.m_betRootNode.active&&(n.m_betRootNode.active=!1,n.m_extraBetView&&(n.m_extraBetView.active=!1),n.m_touchCb&&n.m_isSendBetViewOpen)){var o=new F([],!1,"");o.target=new ps(e.BetViewState.Close),n.m_touchCb(o)}n.m_commView.active=!n.m_commView.active,n.m_commView.active&&((j.IS_DEMO||n.IsGLIGames||n.IsBMMGames||Y.CheckSwitchOff(j.SwitchOffKeyDefine.GameHistory))&&(n.m_historyBtn.node.active=!1),(n.IsGLIGames||n.IsBMMGames||Y.KeepGLISetting)&&(n.m_wiseAutoBtn.node.active=!1)),t(i),q.getInstance().Play(j.AudioClips.COMMON_BTN)}})),this.m_spinBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_spinBtn.interactable?(n.m_currentTouchName=t.target.name,n.m_spinHoldTimer&&(n.m_spinHoldTimer.Clear(),n.m_spinHoldTimer.Start(300),n.m_isFirstSpinHold=!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_spinBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){if(n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null),n.m_spinHoldTimer&&n.m_spinHoldTimer.IsStarted()){if(n.SendReleaseSpinEvent(),n.m_spinHoldTimer.Clear(),!n.m_isFirstSpinHold)return;n.m_isFirstSpinHold=!1}})),this.m_spinBtn.node.on(S.EventType.TOUCH_END,(function(e){if(n.m_isSpinTurbo||n.m_currentTouchName==e.target.name){if(n.m_currentTouchName=null,pt.GetInstance().ShowVolatilityBtn(!1),n.m_spinHoldTimer&&n.m_spinHoldTimer.IsStarted()){if(n.SendReleaseSpinEvent(),n.m_spinHoldTimer.Clear(),!n.m_isFirstSpinHold)return;n.m_isFirstSpinHold=!1}n.SendReleaseSpinEvent(),n.AddHardStopTipCount(e.target.name),n.m_extraManager.RookieHintManager&&n.m_extraManager.RookieHintManager.CloseHint(j.RookieHintType.SPIN_BTN),(n.m_isSpinTurbo||n.m_btn_state==n.SlotBottomBarState.IDLE&&n.m_spinBtn.interactable||n.m_isSkipFlash)&&(n.CloseAllMenu(),t(e),n.SendSpinLog())}})),this.m_stopSpinBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_stopSpinBtn.interactable?(n.m_currentTouchName=t.target.name,n.m_spinHoldTimer&&(n.m_spinHoldTimer.Clear(),n.m_spinHoldTimer.Start(300),n.m_isFirstSpinHold=!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_stopSpinBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){if(n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null),n.m_spinHoldTimer&&n.m_spinHoldTimer.IsStarted()){if(n.SendReleaseSpinEvent(),n.m_spinHoldTimer.Clear(),!n.m_isFirstSpinHold)return;n.m_isFirstSpinHold=!1}})),this.m_stopSpinBtn.node.on(S.EventType.TOUCH_END,(function(e){if(n.m_currentTouchName==e.target.name){if(n.m_currentTouchName=null,n.m_spinHoldTimer&&n.m_spinHoldTimer.IsStarted()){if(n.SendReleaseSpinEvent(),n.m_spinHoldTimer.Clear(),n.m_isFirstSpinHold=!1,!n.m_isFirstSpinHold)return;n.m_isFirstSpinHold=!1}n.SendReleaseSpinEvent(),n.AddHardStopTipCount(e.target.name),n.m_stopSpinBtn.interactable&&(n.CloseAllMenu(),n.m_haveStopSound&&q.getInstance().Play(j.AudioClips.COMMON_BTN),t(e),n.SendClickEvent(j.BTN_CLICK_EVENT.STOP,n.m_spinWithSpeed))}})),Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowAutoSetting)?(this.m_autoBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_autoBtn.interactable?(n.m_currentTouchName=t.target.name,n.m_lockWiseAutoEnable||n.SetScaleAction(n.m_autoBtn.node,!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_autoBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.SetScaleAction(n.m_autoBtn.node,!1),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_autoBtn.node.on(S.EventType.TOUCH_END,(function(e){n.SetScaleAction(n.m_autoBtn.node,!1),n.m_currentTouchName==e.target.name&&(n.m_currentTouchName=null,n.m_lockWiseAutoEnable||(n.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),n.m_isWiseAutoPlay=!0,t(e)),n.PushClickToBuffer(n.CLICK_BUFFER_TYPE.WISEAUTO))}))):(this.m_autoBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_autoBtn.interactable?(n.m_currentTouchName=t.target.name,n.SetScaleAction(n.m_autoBtn.node,!0),n.m_autoTouchTime=0,n.m_isStartTouchAuto=!0):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_autoBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.SetScaleAction(n.m_autoBtn.node,!1),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null,n.m_autoTouchTime=0,n.m_isStartTouchAuto=!1)})),this.m_autoBtn.node.on(S.EventType.TOUCH_END,(function(e){n.SetScaleAction(n.m_autoBtn.node,!1),n.m_currentTouchName==e.target.name&&(n.m_currentTouchName=null,n.m_btn_state==n.SlotBottomBarState.IDLE&&n.m_autoBtn.interactable&&(n.CloseAllMenu(),n.m_isWiseAutoPlay=!1,n.StartAutoplay(),q.getInstance().Play(j.AudioClips.COMMON_BTN),t(e)),n.m_autoTouchTime=0,n.m_isStartTouchAuto=!1,n.SendClickEvent(j.BTN_CLICK_EVENT.AUTOPLAY,n.m_spinWithSpeed))}))),this.m_wiseAutoBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_wiseAutoBtn.interactable?(n.m_currentTouchName=t.target.name,n.m_lockWiseAutoEnable||(n.SetScaleAction(n.m_autoBtn.node,!1),v(n.m_wiseAutoBtn.node).to(as,{scale:l(.9,.9,1)}).start())):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_wiseAutoBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(n.m_wiseAutoBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_wiseAutoBtn.node.on(S.EventType.TOUCH_END,(function(e){v(n.m_wiseAutoBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==e.target.name&&(n.m_currentTouchName=null,n.m_wiseAutoBtn.interactable&&!n.m_lockWiseAutoEnable&&(n.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),n.m_isWiseAutoPlay=!0,t(e)),n.PushClickToBuffer(n.CLICK_BUFFER_TYPE.WISEAUTO))})),this.m_stopAutoBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_stopAutoBtn.interactable?(n.m_currentTouchName=t.target.name,n.SetScaleAction(n.m_stopAutoBtn.node,!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_stopAutoBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.SetScaleAction(n.m_stopAutoBtn.node,!1),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_stopAutoBtn.node.on(S.EventType.TOUCH_END,(function(e){if(n.SetScaleAction(n.m_stopAutoBtn.node,!1),n.m_currentTouchName==e.target.name){if(n.m_currentTouchName=null,n.m_stopAutoBtn.interactable&&(n.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),t(e),n.m_autoHintLabel&&n.m_autoHintEffect)){for(var i=0;i<n.m_autoHintLabel.length;i++)n.m_autoHintLabel[i].node.active=!0;for(var o=0;o<n.m_autoHintEffect.length;o++)n.m_autoHintEffect[o].active=!0}n.m_autoplaySetting.IsUseWisePlay()?(n.SendClickEvent(j.BTN_CLICK_EVENT.WISEAUTO_FORCE_MANUAL_STOP,n.m_spinWithSpeed),n.m_autoplaySetting.SetUseWisePlay(!1)):n.SendClickEvent(j.BTN_CLICK_EVENT.AUTOPLAY_STOP,n.m_spinWithSpeed)}})),this.m_stopAutoCountBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_stopAutoCountBtn.interactable?(n.m_currentTouchName=t.target.name,n.SetScaleAction(n.m_stopAutoCountBtn.node,!0)):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_stopAutoCountBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.SetScaleAction(n.m_stopAutoCountBtn.node,!1),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_stopAutoCountBtn.node.on(S.EventType.TOUCH_END,(function(e){if(n.SetScaleAction(n.m_stopAutoCountBtn.node,!1),n.m_currentTouchName==e.target.name){if(n.m_currentTouchName=null,n.m_stopAutoCountBtn.interactable&&(n.m_totalRound>0&&(n.m_autoplaySetting.SetTotalRound(n.m_totalRound.toString()),n.m_autoplaySetting.ChangeTotalRoundBg(!0)),n.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),t(e),n.m_autoHintLabel&&n.m_autoHintEffect)){for(var i=0;i<n.m_autoHintLabel.length;i++)n.m_autoHintLabel[i].node.active=!0;for(var o=0;o<n.m_autoHintEffect.length;o++)n.m_autoHintEffect[o].active=!0}n.SendClickEvent(j.BTN_CLICK_EVENT.WISEAUTO_FORCE_MANUAL_STOP,n.m_spinWithSpeed),n.m_autoplaySetting.SetUseWisePlay(!1)}})),this.BetBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==n.m_currentTouchName&&n.BetBtn.interactable||t.target&&0==t.target.active)&&(n.m_currentTouchName=t.target.name)})),this.BetBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.BetBtn.node.on(S.EventType.TOUCH_END,(function(t){if(n.m_currentTouchName==t.target.name){n.m_currentTouchName=null;var i=new F([],!1,"");if(n.m_commView.active&&(n.m_commView.active=!1),n.m_betRootNode.active)i.target=new ps(e.BetViewState.Close),n.m_betRootNode.active=!1,n.m_extraBetView&&(n.m_extraBetView.active=!1);else if(n.m_btn_state==n.SlotBottomBarState.IDLE){if(i.target=new ps(e.BetViewState.Open),0!==n.m_betBtns.length){n.m_shouldUpdateBetBtn=!1;for(var o=0;o<n.m_betBtns.length;o++)n.m_betBtns[o].node.getChildByName("selected").active=!1,n.m_betBtns[o].node.getComponent(R).color=p(255,255,255),n.m_betLabels[o].node.getComponent(R).color=p(255,255,255);var a=n.m_betIndex;n.IsInTrial&&(n.m_betIndex>n.m_trailBetNum-1&&(a=0),D("this.m_betBtns betIndex:",a)),D("this.m_betBtns : ",n.m_betBtns),n.m_betBtns[a].node.getChildByName(e.UIName.SELECTED).active=!0,n.m_betRootNode.active=!0,n.ChangePos(n.m_isLandscape,n.m_cb,n.m_isSmall,n.m_isLow)}else n.IsInTrial?n.CreateTrialBetBtns():n.CreateNormalBetBtns();if(n.m_vipLockNode.active){n.m_vipHintNode.getComponent(f).play("VipLock_"+n.m_betLimit.toString());var s=n.m_vipLockNode.getComponent(O);s&&s.updateAlignment()}n.m_extraBetView&&n.m_extraBetView.children.length>0&&(n.m_extraBetView.active=!0)}n.m_extraManager.RookieHintManager&&n.m_extraManager.RookieHintManager.CloseHint(j.RookieHintType.BET_BTN),n.m_touchCb&&n.m_isSendBetViewOpen&&n.m_touchCb(i),q.getInstance().Play(j.AudioClips.COMMON_BTN)}})),Y.IsTadaCasino&&this.m_appBetPlusBtns[0]&&this.m_appBetMinusBtns[0]&&(this.SetAppBetSideBtn(this.m_appBetPlusBtns[0],0),this.SetAppBetSideBtn(this.m_appBetMinusBtns[0],1)),this.m_currencyBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==n.m_currentTouchName&&n.m_currencyBtn.interactable?(n.m_currentTouchName=t.target.name,v(n.m_currencyBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(n.m_currentTouchName=t.target.name)})),this.m_currencyBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(n.m_currencyBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),this.m_currencyBtn.node.on(S.EventType.TOUCH_END,(function(t){v(n.m_currencyBtn.node).to(as,{scale:l(1,1,1)}).start(),n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null,n.m_currencyBtn.interactable&&(n.CloseAllMenu(),n.m_currencyInfo.Show(n.m_isLandscape),q.getInstance().Play(j.AudioClips.COMMON_BTN)))})),this.CheckSound()},m.SetAppBetSideBtn=function(t,i){var n=this;t.node.on(S.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==n.m_currentTouchName&&t.interactable||e.target&&0==e.target.active)&&(n.m_currentTouchName=e.target.name)})),t.node.on(S.EventType.TOUCH_CANCEL,(function(t){n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null)})),t.node.on(S.EventType.TOUCH_END,(function(t){if(n.m_currentTouchName==t.target.name&&(n.m_currentTouchName=null,n.m_commView.active&&(n.m_commView.active=!1),n.m_betRootNode.active&&(n.m_betRootNode.active=!1,n.m_extraBetView&&(n.m_extraBetView.active=!1)),n.m_extraManager.RookieHintManager&&n.m_extraManager.RookieHintManager.CloseHint(j.RookieHintType.BET_BTN),n.m_btn_state==n.SlotBottomBarState.IDLE&&0!==n.m_betBtns.length)){n.m_shouldUpdateBetBtn=!1;for(var i=0;i<n.m_betBtns.length;i++)n.m_betBtns[i].node.getChildByName("selected").active=!1,n.m_betBtns[i].node.getComponent(R).color=p(255,255,255),n.m_betLabels[i].node.getComponent(R).color=p(255,255,255);var o=n.m_betIndex;n.IsInTrial&&(n.m_betIndex>n.m_trailBetNum-1&&(o=0),D("this.m_betBtns betIndex:",o)),t.target.name==e.UIName.BTN_INCBET?n.m_betIndex++:t.target.name==e.UIName.BTN_DECBET&&n.m_betIndex--,D("this.m_betBtns : ",n.m_betBtns),n.m_betBtns[n.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!0;var a=n.m_betList[n.m_betIndex];n.m_multiBetInfo&&n.m_multiBetInfo.Multi[n.m_multBetIdx]>0&&n.m_multiBetInfo.IsMulti()&&(a=Y.times(a,n.m_multiBetInfo.Multi[n.m_multBetIdx])),n.NowBetLabel.string="<b>"+n.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(n.GetDisplayValue(a)*n.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>";var s={bet:a};mt.SetData(s),n.CheckAppBetBtnLimit();var r=j.AID+":"+j.NOW_GAME_ID+":Bet";X.SetInt(r,n.m_betIndex);var m=j.AID+":"+j.NOW_GAME_ID+j.BetStorageKey;X.SetInt(m,n.m_betList[n.m_betIndex]),q.getInstance().Play(j.AudioClips.COMMON_BTN),k("bet+-",t,n.m_touchCb),n.m_touchCb&&n.m_touchCb(t)}}))},m.OpenBetView=function(){this.m_currentTouchName=null;var t=new F([],!1,"");if(this.m_commView.active&&(this.m_commView.active=!1),!this.m_betRootNode.active&&this.m_btn_state==this.SlotBottomBarState.IDLE){if(t.target=new ps(e.BetViewState.Open),0!==this.m_betBtns.length){this.m_shouldUpdateBetBtn=!1;for(var i=0;i<this.m_betBtns.length;i++)this.m_betBtns[i].node.getChildByName("selected").active=!1,this.m_betBtns[i].node.getComponent(R).color=p(255,255,255),this.m_betLabels[i].node.getComponent(R).color=p(255,255,255);var n=this.m_betIndex;this.IsInTrial&&(this.m_betIndex>this.m_trailBetNum-1&&(n=0),D("this.m_betBtns betIndex:",n)),D("this.m_betBtns : ",this.m_betBtns),this.m_betBtns[n].node.getChildByName(e.UIName.SELECTED).active=!0,this.m_betRootNode.active=!0,this.ChangePos(this.m_isLandscape,this.m_cb,this.m_isSmall,this.m_isLow)}else this.IsInTrial?this.CreateTrialBetBtns():this.CreateNormalBetBtns();this.m_extraBetView&&this.m_extraBetView.children.length>0&&(this.m_extraBetView.active=!0)}q.getInstance().Play(j.AudioClips.COMMON_BTN)},m.SendSpinLog=function(){this.m_isFirstSpin&&(this.m_isFirstSpin=!1,this.m_extraManager.IconBox&&this.m_extraManager.IconBox.CloseMenu(),Q.getInstance().SendPhaseEnteringEvent(Q.FormPhaseEventParams(Number(j.AID),Number(j.NOW_GAME_ID),j.VERSION,j.PHASE_ENTERING_EVENT.FIRST_SPIN,j.PHASE_RESULT.SUCCESS,Y.GetLinkParameterByName("ssoKey"),j.API_ID)))},m.CheckUseK=function(){if(Y.CheckSwitchOff(j.SwitchOffKeyDefine.UseKilo)){var t=this.m_betList[this.m_betList.length-1];if(this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(t=Y.times(t,this.m_multiBetInfo.Multi[this.m_multBetIdx])),t>=1e6)return!0}return!1},m.SetNumberK=function(t){return Y.strip(Y.divide(t,rs)).toString()+"K"},m.CreateNormalBetBtns=function(t){var i=this;void 0===t&&(t=!0);for(var n=0;n<Math.ceil(this.m_betList.length/j.BetColumnLimit);n++)if(!this.m_betLayoutNodes[n]){var o=new S;o.name="BetNode"+n,o.position=ss,o.addComponent(E),o.getComponent(E).setContentSize(this.m_betLayoutSize),o.getComponent(E).setAnchorPoint(new U(.5,0)),this.m_betLayoutNodes.unshift(o),this.m_betViewNode.addChild(o);var a=new S;a.name="BtnNode"+n;var s=a.addComponent(I);s.type=I.Type.VERTICAL,s.resizeMode=I.ResizeMode.CONTAINER,a.getComponent(E).setContentSize(this.m_betLayoutSize),a.getComponent(E).setAnchorPoint(new U(.5,0)),o.addChild(a),this.m_btnLayoutNodes.unshift(a);var r=new S;r.name="ValueNode"+n;var m=r.addComponent(I);m.type=I.Type.VERTICAL,m.resizeMode=I.ResizeMode.CONTAINER,r.getComponent(E).setContentSize(this.m_betLayoutSize),r.getComponent(E).setAnchorPoint(new U(.5,0)),o.addChild(r),this.m_betNumLayoutNodes.unshift(r)}for(var l=0,_=this.m_betLayoutNodes.length-1,u=this.CheckUseK(),h=function(t){i.m_betList[t]=Y.strip(i.m_betList[t]),B=i.m_betLabels[t];var n=i.m_betList[t];if(i.m_multiBetInfo&&i.m_multiBetInfo.Multi[i.m_multBetIdx]>0&&i.m_multiBetInfo.IsMulti()&&(n=Y.times(n,i.m_multiBetInfo.Multi[i.m_multBetIdx])),B)B.node.name=t.toString(),B.string=Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(n)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),u&&i.GetDisplayValue(n)*i.m_reelCount>=rs&&(B.string=i.SetNumberK(i.GetDisplayValue(n)*i.m_reelCount)),Y.SetFont(B),(l+=1)>j.BetColumnLimit&&(l=1,_-=1);else{var o=A(i.m_betBtnPrefab);o.name=t.toString();var a=o.getChildByName("Data").getChildByName(e.UIName.BET_VALUE),s=a.getComponent(C);s.string=Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(n)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),u&&i.GetDisplayValue(n)*i.m_reelCount>=rs&&(s.string=i.SetNumberK(i.GetDisplayValue(n)*i.m_reelCount)),i.m_betLabels[t]=s,Y.SetFont(s),a.removeFromParent(),o.removeAllChildren(),o.addChild(a),o.getComponent(g).destroy(),o.getComponent(d).destroy();var r=A(i.m_betBtnPrefab);r.name=t.toString();var m=r.getChildByName("Data").getChildByName(e.UIName.BET_VALUE);if(m.removeFromParent(),m.destroy(),i.m_betBtns[t]=r.getComponent(g),(l+=1)>j.BetColumnLimit&&(l=1,_-=1),_<0)return"continue";i.m_betNumLayoutNodes[_].addChild(o),i.m_btnLayoutNodes[_].addChild(r),i.m_betBtns[t].node.on(S.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==i.m_currentTouchName&&i.m_betBtns[t].interactable||e.target&&0==e.target.active)&&(i.m_currentTouchName=e.target.name)})),i.m_betBtns[t].node.on(S.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),i.m_betBtns[t].node.on(S.EventType.TOUCH_END,(function(t){if(i.m_currentTouchName==t.target.name){i.m_currentTouchName=null,i.m_betList[i.m_betIndex]=Y.strip(i.m_betList[i.m_betIndex]),i.m_betBtns[i.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!1,i.m_betIndex=Number(t.target.name)||0,i.m_betBtns[i.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!0;var n=i.m_betList[i.m_betIndex];i.m_multiBetInfo&&i.m_multiBetInfo.Multi[i.m_multBetIdx]>0&&i.m_multiBetInfo.IsMulti()&&(n=Y.times(n,i.m_multiBetInfo.Multi[i.m_multBetIdx])),i.NowBetLabel.string="<b>"+i.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(n)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",u&&i.GetDisplayValue(n)*i.m_reelCount>=rs&&(i.NowBetLabel.string="<b>"+i.m_betDollerSymbol+"</b>"+i.SetNumberK(Y.strip(i.GetDisplayValue(n)*i.m_reelCount)));var o={bet:n};mt.SetData(o),i.CheckAppBetBtnLimit(),i.m_betRootNode.active=!1;var a=j.AID+":"+j.NOW_GAME_ID+":Bet";X.SetInt(a,i.m_betIndex);var s=j.AID+":"+j.NOW_GAME_ID+j.BetStorageKey;if(X.SetInt(s,i.m_betList[i.m_betIndex]),q.getInstance().Play(j.AudioClips.COMMON_BTN),i.m_touchCb&&(i.m_touchCb(t),i.m_isSendBetViewOpen)){var r=new F([],!1,"");r.target=new ps(e.BetViewState.Close),i.m_touchCb(r)}i.m_extraBetView&&(i.m_extraBetView.active=!1)}}))}},c=this.m_betList.length-1;c>=0;c--){var B;h(c)}for(n=0;n<this.m_betBtns.length;n++)this.m_betBtns[n].node.getChildByName("selected").active=!1;this.m_betBtns[this.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!0;var b=0,f=0;for(n=0;n<this.m_betNumLayoutNodes.length;n++)if(this.m_betNumLayoutNodes[n].children.length!==j.BetColumnLimit){var T=this.m_betLayoutSize.height/j.BetColumnLimit*this.m_betNumLayoutNodes[n].children.length;this.m_betNumLayoutNodes[n].getComponent(E).height=T,this.m_btnLayoutNodes[n].getComponent(E).height=T,this.m_betLayoutNodes[n].getComponent(E).height=T,this.m_betLayoutNodes[n].removeFromParent()}else b+=this.m_betNumLayoutNodes[n].getComponent(E).contentSize.width,f=this.m_betNumLayoutNodes[n].getComponent(E).contentSize.height;if(this.m_betRootNode.getComponent(E).setContentSize(new G(b+14,f+14)),this.m_betRootNode.active=t,this.SetExtraBetView(),this.m_extraBetView&&(this.m_extraBetView.children.length>0?this.m_extraBetView.active=t:this.m_extraBetView.active=!1),this.m_prefer&&!this.m_prefer.IsShowRange){this.m_prefer.IsShowRange=!0;var y=2,N=0,L=this.GetPreferIdx();0===L?(N=L,y=2):L===this.m_betList.length-1?(y=L,N=L-2):(N=L-1,y=L+1);for(var v=0;v<this.m_betBtns.length;v++)v>y||v<N?(this.m_betBtns[v].node.getComponent(R).color=p(135,126,98),this.m_betLabels[v].node.getComponent(R).color=p(135,126,98)):(this.m_betBtns[v].node.getComponent(R).color=p(255,255,255),this.m_betLabels[v].node.getComponent(R).color=p(255,255,255))}if(this.m_touchCb&&this.m_isSendBetViewOpen){var w=new F([],!1,"");w.target=new ps(t?e.BetViewState.Open:e.BetViewState.Close),this.m_touchCb(w)}},m.CreateTrialBetBtns=function(t){var i=this;void 0===t&&(t=!0);var n=new S;n.name="BetNode"+B,n.position=ss,n.addComponent(E),n.getComponent(E).setContentSize(this.m_betLayoutSize),n.getComponent(E).setAnchorPoint(new U(.5,0)),this.m_betLayoutNodes.unshift(n),this.m_betViewNode.addChild(n),D("CreateTrialBetBtns CreateTrialBetBtns this.m_betLayoutSize:",this.m_betLayoutSize),D("CreateTrialBetBtns CreateTrialBetBtns i:",B),D("CreateTrialBetBtns CreateTrialBetBtns this.m_betLayoutNodes:",this.m_betLayoutNodes),D("CreateTrialBetBtns CreateTrialBetBtns this.m_betViewNode:",this.m_betViewNode);var o=new S;o.name="BtnNode"+B;var a=o.addComponent(I);a.type=I.Type.VERTICAL,a.resizeMode=I.ResizeMode.CONTAINER,o.getComponent(E).setContentSize(this.m_betLayoutSize),o.getComponent(E).setAnchorPoint(new U(.5,0)),n.addChild(o),this.m_btnLayoutNodes.unshift(o),D("CreateTrialBetBtns CreateTrialBetBtns i:",B),D("CreateTrialBetBtns CreateTrialBetBtns this.m_btnLayoutNodes:",this.m_btnLayoutNodes);var s=new S;s.name="ValueNode"+B;var r=s.addComponent(I);r.type=I.Type.VERTICAL,r.resizeMode=I.ResizeMode.CONTAINER,s.getComponent(E).setContentSize(this.m_betLayoutSize),s.getComponent(E).setAnchorPoint(new U(.5,0)),n.addChild(s),this.m_betNumLayoutNodes.unshift(s),D("CreateTrialBetBtns CreateTrialBetBtns i:",B),D("CreateTrialBetBtns CreateTrialBetBtns this.m_betNumLayoutNodes:",this.m_betNumLayoutNodes);var m=0,l=this.m_betLayoutNodes.length-1,_=this.m_extraManager.GetTrailBetList();D(" CreateTrialBetBtns trailBetList:",_);var u=_.length>j.BetColumnLimit?j.BetColumnLimit-1:_.length-1;this.m_trailBetNum=_.length,D(" CreateTrialBetBtns maxBetIndex:",u);for(var p=function(t){D(" CreateTrialBetBtns ------------------------------------------------ i:",t);var n=t;_[n]=Y.strip(_[n]);var o=_[n];if(i.m_multiBetInfo&&i.m_multiBetInfo.Multi[i.m_multBetIdx]>0&&i.m_multiBetInfo.IsMulti()&&(o=Y.times(o,i.m_multiBetInfo.Multi[i.m_multBetIdx])),c=i.m_betLabels[t],D(" CreateTrialBetBtns betLabel:",c),c)c.node.name=n.toString(),c.string=Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(o)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),(m+=1)>j.BetColumnLimit&&(m=1,l-=1);else{var a=A(i.m_betBtnPrefab);a.name=n.toString();var s=a.getChildByName("Data").getChildByName(e.UIName.BET_VALUE),r=s.getComponent(C);r.string=Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(o)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),i.m_betLabels[t]=r,s.removeFromParent(),a.removeAllChildren(),a.addChild(s),a.getComponent(g).destroy(),a.getComponent(d).destroy();var u=A(i.m_betBtnPrefab);u.name=n.toString();var p=u.getChildByName("Data").getChildByName(e.UIName.BET_VALUE);if(p.removeFromParent(),p.destroy(),i.m_betBtns[t]=u.getComponent(g),D(" CreateTrialBetBtns this.m_betBtns[ i ]:",i.m_betBtns[t]),(m+=1)>j.BetColumnLimit&&(m=1,l-=1),l<0)return D(" CreateTrialBetBtns index <<<<<< 0:",l),"continue";D(" CreateTrialBetBtns index:",l),i.m_betNumLayoutNodes[l].addChild(a),i.m_btnLayoutNodes[l].addChild(u),D(" CreateTrialBetBtns this.m_betNumLayoutNodes:",i.m_betNumLayoutNodes),D(" CreateTrialBetBtns this.m_btnLayoutNodes:",i.m_btnLayoutNodes),i.m_betBtns[t].node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName&&i.m_betBtns[n].interactable||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),i.m_betBtns[t].node.on(S.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),i.m_betBtns[t].node.on(S.EventType.TOUCH_END,(function(t){if(i.m_currentTouchName==t.target.name){i.m_currentTouchName=null,_[i.m_betIndex]=Y.strip(_[i.m_betIndex]),i.m_betBtns[i.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!1,i.m_betIndex=n,i.m_betBtns[i.m_betIndex].node.getChildByName(e.UIName.SELECTED).active=!0;var o=_[i.m_betIndex];if(i.m_multiBetInfo&&i.m_multiBetInfo.Multi[i.m_multBetIdx]>0&&i.m_multiBetInfo.IsMulti()&&(o=Y.times(o,i.m_multiBetInfo.Multi[i.m_multBetIdx])),i.NowBetLabel.string="<b>"+i.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(i.GetDisplayValue(o)*i.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",i.m_betRootNode.active=!1,q.getInstance().Play(j.AudioClips.COMMON_BTN),i.m_touchCb&&(i.m_touchCb(t),i.m_isSendBetViewOpen)){var a=new F([],!1,"");a.target=new ps(e.BetViewState.Close),i.m_touchCb(a)}i.m_extraBetView&&(i.m_extraBetView.active=!1)}}))}},h=u;h>=0;h--){var c;p(h)}for(var B=0;B<this.m_betBtns.length;B++)this.m_betBtns[B].node.getChildByName("selected").active=!1;var b=this.m_betIndex;(b<0||b>=this.m_betBtns.length)&&(b=0,this.m_betIndex=1),this.m_betBtns[b].node.getChildByName(e.UIName.SELECTED).active=!0;var f=_[b];if(this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(f=Y.times(f,this.m_multiBetInfo.Multi[this.m_multBetIdx])),this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(this.m_betList[b])*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",this.m_touchCb&&this.m_isSendBetChange){var T=new F([],!1,"");T.target=new ps(e.BetValueChange),this.m_touchCb(T)}this.m_nowBetLabel.string=Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(_[b])*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",D(" CreateTrialBetBtns this.m_nowBetLabel.string:",this.m_nowBetLabel.string);var y=0,N=0;for(B=0;B<this.m_betNumLayoutNodes.length;B++)if(this.m_betNumLayoutNodes[B].children.length!==j.BetColumnLimit){var L=this.m_betLayoutSize.height/j.BetColumnLimit*this.m_betNumLayoutNodes[B].children.length;D("CreateTrialBetBtns  h:",L,"   m_betNumLayoutNodes:",this.m_betNumLayoutNodes[B].children.length),L>N&&(N=L),this.m_betNumLayoutNodes[B].getComponent(E).height=N,this.m_btnLayoutNodes[B].getComponent(E).height=N,y+=this.m_betNumLayoutNodes[B].getComponent(E).contentSize.width}else y+=this.m_betNumLayoutNodes[B].getComponent(E).contentSize.width,N=this.m_betNumLayoutNodes[B].getComponent(E).contentSize.height;if(D("CreateTrialBetBtns  width:",y,"   height:",N),this.m_betRootNode.getComponent(E).setContentSize(new G(y+14,N+14)),this.m_betRootNode.active=t,D("CreateTrialBetBtns  this.m_betRootNode.getContentSize():",this.m_betRootNode.getComponent(E).contentSize),this.SetExtraBetView(),this.m_extraBetView&&(this.m_extraBetView.children.length>0?this.m_extraBetView.active=t:this.m_extraBetView.active=!1),this.m_touchCb&&this.m_isSendBetViewOpen){var v=new F([],!1,"");v.target=new ps(t?e.BetViewState.Open:e.BetViewState.Close),this.m_touchCb(v)}D(" CreateTrialBetBtns this.m_btnLayoutNodes:",this.m_btnLayoutNodes)},m.ResetBetBtns=function(){for(;this.m_betBtns.length>0;){var t=this.m_betBtns.pop();t.node.removeFromParent(),t.node.destroy()}for(;this.m_betLabels.length>0;){var e=this.m_betLabels.pop();e.node.removeFromParent(),e.node.destroy()}for(;this.m_betLayoutNodes.length>0;){var i=this.m_betLayoutNodes.pop();i.removeFromParent(),i.destroy()}for(;this.m_btnLayoutNodes.length>0;){var n=this.m_btnLayoutNodes.pop();n.removeFromParent(),n.destroy()}for(;this.m_betNumLayoutNodes.length>0;){var o=this.m_betNumLayoutNodes.pop();o.removeFromParent(),o.destroy()}var a=j.AID+":"+j.NOW_GAME_ID+":Bet";if(null!=X.GetInt(a)&&this.IsInTrial)this.m_betIndex=0,this.CreateTrialBetBtns(!1);else{this.m_betIndex=this.GetLocalBetIdx(),this.CreateNormalBetBtns(!1);var s=this.CheckUseK(),r=this.m_betList[this.m_betIndex];this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(r=Y.times(r,this.m_multiBetInfo.Multi[this.m_multBetIdx])),this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(r)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",s&&this.GetDisplayValue(r)*this.m_reelCount>=rs&&(this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+this.SetNumberK(Y.strip(this.GetDisplayValue(r)*this.m_reelCount)));var m={bet:r};mt.SetData(m)}},m.GetLocalBetIdx=function(){var t=j.AID+":"+j.NOW_GAME_ID+j.BetStorageKey,e=X.GetInt(t),i=this.CheckUseK();if(null!=e&&j.NOW_GAME_ID==j.GAME_ID.BFS.toString()){for(var n=0;n<this.m_betList.length;n++)if(this.m_betList[n]==e)return n}else{this.m_betIndex=this.GetNowBetIndex();var o=j.AID+":"+j.NOW_GAME_ID+":Bet",a=X.GetInt(o);if(null!=a&&a<this.m_betList.length)return a}var s=this.m_betList[this.m_betIndex];return this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(s=Y.times(s,this.m_multiBetInfo.Multi[this.m_multBetIdx])),this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(s)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",i&&this.GetDisplayValue(s)*this.m_reelCount>=rs&&(this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+this.SetNumberK(Y.strip(this.GetDisplayValue(s)*this.m_reelCount))),Y.GetFirstBetIndex(j.API_ID)},m.SetExtraBetView=function(){if(!this.IsInTrial)for(var t=0;t<this.m_betNumLayoutNodes.length;t++)if(this.m_betNumLayoutNodes[t].children.length!==j.BetColumnLimit){this.m_betLayoutNodes[t].getComponent(E).anchorPoint=u(0,0),this.m_betLayoutNodes[t].setPosition(l(this.m_betLayoutSize.width/2+(this.m_isLandscape?0:4),2)),this.m_betLayoutNodes[t].parent||this.m_extraBetView.addChild(this.m_betLayoutNodes[t]),this.SetExtraBetViewPos();break}},m.SetExtraBetViewPos=function(){for(var t=this.m_betViewNode.position,e=this.m_betViewNode.getComponent(E).anchorPoint,i=0,n=0;n<this.m_btnLayoutNodes.length;n++)this.m_btnLayoutNodes[n].children.length===j.BetColumnLimit&&(i+=this.m_btnLayoutNodes[n].getComponent(E).contentSize.width);var o=t.x,a=this.m_isLandscape?5.5:6,s=(this.m_extraBetView.getComponent(d),this.m_betList.length%j.BetColumnLimit),r=this.m_betLayoutSize.height/j.BetColumnLimit*s+4,m=this.m_betLayoutSize.width;.5===e.x?o+=i/2:0===e.x&&(o+=i+3),m+=this.m_isLandscape?3:5,this.m_extraBetView.position=l(o,a),this.m_extraBetView.getComponent(E).setContentSize(_(m,r))},m.SetBetHintViewPos=function(t){var e=this;v(this.node).delay(.01).call((function(){for(var i=e.m_betViewNode.position,n=e.m_betViewNode.getComponent(E).anchorPoint,o=0,a=0,s=0;s<e.m_btnLayoutNodes.length;s++)e.m_btnLayoutNodes[s].children.length===j.BetColumnLimit&&(o+=e.m_btnLayoutNodes[s].getComponent(E).contentSize.width);e.m_btnLayoutNodes.length>0&&(a=Y.times(e.m_btnLayoutNodes[0].getComponent(E).height,t.getComponent(E).anchorY),a+=10);var r=i.x;.5===n.x?r+=o/2+5:0===n.x&&(r+=o+3);var m=e.m_betViewNode.parent.getComponent(E).convertToWorldSpaceAR(l(r,a)),_=t.parent.getComponent(E).convertToNodeSpaceAR(m);t.setPosition(_)})).start()},m.SetExtraBtnPos=function(t){this.m_extraBtnNode&&(t.removeFromParent(),this.m_extraBtnNode.addChild(t),t.setPosition(l(0,0)))},m.StartHardStop=function(){this.m_speedBtnStatus=!0,this.m_speedSprite&&this.m_speedSprite[1]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[1]:this.m_speedImg.getComponent(R).color=p(255,255,255),this.m_isHintQuickMod=!0,this.m_isHardStop=!0,this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!1);var t=j.AID+":"+j.NOW_GAME_ID+":QuickMode";X.SetBool(t,!0)},m.MuteSound=function(t){this.m_soundBtnStatus=t,t?(this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[0],this.m_soundBtn.node.getComponent(R).color=p(255,255,255)):(this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[1],this.m_soundBtn.node.getComponent(R).color=p(135,126,98))},m.ShowAutoplaySettingView=function(t){if(this.m_autoplaySetting){var e=this.m_autoplaySetting.node.getComponent(f);this.m_autoplayMenuNode.active=!0,e&&(this.m_isLandscape?e.play(this.m_autoplaySetting.PanelAniL):e.play(this.m_autoplaySetting.PanelAniS)),this.m_autoplaySetting.SetInitChips(t,this.IsInTrial,this.GetNowBetValue(),ot.CurencyID)}},m.SetPrefer=function(t){if(t){this.m_prefer=t;var e=this.GetBetList()[this.GetPreferIdx()];this.SetNowBet(e),this.m_extraManager.SetFeaturePreferRound(this.m_prefer.Show)}},m.CanShowFreeSpin=function(){return!this.m_extraManager.IsFeaturesPageOpen()&&!this.IsDiscountOpen()&&wt.GetInstance().CheckShowOver()&&!j.IsIntroNodeActive},m.SetFreeSpin=function(t,e){var i;if(void 0===e&&(e=0),!this.m_IsFreeSpin&&t>0&&(this.m_IsFreeSpin=!0,j.SetCanUseItemCard(!1)),(null==(i=j.APP)?void 0:i.FreeSpinBet)>0&&(e=j.APP.FreeSpinBet),this.m_IsFreeSpin&&t>=0){if(e>0){var n=this.FindBetIndexByValue(e,!1);this.SetNowBet(this.m_betList[n])}else this.SetNowBet(this.GetFreeSpinBetValue());this.SetSpinTimes(t),this.LockBetEnable(!0)}},m.SetPrizeUp=function(t,e){if(void 0===e&&(e=0),D("SetPrizeUp:",t,e),Dt.GetInstance().IsPrizeUpBuff&&t>0&&j.SetCanUseItemCard(!1),Dt.GetInstance().IsPrizeUpBuff&&t>=0){if(e>0){var i=this.FindBetIndexByValue(e,!0);this.SetNowBet(this.m_betList[i]),console.error("SetPrizeUp SetNowBet",e,i,this.m_betList[i])}this.SetSpinTimes(t),this.LockBetEnable(!0)}},m.OnFreeSpin=function(t,e){var i=this;if(this.m_IsFreeSpin){t&&(t.active=!1,this.m_gameEXnode=t),xt.GetInstance().Dispatch(Vt.TriggerFreeSpin);var n=this.m_extraManager.BetBtn.node,o=A(this.m_freespinUseAniPrefab);o.active=!1;var a=A(this.m_freespinBetAniPrefab),s=A(this.m_freespinBetAniPrefab),r=this.m_floatView.getComponent(E).contentSize,m=l(0,r.height/2);n.position;o.position=m;var _=o.getComponent(Ct).MoveNode,u=o.getComponent(Ct).IconNode,p=o.getComponent(Ct).NumNode,h=this.m_extraManager.node.getComponent(E).convertToNodeSpaceAR(this.m_usingCard.parent.getComponent(E).convertToWorldSpaceAR(this.m_usingCard.position));h=o.getComponent(E).convertToNodeSpaceAR(h);var c=this.m_logoFreeSprite.node.parent.getComponent(E).convertToNodeSpaceAR(this.m_usingCard.parent.getComponent(E).convertToWorldSpaceAR(this.m_usingCard.position));u.getComponent(d).spriteFrame=null;var S=J.GetInstance().GetFreeSpinAtlas();J.CurrLang==j.Lang.CN&&S&&S.getSpriteFrame(Ja.FreeSpins_01)&&(this.m_freeSpinSprite.spriteFrame=S.getSpriteFrame(Ja.FreeSpins_01)),p.active=!1,this.m_extraManager.node.addChild(o),Y.SetZIndex(o,j.ZOrder.BACKPACK+1),this.m_extraManager.node.addChild(a),Y.SetZIndex(a,j.ZOrder.BACKPACK+1),a.position=a.parent.getComponent(E).convertToNodeSpaceAR(n.parent.getComponent(E).convertToWorldSpaceAR(n.position)),a.active=!1,this.m_extraManager.node.addChild(s),Y.SetZIndex(s,j.ZOrder.BACKPACK+1),s.position=s.parent.getComponent(E).convertToNodeSpaceAR(this.m_logoFreeSprite.node.parent.getComponent(E).convertToWorldSpaceAR(this.m_logoFreeSprite.node.position)),s.active=!1,q.getInstance().Play(j.AudioClips.ITEM_CARD_USE),this.m_freeSpins_Gain.node.active=!0,this.m_freeSpins_Gain.play("Clip_Backpack_ItemCard_Use"),this.m_freeSpins_Gain.once(f.EventType.FINISHED,(function(){v(_).to(.25,{position:l(c.x,c.y),scale:l(.4,.4,1)}).call((function(){a.active=!0,a.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),s.active=!0,a.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),_.getComponent(N).opacity=0,i.m_extraManager.SetItemBetSprite(j.BetMode.FreeSpin)})).delay(.1).call((function(){})).delay(.5).call((function(){i.m_freeSpins_Gain.node.active=!1,o.removeFromParent(),a.removeFromParent(),o.destroy(),a.destroy(),s.removeFromParent(),s.destroy(),i.ChangeSpinBtn(!0),i.ChangeBetColor(j.BetMode.FreeSpin),e&&e(),xt.GetInstance().Dispatch(Vt.ShowGetFreeSpinEnd)})).start()})),this.m_freespinBtnEft=A(this.m_freespinBtnEftPrefab);var B=this.m_freespinBtnEft.getComponent(Tt);B&&B.SetState(),this.m_spinBtn.node.addChild(this.m_freespinBtnEft)}},m.OnBuffFreeSpinOrPrizeUp=function(t,e,i){var n=this;if(Dt.GetInstance().IsPrizeUpBuff||Dt.GetInstance().IsFreeSpinBuff){i&&(i.active=!1,this.m_gameEXnode=i);var o=this.m_extraManager.BetBtn.node,a=A(this.m_freespinBetAniPrefab),s=A(this.m_freespinBetAniPrefab);this.m_extraManager.node.addChild(a),Y.SetZIndex(a,j.ZOrder.BACKPACK+1),a.position=a.parent.getComponent(E).convertToNodeSpaceAR(o.parent.getComponent(E).convertToWorldSpaceAR(o.position)),a.active=!1,this.m_extraManager.node.addChild(s),Y.SetZIndex(s,j.ZOrder.BACKPACK+1),s.position=s.parent.getComponent(E).convertToNodeSpaceAR(this.m_logoFreeSprite.node.parent.getComponent(E).convertToWorldSpaceAR(this.m_logoFreeSprite.node.position)),s.active=!1,q.getInstance().Play(j.AudioClips.ITEM_CARD_USE),v(this.node).call((function(){a.active=!0,a.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),s.active=!0,s.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),n.m_extraManager.SetItemBetSprite(j.BetMode.FreeSpin)})).delay(.6).call((function(){a.removeFromParent(),a.destroy(),s.removeFromParent(),s.destroy(),n.ChangeSpinBtn(!0,t==kt.PrizeUp),n.ChangeBetColor(j.BetMode.FreeSpin),e&&e()})).start(),this.m_freespinBtnEft=A(this.m_freespinBtnEftPrefab);var r=this.m_freespinBtnEft.getComponent(Tt);r&&r.SetState(),this.m_spinBtn.node.addChild(this.m_freespinBtnEft)}},m.ChangeSpinBtn=function(t,e){void 0===e&&(e=!1);var i=e?j.FreeSpinBtn.PrizeUp_Word:j.FreeSpinBtn.FreeSpin_Word;t?(this.m_btn_spinstop_Sprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.FreeSpinBtn.FreeSpin_BG),this.m_btn_spinstop_iconSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.FreeSpinBtn.FreeSpin_Arrow),this.m_btn_spin_Sprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.FreeSpinBtn.FreeSpin_BG),this.m_btn_spin_iconSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.FreeSpinBtn.FreeSpin_Arrow)):(this.m_btn_spinstop_Sprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.SpinBtn.BottomBar_Btn_L),this.m_btn_spinstop_iconSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.SpinBtn.BottomBar_Spin_01),this.m_btn_spin_Sprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.SpinBtn.BottomBar_Btn_L),this.m_btn_spin_iconSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(j.SpinBtn.BottomBar_Spin_01)),this.m_num_FreespinCounter.node.active=t,this.m_logoFreeSprite&&(this.m_logoFreeSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(i),this.m_logoFreeSprite.node.active=t),this.m_logoFreeStopSprite&&(this.m_logoFreeStopSprite.spriteFrame=this.m_barAtlas.getSpriteFrame(i),this.m_logoFreeStopSprite.node.active=t),this.m_logoSprite.node.active=!t,this.m_logoSpriteStop.node.active=!t,this.ChangePos(this.m_isLandscape)},m.ShowFreeSpinAward=function(t,e,i,n){var o=this,a=this.m_extraManager.BetBtn.node,s=A(this.m_freespinEndAniPrefab),r=A(this.m_freespinBetAniPrefab),m=s.getComponent(yt).Label,_=x.formatStr(J.GetInstance().GetString(j.StringKey.FREESPINS_END),Y.FormatNumberThousands(this.m_extraManager.GetDisplayValue(Y.strip(t)),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT));D("ShowFreeSpinAward str : ",_),_=Y.CustomStringFormat(_,{symbol:j.DollarSymbol}),m.string=_,m.fontFamily=j.DollarFontFamily,Y.SetFont(m);a.position;this.m_usingCard.addChild(s),this.m_extraManager.node.addChild(r),Y.SetZIndex(r,j.ZOrder.BACKPACK+1),r.position=r.parent.getComponent(E).convertToNodeSpaceAR(a.parent.getComponent(E).convertToWorldSpaceAR(a.position)),r.active=!1,this.m_usingCard.setScale(l(1,1)),s.getComponent(f).play("Clip_Backpack_ItemCard_End"),s.getComponent(f).once(f.EventType.FINISHED,(function(){v(o.m_usingCard).to(.2,{scale:l(0,0,1)}).call((function(){r.active=!0,r.getComponent(f).play("Clip_Backpack_ItemCard_Bet")})).delay(.5).call((function(){e&&e(),s.removeFromParent(),r.removeFromParent(),s.destroy(),r.destroy(),o.ClearFreeSpinStatus()})).start(),o.m_freespinBtnEft&&v(o.m_freespinBtnEft.getComponent(N)).to(.2,{opacity:0}).delay(.5).call((function(){o.m_freespinBtnEft&&(o.m_freespinBtnEft.removeFromParent(),o.m_freespinBtnEft=null)})).start()}))},m.ClearFreeSpinStatus=function(){this.m_IsFreeSpin=!1,j.SetCanUseItemCard(!0),this.m_freespinBtnEft&&(this.m_freespinBtnEft.removeFromParent(),this.m_freespinBtnEft=null),this.ChangeSpinBtn(!1),this.ChangeBetColor(j.BetMode.Normal),this.m_extraManager.SetItemBetSprite(j.BetMode.Normal);var t=this.GetLocalBetIdx(),e=this.GetBetList();this.SetNowBet(e[t]),this.LockBetEnable(!1),this.m_gameEXnode&&(this.m_gameEXnode.active=!0),xt.GetInstance().Dispatch(Vt.FreeSpinEnd),this.SetGiftCodeBtnState()},m.ClearPrizeUp=function(t){var e=this,i=this.m_extraManager.BetBtn.node,n=A(this.m_freespinBetAniPrefab),o=A(this.m_freespinBetAniPrefab);this.m_extraManager.node.addChild(n),Y.SetZIndex(n,j.ZOrder.BACKPACK+1),n.position=n.parent.getComponent(E).convertToNodeSpaceAR(i.parent.getComponent(E).convertToWorldSpaceAR(i.position)),n.active=!1,this.m_extraManager.node.addChild(o),Y.SetZIndex(o,j.ZOrder.BACKPACK+1),o.position=o.parent.getComponent(E).convertToNodeSpaceAR(this.m_logoFreeSprite.node.parent.getComponent(E).convertToWorldSpaceAR(this.m_logoFreeSprite.node.position)),o.active=!1,q.getInstance().Play(j.AudioClips.ITEM_CARD_USE),v(this.node).call((function(){n.active=!0,n.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),o.active=!0,n.getComponent(f).play("Clip_Backpack_ItemCard_Bet"),e.m_extraManager.SetItemBetSprite(j.BetMode.FreeSpin)})).delay(.6).call((function(){n.removeFromParent(),n.destroy(),o.removeFromParent(),o.destroy(),e.ChangeSpinBtn(!1),e.ChangeBetColor(j.BetMode.Normal);var i=e.GetLocalBetIdx(),a=e.GetBetList();e.SetNowBet(a[i]),e.LockBetEnable(!1),e.m_gameEXnode&&(e.m_gameEXnode.active=!0),e.m_freespinBtnEft&&(e.m_freespinBtnEft.removeFromParent(),e.m_freespinBtnEft=null),t&&t()})).start()},m.GetPreferIdx=function(){if(this.m_prefer){var t=this.GetChips(),e=Y.divide(t,Y.times(1-this.m_prefer.MGR,this.m_prefer.SigmaRound,2)),i=this.m_betList[this.m_betList.length-1];if(e<this.m_betList[0])return 0;if(e>i)return this.m_betList.length-1;for(var n=0,o=0;o<this.m_betList.length&&e>=this.m_betList[o];o++)n=o;return n}return 0},m.InitWallet=function(t,e,i){if(void 0===i&&(i=0),ot.AddEventListener((function(){j.CURRENCY_NUMBER=ot.CurencyID}),j.AsttWallentEventKey),ot.ToTypeS=function(t){return t},ot.Div=function(t,e){return t/e},e)e.sort((function(t,e){return t.coin>0&&e.coin>0||0==t.coin&&0==e.coin?at[t.currencyName]-at[e.currencyName]:t.coin>0?-1:1})),ot.SetWallet(e,this);else{var n=new st;n.bet=t,n.coin=i,n.currencyNumber=0,n.currencyName="",n.unit=1,n.rate=1,ot.SetWallet([n],this)}this.m_oldExchangeChips=ot.GetWallet()},m.CheckBetList=function(t){t.forEach((function(t){var e=JSON.parse(JSON.stringify(t.bet));if(null!=t.lower&&t.lower>0){var i=t.lower;if(i>0)for(var n=0;n<e.length;n++)if(e[n]>=i){e.splice(0,n);break}}if(null!=t.upper&&t.upper>0){var o=t.upper;if(o>0)for(var a=0;a<e.length;a++)if(e[a]>o){e=e.splice(0,a);break}}if(null!=t.cycle&&t.cycle>0)if(e.length>0){var s=Y.times(j.BetColumnLimit,3);if(e.length>s){var r=Y.divide(t.coin,t.cycle),m=0;if(r>e[e.length-1])m=e.length-1;else for(var l=0;l<e.length;l++)if(e[l]>=r){m=e[l]==r?l:l>0?l-1:l;break}var _=m-j.BetLowLvl>0?m-j.BetLowLvl:0,u=m+j.BetUpLvl>e.length-1?e.length-1:m+j.BetUpLvl,p=u-_+1;if(p<s){var h=Y.minus(s,p);u!==e.length-1&&(u+=h)>e.length-1&&(u=e.length-1),0!==(h=Y.minus(s,u-_+1))&&0!==_&&(_-=h)<0&&(_=0)}e=e.slice(_,u+1)}}else k("Error Limit Setting!!");t.bet=e}))},m.Init=function(t,e,i,n,o,a){var s,r=this;if(void 0===i&&(i=1),void 0===o&&(o=0),this.m_view=t,this.m_reelCount=i,this.m_multiBetInfo=a,null!=(s=j.GameSwitchOff)&&s.IsSSS&&(this.CheckExtraManager(),this.m_extraManager.BetLabel.node.active=!1),this.IsBMMGames&&this.m_BMMbetBtn&&(this.m_betBtn.node.active=!1,this.m_BMMbetBtn.node.active=!0),this.IsBMMGames&&this.m_BMMnowBetLabel&&(this.m_nowBetLabel.node.parent.active=!1,this.m_BMMnowBetLabel.node.parent.active=!0),Y.IsTadaCasino&&this.m_appBetBg&&(this.m_appBetBg.active=!0,this.m_betBtn.node.active=!1,this.m_BMMbetBtn.node.active=!1,this.m_nowBetLabel.node.parent.active=!1,this.m_BMMnowBetLabel.node.parent.active=!1),Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseWinTxtWithZero)&&(this.m_barWinLabel.node.active=!1,this.m_winLabel.node.active=!1),Y.Line!==j.LineSetting.americas&&Y.Line!==j.LineSetting.americas_str||(this.m_betLayoutSize=_s),ot.AddEventListener((function(){j.CURRENCY_NUMBER=ot.CurencyID}),j.AsttWallentEventKey),ot.ToTypeS=function(t){return t},ot.Div=function(t,e){return t/e},n)n.sort((function(t,e){return t.coin>0&&e.coin>0||0==t.coin&&0==e.coin?at[t.currencyName]-at[e.currencyName]:t.coin>0?-1:1})),this.CheckBetList(n),ot.SetWallet(n,this);else{var m=new st;m.bet=e,m.coin=o,m.currencyNumber=0,m.currencyName="",m.unit=1,m.rate=1,ot.SetWallet([m],this)}this.m_oldExchangeChips=ot.GetWallet(),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str&&this.ChangeBetBtnIcon(ot.CurencyName);if(Y.CloseIntroLoading.push((function(){if(Y.IsTadaCasino&&!r.m_playReadyNode){var t=r.node.parent.parent;mt.ShowSkyBar(t,!0)}r.m_playReadyNode&&r.m_extraManager.HasUnshow&&(r.m_playReadyNode.active=!1)})),this.SetBetList(e),this.m_extraManager.CheckFirstFeatures(),Y.IsTadaCasino&&(Ft.GetInstance().SetIUnlockBetCB((function(t,e){r.m_levelBetLockRoot&&r.SetUnlockBetMask(t,e)})),this.SetUnlockBetMask(Ft.GetInstance().LevelInfo.betOpen,!0)),Y.CheckSwitchOff(j.SwitchOffKeyDefine.CurrencySymbol)&&Number(j.API_ID)!=j.MGAApi?this.m_betDollerSymbol="":this.m_betDollerSymbol=j.DollarSymbol+" ",Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowNetWin)&&this.m_netWinLabel&&(this.m_netWinLabel.string=this.m_netTxt+j.DollarSymbol+"0",this.m_netWinLabel.node.active=!0),this.m_BMMratioBtn&&Y.CheckSwitchOff(j.SwitchOffKeyDefine.RatioOnView)&&(this.m_BMMratioBtn.node.active=!0,this.SetRatioBtn(this.m_BMMratioBtn),Number(j.API_ID)==j.MGAApi&&(this.m_ratioBtn.node.active=!1)),this.SetRatioBtn(this.m_ratioBtn),this.m_historyBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==r.m_currentTouchName&&r.m_historyBtn.interactable?(r.m_currentTouchName=t.target.name,r.m_lockhistoryEnable||v(r.m_historyBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(r.m_currentTouchName=t.target.name)})),this.m_historyBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(r.m_historyBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_historyBtn.node.on(S.EventType.TOUCH_END,(function(t){v(r.m_historyBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,q.getInstance().Play(j.AudioClips.COMMON_BTN),r.m_lockhistoryEnable||(r.CloseAllMenu(),j.IS_DEMO?Z.getInstance().ShowMessageBox(j.StringKey.MSGBOX_HISTORY_UNABLE_HINT):r.OpenWebView(r.m_historyUrl,j.StringKey.BOTTOM_BAR_BACK_GAME_HISTORY)),r.PushClickToBuffer(r.CLICK_BUFFER_TYPE.HISTORY))})),this.m_giftCodeBtn&&(this.m_giftCodeBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==r.m_currentTouchName&&r.m_giftCodeBtn.interactable?(r.m_currentTouchName=t.target.name,r.m_lockhistoryEnable||v(r.m_giftCodeBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(r.m_currentTouchName=t.target.name)})),this.m_giftCodeBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(r.m_giftCodeBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_giftCodeBtn.node.on(S.EventType.TOUCH_END,(function(t){v(r.m_giftCodeBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,q.getInstance().Play(j.AudioClips.COMMON_BTN),Gt.Show(),r.PushClickToBuffer(r.CLICK_BUFFER_TYPE.GIFT_CODE),r.CloseAllMenu())}))),this.m_homeBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==r.m_currentTouchName&&r.m_homeBtn.interactable?(r.m_currentTouchName=t.target.name,v(r.m_homeBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(r.m_currentTouchName=t.target.name)})),this.m_homeBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(r.m_homeBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_homeBtn.node.on(S.EventType.TOUCH_END,(function(t){v(r.m_homeBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,r.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),Y.CloseGameTab())})),this.m_notifyBtn&&(this.m_notifyBtn.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==r.m_currentTouchName&&r.m_notifyBtn.interactable?(r.m_currentTouchName=t.target.name,v(r.m_notifyBtn.node).to(as,{scale:l(.9,.9,1)}).start()):t.target&&0==t.target.active&&(r.m_currentTouchName=t.target.name)})),this.m_notifyBtn.node.on(S.EventType.TOUCH_CANCEL,(function(t){v(r.m_notifyBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_notifyBtn.node.on(S.EventType.TOUCH_END,(function(t){v(r.m_notifyBtn.node).to(as,{scale:l(1,1,1)}).start(),r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,r.CloseAllMenu(),q.getInstance().Play(j.AudioClips.COMMON_BTN),ut.GetInstance().ShowAllHistoryNotify(),r.SendClickEvent(j.BTN_CLICK_EVENT.NOTIFY_HISTORY_ICON,r.m_spinWithSpeed))})),ut.GetInstance().SetIconNode(this.m_notifyBtn.node)),this.m_webViewCloseBtn.node.on("click",(function(t){q.getInstance().Play(j.AudioClips.COMMON_BTN),r.CloseWebView()}),this),this.m_speedImg&&this.m_speedBtn){var _=j.AID+":"+j.NOW_GAME_ID+":QuickMode",u=X.GetBool(_);null!=u?(this.m_speedBtnStatus=u,u?this.m_speedSprite&&this.m_speedSprite[1]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[1]:this.m_speedImg.getComponent(R).color=p(255,255,255):this.m_speedSprite&&this.m_speedSprite[0]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[0]:this.m_speedImg.getComponent(R).color=p(135,126,98),this.m_isHintQuickMod=u,this.m_isHardStop=u,this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!u)):(this.m_speedBtnStatus=!1,this.m_speedSprite&&this.m_speedSprite[0]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[0]:this.m_speedImg.getComponent(R).color=p(135,126,98),this.m_isHardStop=!1,this.m_isHintQuickMod=!1,this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!0))}if(Y.CheckSwitchOff(j.SwitchOffKeyDefine.AutoPlay)&&(this.m_lockAutoEnable=!0,this.m_autoBtn.node.active=!1,this.m_autoSprite&&(this.m_autoSprite.node.active=!1),this.m_autoHintSprite&&(this.m_autoHintSprite.node.active=!1),this.m_autoHintLabel&&this.m_autoHintEffect)){for(var h=0;h<this.m_autoHintLabel.length;h++)this.m_autoHintLabel[h].node.active=!1;for(var B=0;B<this.m_autoHintEffect.length;B++)this.m_autoHintEffect[B].active=!1}(j.IS_DELAY_TO_NEXT=Y.CheckSwitchOff(j.SwitchOffKeyDefine.IsDelay),j.CAN_DROP_ITEM_CARD&&this.m_extraManager.LoadGetItemEftRes(),j.CURRENCY_CHANGE_ENABLE&&ot.GetWallet().length>1?(this.m_currencyBtn.node.active=!0,this.LoadCurrencyInfo()):this.m_currencyBtn.node.active=!1,j.CURRENCY_CHANGE_ENABLE&&!ot.IsRMB||(this.m_winLabel.fontSize=22,this.NowBetLabel.fontSize=22,this.m_balanceLabel.fontSize=22,this.m_winLabel.lineHeight=this.m_winLabel.fontSize+1,this.NowBetLabel.lineHeight=this.NowBetLabel.fontSize+1,this.m_balanceLabel.lineHeight=this.m_balanceLabel.fontSize+1),j.DefaultExtraFont&&(this.m_winLabel.font=j.DefaultExtraFont,this.m_balanceLabel.font=j.DefaultExtraFont),Y.SetFont(this.m_stopRoundLabel),this.m_nowBetLabel.fontSize=22,this.SetChips(ot.RawCoin),this.SetWinValue(0),this.m_initTimer.Clear(),this.m_initTimer.Start(1e4),this.m_coinIconSprite&&this.m_coinIconSpriteAtlas)&&(bs[j.API_ID]&&bs[j.API_ID][ot.CurencyID]?(this.m_balanceLabel.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==r.m_currentTouchName||t.target&&0==t.target.active)&&(r.m_currentTouchName=t.target.name)})),this.m_balanceLabel.node.on(S.EventType.TOUCH_CANCEL,(function(t){r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_balanceLabel.node.on(S.EventType.TOUCH_END,(function(t){r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,r.m_isGameIdle&&r.ChangeShowValue())})),this.m_winLabel.node.on(S.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==r.m_currentTouchName||t.target&&0==t.target.active)&&(r.m_currentTouchName=t.target.name)})),this.m_winLabel.node.on(S.EventType.TOUCH_CANCEL,(function(t){r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null)})),this.m_winLabel.node.on(S.EventType.TOUCH_END,(function(t){r.m_currentTouchName==t.target.name&&(r.m_currentTouchName=null,r.m_isGameIdle&&r.ChangeShowValue())})),this.m_coinIconSprite.node.active=!0):43===ot.CurencyID&&(this.m_coinIconSprite.spriteFrame=this.m_coinIconSpriteAtlas.getSpriteFrame(ds.Silver),this.m_coinIconSprite.node.active=!0));j.CommonBundle.load(Y.GetFilePath("Astt/%s/backpack/Prefab/Backpack_ItemCard_Bet"),c,(function(t,e){t?k(t.message||t):(r.m_multiBetPrefab=e,null==r.m_streetAtlas&&r.ChangeBetColorFromMultiBet(0!=r.m_multBetIdx))})),ht.GetInstance().ReqVipInfo(),this.m_tadaProgressBar||(this.m_tadaProgressBar=document.getElementById("progressBar_TaDa_IN")),this.m_tadaProgressBar&&(this.m_tadaProgressBar.style.width="98%"),Y.SetJiliProgressBar(98)},m.SetRatioBtn=function(t){var e=this;t.node.on(S.EventType.TOUCH_START,(function(i){i.propagationImmediateStopped=!0,i.propagationStopped=!0,null==e.m_currentTouchName&&t.interactable?(e.m_currentTouchName=i.target.name,e.m_lockInfoEnable||v(t.node).to(as,{scale:l(.9,.9,1)}).start()):i.target&&0==i.target.active&&(e.m_currentTouchName=i.target.name)})),t.node.on(S.EventType.TOUCH_CANCEL,(function(i){v(t.node).to(as,{scale:l(1,1,1)}).start(),e.m_currentTouchName==i.target.name&&(e.m_currentTouchName=null)})),t.node.on(S.EventType.TOUCH_END,(function(i){v(t.node).to(as,{scale:l(1,1,1)}).start(),e.m_currentTouchName==i.target.name&&(e.m_currentTouchName=null,q.getInstance().Play(j.AudioClips.COMMON_BTN),e.m_lockInfoEnable||(e.CloseAllMenu(),e.OpenWebView(e.m_ratioURL,j.StringKey.BOTTOM_BAR_BACK_GAME_DESCRIPTION)),e.PushClickToBuffer(e.CLICK_BUFFER_TYPE.RATIO))}))},m.SetUnlockBetMask=function(t,e){if(void 0===e&&(e=!1),!(t>this.m_betList.length)){if(this.m_appBetLimit=0==t?this.m_betList.length:t-1,this.CheckAppBetBtnLimit(),e&&this.m_betList&&t>0){this.m_levelBetLockRoot.active=!0,this.m_levelBetMasks=[];for(var i=0;i<Math.ceil(this.m_betList.length/j.BetColumnLimit);i++)if(this.m_levelBetLocks[i]){this.m_levelBetLocks[i].active=!0;for(var n=0;n<j.BetColumnLimit;n++){var o=A(this.m_betBtnMask);this.m_levelBetLocks[i].addChild(o),this.m_levelBetMasks.push(o)}}}if(this.m_levelBetMasks&&this.m_levelBetMasks.length>0){var a=this.m_levelBetMasks.length;if(0==t)return void(this.m_levelBetLockRoot.active=!1);for(var s=1;s<=t;s++)this.m_levelBetMasks[a-s]&&(this.m_levelBetMasks[a-s].active=!1)}}},m.ChangeBetBtnIcon=function(t){var e,i=j.BetIcon.JILI_Default,n=j.BetIcon.JILI_Default+j.BetIcon.ExtraBetPostfix;null!=(e=j.GameSwitchOff)&&e.IsSSS&&(i+=j.BetIcon.SSS_Postfix,n+=j.BetIcon.SSS_Postfix),this.m_betIcon=this.m_barAtlas.getSpriteFrame(i),this.m_betIconEX=this.m_barAtlas.getSpriteFrame(n),this.BetBtnIcon.spriteFrame=this.m_betIcon},m.ShowPlayReady=function(t,e,i,n){var o=this;if(mt.LobbyData&&mt.LobbyData.skipFeature)e&&mt.SetChangeGameStateCb(e);else if(this.m_playReadyPrefab&&!this.m_playReadyNode){this.m_playReadyNode=A(this.m_playReadyPrefab),n?(n.addChild(this.m_playReadyNode),Y.SetZIndex(this.m_playReadyNode,j.ZOrder.PLAY_READY)):(this.node.addChild(this.m_playReadyNode),Y.SetZIndex(this.m_playReadyNode,j.ZOrder.PLAY_READY),this.m_isLandscape?this.m_playReadyNode.setPosition(l(0,320)):this.m_playReadyNode.setPosition(l(0,568)));var a=this.m_playReadyNode.getComponent(ft);a&&(a.Init(t,e,i),Y.TriggerFeaturesShow=function(){a.Hide()},Y.TriggerUnshow=function(){o.m_extraManager.HasUnshow&&a.Hide(!0)})}else if(this.m_playReadyNode){var s=this.m_playReadyNode.getComponent(ft);s&&(this.m_extraManager.HasUnshow||s.Show())}},m.ChangeShowValue=function(){if(this.m_coinIconSprite&&this.m_coinIconSpriteAtlas){var t=1;switch(this.m_coinIconSprite.spriteFrame.name){case ds[40]:case ds[41]:this.m_coinIconSprite.spriteFrame=this.m_coinIconSpriteAtlas.getSpriteFrame(ds.Gold);break;case ds.Gold:ds[ot.CurencyID]&&(fs[ot.CurencyID]&&(t=fs[ot.CurencyID]),this.m_coinIconSprite.spriteFrame=this.m_coinIconSpriteAtlas.getSpriteFrame(ds[ot.CurencyID]));break;default:this.m_coinIconSprite.spriteFrame=this.m_coinIconSpriteAtlas.getSpriteFrame(ds.Gold)}var e="",i=Y.divide(ot.RawCoin,t);if(j.CURRENCY_CHANGE_ENABLE){i=this.GetDisplayValue(i);var n=j.DollarSymbolSuffix.replace("m","");n!=j.DollarSymbolSuffix&&(e="\n<size=15>"+(j.DollarSymbol+Y.FormatNumberThousands(Y.strip(i/1e3),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+n)+"</size=15>")}i=Y.strip(i),L.os!=L.OS.IOS?this.m_balanceLabel.string="<b><size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size></b><b>"+Y.FormatNumberThousands(i,Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+"</b><b><size=15>"+j.DollarSymbolSuffix+"</size></b><b>"+e+"</b>":this.m_balanceLabel.string="<size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size>"+Y.FormatNumberThousands(i,Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+"<size=15>"+j.DollarSymbolSuffix+"</size>"+e,this.m_balanceLabel.fontFamily=j.DollarFontFamily;var o=Y.divide(this.m_win,t);L.os!=L.OS.IOS?this.m_winLabel.string="<b><size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size></b><b>"+Y.FormatNumberThousands(Y.strip(o),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+j.DollarSymbolSuffix+"</b>":this.m_winLabel.string="<size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size>"+Y.FormatNumberThousands(Y.strip(o),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+j.DollarSymbolSuffix,this.m_winLabel.fontFamily=j.DollarFontFamily,Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseWinTxtWithZero)&&o<=0?(this.m_barWinLabel.node.active=!1,this.m_winLabel.node.active=!1):(this.m_barWinLabel.node.active=!0,this.m_winLabel.node.active=!0)}},m.GetExtraBetMulti=function(){return!this.m_isItemBet&&!this.m_isBuyBonusBet&&this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()?this.m_multiBetInfo.Multi[this.m_multBetIdx]:1},m.ChangeMultiBet=function(t){Dt.GetInstance().IsExtraBetBuff&&(t=0),this.m_multBetIdx=t;var e=1,i=this.CheckUseK();!this.m_isItemBet&&!this.m_isBuyBonusBet&&this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(e=this.m_multiBetInfo.Multi[this.m_multBetIdx]);for(var n=0;n<this.m_betLabels.length;n++){var o=n;this.IsInTrial;var a=Y.times(this.m_betList[o],e);this.m_betLabels[n].string=Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(a)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),i&&this.GetDisplayValue(a)*this.m_reelCount>=rs&&(this.m_betLabels[n].string=this.SetNumberK(this.GetDisplayValue(a)*this.m_reelCount))}var s=Y.times(this.m_betList[this.m_betIndex],e);if(!Ot.IsBuyBonus){this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(s)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",i&&this.GetDisplayValue(s)*this.m_reelCount>=rs&&(this.NowBetLabel.string=this.SetNumberK(this.GetDisplayValue(s)*this.m_reelCount));var r={bet:s};mt.SetData(r)}if(this.m_streetAtlas){var m=this.BetBtn.node.getComponent(d),l=$a;this.m_multiBetInfo&&this.m_multiBetInfo.IsMulti()?(m&&(m.spriteFrame=this.m_streetAtlas.getSpriteFrame(l.Mult)),this.BetBtn.normalSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.hoverSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.disabledSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.pressedSprite=this.m_streetAtlas.getSpriteFrame(l.MultPressed)):(m&&(m.spriteFrame=this.m_streetAtlas.getSpriteFrame(l.Normal)),this.BetBtn.normalSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.hoverSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.disabledSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.pressedSprite=this.m_streetAtlas.getSpriteFrame(l.NormalPressed))}if(this.m_multiBetPrefab){var _=A(this.m_multiBetPrefab),u=this.BetBtn.node.getComponent(E).contentSize;this.BetBtn.node.addChild(_),j.NOW_GAME_ID==j.GAME_ID.AG2.toString()&&_.setPosition(_.position.x,-u.height/2);var p="Clip_Backpack_ItemCard_Bet";_.getComponent(f).play(p);var h=_.getComponent(f).getState(p);v(_).delay(h.duration).call((function(){_.removeFromParent(),_.destroy()})).start(),null==this.m_streetAtlas&&this.ChangeBetColorFromMultiBet(0!=this.m_multBetIdx)}},m.ChangeBetColorFromMultiBet=function(t){void 0===t&&(t=!1);var e=j.BetMode.Normal;t&&(e=j.BetMode.ExtraBet),this.ChangeBetColor(e)},m.ChangeBetColor=function(t){void 0===t&&(t=j.BetMode.Normal);var e=Y.IsTadaCasino?this.m_appBetBack[0]:this.m_betBack[0],i=Y.IsTadaCasino?this.m_appBetBack[1]:this.m_betBack[1],n=Y.IsTadaCasino?this.m_appBetBack[1]:this.m_betBack[2],o=this.m_appBetBack[2],a=this.m_appBetBack[3],s=this.m_appBetBack[4],r=this.m_appBetBack[5];if(e&&i&&n)switch(t){case j.BetMode.ExtraBet:this.IsBMMGames&&this.m_extraManager.BetLabel&&(this.m_extraManager.BetLabel.string=J.GetInstance().GetString(j.StringKey.EXTRA_BET)),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str&&(this.BetBtnIcon.spriteFrame=this.m_betIconEX),this.BetBtn.node.getComponent(d).spriteFrame=i,this.BetBtn.normalSprite=i,this.BetBtn.pressedSprite=i,this.BetBtn.hoverSprite=i,this.BetBtn.disabledSprite=i,Y.IsTadaCasino&&this.m_appBetPlusBtns[0],this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].node.getComponent(d).spriteFrame=a,this.m_appBetPlusBtns[0].normalSprite=a,this.m_appBetPlusBtns[0].pressedSprite=a,this.m_appBetPlusBtns[0].hoverSprite=a,this.m_appBetPlusBtns[0].disabledSprite=a,this.m_appBetMinusBtns[0].node.getComponent(d).spriteFrame=r,this.m_appBetMinusBtns[0].normalSprite=r,this.m_appBetMinusBtns[0].pressedSprite=r,this.m_appBetMinusBtns[0].hoverSprite=r,this.m_appBetMinusBtns[0].disabledSprite=r);break;case j.BetMode.FreeSpin:this.m_extraManager.BetLabel&&(this.m_extraManager.BetLabel.string=J.GetInstance().GetString(j.StringKey.FREESPIN_BET)),this.BetBtn.node.getComponent(d).spriteFrame=n,this.BetBtn.normalSprite=n,this.BetBtn.pressedSprite=n,this.BetBtn.hoverSprite=n,this.BetBtn.disabledSprite=n,Y.IsTadaCasino&&this.m_appBetPlusBtns[0],this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].node.getComponent(d).spriteFrame=a,this.m_appBetPlusBtns[0].normalSprite=a,this.m_appBetPlusBtns[0].pressedSprite=a,this.m_appBetPlusBtns[0].hoverSprite=a,this.m_appBetPlusBtns[0].disabledSprite=a,this.m_appBetMinusBtns[0].node.getComponent(d).spriteFrame=r,this.m_appBetMinusBtns[0].normalSprite=r,this.m_appBetMinusBtns[0].pressedSprite=r,this.m_appBetMinusBtns[0].hoverSprite=r,this.m_appBetMinusBtns[0].disabledSprite=r);break;default:if(this.IsBMMGames&&this.m_extraManager.BetLabel&&(this.m_extraManager.BetLabel.string=J.GetInstance().GetString(j.StringKey.BET)),this.m_streetAtlas){var m=this.m_betBtn.node.getComponent(d),l=$a;this.m_multiBetInfo&&this.m_multiBetInfo.IsMulti()?(m&&(m.spriteFrame=this.m_streetAtlas.getSpriteFrame(l.Mult)),this.BetBtn.normalSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.hoverSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.disabledSprite=this.m_streetAtlas.getSpriteFrame(l.Mult),this.BetBtn.pressedSprite=this.m_streetAtlas.getSpriteFrame(l.MultPressed)):(m&&(m.spriteFrame=this.m_streetAtlas.getSpriteFrame(l.Normal)),this.BetBtn.normalSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.hoverSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.disabledSprite=this.m_streetAtlas.getSpriteFrame(l.Normal),this.BetBtn.pressedSprite=this.m_streetAtlas.getSpriteFrame(l.NormalPressed))}else Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str&&(this.BetBtnIcon.spriteFrame=this.m_betIcon),this.BetBtn.node.getComponent(d).spriteFrame=e,this.BetBtn.normalSprite=e,this.BetBtn.pressedSprite=e,this.BetBtn.hoverSprite=e,this.BetBtn.disabledSprite=e,Y.IsTadaCasino&&this.m_appBetPlusBtns[0],this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].node.getComponent(d).spriteFrame=o,this.m_appBetPlusBtns[0].normalSprite=o,this.m_appBetPlusBtns[0].pressedSprite=o,this.m_appBetPlusBtns[0].hoverSprite=o,this.m_appBetPlusBtns[0].disabledSprite=o,this.m_appBetMinusBtns[0].node.getComponent(d).spriteFrame=s,this.m_appBetMinusBtns[0].normalSprite=s,this.m_appBetMinusBtns[0].pressedSprite=s,this.m_appBetMinusBtns[0].hoverSprite=s,this.m_appBetMinusBtns[0].disabledSprite=s)}},m.SetComponentState=function(t,i,n,o){(!this.m_lockAutoEnable&&!this.m_extraManager.LockAutoEnableByFeatures||t.node.name!=this.m_autoBtn.node.name&&t.node.name!=this.m_stopAutoBtn.node.name&&t.node.name!=this.m_stopAutoCountBtn.node.name)&&(t.interactable=i,Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||t.node.name!=e.UIName.BTN_SPIN&&t.node.name!=e.UIName.BTN_SPINSTOP||this.m_isCustomize?t.node.active=n:t.node.parent.active=n,this.SetComponentLabelState(n,o),i?Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||t.node.name!=e.UIName.BTN_SPIN&&t.node.name!=e.UIName.BTN_SPINSTOP||this.m_isCustomize?t.node.getComponent(R).color=p(255,255,255):t.node.parent.getComponent(R).color=p(255,255,255):Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||t.node.name!=e.UIName.BTN_SPIN&&t.node.name!=e.UIName.BTN_SPINSTOP||this.m_isCustomize?t.node.getComponent(R).color=p(150,150,150):t.node.parent.getComponent(R).color=p(150,150,150))},m.SetComponentLabelState=function(t,e){e==ms.SPIN?this.m_extraManager.IsNowInDemoMenu||(this.m_spinSprite.node.active=t):e==ms.STOP?this.m_spinStopSprite.node.active=t:e==ms.AUTO?this.m_autoSprite.node.active=t:e==ms.STOP_AUTO?this.m_autoStopSprite.node.active=t:e==ms.STOP_AUTO_COUNT&&(this.m_autoCountStopSprite.node.active=t,this.m_stopRoundLabel.node.active=t)},m.SetChips=function(t,e){void 0===e&&(e=j.CURRENCY_CHANGE_ENABLE),this.IsInTrial?this.m_extraManager.setTrialCoins(t):this.SetRealChips(t,e)},m.SetRealChips=function(t,e){void 0===e&&(e=j.CURRENCY_CHANGE_ENABLE),this.m_chips=t,ot.HasWallet&&ot.SetCoin(t);var i="";if(e){t=this.GetDisplayValue(t);var n=j.DollarSymbolSuffix.replace("m","");n!=j.DollarSymbolSuffix&&(i="\n<size=15>"+(j.DollarSymbol+Y.FormatNumberThousands(Y.strip(t/1e3),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+n)+"</size=15>")}t=Y.strip(t),this.m_coinIconSprite&&this.m_coinIconSpriteAtlas&&this.m_coinIconSprite.spriteFrame!==this.m_coinIconSpriteAtlas.getSpriteFrame(ds.Gold)&&ot.HasWallet&&fs[ot.CurencyID]&&(t=Y.divide(t,fs[ot.CurencyID])),L.os!=L.OS.IOS?this.m_balanceLabel.string="<b><size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size></b><b>"+Y.FormatNumberThousands(t,Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+"</b><b><size=15>"+j.DollarSymbolSuffix+"</size></b><b>"+i+"</b>":this.m_balanceLabel.string="<size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size>"+Y.FormatNumberThousands(t,Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+"<size=15>"+j.DollarSymbolSuffix+"</size>"+i,this.m_balanceLabel.fontFamily=j.DollarFontFamily},m.GetChips=function(t){return void 0===t&&(t=j.CURRENCY_CHANGE_ENABLE),this.IsInTrial?Y.strip(this.m_extraManager.TrialCoins):this.GetRealChips(t)},m.GetRealChips=function(t){return void 0===t&&(t=j.CURRENCY_CHANGE_ENABLE),ot.HasWallet&&t?Y.strip(ot.RawCoin):Y.strip(this.m_chips)},m.SetBetList=function(t,e,i){void 0===e&&(e=j.CURRENCY_CHANGE_ENABLE),void 0===i&&(i=!1);var n=t;if(e)if(n=[],Y.IsTadaCasino){for(var o=15,a=0;a<us.length;a++)if(Number(j.NOW_GAME_ID)==us[a].GameId){o=us[a].type;break}if(mt.LobbyData&&mt.LobbyData.highRoller)for(var s=ot.BetList.length-1;s>=ot.BetList.length-o;s--)n.unshift(ot.RawBetList[s]);else for(var r=0;r<o;r++)n.push(ot.RawBetList[r])}else for(var m=0;m<ot.BetList.length;m++)n[m]=ot.RawBetList[m];this.m_betList=n,this.m_appBetLimit||(this.m_appBetLimit=this.m_betList.length-1);var l=this.CheckUseK();this.m_betList[this.m_betIndex]=Y.strip(this.m_betList[this.m_betIndex]);var _=this.m_betList[this.m_betIndex];this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(_=Y.times(_,this.m_multiBetInfo.Multi[this.m_multBetIdx])),this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(_)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",l&&this.GetDisplayValue(_)*this.m_reelCount>=rs&&(this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+this.SetNumberK(Y.strip(this.GetDisplayValue(_)*this.m_reelCount))),i?this.ResetBetBtns():this.CreateNormalBetBtns(!1)},m.GetBetList=function(t){return void 0===t&&(t=j.CURRENCY_CHANGE_ENABLE),t?ot.RawBetList:this.m_betList},m.GetBetByIndex=function(t,e){return void 0===e&&(e=j.CURRENCY_CHANGE_ENABLE),e?ot.RawBetList[t]:this.m_betList[t]},m.SetSpinState=function(t){if(this.m_btn_state!=t)this.m_currentTouchName=null,this.m_btn_state=t;else{if(!this.m_isChangePos)return;this.m_isChangePos=!1,this.m_currentTouchName=null,this.m_btn_state=t}var i="",n=Qa;if(this.m_btn_state=t,t==this.SlotBottomBarState.IDLE)this.m_isSpinTurbo&&this.m_localeSpriteAtlas&&(Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str)&&(this.m_spinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(n.Spin+i)),this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_autoBtn,!0,!0,ms.AUTO),this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.m_IsFreeSpin||this.SetEnableBetButtons(!0);else if(t==this.SlotBottomBarState.IDLE_AGAIN)this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_autoBtn,!0,!0,ms.AUTO),this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.SPIN_DISABLE)this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.CLICK_SPIN)this.m_isSpinTurbo&&this.m_localeSpriteAtlas?(this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(n.Spin+i)),Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||this.m_spinBtn.node.name!=e.UIName.BTN_SPIN||this.m_isCustomize?this.m_spinBtn.node.getComponent(R).color=p(100,100,100):this.m_spinBtn.node.parent.getComponent(R).color=p(100,100,100)):(this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!0,ms.STOP)),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.START_SPIN){if(this.m_isSpinTurbo&&this.m_localeSpriteAtlas){this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN);var o=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop_b+i);o||(o=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop+i)),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinSprite.spriteFrame=o)}else this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!0,!0,ms.STOP);this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetEnableBetButtons(!1)}else if(t==this.SlotBottomBarState.CLICK_STOP)this.m_isSpinTurbo&&this.m_localeSpriteAtlas?(this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(n.Spin+i)),Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||this.m_spinBtn.node.name!=e.UIName.BTN_SPIN||this.m_isCustomize?this.m_spinBtn.node.getComponent(R).color=p(100,100,100):this.m_spinBtn.node.parent.getComponent(R).color=p(100,100,100)):(this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!0,ms.STOP)),this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.GET_AWARD){if(this.m_isSpinTurbo&&this.m_localeSpriteAtlas){this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN);var a=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop_b+i);a||(a=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop+i)),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinSprite.spriteFrame=a),Y.Line===j.LineSetting.street||Y.Line===j.LineSetting.americas_str||this.m_spinBtn.node.name!=e.UIName.BTN_SPIN||this.m_isCustomize?this.m_spinBtn.node.getComponent(R).color=p(255,255,255):this.m_spinBtn.node.parent.getComponent(R).color=p(255,255,255)}else this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!0,!0,ms.STOP);this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.SetEnableBetButtons(!1)}else if(t==this.SlotBottomBarState.CLICK_STOP_IN_AUTOPLAY)this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_autoBtn,!1,!1,ms.AUTO),this.m_autoplaySetting.IsCheckTotalRound?(this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!0,!0,ms.STOP_AUTO_COUNT)):(this.SetComponentState(this.m_stopAutoBtn,!0,!0,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT));else if(t==this.SlotBottomBarState.CLICK_AUTOPLAY_HARDSTOP)this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!0,!0,ms.STOP),this.SetComponentState(this.m_autoBtn,!1,!1,ms.AUTO),this.m_autoplaySetting.IsCheckTotalRound?(this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!0,!0,ms.STOP_AUTO_COUNT)):(this.SetComponentState(this.m_stopAutoBtn,!0,!0,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT)),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.CLICK_AUTOPLAY)this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_autoBtn,!1,!1,ms.AUTO),this.m_autoplaySetting.IsCheckTotalRound?(this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!0,!0,ms.STOP_AUTO_COUNT)):(this.SetComponentState(this.m_stopAutoBtn,!0,!0,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT)),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.CLICK_CANCEL)this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.m_autoplaySetting.IsCheckTotalRound,this.SetComponentState(this.m_stopAutoBtn,!1,!1,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,!1,ms.STOP_AUTO_COUNT),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.SKIP_SMALL_FLASH)this.SetSkipSmallFlash(!0),this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetEnableBetButtons(!1);else if(t==this.SlotBottomBarState.SKIP_SMALL_FLASH_AUTOPLAY){if(this.m_isSpinTurbo&&this.m_localeSpriteAtlas){this.SetComponentState(this.m_spinBtn,!0,!0,ms.SPIN);var s=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop_b+i);s||(s=this.m_localeSpriteAtlas.getSpriteFrame(n.SpinStop+i)),Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_spinSprite.spriteFrame=s)}else this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!0,!0,ms.STOP);this.SetEnableBetButtons(!1)}else t==this.SlotBottomBarState.SKIP_BIG_FLASH?(this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetEnableBetButtons(!1)):t==this.SlotBottomBarState.CLICK_STOP_NO_AUTO?(this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!0,ms.STOP),this.SetEnableBetButtons(!1)):t==this.SlotBottomBarState.GET_AWARD_NO_AUTO?(this.SetComponentState(this.m_spinBtn,!1,!1,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!0,!0,ms.STOP),this.SetEnableBetButtons(!1)):t==this.SlotBottomBarState.CLICK_STOP_IN_AUTOPLAY_NO_AUTO?(this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP)):t==this.SlotBottomBarState.SPIN_DISABLE_DISABLE_STOP?(this.SetComponentState(this.m_stopSpinBtn,!1,!1,ms.STOP),this.SetComponentState(this.m_spinBtn,!1,!0,ms.SPIN),this.SetComponentState(this.m_autoBtn,!1,!0,ms.AUTO),this.SetEnableBetButtons(!1)):t==this.SlotBottomBarState.AUTO_UNABLE?(this.SetComponentState(this.m_autoBtn,!1,this.m_autoBtn.node.active,ms.AUTO),this.SetComponentState(this.m_stopAutoBtn,!1,this.m_stopAutoBtn.node.active,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!1,this.m_stopAutoCountBtn.node.active,ms.STOP_AUTO_COUNT)):t==this.SlotBottomBarState.AUTO_ABLE&&(this.SetComponentState(this.m_autoBtn,!0,this.m_autoBtn.node.active,ms.AUTO),this.SetComponentState(this.m_stopAutoBtn,!0,this.m_stopAutoBtn.node.active,ms.STOP_AUTO),this.SetComponentState(this.m_stopAutoCountBtn,!0,this.m_stopAutoCountBtn.node.active,ms.STOP_AUTO_COUNT))},m.SetSkipEffectState=function(t,e){e?(this.SetSkipSmallFlash(e),this.SetComponentState(this.m_stopSpinBtn,!1,!t,ms.STOP),this.SetComponentState(this.m_spinBtn,t,t,ms.SPIN)):(this.SetComponentState(this.m_spinBtn,!1,!t,ms.SPIN),this.SetComponentState(this.m_stopSpinBtn,t,t,ms.STOP))},m.SetNowBet=function(t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),i){if(this.m_isItemBet=!0,this.m_itemBet=t,this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(this.m_itemBet)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",this.m_touchCb&&this.m_isSendBetChange){var o=new F([],!1,"");o.target=new ps(e.BetValueChange),this.m_touchCb(o)}}else if(this.m_isItemBet=!1,n){if(this.m_isBuyBonusBet=!0,this.m_buyBonusBet=t,this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(this.m_buyBonusBet)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",this.m_touchCb&&this.m_isSendBetChange){var a=new F([],!1,"");a.target=new ps(e.BetValueChange),this.m_touchCb(a)}}else{this.m_isBuyBonusBet=!1;for(var s=0;s<this.m_betList.length;s++)if(this.m_betList[s]==t){this.m_shouldUpdateBetBtn=!0,this.m_betIndex=s;break}this.m_betLimit&&(this.m_betIndex=this.m_betIndex>=this.m_betLimit?this.m_betLimit-1:this.m_betIndex),mt.LobbyData&&mt.LobbyData.novice&&this.m_isFirstSetting&&(this.m_betIndex=1),Y.IsTadaCasino&&this.m_appBetLimit&&this.m_betIndex>this.m_appBetLimit&&(this.m_betIndex=this.m_appBetLimit);var r=this.CheckUseK();this.m_betList[this.m_betIndex]=Y.strip(this.m_betList[this.m_betIndex]);var m=this.m_betList[this.m_betIndex];this.m_multiBetInfo&&this.m_multiBetInfo.Multi[this.m_multBetIdx]>0&&this.m_multiBetInfo.IsMulti()&&(m=Y.times(m,this.m_multiBetInfo.Multi[this.m_multBetIdx])),this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+Y.FormatNumberThousands(Y.strip(this.GetDisplayValue(m)*this.m_reelCount),Y.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+"<size=15>"+j.DollarSymbolSuffix.replace(" ","\n")+"</size>",r&&this.GetDisplayValue(m)*this.m_reelCount>=rs&&(this.NowBetLabel.string="<b>"+this.m_betDollerSymbol+"</b>"+this.SetNumberK(Y.strip(this.GetDisplayValue(m)*this.m_reelCount)));var l={bet:m};mt.SetData(l),this.CheckAppBetBtnLimit();var _=j.AID+":"+j.NOW_GAME_ID+":Bet";X.SetInt(_,this.m_betIndex);var u=j.AID+":"+j.NOW_GAME_ID+j.BetStorageKey;if(X.SetInt(u,this.m_betList[this.m_betIndex]),this.m_touchCb&&this.m_isSendBetChange){var p=new F([],!1,"");p.target=new ps(e.BetValueChange),this.m_touchCb(p)}this.m_isFirstSetting=!1}},m.CheckAppBetBtnLimit=function(){Y.IsTadaCasino&&this.m_appBetPlusBtns[0]&&this.m_appBetMinusBtns[0]&&(0==this.m_betIndex?(this.m_appBetPlusBtns[0].node.active=!(this.m_betIndex==this.m_appBetLimit),this.m_appBetPlusBtns[1].node.active=this.m_betIndex==this.m_appBetLimit,this.m_appBetMinusBtns[0].node.active=!1,this.m_appBetMinusBtns[1].node.active=!0):this.m_betIndex==this.m_appBetLimit?(this.m_appBetPlusBtns[0].node.active=!1,this.m_appBetPlusBtns[1].node.active=!0,this.m_appBetMinusBtns[0].node.active=!0,this.m_appBetMinusBtns[1].node.active=!1):(this.m_appBetPlusBtns[0].node.active=!0,this.m_appBetPlusBtns[1].node.active=!1,this.m_appBetMinusBtns[0].node.active=!0,this.m_appBetMinusBtns[1].node.active=!1))},m.SetSpinTimes=function(t){t<0&&(t=0),this.m_num_FreespinCounter.string=t.toString(),j.FreeSpinRemain=t,this.m_num_ItemCount&&(this.m_num_ItemCount.string=t.toString()),this.SetGiftCodeBtnState()},m.SetGiftCodeBtnState=function(){if(this.m_giftCodeBtn)if(j.IsGiftCodeOpen){this.m_giftCodeBtn.node.active=Gt.HasUI();var t=this.m_isGameIdle&&0==j.FreeSpinRemain&&!Ht.OnUseItemID&&!Ot.IsBuyBonus;this.m_giftCodeBtn.node.getComponent(d).color=t?Ns.Light:Ns.Dark,this.m_giftCodeBtn.interactable=t}else this.m_giftCodeBtn.node.active=!1},m.GetNowBetValue=function(t){if(void 0===t&&(t=j.CURRENCY_CHANGE_ENABLE),this.m_isItemBet)return this.m_itemBet;if(this.m_isBuyBonusBet)return this.m_buyBonusBet;if(this.IsNowReplay)return this.ReplayBetValue;if(this.IsInTrial){var e=this.m_extraManager.GetTrailBetList();return Y.strip(e[this.m_betIndex])}return t?Y.strip(ot.RawBetList[this.m_betIndex]):Y.strip(this.m_betList[this.m_betIndex])},m.GetFreeSpinBetValue=function(t){var e;return void 0===t&&(t=j.CURRENCY_CHANGE_ENABLE),Dt.GetInstance().IsFreeSpinBuff||(null==(e=j.APP)?void 0:e.FreeSpinBet)>0?this.GetNowBetValue():t?Y.strip(ot.RawBetList[0]):Y.strip(this.m_betList[0])},m.GetNowBetIndex=function(){return this.m_isItemBet||this.m_isBuyBonusBet?-1:this.m_betIndex},m.GetDisplayValue=function(t){return this.IsNowReplay?this.ReplayBetValue:j.CURRENCY_CHANGE_ENABLE&&ot.HasWallet?Y.strip(ot.GetDisplayValue(t)):Y.strip(t)},m.GetRawValue=function(t){return j.CURRENCY_CHANGE_ENABLE&&ot.HasWallet?Y.strip(t*ot.Unit):Y.strip(t)},m.SetWinValueWithCheck=function(t){void 0===t&&(t={maxWin:0,value:0,stopAction:!0,isRunning:!1,multiCurrency:j.CURRENCY_CHANGE_ENABLE});var e=!0;return t.value>t.maxWin&&(e=!1,t.value=t.maxWin),this.SetWinValue(t.value,t.stopAction,t.isRunning,t.multiCurrency),e},m.SetNetBet=function(t){Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowNetWin)&&this.m_netWinLabel&&(this.m_netWin=Y.minus(this.m_netWin,t))},m.SetNetWin=function(t){Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowNetWin)&&this.m_netWinLabel&&(this.m_netWin=Y.plus(this.m_netWin,t),this.m_netWinLabel.string=this.m_netTxt+j.DollarSymbol+Y.FormatNumberThousands(Y.strip(this.m_netWin),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT))},m.SetWinValue=function(t,e,i,n){if(void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===n&&(n=j.CURRENCY_CHANGE_ENABLE),this.m_win=Y.strip(t),!this.IsInTrial){e&&V.instance.ActionManager.removeAllActionsFromTarget(this.m_winLabel.node);var o=this.m_win;n&&(o=this.GetDisplayValue(o)),L.os!=L.OS.IOS?this.m_winLabel.string="<b><size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size></b><b>"+Y.FormatNumberThousands(Y.strip(o),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+j.DollarSymbolSuffix+"</b>":this.m_winLabel.string="<size="+this.m_dollarSymbolSize+">"+j.DollarSymbol+" </size>"+Y.FormatNumberThousands(Y.strip(o),Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+j.DollarSymbolSuffix,this.m_winLabel.fontFamily=j.DollarFontFamily,Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseWinTxtWithZero)&&o<=0?(this.m_barWinLabel.node.active=!1,this.m_winLabel.node.active=!1):(this.m_barWinLabel.node.active=!0,this.m_winLabel.node.active=!0),this.m_canScaleWinValue&&!i&&(this.m_winLabel.node.setScale(l(1,1)),t>0&&v(this.m_winLabel.node).to(.1,{scale:l(1.5,1.5,1)}).delay(.4).to(.15,{scale:l(1,1,1)}).start())}},m.GetWinValue=function(){return this.m_win},m.GetWinLabelString=function(){return this.m_winLabel.string.replace(/<.*?>|[^0-9|.]/g,"").replace(/^\./g,"")},m.SyncWinValue=function(t){var e=this.m_winLabel.string.replace(/<.*?>|[^0-9|.]/g,"");return t===Number(e)},m.SetAutoplayConfirmCb=function(t){var e=this;this.m_autoplayConfirmCb=t,this.m_autoplaySetting.ConfirmCb=function(){e.m_autoplayMenuNode.active=!1,e.StartAutoplay()},this.m_autoplaySetting.CancelCb=function(){e.m_autoplayMenuNode.active=!1}},m.SetEnterFree=function(t){void 0===t&&(t=!1),this.LockHistoryEnable(!0),this.LockBetEnable(!0),Y.CheckSwitchOff(j.SwitchOffKeyDefine.DisableSettingInfo)&&this.LockInfoEnable(!0),ut.GetInstance().SetState(!1),pt.GetInstance().UnableVolatilityBtn(),Mt.LockDailyEnable(!0),this.Rankboard&&this.Rankboard.closeUI(),t&&(this.LockWiseAutoEnable(!0),this.m_autoBtn.interactable=!1,this.m_stopAutoBtn.interactable=!1,this.m_stopAutoCountBtn.interactable=!1,this.m_autoBtn.node.getComponent(R).color=p(100,100,100),this.m_stopAutoBtn.node.getComponent(R).color=p(100,100,100),this.m_stopAutoCountBtn.node.getComponent(R).color=p(100,100,100))},m.SetLeaveFree=function(t){void 0===t&&(t=!1),this.IsInTrial||this.LockHistoryEnable(!1),this.m_isItemBet||this.LockBetEnable(!1),Y.CheckSwitchOff(j.SwitchOffKeyDefine.DisableSettingInfo)&&this.LockInfoEnable(!1),ut.GetInstance().SetState(!0),pt.GetInstance().CanUseVolatilityBtn(),Mt.LockDailyEnable(!1),t&&(this.LockWiseAutoEnable(!1),this.m_autoBtn.interactable=!0,this.m_stopAutoBtn.interactable=!0,this.m_stopAutoCountBtn.interactable=!0,this.m_autoBtn.node.getComponent(R).color=p(255,255,255),this.m_stopAutoBtn.node.getComponent(R).color=p(255,255,255),this.m_stopAutoCountBtn.node.getComponent(R).color=p(255,255,255))},m.SetEnableBetButtons=function(t){if(!this.m_lockBetEnable){if(this.BetBtn.interactable=t,this.m_appBetPlusBtns[0]&&this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].interactable=t,this.m_appBetPlusBtns[1].interactable=t,this.m_appBetMinusBtns[0].interactable=t,this.m_appBetMinusBtns[1].interactable=t),t)this.BetBtn.node.getComponent(R).color=p(255,255,255),this.m_appBetPlusBtns[0]&&this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].node.getComponent(R).color=p(255,255,255),this.m_appBetPlusBtns[1].node.getComponent(R).color=p(255,255,255),this.m_appBetMinusBtns[0].node.getComponent(R).color=p(255,255,255),this.m_appBetMinusBtns[1].node.getComponent(R).color=p(255,255,255));else if(this.m_IsFreeSpin||(this.BetBtn.node.getComponent(R).color=p(100,100,100),this.m_appBetPlusBtns[0]&&this.m_appBetMinusBtns[0]&&(this.m_appBetPlusBtns[0].node.getComponent(R).color=p(100,100,100),this.m_appBetPlusBtns[1].node.getComponent(R).color=p(100,100,100),this.m_appBetMinusBtns[0].node.getComponent(R).color=p(100,100,100),this.m_appBetMinusBtns[1].node.getComponent(R).color=p(100,100,100))),this.m_betRootNode.active=!1,this.m_isSendBetViewOpen){var i=new F([],!1,"");i.target=new ps(e.BetViewState.Close),this.m_touchCb&&this.m_touchCb(i)}this.SetEnableBalanceButtons(t)}},m.SetEnableBalanceButtons=function(t){j.CURRENCY_CHANGE_ENABLE&&this.m_currencyBtn.node.active&&this.m_currencyBtn.node.getComponent(d)&&(this.m_currencyBtn.interactable=t,this.m_currencyBtn.node.getComponent(d).color=t?p(255,255,255):p(100,100,100))},m.SetTxt=function(){var t=this;if(this.m_barWinLabel&&(this.m_barWinLabel.string=J.GetInstance().GetString(j.StringKey.WIN),Y.SetFont(this.m_barWinLabel)),this.m_netWinLabel&&(this.m_netTxt=J.GetInstance().GetString(j.StringKey.NET)),this.m_barBalanceLabel&&(this.m_barBalanceLabel.string=J.GetInstance().GetString(j.StringKey.BALANCE),Y.SetFont(this.m_barBalanceLabel)),this.m_vipBalanceLabel&&(this.m_vipBalanceLabel.string=J.GetInstance().GetString(j.StringKey.BALANCE),Y.SetFont(this.m_vipBalanceLabel)),this.m_barTrailBalanceLabel){var e=J.GetInstance().GetString(j.StringKey.BRAND_JILI);Y.Line!==j.LineSetting.americas&&Y.Line!==j.LineSetting.americas_str||(e=J.GetInstance().GetString(j.StringKey.BRAND_TADA));var i=J.GetInstance().GetString(j.StringKey.FREEWINCASH_DEMOCOINS);i=i.replace(/\{brand\}/g,e),this.m_barTrailBalanceLabel.string=i,Y.SetFont(this.m_barTrailBalanceLabel)}this.m_speedHintLabel&&(this.m_speedHintLabel.string=J.GetInstance().GetString(j.StringKey.SPEED_HINT),Y.SetFont(this.m_speedHintLabel)),this.m_autoHintLabel[0]&&(this.m_autoHintLabel[0].string=J.GetInstance().GetString(j.StringKey.AUTO_HINT0),Y.SetFont(this.m_autoHintLabel[0]),this.m_autoHintLabel[1].string=J.GetInstance().GetString(j.StringKey.AUTO_HINT1),Y.SetFont(this.m_autoHintLabel[1])),this.m_localeSpriteAtlas=this.m_localeSpriteAtlas?this.m_localeSpriteAtlas:J.GetInstance().GetCommonAtlas(),this.m_lockHintSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Ja.VipBetLock),this.m_streetAtlas&&(this.m_spinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.Spin),this.m_spinStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.SpinStop),this.m_autoSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.AutoPlay),this.m_autoStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.AutoStop),this.m_autoCountStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.AutoStop),this.m_autoHintSprite&&v(this.m_autoHintSprite.node).repeatForever(v().call((function(){t.m_autoHintSprite.spriteFrame=t.m_localeSpriteAtlas.getSpriteFrame("BottomBar_Tap")})).delay(3).call((function(){t.m_autoHintSprite.spriteFrame=t.m_localeSpriteAtlas.getSpriteFrame("BottomBar_Hold")})).delay(3)).start())},m.SetCustomWidgetAmerica=function(t,e){this.m_extraManager.SetCustomWidgetAmerica(t,e)},m.SetBalanceSprite=function(t){!ht.GetInstance().VipInfo||this.IsGLIGames||this.IsBMMGames||Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseVip)?(this.m_balanceSprite&&(this.m_balanceSprite.node.active=t),this.m_barBalanceLabel&&(this.m_barBalanceLabel.node.active=t),this.m_vipBalanceSprite&&(this.m_vipBalanceSprite.node.active=!1),this.m_vipBalanceLabel&&(this.m_vipBalanceLabel.node.active=!1),this.m_vipSprite&&(this.m_vipSprite.node.active=!1)):(this.m_balanceSprite&&(this.m_balanceSprite.node.active=!1),this.m_barBalanceLabel&&(this.m_barBalanceLabel.node.active=!1),this.m_vipBalanceSprite&&(this.m_vipBalanceSprite.node.active=t),this.m_vipBalanceLabel&&(this.m_vipBalanceLabel.node.active=t),this.m_vipSprite&&(this.m_vipSprite.node.active=t))},m.SetAutoPlayPanelTxt=function(){if(this.m_localeSpriteAtlas=this.m_localeSpriteAtlas?this.m_localeSpriteAtlas:J.GetInstance().GetCommonAtlas(),this.m_localeSpriteAtlas){this.m_autoplaySetting.SetTxt();var t=null;t=this.m_autoplaySetting.node.getChildByName("img_hosting_label")?this.m_autoplaySetting.node.getChildByName("img_hosting_label").getComponent(d):this.m_autoplaySetting.Title,Y.Line===j.LineSetting.americas||Y.Line===j.LineSetting.americas_str?this.m_localeSpriteAtlas.getSpriteFrame(Qa.AutoPlayTittle)&&(t.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Qa.AutoPlayTittle)):t.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(Ja.AutoPlayTittle)}},m.SetTrailBalanceSprite=function(t){this.m_barTrailBalanceLabel&&(this.m_barTrailBalanceLabel.node.active=t),this.m_barWinLabel&&(this.m_barWinLabel.node.active=!t)},m.ShowGameScene=function(t){void 0===t&&(t=!0),this.sendTestLog(3e3),t&&(this.m_showGameSceneFromGame=!0);var e;if(Y.HasReadyCb()&&this.IsFeaturesDemoLoaded()&&this.m_showGameSceneFromGame){Y.GameReady();var i=j.AID+":"+j.NOW_GAME_ID+":"+j.CloseIntroKey;if(X.GetBool(i)&&!this.m_playReadyNode||mt.LobbyData&&mt.LobbyData.skipFeature){k("showgamescene ShowSkyBar");var n=this.node.parent.parent;mt.ShowSkyBar(n,!0)}}else(e=document.getElementById("splash"))&&(e.style.display="none"),Y.SetJiliProgressBar(100);(Number(j.API_ID)==j.MGAApi||j.REALITY_CHECK_INTERVAL>0&&Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowNetWin))&&this.StartIdleTime()},m.StartAutoplay=function(){var t=Ja;if(this.SendSpinLog(),this.m_autoHintLabel&&this.m_autoHintEffect){for(var i=0;i<this.m_autoHintLabel.length;i++)this.m_autoHintLabel[i].node.active=!1;for(var n=0;n<this.m_autoHintEffect.length;n++)this.m_autoHintEffect[n].active=!1}if(!this.m_isWiseAutoPlay)return j.IS_DEMO&&j.HAS_CLIENTMODE&&(this.m_totalRound=j.AUTOPLAY_MAX_ROUND,this.m_stopRoundLabel.string=this.m_totalRound.toString()),this.m_autoplayConfirmCb(this.m_autoplaySetting.OthersInfo(!1)),!this.m_localeSpriteAtlas||Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_autoStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(t.AutoStop+""),this.m_autoCountStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(t.AutoStop+"")),void(this.m_chipCompareTypes=e.CompareTypes.None);!this.m_localeSpriteAtlas||Y.Line!==j.LineSetting.street&&Y.Line!==j.LineSetting.americas_str||(this.m_autoStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(t.AutoStop+""),this.m_autoCountStopSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(t.AutoStop+"")),this.m_autoplaySetting.IsCheckTotalRound?(this.m_totalRound=this.m_autoplaySetting.TotalRound,this.m_stopRoundLabel.string=this.m_totalRound.toString()):this.m_totalRound=-1,this.m_autoplaySetting.IsCheckTotalBet?this.m_singleWin=this.m_autoplaySetting.TotalBet:this.m_singleWin=-1,this.m_autoplaySetting.IsCheckChipGreat&&(this.m_chipGreatLimit=this.m_autoplaySetting.ChipGreatLimit),this.m_autoplaySetting.IsCheckChipLess&&(this.m_chipLessLimit=this.m_autoplaySetting.ChipLessLimit),this.m_autoplayConfirmCb(this.m_autoplaySetting.OthersInfo(!0))},m.AutoPlayByTimes=function(){this.m_totalRound>0&&(this.m_totalRound-=1,0==this.m_totalRound&&(this.m_autoplaySetting.SetTotalRound("100"),this.m_autoplaySetting.ChangeTotalRoundBg(!1)),this.m_stopRoundLabel.string=this.m_totalRound.toString())},m.IsAutoPlayByTimes=function(){return!this.m_autoplaySetting.IsCheckTotalRound||(this.m_totalRound>0||(this.m_autoplaySetting.ChangeTotalRoundBg(!1),!1))},m.GetTimesOfAutoPlay=function(){return this.m_autoplaySetting.IsCheckTotalRound?this.m_totalRound:-1},m.IsQuickEffect=function(){return this.m_isHardStop},m.GetValueOfPoint_Less=function(){return this.m_autoplaySetting.IsCheckChipLess?this.m_chipLessLimit:-1},m.GetValueOfPoint_Great=function(){return this.m_autoplaySetting.IsCheckChipGreat?this.m_chipGreatLimit:-1},m.GetValueOfSingleWin=function(){return this.m_autoplaySetting.IsCheckTotalBet?Y.times(this.GetNowBetValue(),this.m_singleWin):-1},m.ShowAward=function(t,e,i){this.m_totalAward=t,this.m_durTick=e-i,this.m_delay=i,this.m_showAward=0,this.m_step=this.m_totalAward/this.m_durTick,this.m_originalWin=this.m_win,this.m_isShowAward=!0},m.ForceToStop=function(){this.m_isShowAward&&(this.m_isShowAward=!1,this.SetWinValue(this.m_originalWin+this.m_totalAward))},m.PlayTime=function(){var t=!1;this.m_playTime_sec++,this.m_playTime_sec>59&&(this.m_playTime_sec=0,this.m_playTime_min++,999==this.m_playTime_min&&(t=!0));var e=this.m_playTime_min>=10?this.m_playTime_min.toString():"0"+this.m_playTime_min.toString(),i=this.m_playTime_sec>=10?this.m_playTime_sec.toString():"0"+this.m_playTime_sec.toString();this.m_playTimeLabel.string=e+":"+i,t&&this.unschedule(this.PlayTime)},m.StartPlayTime=function(){this.m_playTimeLayoutNode.active&&!this.m_playTimerStarted&&(this.m_playTimerStarted=!0,this.schedule(this.PlayTime,1))},m.StartIdleTime=function(){var t=this;this.m_playTimerStarted||(this.m_playTimerStarted=!0,this.schedule((function e(){if(t.m_playTimeLayoutNode.active){var i=!1;t.m_playTime_sec++,t.m_playTime_sec>59&&(t.m_playTime_sec=0,t.m_playTime_min++,t.m_playTime_min>59&&(t.m_playTime_min=0,t.m_playTime_hr++,999==t.m_playTime_hr&&(i=!0)));var n=t.m_playTime_hr>=10?t.m_playTime_hr.toString():"0"+t.m_playTime_hr.toString(),o=t.m_playTime_min>=10?t.m_playTime_min.toString():"0"+t.m_playTime_min.toString(),a=t.m_playTime_sec>=10?t.m_playTime_sec.toString():"0"+t.m_playTime_sec.toString();t.m_playTimeLabel.string=n+":"+o+":"+a,i&&t.unschedule(e)}Number(j.API_ID)==j.MGAApi&&(t.m_idleTime++,k("idleTime",t.m_idleTime),t.m_idleTime>=3600&&(Z.getInstance().ShowMessageBox("Idle Time Over 1 HR",j.StringKey.MSGBOX_TITLE_SYSTEM_INFO,Y.CloseGameTab,Y.GetErrorCode(j.ErrorStatus.Game,j.ErrorStatus.Unknow)),t.unschedule(e))),j.REALITY_CHECK_INTERVAL>0&&Y.CheckSwitchOff(j.SwitchOffKeyDefine.ShowNetWin)&&(t.m_realityCheckTime++,t.m_realityCheckTime>=j.REALITY_CHECK_INTERVAL&&(t.m_realityCheckTime=0,t.ShowRealiteCheckMsgBox()))}),1))},m.ResetIdleTimer=function(){this.m_idleTime=0},m.update=function(t){if(this.m_isStartTouchAuto&&(this.m_autoTouchTime+=t,this.m_autoTouchTime>1)){this.CloseAllMenu(),this.m_isWiseAutoPlay=!0,this.m_isStartTouchAuto=!1,this.m_currentTouchName=null;var i=new F([],!1,"");i.target=new ps(e.UIName.BTN_WISEAUTOPLAY),this.m_touchCb(i)}if(this.m_timeLabel.node.active&&(this.m_sec-=t,this.m_sec<=0)){this.m_sec=1;var n=new Date,o=n.getHours()>=10?n.getHours().toString():"0"+n.getHours(),a=n.getMinutes()>=10?n.getMinutes().toString():"0"+n.getMinutes();this.m_timeLabel.string=o+":"+a}if(this.m_initTimer&&(this.m_initTimer.Update(1e3*t),this.m_initTimer.ToBool()&&(this.m_isInitChips=!0,delete this.m_initTimer,this.m_initTimer=null)),this.m_spinHoldTimer&&(this.m_spinHoldTimer.Update(1e3*t),this.m_spinHoldTimer.ToBool()&&this.m_isFirstSpinHold&&(this.m_isFirstSpinHold=!1,this.m_touchCb))){var s=new F([],!1,"");s.target=new ps(e.UIName.BTN_HOLD_SPIN),this.m_touchCb(s)}this.m_isShowAward&&(this.m_delay-=t,this.m_delay<=0&&(this.m_showAward+=this.m_step*t,this.m_showAward>this.m_totalAward&&(this.m_showAward=this.m_totalAward),this.SetWinValue(this.m_originalWin+this.m_showAward),this.m_durTick=this.m_durTick-t,this.m_showAward==this.m_totalAward&&(this.m_isShowAward=!1))),this.m_timer.ToBool()&&(this.m_timer.Start(1e4),this.ClickBufferToServer()),this.m_marqueeTimer.ToBool()&&(this.m_extraManager.IsFeaturesDemoMode()||(this.SetMarquee(),this.ShowMarquee(),this.m_marqueeTimer.Start(5e3),this.ClickBufferToServer())),this.m_useSoundTimer.ToBool()&&this.m_soundTimeFlag&&(this.m_soundTime++,this.m_useSoundTimer.Start(1e3))},m.SetWinText=function(t,e){},m.GetSpeedFast=function(){return this.m_speedBtnStatus},m.SetLogIndex=function(t,e){if(void 0===e&&(e=!0),this.m_extraManager.IsFeaturesDemoMode()||this.IsNowReplay)this.m_logIndex.string="";else{var i=t;e&&(i=t.substring(0,5)+"-"+t.substring(5,11)+"-"+t.substring(11,19)),this.m_logIndex.string=J.GetInstance().GetString(j.StringKey.BOTTOM_BAR_LOGINDEX_TITLE)+" "+i,J.CurrLang===j.Lang.MM&&(this.m_logIndex.font=j.DefaultFont)}},m.SetWinLabelActive=function(t){this.m_winLabel.node.active=t},m.HideVersion=function(){this.m_version.node.active=!1},m.ForceToStopWinValueRunning=function(t){void 0===t&&(t=1),V.instance.ActionManager.removeAllActionsFromTarget(this.m_winLabel.node),this.m_winLabel.node.setScale(l(t,t))},m.IsWinValueRunning=function(){return V.instance.ActionManager.getNumberOfRunningActionsInTarget(this.m_winLabel.node)},m.SetWinValueWithRunningAndCheck=function(t){void 0===t&&(t={maxWin:0,finalValue:0,duration:.02,unit:1,multiCurrency:j.CURRENCY_CHANGE_ENABLE});var e=!0;return t.finalValue>t.maxWin&&(e=!1,t.finalValue=t.maxWin),this.SetWinValueWithRunning(t.finalValue,t.duration,t.unit,t.multiCurrency),e},m.SetWinValueWithRunning=function(t,e,i,n){var o=this;if(void 0===i&&(i=1),void 0===n&&(n=j.CURRENCY_CHANGE_ENABLE),!this.IsInTrial){var a=Y.divide(e,.02),s=this.m_winLabel.string.replace(/<.*?>|\(\d*\)|[^0-9|.]/g,"").replace(/^\./g,""),r=Number(s)*i;if(!(r>=t)){var m=Y.divide(Y.strip(t-r),a),_=v(this.m_winLabel.node).repeat(a,v().sequence(v().call((function(){(r+=m)>=t&&(r=t),o.SetWinValue(r,!1,!0,n)})),v().delay(.02))),u=_;this.m_canScaleWinValue&&(u=v(this.m_winLabel.node).parallel(v().to(.1,{scale:l(1.5,1.5,1)}),_).delay(.4).to(.15,{scale:l(1,1,1)})),v(this.m_winLabel.node).then(u).call((function(){o.SetWinValue(t,!0,!0,n)})).start()}}},m.GetWinLabelWorldPos=function(){return this.m_winLabel.node.getComponent(E).convertToWorldSpaceAR(H.ZERO)},m.SetAutoPlaySettingPanelFreeGameString=function(t,e,i){this.m_autoplaySetting.SetFreeGameString(t,e,i)},m.SetAutoPlayFreeGameSelectSprites=function(t,e){this.m_autoplaySetting.SetFreeGameSelectSprites(t,e)},m.LockBetEnable=function(t,e){void 0===e&&(e=!1),Ot.HasBuyBonus&&Ot.IsBuyBonus||(t||this.m_IsFreeSpin?(this.SetEnableBetButtons(!1),this.m_lockBetEnable=t):(this.m_lockBetEnable=t,e||this.SetEnableBetButtons(!0)))},m.LockAutoEnable=function(t){Y.CheckSwitchOff(j.SwitchOffKeyDefine.AutoPlay)&&(t=!0),this.m_lockAutoEnable=t},m.LockWiseAutoEnable=function(t){t?(this.m_autoplayMenuNode.active&&(this.m_autoplayMenuNode.active=!1),this.m_wiseAutoBtn.node.getComponent(R).color=p(135,126,98)):this.m_wiseAutoBtn.node.getComponent(R).color=p(255,255,255),this.m_lockWiseAutoEnable=t},m.LockHistoryEnable=function(t){t?(this.m_webView&&this.m_webView.node.active&&this.m_webView.url==this.m_historyUrl&&this.CloseWebView(),this.m_historyBtn.node.getComponent(R).color=p(135,126,98)):this.m_historyBtn.node.getComponent(R).color=p(255,255,255),this.m_lockhistoryEnable=t},m.LockInfoEnable=function(t){this.m_ratioBtn.node.getComponent(R).color=t?p(135,126,98):p(255,255,255),this.m_lockInfoEnable=t},m.ClickSoundBtn=function(){this.m_soundBtnStatus?(this.m_soundBtnStatus=!1,this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[1],this.m_soundBtn.node.getComponent(R).color=p(135,126,98),q.getInstance().SetAllMute(!0),this.CheckSound(),this.m_soundTime=0,this.SendClickEvent(j.BTN_CLICK_EVENT.SOUND_OFF,this.m_spinWithSpeed)):(this.m_soundBtnStatus=!0,this.m_soundBtn.node.getComponent(d).spriteFrame=this.m_soundBtnSprite[0],this.m_soundBtn.node.getComponent(R).color=p(255,255,255),q.getInstance().SetAllMute(!1),q.getInstance().Play(j.AudioClips.COMMON_BTN),this.CheckSound(),this.SendClickEvent(j.BTN_CLICK_EVENT.SOUND_ON,this.m_spinWithSpeed))},m.ClickSpeedBtn=function(){if(this.m_speedBtnStatus){this.m_speedBtnStatus=!1,this.m_speedSprite&&this.m_speedSprite[0]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[0]:this.m_speedImg.getComponent(R).color=p(135,126,98),this.m_isHintQuickMod=!0,this.m_isHardStop=!1;var t=j.AID+":"+j.NOW_GAME_ID+":QuickMode";X.SetBool(t,!1),q.getInstance().Play(j.AudioClips.COMMON_BTN),this.ShowSpeedMsg(J.GetInstance().GetString(j.StringKey.SPEED_PANEL_STOP)),this.SendClickEvent(j.BTN_CLICK_EVENT.HARDSTOP_OFF,this.m_spinWithSpeed),this.m_spinWithSpeed=0,this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!0)}else{this.m_speedBtnStatus=!0,this.m_speedSprite&&this.m_speedSprite[1]?this.m_speedImg.getComponent(d).spriteFrame=this.m_speedSprite[1]:this.m_speedImg.getComponent(R).color=p(255,255,255),this.m_isHintQuickMod=!0,this.m_isHardStop=!0;var e=j.AID+":"+j.NOW_GAME_ID+":QuickMode";X.SetBool(e,!0),q.getInstance().Play(j.AudioClips.COMMON_BTN),this.ShowSpeedMsg(J.GetInstance().GetString(j.StringKey.SPEED_PANEL_START)),this.SendClickEvent(j.BTN_CLICK_EVENT.HARDSTOP_ON,this.m_spinWithSpeed),this.m_speedHintLabel&&(this.m_speedHintLabel.node.active=!1)}},m.getUIElement=function(t){return t==e.UIName.BTN_SOUND?this.m_commView.getChildByName(e.UIName.BTN_SOUND):t==e.UIName.BTN_SPEED?this.m_commView.getChildByName(e.UIName.BTN_SPEED):t==e.UIName.BTN_AUTOPLAY?this.m_autoBtn.node:t==e.UIName.BTN_SPIN?this.m_spinBtn.node:void 0},m.AutoPlayPanelInit=function(t,e,i,n){var o,a,s=j.IS_LOBBY_OPEN&&((j.LobbyMode===j.LobbyModeType.TO_URL||j.LobbyMode===j.LobbyModeType.CHANGE_IFRAME)&&j.HOME_URL&&""!=j.HOME_URL||j.LobbyMode===j.LobbyModeType.TO_JILI&&!j.IsLifeSocketClose||j.LobbyMode===j.LobbyModeType.USING_IFRAME);"string"==typeof t?(o=t,a=e):(o=t.aid.toString(),a=t.apiid.toString(),n=t.siteid,i=e),j.AID=o,j.API_ID=a,j.NOW_GAME_ID=i,j.SITE_ID=n,Y.isIndia?j.SERIES_GAME_NAME="AceRoyale":Y.IsTada&&(j.SERIES_GAME_NAME="Tada"),this.m_autoplaySetting.Init(o,a,i,this),this.m_homeBtn.node.active=s,Y.Line!=j.LineSetting.bc&&(ut.GetInstance().Init(this,j.AID,j.API_ID,j.NOW_GAME_ID),ut.GetInstance().SetState(!0)),this.m_tadaProgressBar||(this.m_tadaProgressBar=document.getElementById("progressBar_TaDa_IN")),this.m_tadaProgressBar&&(this.m_tadaProgressBar.style.width="96%"),Y.SetJiliProgressBar(96)},m.SetAutoPlayIcon=function(t){this.m_autoplaySetting.SetBallIcon(t)},m.LoadTitle=function(t){var e=this;W.loadRemote(t,{reload:!0},(function(i,n){i?e.LoadTitle(t):(e.m_webViewTitleSprite.spriteFrame=new b,e.m_webViewTitleSprite.spriteFrame.texture=n,e.m_webViewTitleSprite.enabled=!0)}))},m.IsDiscountOpen=function(){return this.m_extraManager.IsDiscountOpen()},m.SyncChips=function(t,e,i,n){var o=this;if(void 0===i&&(i=!1),void 0===n&&(n=!1),null!==t)if(this.IsInTrial&&i)"number"==typeof t&&this.SetChips(t);else if(ot.HasWallet&&(i||(!j.IsSyncFromWS||n&&this.m_isGameIdle)&&(j.IsSyncFromWS||!n))){var a=ot.CurencyID,s=null,r=null;if("number"!=typeof t){for(var m=0;m<t.length;m++)if(t[m].currencyNumber===a){r=m;break}t.forEach((function(e,i,n){t[i].coin=Y.strip(t[i].coin)})),s=t}else{var l=new Array,_={coin:t,currencyNumber:a};l.push(_),s=l,r=0}var u=0;if(null!==r&&(u=this.GetDisplayValue(s[r].coin),!this.m_isInitChips&&0===this.GetChips()&&u>0&&(this.m_isInitChips=!0,delete this.m_initTimer,this.m_initTimer=null)),this.m_isInitChips){j.DEPOSIT_URL&&this.m_firstCheckChips&&this.GetChips()<Y.strip(this.m_betList[0])&&Z.getInstance().ShowDepositMsg(),this.m_firstCheckChips=!1;var p=ot.GetWallet();p.forEach((function(t,e,a){for(var r=0;r<s.length;r++)if(p[e].currencyNumber===s[r].currencyNumber&&Math.abs(Y.minus(p[e].coin,s[r].coin))>0){var m="CN:%s,NC:%s,SC:%s";m=x.formatStr(m,p[e].currencyNumber,p[e].coin,s[r].coin),m+=",SA:"+(i?"1":"0"),m+=",S:"+(j.IsSyncFromWS?"1":"0"),m+=",iWS:"+(n?"1":"0"),m+=",I:"+(o.m_isGameIdle?"1":"0"),o.SendClickEvent(j.BTN_CLICK_EVENT.SYNC_CHIPS,m)}}))}if(ot.SetAllCoin(s),this.SetChips(this.GetChips()),this.m_oldExchangeChips=ot.GetWallet(),Y.divide(Math.floor(Y.times(this.GetChips(),100)),100)!=Y.divide(Math.floor(Y.times(u,100)),100)&&u>=0){var h="C:%s,S:%s";h=x.formatStr(h,this.GetChips().toString(),u.toString()),this.SendClickEvent(j.BTN_CLICK_EVENT.CHANGE_CHIPS,h)}}},m.FeaturesDemoInit=function(t,e,i,n,o){void 0===o&&(o=!1),Y.CheckSwitchOff(j.SwitchOffKeyDefine.FeaturedDisplay)?this.m_extraManager.SetFeaturesDemoBlock():this.m_extraManager.FeaturesDemoInit(t,e,i,n,o)},m.IsFeaturesDemoLoaded=function(){return!this.m_extraManager.IsInitFreaturesDemo||this.m_extraManager.IsFeaturesDemoLoaded},m.CheckFeaturesDemo=function(t){this.m_extraManager.CheckFeaturesDemo(t)},m.FeaturesDemoPlayEnd=function(){this.m_extraManager.FeaturesDemoPlayEnd()},m.LeaveFeaturesDemoMsg=function(){this.m_extraManager.LeaveFeaturesDemoMsg()},m.IsFeaturesDemoBtnsLoaded=function(){return this.m_extraManager.IsFeaturesDemoBtnsLoaded()},m.CanPlayFeaturesDemo=function(t){this.m_extraManager.CanPlayFeaturesDemo(t)},m.IsPlayingRealGame=function(){return this.m_extraManager.IsPlayingRealGame()},m.SelectFeaturesDemo=function(t){this.m_extraManager.SelectFeaturesDemo(t)},m.StartFeaturesDemo=function(){this.m_extraManager.StartFeaturesDemo()},m.HaveFeaturesDemoMode=function(){return this.m_extraManager.HaveFeaturesDemoMode()},m.IsFeaturesDemoMode=function(){return this.m_extraManager.IsFeaturesDemoMode()},m.AddHardStopTipCount=function(t){var i=this;if(!(this.IsBMMGames&&Y.IsUKGC||Y.CheckSwitchOff(j.SwitchOffKeyDefine.CloseSpeedUp)||this.m_isHintQuickMod))if(this.m_isSpinCountFinished){if(Date.now()-this.m_clickStartTime>5e3)this.m_clickStartTime=Date.now(),this.m_clickCount=1;else if(this.m_clickCount+=1,this.m_clickCount>=10){this.m_isHintQuickMod=!0;var n={};n.contextKey=j.StringKey.MSGBOX_QUICK_MOD,n.titleKey=j.StringKey.MSGBOX_TITLE_QUICK_MOD,n.showCancelBtn=!1,n.showConfirmBtn=!0,n.showCloseBtn=!0,n.confirmCB=function(){i.StartHardStop()},Z.getInstance().PushMessageBoxSetting(n)}}else t==e.UIName.BTN_SPIN&&(this.m_spinClickCount+=1,this.m_spinClickCount>=20&&(this.m_isSpinCountFinished=!0))},m.GetStringAtlas=function(){return this.m_localeSpriteAtlas},m.GetCommAtlas=function(){return this.m_commAtlas},m.GetStreetAtlas=function(){return this.m_streetAtlas},m.CloseAllMenu=function(){if(this.m_commView.active&&(V.instance.ActionManager.removeAllActionsFromTarget(this.m_wiseAutoBtn.node),V.instance.ActionManager.removeAllActionsFromTarget(this.m_historyBtn.node),V.instance.ActionManager.removeAllActionsFromTarget(this.m_ratioBtn.node),this.m_wiseAutoBtn.node.setScale(l(1,1,1)),this.m_historyBtn.node.setScale(l(1,1,1)),this.m_ratioBtn.node.setScale(l(1,1,1)),this.m_commView.active=!1),this.m_betRootNode.active&&(this.m_betRootNode.active=!1,this.m_extraBetView&&(this.m_extraBetView.active=!1),this.m_touchCb&&this.m_isSendBetViewOpen)){var t=new F([],!1,"");t.target=new ps(e.BetViewState.Close),this.m_touchCb(t)}},m.ShowRealiteCheckMsgBox=function(){var t=this,e=this.m_playTime_min,i=this.m_playTime_hr.toString()+"h "+e.toString()+"m",n="";if(this.m_netWin>=0)n=j.DollarSymbol+this.m_netWin.toString();else{var o=Y.times(this.m_netWin,-1);n="-"+j.DollarSymbol+o.toString()}Rt.UseStopAutoCb(),Z.getInstance().ShowRealityCheckMessageBox(j.StringKey.MSGBOX_REALITY_CHECK,j.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[i,n],Y.CloseGameTab,(function(){t.OpenWebView(t.m_historyUrl,j.StringKey.BOTTOM_BAR_BACK_GAME_HISTORY)}))},m.OpenWebView=function(t,e){D("OpenWebView",t,e),1!=this.m_webViewLock&&(Z.getInstance().AddObstacle("WEBVIEW"),this.m_webView.node.active=!0,this.m_webView.url==t&&t==this.m_historyUrl?this.m_webView.nativeWebView.contentWindow.postMessage('{"cmd": "refresh", "options": { "stayLatestPage": true } }',t.slice(0,t.indexOf("0874")+4)):this.m_webView.url=t,L.isNative||window.scrollTo(0,0),this.m_webViewCloseBtn.node.getChildByName("Label2").getComponent(C).string=J.GetInstance().GetString(e),J.CurrLang===j.Lang.MM&&(this.m_webViewCloseBtn.node.getChildByName("Label2").getComponent(C).font=j.DefaultFont),this.ChangeWebViewSize(this.m_isLandscape))},m.CloseWebView=function(){Z.getInstance().DeleteObstacle("WEBVIEW"),this.m_webView.node.active=!1},m.LockWebViewEnable=function(t){this.m_webViewLock=t},m.ShowSpeedMsg=function(t,e){var i=this;void 0===e&&(e=!1),this.m_speedPanelLabel.string=t,J.CurrLang===j.Lang.MM&&(this.m_speedPanelLabel.font=j.DefaultFont),V.instance.ActionManager.removeAllActionsFromTarget(this.m_speedPanelLabel.node),this.m_speedPanelLabel.node.active=!0,V.instance.ActionManager.removeAllActionsFromTarget(this.m_speedPanel.node),this.m_speedPanel.node.active=!0;var n=1;e&&(n=2),v(this.m_speedPanel.node.getComponent(N)).to(.3,{opacity:200}).delay(n).to(.2,{opacity:0}).call((function(){i.m_speedPanel.node.active=!1})).start(),v(this.m_speedPanelLabel.node.getComponent(N)).to(.3,{opacity:200}).delay(n).to(.2,{opacity:0}).call((function(){i.m_speedPanelLabel.node.active=!1})).start(),e&&(this.m_isLockConnectSprite=!0,this.m_connectSprite.spriteFrame=this.m_connectAtlas.getSpriteFrame("BottomBar_Wifi_01"),this.m_connectAnim.play("Connect"))},m.UpdateConnectSprite=function(t){this.m_isLockConnectSprite=t;for(var e=St.GetInstance().AvgSpeed,i=0;i<j.SpeedRange.length;i++)if(e<=j.SpeedRange[i]){var n=j.MaxSpeedLvl-i;n>j.MaxSpeedLvl?n=j.MaxSpeedLvl:n<1&&(n=1),this.m_connectSprite.spriteFrame=this.m_connectAtlas.getSpriteFrame("BottomBar_Wifi_0"+n.toString()),i>2?this.m_connectAnim.play("Connect"):this.m_connectAnim.play("Connect_Close");break}},m.PushClickToBuffer=function(t){this.m_clickBuffer[t]++},m.ClickBufferToServer=function(){this.m_clickBuffer[this.CLICK_BUFFER_TYPE.FEATURES]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.FEATURESVIEW,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.FEATURES]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.RATIO]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.RATIO,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.RATIO]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.HISTORY]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.HISTORY,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.HISTORY]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.WISEAUTO]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.WISEAUTO,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.WISEAUTO]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.BACKPACK,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_GAME]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.BACKPACK_GAMETAB,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_GAME]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_ALL]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.BACKPACK_ALLTAB,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_ALL]=0),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]>=1&&(this.SendClickEvent(j.BTN_CLICK_EVENT.BACKPACK_MSGTAB,this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]),this.m_clickBuffer[this.CLICK_BUFFER_TYPE.BACKPACK_MSG]=0)},m.ShowUIButton=function(t){void 0===t&&(t=!0),this.IsInTrial||(t?this.m_speedBtn&&(this.m_speedBtn.node.active=!0,this.m_speedImg.active=!0):this.m_speedBtn&&(this.m_speedBtn.node.active=!1,this.m_speedImg.active=!1),this.m_extraManager.ShowUIButton(t))},m.IsSkipSmallFlash=function(){return this.m_isSkipFlash},m.SetSkipSmallFlash=function(t){this.m_isSkipFlash=t},m.CloseJPCheckBox=function(){this.m_autoplaySetting.CloseJPCheckBox()},m.CheckSound=function(){this.m_useSoundTimer&&this.m_soundBtnStatus?(this.m_useSoundTimer.Start(1e3),this.m_soundTimeFlag=!0):this.m_soundTimeFlag=!1},m.SetSpinWithSpeed=function(){this.m_spinWithSpeed++},m.SetSpinWithAuto=function(){this.m_spinWithAuto++},m.GetSpinWithAuto=function(){var t=this.m_spinWithAuto;return this.m_spinWithAuto=0,t},m.LoadCurrencyInfo=function(){var t=this;this.m_currencyInfo||j.CommonBundle.load(Y.GetFilePath("Astt/%s/multiCurrency/changeCurrency"),c,(function(e,i){if(e)k(e.message||e);else{var n=A(i);t.node.addChild(n),Y.SetZIndex(n,j.ZOrder.RANKING),n.active=!1,t.m_currencyInfo=n.getComponent(nt),t.m_currencyInfo.Init(t,ot)}}))},m.SetFreeGameString=function(t){this.m_autoplaySetting?this.m_autoplaySetting.SetFreeGameString(t,"",[]):k("autoplaySetting is null!")},m.HaveStopSound=function(t){this.m_haveStopSound=t},m.SetWinValueScale=function(t){this.m_canScaleWinValue=t},m.SetUseEftWinValue=function(t,e,i,n){this.m_eftWin=new rt(this,this.m_isLandscape),this.m_eftWin.SetUseEftWinValue(t,e,i,n)},m.SetEftWinValue=function(t,e){this.m_eftWin.SetEftWinValue(t,e)},m.SkipEftWinValue=function(){this.m_eftWin.SkipEftWinValue()},m.RankingInit=function(t,e,i,n,o,a){this.m_extraManager.RankingInit(t,e,i,n,o,a)},m.SetCanAutoShowRankboardUI=function(){this.m_extraManager.SetCanAutoShowRankboardUI()},m.SetRankingIconVisible=function(t){this.m_extraManager.SetRankingIconVisible(t)},m.SetDailyMissionIconVisible=function(t){this.m_extraManager.SetDailyMissionIconVisible(t)},m.SetTrialEndCb=function(t){this.m_extraManager.SetTrialEndCb(t)},m.SendClickEvent=function(t,e){Q.getInstance().SendBtnClickEvent(Q.FormBtnClickParams(Number(j.AID),Number(j.API_ID),Number(j.NOW_GAME_ID),j.GAME_VERSION,t,e,this.m_isLandscape))},m.SetMarquee=function(){if(this.m_marqueeObj=et.GetInstance().GetMarqueeMsg(),null!=this.m_marqueeObj){if(1==this.m_marqueeObj.content.showType)return void(null!=mt.LobbyData&&this.SetLobbyMarquee(this.m_marqueeObj));var t=[],e=0,i=this.m_marqueeObj.content.template.format,n=this.m_marqueeObj.content.template.color,o=this.m_marqueeObj.content.content,a=this.m_marqueeObj.content.contentColor,s=i.split(/{.}/);if(!isNaN(Number(o[o.length-1]))){var r=Number(o[o.length-1]);o[o.length-1]=Y.FormatNumberThousands(r,Y.FORMAT_NUMBER_TYPE.PERMANENT_DOT)}for(;null!=i.match(/{(.*?)}/);){var m=i.match(/{(.*?)}/);t.push([n,s[e]],[a[m[1]],o[m[1]]]),i=i.replace(m[0],""),e++}s[e]&&t.push([n,s[e]]);for(var l="";0!=t.length;){var _=t.shift();if(l=l+_[0]+";30;"+_[1],t.length>0){l+=J.CurrLang==j.Lang.CN||J.CurrLang==j.Lang.JP?",":"，"}}this.m_marqueeNodeS.getComponent(T).string=J.GetInstance().GetString(l),J.CurrLang===j.Lang.MM&&(this.m_marqueeNodeS.getComponent(T).font=j.DefaultFont),l=l.replace("\\n",""),this.m_marqueeNodeL.getComponent(T).string=J.GetInstance().GetString(l),J.CurrLang===j.Lang.MM&&(this.m_marqueeNodeL.getComponent(T).font=j.DefaultFont)}},m.ShowMarquee=function(){var t=this;if(null!=this.m_marqueeObj){if(1==this.m_marqueeObj.content.showType)return;var e=this.m_marqueeNodeL.position.x;this.m_marqueeNodeL.setPosition(e,50),v(this.m_marqueeNodeL).to(.4,{position:l(e,0)}).call((function(){t.m_marqueeBgL.getComponent(N).opacity=255})).delay(3.2).call((function(){t.m_marqueeBgL.getComponent(N).opacity=.5})).to(.4,{position:l(e,-50)}).call((function(){t.m_marqueeNodeL.setPosition(e,50)})).start(),e=this.m_marqueeNodeS.position.x,this.m_marqueeNodeS.setPosition(e,100),v(this.m_marqueeNodeS).to(.4,{position:l(e,0)}).call((function(){t.m_marqueeBgS.getComponent(N).opacity=255})).delay(3.2).call((function(){t.m_marqueeBgS.getComponent(N).opacity=.5})).to(.4,{position:l(e,-100)}).call((function(){t.m_marqueeNodeS.position=l(e,100)})).start()}},m.SetLobbyMarquee=function(t){var e=this;mt.GetMarquee(t,(function(t){if(t){var i=t,n=A(t);i.setParent(e.m_lobbyMarqueeNode),i.setPosition(i.position.x,j.DEFAULT_LANDSCAPE_SIZE.height/2),i.name="lobbyMarquee_L",i.getComponent(mt.LobbyComponentName.marquee).Play(!1,!0),n.setParent(e.m_lobbyMarqueeNode),n.setPosition(n.position.x,e.m_floatView.getComponent(E).contentSize.height/2),n.name="lobbyMarquee_S",n.getComponent(mt.LobbyComponentName.marquee).Play(!1,!0),e.m_isLandscape?n.getComponent(N).opacity=0:i.getComponent(N).opacity=0}}))},m.SetSpinTurbo=function(t){void 0===t&&(t=!1),this.m_isSpinTurbo=t},m.FindBetIndexByValue=function(t,e){void 0===e&&(e=!0);var i=ot.CurencyID,n=ot.GetWalletByID(i),o=n.ratio?n.ratio:1,a=JSON.parse(JSON.stringify(n.bet));1!==o&&e&&a.forEach((function(t,e,i){a[e]=Y.divide(t,o)}));for(var s=0,r=0;r<a.length;r++)if(a[r]===t){s=r;break}return s},m.LeaveGame=function(){},m.VolatilityInit=function(t){pt.GetInstance().Init(t,this,this.m_volatilityParent,this.m_volatilitySprite)},m.SetGLI_NOW_GAME_ID=function(t){if(j.NOW_GAME_ID=t.toString(),this.m_autoHintSprite&&this.m_autoStopSprite&&this.m_autoSprite&&(this.m_autoHintSprite.node.active=!1,this.ChangeAnimKeyFrameForGLI()),this.m_autoHintLabel&&this.m_autoHintEffect){for(var e=0;e<this.m_autoHintLabel.length;e++)this.m_autoHintLabel[e].node.active=!1;for(var i=0;i<this.m_autoHintEffect.length;i++)this.m_autoHintEffect[i].active=!1}},m.ChangeAnimKeyFrameForGLI=function(){for(var t=this.getComponent(f).clips,e=0;e<t.length;e++);},m.OnExit=function(){It.OnExit(),j.OnExit(),ct.OnExit(),St.GetInstance().OnExit(),St.OnExit(),Q.OnExit(),At.OnExit(),et.OnExit(),_t.OnExit(),Bt.OnExit(),dt.OnExit(),Z.OnExit(),nt.OnExit(),ut.OnExit(),tt.OnExit(),ht.GetInstance().OnExit(),ht.OnExit(),pt.OnExit(),Lt.OnExit(),J.OnExit(),Et.OnExit(),vt.OnExit(),q.OnExit(),Y.OnExit(),wt.OnExit(),Ut.OnExit()},r(e,[{key:"CommonWebviewParentNode",get:function(){return this.m_commonWebviewParentNode}},{key:"ConnectAnim",set:function(t){this.m_connectAnim=t}},{key:"ConnectSprite",set:function(t){this.m_connectSprite=t}},{key:"SpinBtn",get:function(){return this.m_spinBtn},set:function(t){this.m_spinBtn=t}},{key:"StopSpinBtn",set:function(t){this.m_stopSpinBtn=t}},{key:"AutoBtn",get:function(){return this.m_autoBtn},set:function(t){this.m_autoBtn=t}},{key:"StopAutoBtn",set:function(t){this.m_stopAutoBtn=t}},{key:"StopAutoCountBtn",set:function(t){this.m_stopAutoCountBtn=t}},{key:"SpeedButton",set:function(t){this.m_speedButton=t}},{key:"CurrencyBtn",set:function(t){this.m_currencyBtn=t}},{key:"BetBtn",get:function(){return Y.IsTadaCasino&&this.m_appBetBtn?this.m_appBetBtn:this.IsBMMGames&&this.m_BMMbetBtn?this.m_BMMbetBtn:this.m_betBtn},set:function(t){this.m_betBtn=t}},{key:"BetBtnIcon",get:function(){return this.IsBMMGames&&this.m_BMMbetBtnIcon?this.m_BMMbetBtnIcon:this.m_betBtnIcon},set:function(t){this.m_betBtnIcon=t}},{key:"BMMBetBtnIcon",set:function(t){this.m_BMMbetBtnIcon=t}},{key:"CommBtn",get:function(){return this.m_commBtn},set:function(t){this.m_commBtn=t}},{key:"CommSprite",get:function(){return this.m_commSprite},set:function(t){this.m_commSprite=t}},{key:"WiseAutoBtn",set:function(t){this.m_wiseAutoBtn=t}},{key:"HistoryBtn",set:function(t){this.m_historyBtn=t}},{key:"RatioBtn",set:function(t){this.m_ratioBtn=t}},{key:"BMMratioBtn",set:function(t){this.m_BMMratioBtn=t}},{key:"HomeBtn",set:function(t){this.m_homeBtn=t}},{key:"GiftCodeBtn",get:function(){return this.m_giftCodeBtn}},{key:"StopRoundLabel",set:function(t){this.m_stopRoundLabel=t}},{key:"WinLabel",get:function(){return this.m_winLabel},set:function(t){this.m_winLabel=t}},{key:"NetWinLabel",get:function(){return this.m_netWinLabel},set:function(t){this.m_netWinLabel=t}},{key:"NowBetLabel",get:function(){return Y.IsTadaCasino&&this.m_APPnowBetLabel?this.m_APPnowBetLabel:this.IsBMMGames&&this.m_BMMnowBetLabel?this.m_BMMnowBetLabel:this.m_nowBetLabel},set:function(t){this.m_nowBetLabel=t}},{key:"BalanceLabel",get:function(){return this.m_balanceLabel},set:function(t){this.m_balanceLabel=t}},{key:"LogIndex",get:function(){return this.m_logIndex},set:function(t){this.m_logIndex=t}},{key:"Version",set:function(t){this.m_version=t}},{key:"TimeLabel",set:function(t){this.m_timeLabel=t}},{key:"TimeLayoutNode",set:function(t){this.m_timeLayoutNode=t}},{key:"PlayTimeLabel",set:function(t){this.m_playTimeLabel=t}},{key:"PlayTimeLayoutNode",set:function(t){this.m_playTimeLayoutNode=t}},{key:"PlatVerLabel",set:function(t){this.m_platVerLabel=t}},{key:"VerString",set:function(t){this.m_version&&(this.m_version.string=t,j.GAME_VERSION=t)}},{key:"BetRootNode",set:function(t){this.m_betRootNode=t}},{key:"BetViewNode",set:function(t){this.m_betViewNode=t}},{key:"ExtraBetView",set:function(t){this.m_extraBetView=t}},{key:"CommView",set:function(t){this.m_commView=t}},{key:"SoundBtn",set:function(t){this.m_soundBtn=t}},{key:"WebView",get:function(){return this.m_webView.node}},{key:"SpinSprite",get:function(){return this.m_spinSprite},set:function(t){this.m_spinSprite=t}},{key:"SpinStopSprite",set:function(t){this.m_spinStopSprite=t}},{key:"AutoSprite",set:function(t){this.m_autoSprite=t}},{key:"AutoStopSprite",set:function(t){this.m_autoStopSprite=t}},{key:"AutoCountStopSprite",set:function(t){this.m_autoCountStopSprite=t}},{key:"AutoHintLabel",set:function(t){this.m_autoHintLabel=t}},{key:"AutoHintEffect",set:function(t){this.m_autoHintEffect=t}},{key:"SpeedHintLabel",set:function(t){this.m_speedHintLabel=t}},{key:"WinSprite",get:function(){return this.m_winSprite}},{key:"BarWinLabel",get:function(){return this.m_barWinLabel},set:function(t){this.m_barWinLabel=t}},{key:"BarBalanceLabel",set:function(t){this.m_barBalanceLabel=t}},{key:"VipBalanceLabel",set:function(t){this.m_vipBalanceLabel=t}},{key:"Recommend",get:function(){return this.m_extraManager.Recommend}},{key:"DiscountBtn",get:function(){return this.m_extraManager.DiscountBtn}},{key:"FloatViewSize",get:function(){return this.m_floatView.getComponent(E).contentSize}},{key:"VipSprite",set:function(t){this.m_vipSprite=t}},{key:"VipSpriteFrames",get:function(){return this.m_vipSpriteFrames}},{key:"AppVipSpriteFrames",get:function(){return this.m_appVipSpriteFrames}},{key:"JackPotBtn",get:function(){return this.m_jackPotBtn}},{key:"MustHitByBtn",get:function(){return this.m_mustHitByBtn}},{key:"VipLockNode",set:function(t){this.m_vipLockNode=t}},{key:"VipHintNode",set:function(t){this.m_vipHintNode=t}},{key:"UnLockVipNode",set:function(t){this.m_unLockVipNode=t}},{key:"UnlockVIPSprite",set:function(t){this.m_unlockVIPSprite=t}},{key:"LockHintSprite",set:function(t){this.m_lockHintSprite=t}},{key:"VipMaskNodes",set:function(t){this.m_vipMaskNodes=t}},{key:"ExtraBtnNode",set:function(t){this.m_extraBtnNode=t}},{key:"NotifyRoot",get:function(){return this.m_notifyRoot}},{key:"IsFreeSpin",get:function(){return this.m_IsFreeSpin}},{key:"SoundBtnStatus",get:function(){return this.m_soundBtnStatus}},{key:"BtnState",get:function(){return this.m_btn_state}},{key:"GetChipCompareTypes",get:function(){return this.m_chipCompareTypes}},{key:"IsHardStop",get:function(){return this.m_isHardStop}},{key:"IsLandscape",get:function(){return this.m_isLandscape}},{key:"IsLow",get:function(){return this.m_isLow}},{key:"CurrentTouchName",get:function(){return this.m_currentTouchName},set:function(t){this.m_currentTouchName=t}},{key:"AutoplayPrefab",set:function(t){this.m_autoplayPrefab=t;var e=A(this.m_autoplayPrefab);this.m_autoplaySetting=e.getComponent(K),this.m_autoplayMenuNode.addChild(e),Y.PerformanceProgress(.98)}},{key:"RatioUrl",set:function(t){this.m_ratioURL=t}},{key:"HistoryUrl",get:function(){return this.m_historyUrl},set:function(t){this.m_historyUrl=t}},{key:"BackpackUrl",get:function(){return this.m_backpackUrl},set:function(t){this.m_backpackUrl=t}},{key:"MemberUrl",get:function(){return this.m_memberUrl},set:function(t){this.m_memberUrl=t}},{key:"IsWiseAutoPlay",set:function(t){this.m_isWiseAutoPlay=t}},{key:"AID",get:function(){return j.AID}},{key:"ApiID",get:function(){return j.API_ID}},{key:"GameId",get:function(){return j.NOW_GAME_ID}},{key:"EffectWin",get:function(){return this.m_eftWin}},{key:"IsSmall",get:function(){return this.m_isSmall}},{key:"Wallet",get:function(){return ot}},{key:"FeaturesBtnPos",get:function(){return this.m_extraManager.FeaturesBtnPos}},{key:"IsInTrial",get:function(){return!!this.m_extraManager&&this.m_extraManager.IsInTrial}},{key:"IsOpenMall",get:function(){return this.m_isOpenMall},set:function(t){this.m_isOpenMall=t}},{key:"IsNowReplay",get:function(){return this.m_extraManager.IsNowReplay}},{key:"ReplayBetValue",get:function(){return this.m_extraManager.ReplayBetValue}},{key:"CanShowReplay",get:function(){return this.m_extraManager.CanShowReplay},set:function(t){this.m_extraManager.CanShowReplay=t}},{key:"GetNowActNo",get:function(){return this.m_extraManager.GetNowActNo}},{key:"IsGameIdle",get:function(){return this.m_isGameIdle},set:function(t){this.m_isGameIdle=t,!this.m_isGameIdle&&this.m_coinIconSprite&&this.m_coinIconSpriteAtlas&&this.m_coinIconSprite.spriteFrame.name!==ds.Gold&&43!==ot.CurencyID&&this.ChangeShowValue(),Y.CheckSwitchOff(j.SwitchOffKeyDefine.DisableSettingInfo)&&(this.m_isGameIdle?this.LockInfoEnable(!1):this.LockInfoEnable(!0)),this.SetGiftCodeBtnState()}},{key:"Rankboard",get:function(){return this.m_extraManager.Rankboard}},{key:"IsSendBetViewOpen",set:function(t){this.m_isSendBetViewOpen=t}},{key:"IsSendBetChange",set:function(t){this.m_isSendBetChange=t}},{key:"PlayReadyNode",get:function(){return this.m_playReadyNode?this.m_playReadyNode:null}},{key:"IsGLIGames",get:function(){return-1!=j.GLI_GAME_ID.indexOf(Number(j.NOW_GAME_ID))}},{key:"IsBMMGames",get:function(){return-1!=j.BMM_GAME_ID.indexOf(Number(j.NOW_GAME_ID))}}]),e}(z)).BetViewState={Open:"BetViewOpen",Close:"BetViewClose"},ja.BetValueChange="BetValueChange",ja.UIName={IMG_BAR_DN:"img_bar_dn",IMG_WIN:"img_win",IMG_BLANCE:"img_blance",TXT_BLANCE:"txt_blance",COMM_MENU:"comm_menu",BTN_INFO:"btn_info",BTN_SOUND:"btn_sound",BTN_WISEAUTOPLAY:"btn_wiseautoplay",BTN_HISTORY:"btn_history",BTN_COMM:"btn_comm",IMG_BTN_COMM:"img_btn_comm",TXT_WIN:"txt_win",BETVIEW:"betView",BET_MENU:"bet_menu",BTN_BETS:"btn_bet",BET_VALUE:"bet_value",SELECTED:"selected",BTN_BET:"btn_bet",IMG_BET:"img_bet",TXT_BET_VALUE:"txt_bet_value",BTN_FEATURES:"btn_features",IMG_SPEED:"img_speed",BTN_SPEED:"btn_speed",BTN_BACKPACK:"btn_backpack",IMG_BACKPACKNODE:"img_backpackNode",IMG_BACKPACK:"img_backpack",USINGCARD:"usingCard",USINGCARDNUM:"usingCardNum",BTN_AUTOSTOP_C:"btn_autostop_c",IMG_AUTOTOP:"img_autotop",TXT_AUTO_COUNT:"txt_auto_count",BTN_AUTOSTOP:"btn_autostop",IMG_AUTOTOP_1:"img_autotop_1",BTN_AUTOPLAY:"btn_autoplay",IMG_AUTOPLAY:"img_autoplay",BTN_SPINSTOP:"btn_spinstop",IMG_STOP_LABEL:"img_stop_label",BTN_SPIN:"btn_spin",IMG_SPIN_LABEL:"img_spin_label",AUTOPLAY:"Autoplay",IMG_BAR_SUB_BG:"img_bar_sub_bg",WEBVIEW:"webview",BTN_CLOSE:"btn_close",BTN_TRIAL:"btn_Trial",TRAILWINPROGRESSBAR:"TrailWinProgressBar",BTN_HOLD_SPIN:"btn_hold_spin",BTN_RELEASE_SPIN:"btn_release_spin",BTN_INCBET:"btn_IncBet",BTN_DECBET:"btn_DecBet"},ja.WIN_TILTE_TYPE={WIN:"WIN",GOOD_LUCK:"GOOD_LUCK",BLESSING:"BLESSING",SP_BLESSING:"SP_BLESSING",BLESSING_NO_JP:"BLESSING_NO_JP",CUSTOM:"CUSTOM"},ja.BLESSING_TEXT_AMOUNT=40,ja.SP_BLESSING_TEXT_AMOUNT=50,ja.CompareTypes={None:-1,Great:0,Less:1},gn=e((fn=ja).prototype,"m_commonTextPrefab",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cn=e(fn.prototype,"m_commonTextPrefabID",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tn=e(fn.prototype,"m_commonWebviewParentNode",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=e(fn.prototype,"m_commonWebPagePrefab",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nn=e(fn.prototype,"m_barAtlas",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),In=e(fn.prototype,"m_barNode",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),An=e(fn.prototype,"m_barBgNode",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln=e(fn.prototype,"m_barBgCustRoot",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),En=e(fn.prototype,"m_barBgCustSprite",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vn=e(fn.prototype,"m_coinIconSprite",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=e(fn.prototype,"m_coinIconSpriteAtlas",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mn=e(fn.prototype,"m_jiliLogoSpriteFrame",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pn=e(fn.prototype,"m_indiaLogoSpriteFrame",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),On=e(fn.prototype,"m_TaDaLogoSpriteFrame",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fn=e(fn.prototype,"m_UFALogoSpriteFrame",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=e(fn.prototype,"m_jiliStarLogoSpriteFrame",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dn=e(fn.prototype,"m_brandSpriteFrames",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kn=e(fn.prototype,"m_connectAnim",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Un=e(fn.prototype,"m_connectSprite",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gn=e(fn.prototype,"m_connectAtlas",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xn=e(fn.prototype,"m_spinBtn",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vn=e(fn.prototype,"m_stopSpinBtn",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hn=e(fn.prototype,"m_autoBtn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wn=e(fn.prototype,"m_stopAutoBtn",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn=e(fn.prototype,"m_stopAutoCountBtn",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kn=e(fn.prototype,"m_speedButton",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yn=e(fn.prototype,"m_speedSprite",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qn=e(fn.prototype,"m_currencyBtn",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zn=e(fn.prototype,"m_betBtn",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jn=e(fn.prototype,"m_betBtnIcon",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xn=e(fn.prototype,"m_BMMbetBtnIcon",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jn=e(fn.prototype,"m_betIcons",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qn=e(fn.prototype,"m_BMMbetBtn",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$n=e(fn.prototype,"m_appBetBg",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),to=e(fn.prototype,"m_appBetBtn",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eo=e(fn.prototype,"m_appBetPlusBtns",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),io=e(fn.prototype,"m_appBetMinusBtns",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),no=e(fn.prototype,"m_betCloseBtn",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oo=e(fn.prototype,"m_commBtn",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ao=e(fn.prototype,"m_commSprite",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),so=e(fn.prototype,"m_wiseAutoBtn",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ro=e(fn.prototype,"m_historyBtn",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mo=e(fn.prototype,"m_ratioBtn",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lo=e(fn.prototype,"m_BMMratioBtn",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_o=e(fn.prototype,"m_homeBtn",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uo=e(fn.prototype,"m_giftCodeBtn",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),po=e(fn.prototype,"m_notifyBtn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ho=e(fn.prototype,"m_stopRoundLabel",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),co=e(fn.prototype,"m_winLabel",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),So=e(fn.prototype,"m_netWinLabel",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bo=e(fn.prototype,"m_nowBetLabel",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bo=e(fn.prototype,"m_BMMnowBetLabel",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fo=e(fn.prototype,"m_APPnowBetLabel",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),go=e(fn.prototype,"m_balanceLabel",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Co=e(fn.prototype,"m_logIndex",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),To=e(fn.prototype,"m_version",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yo=e(fn.prototype,"m_timeLabel",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),No=e(fn.prototype,"m_timeLayoutNode",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Io=e(fn.prototype,"m_playTimeLabel",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ao=e(fn.prototype,"m_playTimeLayoutNode",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lo=e(fn.prototype,"m_platVerLabel",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Eo=e(fn.prototype,"m_marqueeNodeL",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vo=e(fn.prototype,"m_marqueeNodeS",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wo=e(fn.prototype,"m_lobbyMarqueeNode",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mo=e(fn.prototype,"m_betRootNode",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Po=e(fn.prototype,"m_betViewNode",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oo=e(fn.prototype,"m_extraBetView",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fo=e(fn.prototype,"m_autoplayMenuNode",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ro=e(fn.prototype,"m_commView",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Do=e(fn.prototype,"m_soundBtn",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ko=e(fn.prototype,"m_soundBtnSprite",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Uo=e(fn.prototype,"m_txt_blessing",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Go=e(fn.prototype,"m_img_win",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xo=e(fn.prototype,"m_fullScreenMask",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vo=e(fn.prototype,"m_webView",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ho=e(fn.prototype,"m_webViewCloseBtn",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wo=e(fn.prototype,"m_upBarNode",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zo=e(fn.prototype,"m_commAtlas",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ko=e(fn.prototype,"m_betBack",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yo=e(fn.prototype,"m_appBetBack",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qo=e(fn.prototype,"m_streetAtlas",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zo=e(fn.prototype,"m_logoSprite",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jo=e(fn.prototype,"m_logoSpriteStop",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xo=e(fn.prototype,"m_logoFreeSprite",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jo=e(fn.prototype,"m_logoFreeStopSprite",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qo=e(fn.prototype,"m_spinSprite",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$o=e(fn.prototype,"m_spinStopSprite",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ta=e(fn.prototype,"m_autoSprite",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ea=e(fn.prototype,"m_autoStopSprite",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ia=e(fn.prototype,"m_autoCountStopSprite",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),na=e(fn.prototype,"m_autoHintSprite",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oa=e(fn.prototype,"m_autoHintLabel",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),aa=e(fn.prototype,"m_autoHintEffect",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sa=e(fn.prototype,"m_speedHintLabel",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ra=e(fn.prototype,"m_winSprite",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ma=e(fn.prototype,"m_barWinLabel",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),la=e(fn.prototype,"m_balanceSprite",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_a=e(fn.prototype,"m_barBalanceLabel",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ua=e(fn.prototype,"m_barTrailBalanceLabel",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pa=e(fn.prototype,"m_vipBalanceSprite",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ha=e(fn.prototype,"m_vipBalanceLabel",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ca=e(fn.prototype,"m_betBtnPrefab",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sa=e(fn.prototype,"m_speedPanel",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ba=e(fn.prototype,"m_speedPanelLabel",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),da=e(fn.prototype,"m_webViewTitleSprite",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ba=e(fn.prototype,"m_marqueeBgL",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fa=e(fn.prototype,"m_marqueeBgS",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ga=e(fn.prototype,"m_marqueeMask",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ca=e(fn.prototype,"m_volatilityParent",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ta=e(fn.prototype,"m_floatView",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ya=e(fn.prototype,"m_vipSprite",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Na=e(fn.prototype,"m_vipSpriteFrames",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ia=e(fn.prototype,"m_appVipSpriteFrames",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Aa=e(fn.prototype,"m_jackPotBtn",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),La=e(fn.prototype,"m_mustHitByBtn",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ea=e(fn.prototype,"m_vipLockNode",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),va=e(fn.prototype,"m_vipHintNode",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wa=e(fn.prototype,"m_unLockVipNode",[Qi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ma=e(fn.prototype,"m_unlockVIPSprite",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pa=e(fn.prototype,"m_lockHintSprite",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oa=e(fn.prototype,"m_vipMaskNodes",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fa=e(fn.prototype,"m_levelBetLockRoot",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ra=e(fn.prototype,"m_betBtnMask",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Da=e(fn.prototype,"m_levelBetLocks",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ka=e(fn.prototype,"m_extraBtnNode",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ua=e(fn.prototype,"m_notifyRoot",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ga=e(fn.prototype,"m_playReadyPrefab",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xa=e(fn.prototype,"m_usingCard",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Va=e(fn.prototype,"m_freespinUseAniPrefab",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ha=e(fn.prototype,"m_freespinEndAniPrefab",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wa=e(fn.prototype,"m_freespinBetAniPrefab",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=e(fn.prototype,"m_freespinBtnEftPrefab",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ka=e(fn.prototype,"m_num_FreespinCounter",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ya=e(fn.prototype,"m_freeSpins_Gain",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qa=e(fn.prototype,"m_num_ItemCount",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Za=e(fn.prototype,"m_freeSpinSprite",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=fn))||bn));m._RF.pop()}}}));

System.register("chunks:///_virtual/BottombarView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BottombarManager.ts","./ConnectionManager.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.v3,r=t.sys},function(t){a=t.default},function(t){s=t.default},function(t){l=t.default}],execute:function(){var c;i._RF.push({},"75e66tRm/hDrpDpsz6U9BxH","BottombarView",void 0);var u=n.ccclass;n.property,t("default",u(c=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.AutoPlayPanelInit=function(e,i,n,a){var c=this;t.prototype.AutoPlayPanelInit.call(this,e,i,n,a);var u=l.UsingLogoSpriteFrame();if(u)this.m_webViewTitleSprite.spriteFrame=u,this.m_webViewTitleSprite.node.setScale(o(.5,.5,1)),this.m_webViewTitleSprite.enabled=!0;else{var p=function(t){var e=t[i];if(e&&!r.isNative){var n=window.location.href;n=n.slice(0,n.search(/\.com/g)+4)+"/smallicon/",c.m_webViewTitleSprite.enabled=!1,c.LoadTitle(n+e)}},f=s.getInstance().GetApiId2TitleName((function(t){t&&p(t)}));f&&p(f)}},i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/BottombarView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BottombarManager.ts","./ConnectionManager.ts"],(function(t){"use strict";var e,o,n,i,s,a,r,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.v3,i=t._decorator,s=t.UITransform,a=t.Size,r=t.sys},function(t){c=t.default},function(t){h=t.default}],execute:function(){var m;o._RF.push({},"9527bH7nw1HUrTBlzpDGpVk","BottombarView2",void 0);var l=n(0,2),d=i.ccclass;i.property,t("default",d(m=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.AutoPlayPanelInit=function(e,o,n,i){var s=this;t.prototype.AutoPlayPanelInit.call(this,e,o,n,i);var a=function(t){var e=t[o];if(e&&!r.isNative){var n=window.location.href;n=n.slice(0,n.search(/\.com/g)+4)+"/smallicon/",s.m_webViewTitleSprite.enabled=!1,s.LoadTitle(n+e)}},c=h.getInstance().GetApiId2TitleName((function(t){t&&a(t)}));c&&a(c)},n.CreateNormalBetBtns=function(e){void 0===e&&(e=!0),t.prototype.CreateNormalBetBtns.call(this,e);for(var o=0;o<this.m_betBtns.length;o++)this.m_betBtns[o].node.getChildByName("selected").active=!1;this.m_betBtns[this.m_betIndex].node.getChildByName(c.UIName.SELECTED).active=!0;var n=0,i=0;for(o=0;o<this.m_betLayoutNodes.length;o++)this.m_betLayoutNodes[o].setPosition(l),n+=this.m_betLayoutNodes[o].getComponent(s).contentSize.width,i=this.m_betLayoutNodes[o].getComponent(s).contentSize.height;this.m_betViewNode.getComponent(s).setContentSize(new a(n,i+4)),this.m_betViewNode.active=e},n.CreateTrialBetBtns=function(t){void 0===t&&(t=!0);for(var e=0;e<this.m_betBtns.length;e++)this.m_betBtns[e].node.getChildByName("selected").active=!1;this.m_betBtns[this.m_betIndex].node.getChildByName(c.UIName.SELECTED).active=!0;var o=0,n=0;for(e=0;e<this.m_betLayoutNodes.length;e++)this.m_betLayoutNodes[e].setPosition(l),o+=this.m_betLayoutNodes[e].getComponent(s).contentSize.width,n=this.m_betLayoutNodes[e].getComponent(s).contentSize.height;this.m_betViewNode.getComponent(s).setContentSize(new a(o,n+4)),this.m_betViewNode.active=t},o}(c))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/BottombarViewbc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BottombarManager.ts","./ConnectionManager.ts","./Tools.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,c,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.v3,s=e.UITransform,a=e.size,r=e.sys},function(e){c=e.default},function(e){l=e.default},function(e){u=e.default}],execute:function(){var p;i._RF.push({},"ae5c5LObT9FVI/ssC5M8qLC","BottombarViewbc",void 0);var m=n.ccclass;n.property,e("default",m(p=function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var n=i.prototype;return n.AutoPlayPanelInit=function(t,i,n,s){var a=this;e.prototype.AutoPlayPanelInit.call(this,t,i,n,s);var c=u.UsingLogoSpriteFrame();if(c)this.m_webViewTitleSprite.spriteFrame=c,this.m_webViewTitleSprite.node.setScale(o(.5,.5)),this.m_webViewTitleSprite.enabled=!0;else{var p=function(e){var t=e[i];if(t&&!r.isNative){var n=window.location.href;n=n.slice(0,n.search(/\.com/g)+4)+"/smallicon/",a.m_webViewTitleSprite.enabled=!1,a.LoadTitle(n+t)}},m=l.getInstance().GetApiId2TitleName((function(e){e&&p(e)}));m&&p(m)}},n.ChangeWebViewSize=function(e){e?(this.m_webView.node.position=o(0,570),this.m_webView.node.getComponent(s).setContentSize(a(1137,570)),this.m_upBarNode.active=!0):(this.m_webView.node.position=o(0,1066),this.m_webView.node.getComponent(s).setContentSize(a(640,1066)),this.m_upBarNode.active=!0)},i}(c))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/BuffManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./EnvironmentConfig.ts","./gaiaProto.mjs_cjs=&original=.js","./DataStruct.ts","./ConnectManager.ts","./Wallet.ts","./GaiaManager.ts","./buffproto.mjs_cjs=&original=.js","./Tools.ts","./AppManager.ts","./AutoShowManager.ts","./gaiaProto.js","./buffproto.js"],(function(t){"use strict";var e,f,i,n,o,u,r,a,s,c,m,h,l,B;return{setters:[function(t){e=t.inheritsLoose,f=t.createClass},function(t){i=t.cclegacy},function(t){n=t.default},function(t){o=t.default},null,function(t){u=t.ConnectionDataStruct},function(t){r=t.default},function(t){a=t.walletManger},function(t){s=t.gaiaManager},null,function(t){c=t.default},function(t){m=t.default},function(t){h=t.default},function(t){l=t.default},function(t){B=t.default}],execute:function(){i._RF.push({},"bb20ap3WvNKxrTO3fUFC0LK","BuffManager",void 0);var _=function(t){function f(){var e;return(e=t.call(this)||this).method=u.RequestMethod.Post,e.url="/buff/GetBackProto",e.reqData=null,e}return e(f,t),f}(u.ProtocolData),d=function(t){function f(){var e;return(e=t.call(this)||this).method=u.RequestMethod.Post,e.url="/buff/GetNowProto",e.reqData=null,e}return e(f,t),f}(u.ProtocolData),P=function(t){function f(){var e;return(e=t.call(this)||this).method=u.RequestMethod.Post,e.url="/buff/UseBuffProto",e.reqData=null,e}return e(f,t),f}(u.ProtocolData),b=function(t){function f(){var e;return(e=t.call(this)||this).method=u.RequestMethod.Post,e.url="/buff/GetParamProto",e.reqData=null,e}return e(f,t),f}(u.ProtocolData),p=0,g=t("BUFF_TYPE",{CoinBoost:1,PiggyBankBoost:2,GachaTicket:3,VipPrivilege:4,LevelBoost:5,ScoreBoost:6,RankBoost:7,LuckyWheel:8,PrizeUp:51,ExtraBet:52,FreeSpin:53});t("default",function(){function t(){this.m_buffCardDatas=[],this.m_buffNowInfo=[],this.m_useBuffInfo={Result:0,State:0,Info:null},this.m_buffNodePool=new Array,this.m_poolTags=[],this.m_isExtraBetBuff=!1,this.m_isFreeSpinBuff=!1,this.m_isPrizeUpBuff=!1,this.m_buffActavateCb=null,this.m_buffEndCb=null,this.m_instantBuff=null,this.m_firstInGame=!0,this.m_buffTimeUpTemp=!1,this.m_activatingBuffIdx=null,this.m_scheduler=null,this.m_isRunning=!1,this.m_isFirstGetBuffInfo=!1}t.GetInstance=function(){return this._instance||(this._instance=new t),this._instance},t.OnExit=function(){delete this._instance,this._instance=null};var e=t.prototype;return e.Init=function(t,e,f){var i=this;if(c.IsTadaCasino)if(o.ENV_TYPE===n.EVN.TEST);else{m.InitBuffSystem((function(){var t=new l.gaiaProto.BuffBackReq;t.aid=Number(n.APP.GetAID()),t.token=n.APP.GetAToken(),t.apiid=Number(n.APP.GetApiID()),t.lang=0;var e=new _;return e.reqData=l.gaiaProto.BuffBackReq.encode(t).finish(),new Promise((function(t){r.GetInstance().SendCommand(e,(function(e){s.CheckAck(e,(function(e,f,i){var n=B.buffProto.GetPlayerBackAck.decode(f);console.error("●●●●● GetBuffBack",JSON.stringify(n)),t(n)}))}),!1,!0)}))}),(function(){var t=new l.gaiaProto.BuffNowReq;t.aid=Number(n.APP.GetAID()),t.token=n.APP.GetAToken(),t.apiid=Number(n.APP.GetApiID()),t.gameid=Number(n.NOW_GAME_ID);var e=new d;return e.reqData=l.gaiaProto.BuffNowReq.encode(t).finish(),new Promise((function(t){r.GetInstance().SendCommand(e,(function(e){s.CheckAck(e,(function(e,f){var n=B.buffProto.GetPlayerBuffAck.decode(f);i.m_buffNowInfo=n.List?n.List:[],i.m_isFirstGetBuffInfo=!0,console.error("▶▶▶▶▶ GetBuffNow",JSON.stringify(i.m_buffNowInfo)),t(n)}))}),!1,!0)}))}),(function(t,e){var f=new l.gaiaProto.BuffUseReq;f.aid=Number(n.APP.GetAID()),f.token=n.APP.GetAToken(),f.apiid=Number(n.APP.GetApiID()),f.gameid=Number(n.NOW_GAME_ID),a.HasWallet&&(f.currency=a.CurencyID),f.buffid=t,f.buffidx=e;var o=new P;return o.reqData=l.gaiaProto.BuffUseReq.encode(f).finish(),new Promise((function(f){r.GetInstance().SendCommand(o,(function(n){s.CheckAck(n,(function(n,o){var u=B.buffProto.UsePlayerBuffAck.decode(o);console.error("▶▶▶▶▶ UseBuff",t.toString(),e.toString(),JSON.stringify(u)),i.m_useBuffInfo=u,i.OnRecvAck(u,e),f(u)}))}),!1,!0)}))}),(function(t){var e=new l.gaiaProto.BuffParamReq;e.aid=Number(n.APP.GetAID()),e.token=n.APP.GetAToken(),e.idlist=t;var f=new b;return f.reqData=l.gaiaProto.BuffParamReq.encode(e).finish(),new Promise((function(t){r.GetInstance().SendCommand(f,(function(e){s.CheckAck(e,(function(e,f){var i=B.buffProto.GetSettingParamAck.decode(f).Info;console.error("▶▶▶▶▶ GetBuffInfoList",JSON.stringify(i)),t(i)}))}),!1,!0)}))})),this.m_scheduler=t,this.m_buffActavateCb=e,this.m_buffEndCb=f,this.m_instantBuff=function(){h.GetInstance().IsIntorViewOpen||i.m_isExtraBetBuff||i.m_isPrizeUpBuff||i.m_isFreeSpinBuff||m.ShowReward((function(){}))}}},e.CheckInstantBuff=function(t){c.IsTadaCasino&&(t?this.m_scheduler.schedule(this.m_instantBuff,.5):(console.error("★★★★★ unschedule"),this.m_scheduler.unschedule(this.m_instantBuff)))},e.OnRecvAck=function(t,e){if(t.State==p){var f=null,i=null,n=t.Info,o=!1;switch(n.BuffType){case g.ExtraBet:this.m_isExtraBetBuff=!0,console.error("♥♥♥♥♥ ExtraBet Buff Activate");break;case g.FreeSpin:this.m_isFreeSpinBuff=!0,f=n.Param1,i=n.Param2,this.m_activatingBuffIdx=e,console.error("♣♣♣♣♣ FreeSpin Buff Activate");break;case g.PrizeUp:this.m_isPrizeUpBuff=!0,f=n.Param1,i=n.Param2,this.m_activatingBuffIdx=e,console.error("♠♠♠♠♠ PrizeUp Buff Activate");break;default:o=!0,console.error("♦♦♦♦♦ Lobby Buff Activate => type:",n.BuffType)}o||this.m_buffActavateCb(f,i)}else console.error("✖✖✖✖✖ UseBuff Sometinig Wrong => type:",t.State),this.m_buffActavateCb()},e.FirstActivateBuff=function(t){if(this.m_firstInGame)if(this.m_firstInGame=!1,this.m_buffNowInfo.length>0){for(var e=Date.now(),f=0,i=0,n=0;n<this.m_buffNowInfo.length;n++){var o=this.m_buffNowInfo[n].BuffType;if(o==g.ExtraBet||o==g.FreeSpin||o==g.PrizeUp){var u=1e3*Number(this.m_buffNowInfo[n].BeginTime),r=1e3*Number(this.m_buffNowInfo[n].EndTime);if(e<r&&e>=u)switch(console.error("Buff Activate type:",o,e,r),o){case g.ExtraBet:this.m_isExtraBetBuff=!0;break;case g.FreeSpin:this.m_isFreeSpinBuff=!0,f=this.m_buffNowInfo[n].Param1,i=this.m_buffNowInfo[n].Param2,this.m_activatingBuffIdx=this.m_buffNowInfo[n].BuffIndex;break;case g.PrizeUp:this.m_isPrizeUpBuff=!0,f=this.m_buffNowInfo[n].Param1,i=this.m_buffNowInfo[n].Param2,this.m_activatingBuffIdx=this.m_buffNowInfo[n].BuffIndex}}}this.m_isExtraBetBuff||this.m_isFreeSpinBuff||this.m_isPrizeUpBuff?this.m_buffActavateCb&&this.m_buffActavateCb(f,i):t()}else t()},e.GetBuffNode=function(t){for(var e=-1,f=0;f<this.m_poolTags.length;f++)if(this.m_poolTags[f]==t){e=f;break}return e>=0?this.m_buffNodePool[e].pop():null},e.ReturnBuffNode=function(t,e){for(var f=-1,i=0;i<this.m_poolTags.length;i++)if(this.m_poolTags[i]==e){f=i;break}if(f>=0)this.m_buffNodePool[f].push(t);else{this.m_poolTags.push(e);this.m_buffNodePool.push([]),this.m_buffNodePool[this.m_poolTags.length-1].push(t)}},e.SetBuffEnd=function(){this.m_activatingBuffIdx&&m.ForceBuffEnd(this.m_activatingBuffIdx),this.m_buffTimeUpTemp=!1,this.m_isExtraBetBuff=!1,this.m_isFreeSpinBuff=!1,this.m_isPrizeUpBuff=!1,this.m_activatingBuffIdx=null},e.BuffTimer=function(t){var e=Date.now();if(this.m_buffNowInfo.length>0)for(var f=0;f<this.m_buffNowInfo.length;f++){var i=this.m_buffNowInfo[f].BuffType;if(i==g.ExtraBet&&this.m_isExtraBetBuff||i==g.FreeSpin&&this.m_isFreeSpinBuff||i==g.PrizeUp&&this.m_isPrizeUpBuff){var n=1e3*Number(this.m_buffNowInfo[f].EndTime);e>=n&&(console.error("Buff End type:",i,e,n),this.m_buffEndCb&&this.m_buffEndCb())}}},f(t,[{key:"BuffCardDatas",get:function(){return this.m_buffCardDatas},set:function(t){this.m_buffCardDatas=t}},{key:"IsExtraBetBuff",get:function(){return this.m_isExtraBetBuff}},{key:"IsFreeSpinBuff",get:function(){return this.m_isFreeSpinBuff}},{key:"IsPrizeUpBuff",get:function(){return this.m_isPrizeUpBuff}},{key:"BuffTimeUpTemp",get:function(){return this.m_buffTimeUpTemp},set:function(t){this.m_buffTimeUpTemp=t}},{key:"ActivatingBuffIdx",get:function(){return this.m_activatingBuffIdx}},{key:"IsFirstGetBuffInfo",get:function(){return this.m_isFirstGetBuffInfo}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/BuyBonusBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,c=t.Sprite,l=t.Component}],execute:function(){var s,a,p,y;o._RF.push({},"3659cv2X/JLQowu/TE9B+1+","BuyBonusBtn",void 0);var f=u.ccclass,B=u.property;t("default",(s=B({type:c,tooltip:"BuyBonus title"}),f((y=e((p=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,i(e,"m_title",y,n(e)),e}return r(e,t),e.prototype.SetTxt=function(t){t&&this.m_title&&(this.m_title.spriteFrame=t.getSpriteFrame("BuyBonus_IconName"))},e}(l)).prototype,"m_title",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=p))||a));o._RF.pop()}}}));

System.register("chunks:///_virtual/BuyBonusManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./ConnectManager.ts","./gaiaProto.mjs_cjs=&original=.js","./GaiaManager.ts","./ManagerDataStructure.ts","./gaiaProto.js"],(function(n){"use strict";var t,u,e,i,o,s,a;return{setters:[function(n){t=n.createClass},function(n){u=n.cclegacy},function(n){e=n.default},function(n){i=n.default},null,function(n){o=n.gaiaManager},function(n){s=n.ManagerDataStructure},function(n){a=n.default}],execute:function(){u._RF.push({},"bb16cc1hm9DkYd7oJBvwVV2","BuyBonusManager",void 0);var c=36;n("buyBonusManager",new(function(){function n(){this.m_buyBonus=null,this.m_needButBonus=-1,this.m_createViewCb=null}var u=n.prototype;return u.OnLoad=function(n){this.m_buyBonus=n},u.OnDestroy=function(){this.m_buyBonus=null},u.Init=function(n,t,u,e,i){var o;null==(o=this.m_buyBonus)||o.Init(n,t,u,e,i)},u.NewInit=function(n,t,u,c){var r=this;if(void 0===u&&(u=!1),void 0===c&&(c=0),e.APP){var l=new a.gaiaProto.CheckMallReq;l.aid=Number(e.APP.GetAID()),l.apiid=Number(e.APP.GetApiID()),l.token=e.APP.GetAToken(),l.isvol=u,l.voltype=c;var B=new s.CheckMallReq;B.reqData=a.gaiaProto.CheckMallReq.encode(l).finish(),i.GetInstance().SendCommand(B,(function(u){o.CheckAck(u,(function(u,e){r.OnRecvAck(u,e,n,t)}))}),!1,!0)}},u.OnRecvAck=function(n,t,u,e){switch(n){case c:var i=a.gaiaProto.CheckMallAck.decode(t);i.Show?this.m_createViewCb(i.Settings,u,e):this.m_needButBonus=0}},u.Show=function(){var n;null==(n=this.m_buyBonus)||n.Show()},u.Hide=function(){var n;null==(n=this.m_buyBonus)||n.Hide()},u.SetSpriteAtlas=function(n,t){var u;null==(u=this.m_buyBonus)||u.SetSpriteAtlas(n,t)},u.SetTxt=function(){var n;null==(n=this.m_buyBonus)||n.SetTxt()},u.SetRemainTimes=function(){var n;null==(n=this.m_buyBonus)||n.SetRemainTimes()},u.CheckOverAni=function(){var n;null==(n=this.m_buyBonus)||n.CheckOverAni()},u.CloseMall=function(){var n;null==(n=this.m_buyBonus)||n.CloseMall()},u.ForceBuyBonusState=function(n){var t;null==(t=this.m_buyBonus)||t.ForceBuyBonusState(n)},u.OnRotation=function(n){var t;null==(t=this.m_buyBonus)||t.OnRotation(n)},t(n,[{key:"NeedButBonus",get:function(){return this.m_needButBonus},set:function(n){this.m_needButBonus=n}},{key:"CreateViewCb",set:function(n){this.m_createViewCb=n}},{key:"IsBuyBonus",get:function(){return!!this.m_buyBonus&&this.m_buyBonus.IsBuyBonus}},{key:"CanBuyBonus",set:function(n){this.m_buyBonus&&(this.m_buyBonus.CanBuyBonus=n)}},{key:"RemainTimes",get:function(){return this.m_buyBonus?this.m_buyBonus.RemainTimes:null}},{key:"MallId",get:function(){return this.m_buyBonus?this.m_buyBonus.MallId:null}},{key:"MallBet",get:function(){return this.m_buyBonus?this.m_buyBonus.MallBet:null}},{key:"HasBuyBonus",get:function(){return!!this.m_buyBonus}}]),n}()));u._RF.pop()}}}));

System.register("chunks:///_virtual/BuyBonusView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./SoundManager.ts","./BottombarManager.ts","./Tools.ts","./MsgBox.ts","./NotificationManager.ts","./BackpackManager.ts","./BuyBonusManager.ts","./Wallet.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,m,l,u,_,c,b,h,p,B,y,f,S,d,T,g,x,L,I,w,O,N,G,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){m=t.cclegacy,l=t._decorator,u=t.Node,_=t.SpriteFrame,c=t.Button,b=t.Label,h=t.RichText,p=t.Sprite,B=t.UIRenderer,y=t.color,f=t.js,S=t.Animation,d=t.Component},function(t){T=t.default},function(t){g=t.default},function(t){x=t.default},function(t){L=t.default},function(t){I=t.default},function(t){w=t.default},function(t){O=t.default},function(t){N=t.backpackManager},function(t){G=t.buyBonusManager},function(t){E=t.walletManger}],execute:function(){var C,A,U,D,P,F,M,v,R,z,k,Y,K,V,H,X,Z,j,W,Q,q,J,$,tt,et,it,nt,ot,st,at,rt,mt,lt,ut,_t,ct,bt,ht,pt,Bt,yt,ft,St,dt,Tt,gt,xt,Lt,It,wt,Ot,Nt,Gt,Et,Ct,At,Ut,Dt,Pt,Ft,Mt,vt,Rt,zt,kt,Yt,Kt,Vt,Ht,Xt,Zt,jt;m._RF.push({},"9c707CnlLhHyIwOl6erQGx+","BuyBonusView",void 0);var Wt,Qt,qt,Jt=l.ccclass,$t=l.property;!function(t){t[t.BUY=0]="BUY"}(Wt||(Wt={})),function(t){t[t.START=0]="START",t[t.CANCEL=1]="CANCEL",t[t.END=2]="END"}(Qt||(Qt={})),function(t){t[t.FREE=0]="FREE",t[t.BONUS=1]="BONUS"}(qt||(qt={}));t("default",(C=$t({type:u,tooltip:"BuyBonus根節點"}),A=$t({type:u,tooltip:"背景遮罩"}),U=$t({type:_,tooltip:"內購智能訊息icon圖"}),D=$t({type:c,tooltip:"頁簽按鈕控制項"}),P=$t({type:b,tooltip:"頁簽按鈕標題"}),F=$t({type:u,tooltip:"頁簽按鈕選中控制項"}),M=$t({type:u,tooltip:"頁面"}),v=$t({type:c,tooltip:"頁面"}),R=$t({type:c,tooltip:"頁面"}),z=$t({type:c,tooltip:"切換購買選單(加)"}),k=$t({type:c,tooltip:"切換購買選單(減)"}),Y=$t({type:c,tooltip:"押注(加)"}),K=$t({type:c,tooltip:"押注(減)"}),V=$t({type:c,tooltip:"購買次數(加)"}),H=$t({type:c,tooltip:"購買次數(減)"}),X=$t({type:c,tooltip:"購買"}),Z=$t({type:c,tooltip:"說明"}),j=$t({type:b,tooltip:"說明文字"}),W=$t({type:u,tooltip:"說明頁面"}),Q=$t({type:b,tooltip:"押注"}),q=$t({type:b,tooltip:"購買次數"}),J=$t({type:h,tooltip:"金額"}),$=$t({type:h,tooltip:"一張卡價格"}),tt=$t({type:b,tooltip:"遊戲說明"}),et=$t({type:b,tooltip:"特殊遊戲"}),it=$t({type:p,tooltip:"特殊遊戲Icon"}),nt=$t({type:p,tooltip:"特殊遊戲文字"}),ot=$t({type:b,tooltip:"購買標題"}),st=$t({type:b,tooltip:"特色標題"}),at=$t({type:b,tooltip:"押注標題"}),rt=$t({type:b,tooltip:"購買次數標題"}),mt=$t({type:b,tooltip:"金額標題"}),lt=$t({type:b,tooltip:"總金額標題"}),ut=$t({type:b,tooltip:"購買並使用"}),_t=$t({type:p,tooltip:"付費遊戲 Txt"}),Jt((ht=e((bt=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"m_buyBonusRoot",ht,o(e)),n(e,"m_mask",pt,o(e)),n(e,"m_icon",Bt,o(e)),n(e,"m_pageBtn",yt,o(e)),n(e,"m_pageBtnText",ft,o(e)),n(e,"m_pageBtnSelected",St,o(e)),n(e,"m_page",dt,o(e)),n(e,"m_closeBtn",Tt,o(e)),n(e,"m_maskBtn",gt,o(e)),n(e,"m_listNext",xt,o(e)),n(e,"m_listBack",Lt,o(e)),n(e,"m_betAdd",It,o(e)),n(e,"m_betMinus",wt,o(e)),n(e,"m_timesAdd",Ot,o(e)),n(e,"m_timesMinus",Nt,o(e)),n(e,"m_buyBtn",Gt,o(e)),n(e,"m_explainBtn",Et,o(e)),n(e,"m_explainTxt",Ct,o(e)),n(e,"m_explainPage",At,o(e)),n(e,"m_betLabel",Ut,o(e)),n(e,"m_timesLabel",Dt,o(e)),n(e,"m_priceLabel",Pt,o(e)),n(e,"m_betPriceLabel",Ft,o(e)),n(e,"m_specialGameExpLabel",Mt,o(e)),n(e,"m_specialGameLabel",vt,o(e)),n(e,"m_specialGameIcon",Rt,o(e)),n(e,"m_specialGameTxt",zt,o(e)),n(e,"m_buyTitleTxt",kt,o(e)),n(e,"m_featureTitleTxt",Yt,o(e)),n(e,"m_betLabelTxt",Kt,o(e)),n(e,"m_timesLabelTxt",Vt,o(e)),n(e,"m_priceLabelTxt",Ht,o(e)),n(e,"m_totalPriceLabelTxt",Xt,o(e)),n(e,"m_buyAndUseTxt",Zt,o(e)),n(e,"m_buyBonusTxt",jt,o(e)),e.m_bottomBar=null,e.m_buttonState=new Array,e.m_buyList=new Array,e.m_buyListIndex=0,e.m_betIndex=0,e.m_betIndexMax=0,e.m_countIndexMax=99,e.m_count=1,e.m_currentTouchName=null,e.m_eventButtonCb=[[null,null,null],[null,null,function(){e.Hide()}],[null,null,function(){e.Hide()}],[null,null,function(){e.SwitchList(!0)}],[null,null,function(){e.SwitchList(!1)}],[null,null,function(){e.AddBet(!0)}],[null,null,function(){e.AddBet(!1)}],[null,null,function(){e.AddTimes(!0)}],[null,null,function(){e.AddTimes(!1)}],[null,null,function(){e.Confirm()}],[null,null,function(){e.SetExplainView()}]],e.m_isBuyBonus=!1,e.m_canBuyBonus=!1,e.m_remainTimes=0,e.m_mallId=0,e.m_priceOdd=0,e.m_spriteAtlas=null,e.m_buyFGTxt=null,e.m_startCb=null,e.m_endCb=null,e.m_origBet=0,e}i(e,t);var m=e.prototype;return m.onLoad=function(){var t=this;G.OnLoad(this),this.m_pageBtn[Wt.BUY]&&(this.m_pageBtn[Wt.BUY].interactable=!1,this.m_pageBtnText[Wt.BUY].node.getComponent(B).color=y(36,30,8));for(var e=[this.m_pageBtn[Wt.BUY],this.m_closeBtn,this.m_maskBtn,this.m_listNext,this.m_listBack,this.m_betAdd,this.m_betMinus,this.m_timesAdd,this.m_timesMinus,this.m_buyBtn,this.m_explainBtn],i=0;i<e.length;i++)e[i]&&this.SetEventListener(e[i],this.m_eventButtonCb[i]);this.m_mask&&this.m_mask.on(u.EventType.TOUCH_START,(function(e){t.m_explainPage||t.m_bottomBar.BottomBarManager.CloseCommonText()})),this.Hide(),this.m_betPriceLabel.fontFamily=g.DollarFontFamily},m.start=function(){},m.update=function(t){},m.Init=function(t,e,i,n,o){this.m_bottomBar=t,I.CheckSwitchOff(g.SwitchOffKeyDefine.CloseBuyBonusInfo)&&(this.m_explainBtn.node.active=!1);for(var s=0;s<e.length;s++)this.m_buyList[s]=e[s],this.SetBetVec(this.m_buyList[s],e[s].MaxBet);this.m_buyList.length<=1&&(this.m_listNext.node.active=!1,this.m_listBack.node.active=!1),this.m_spriteAtlas=o,this.m_startCb=i,this.m_endCb=n,this.SetBetIndexMax(this.m_buyList[this.m_buyListIndex].BetVec.length-1),this.SetTimes(),this.SetBet(),this.SetPriceOdd(),this.SetTxt(),this.SetSpecialGameIcon(),this.SetSpecialGameTimesInfo(),O.GetInstance().UpdateBuyBonusNotify(this.m_icon)},m.SetBetVec=function(t,e){for(var i=I.times(e,E.Ratio),n=E.RawBetList.length,o=E.RawBetList.length-1;o>=0;o--)if(E.RawBetList[o]>i)n=o;else if(E.RawBetList[o]<=i)break;t.BetVec=E.RawBetList.slice(0,n)},m.SetEventListener=function(t,e){var i=this;t.node.on(u.EventType.TOUCH_START,(function(n){n.propagationImmediateStopped=!0,n.propagationStopped=!0,(null==i.m_currentTouchName&&t.interactable||n.target&&0==n.target.active)&&(i.m_currentTouchName=n.target.name),e[Qt.START]&&e[Qt.START](),x.getInstance().Play(g.AudioClips.COMMON_BTN)})),t.node.on(u.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null),e[Qt.CANCEL]&&e[Qt.CANCEL]()})),t.node.on(u.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,e[Qt.END]&&e[Qt.END]())}))},m.SetExplainView=function(){if(this.m_explainPage)this.m_explainPage.active=!this.m_explainPage.active;else{var t=T.GetInstance().GetString(g.StringKey.BUY_BONUS_BUY),e=T.GetInstance().GetString(g.StringKey.BUY_BONUS_ITEM_EXPLAIN);this.m_bottomBar.BottomBarManager.OpenCommonText(t,e)}},m.ShowFeatures=function(){this.m_bottomBar.ShowFeatures()},m.SetBetIndexMax=function(t){this.m_betIndexMax=t},m.SwitchList=function(t){this.m_buyListIndex>=this.m_buyList.length-1&&t||this.m_buyListIndex<1&&!t||(this.m_buyListIndex=this.m_buyListIndex+(t?1:-1),this.SetPriceOdd(),this.SetBetIndexMax(this.m_buyList[this.m_buyListIndex].BetVec.length-1),this.SetTimes(),this.SetBet(),this.SetSpecialGameTimesInfo(),this.SetSpecialGameIcon())},m.AddBet=function(t){this.m_betIndex>=this.m_betIndexMax&&t||this.m_betIndex<=0&&!t||(this.m_betIndex=this.m_betIndex+(t?1:-1),this.SetBet())},m.AddTimes=function(t){this.m_count>=this.m_countIndexMax&&t||this.m_count<=1&&!t||(this.m_count=this.m_count+(t?1:-1),this.SetTimes())},m.SetTimes=function(){this.m_timesLabel.string=I.FormatNumberThousands(this.m_count),this.SetPriceOdd()},m.SetSpecialGameTimesInfo=function(){var t=this.m_buyList[this.m_buyListIndex].DescRounds,e=this.m_buyList[this.m_buyListIndex].DescType;0!=t?e==qt.FREE?this.m_specialGameLabel&&(this.m_specialGameLabel.string=f.formatStr(T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_FREE),t),this.m_specialGameLabel.font||(this.m_specialGameLabel.font=g.DefaultFont)):e==qt.BONUS&&this.m_specialGameLabel&&(this.m_specialGameLabel.string=f.formatStr(T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_BONUS),t),this.m_specialGameLabel.font||(this.m_specialGameLabel.font=g.DefaultFont)):this.m_specialGameLabel&&(this.m_specialGameLabel.string="")},m.SetSpecialGameIcon=function(){if(this.m_spriteAtlas&&this.m_buyList[this.m_buyListIndex]){var t=this.m_buyList[this.m_buyListIndex].DescType;this.m_spriteAtlas.getSpriteFrame("Buy_FG_Icon0"+(t+1))?this.m_specialGameIcon.spriteFrame=this.m_spriteAtlas.getSpriteFrame("Buy_FG_Icon0"+(t+1)):this.m_spriteAtlas.getSpriteFrame("Txt_FG")&&(this.m_specialGameTxt.spriteFrame=this.m_spriteAtlas.getSpriteFrame("Txt_FG"))}},m.SetBet=function(){var t=this.m_bottomBar.GetDisplayValue(this.m_buyList[this.m_buyListIndex].BetVec[this.m_betIndex]);this.m_betLabel.string=I.FormatNumberThousands(t,I.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),this.m_betPriceLabel.string=I.FormatNumberThousands(I.times(t,this.m_buyList[this.m_buyListIndex].PriceOdd),I.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO,!0,2),I.CheckSwitchOff(g.SwitchOffKeyDefine.CurrencySymbol)&&Number(g.API_ID)!=g.MGAApi||""==g.DollarSymbol||(this.m_betPriceLabel.string="<p>"+g.DollarSymbol+" </p>"+this.m_betPriceLabel.string),this.SetPriceOdd()},m.SetPriceOdd=function(){this.m_priceLabel.string=I.FormatNumberThousands(this.m_bottomBar.GetDisplayValue(this.TotalPrice()),I.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO,!0,2),I.CheckSwitchOff(g.SwitchOffKeyDefine.CurrencySymbol)&&Number(g.API_ID)!=g.MGAApi||""==g.DollarSymbol||(this.m_priceLabel.string="<p>"+g.DollarSymbol+" </p>"+this.m_priceLabel.string),this.m_priceLabel.fontFamily=g.DollarFontFamily},m.TotalPrice=function(){return I.times(this.m_count,I.times(this.m_buyList[this.m_buyListIndex].PriceOdd,this.m_buyList[this.m_buyListIndex].BetVec[this.m_betIndex]))},m.Confirm=function(){if(this.m_canBuyBonus)if(this.m_bottomBar.GetChips()>=this.TotalPrice()){this.m_origBet=this.m_bottomBar.GetNowBetValue(),this.m_remainTimes=this.m_count,this.m_bottomBar.SetUsingBuyBonus(!0,this.m_buyList[this.m_buyListIndex].DescType),this.m_bottomBar.BuyBonusRemainTimes=this.m_remainTimes,this.m_mallId=this.m_buyList[this.m_buyListIndex].AlterID,this.m_priceOdd=this.m_buyList[this.m_buyListIndex].PriceOdd,this.m_bottomBar.SetNowBet(this.m_buyList[this.m_buyListIndex].BetVec[this.m_betIndex],!1,!0),this.m_isBuyBonus=!0,this.Hide();var t=this.m_bottomBar.getComponent(L);t.SetGiftCodeBtnState(),g.SetCanUseItemCard(!1),this.m_bottomBar.SetBetDescribe(!0),this.m_startCb&&(t.SendSpinLog(),this.m_startCb())}else w.getInstance().ShowMessageBox(g.StringKey.BUY_BONUS_MSG_MONEY_NOT_ENOUGH);else w.getInstance().ShowMessageBox(g.StringKey.TRIAL_REFUSED_REASON+"1",g.StringKey.MSGBOX_TITLE_SYSTEM_INFO)},m.ForceBuyBonusState=function(t){if(this.m_origBet=this.m_bottomBar.GetNowBetValue(),this.m_count=1,this.m_remainTimes=this.m_count-1,this.m_bottomBar.SetUsingBuyBonus(!0,this.m_buyList[this.m_buyListIndex].DescType),this.m_bottomBar.BuyBonusRemainTimes=this.m_remainTimes,this.m_mallId=this.m_buyList[this.m_buyListIndex].AlterID,this.m_priceOdd=this.m_buyList[this.m_buyListIndex].PriceOdd,this.m_bottomBar.SetNowBet(t,!1,!0),this.m_isBuyBonus=!0,this.Hide(),g.SetCanUseItemCard(!1),this.m_bottomBar.SetBetDescribe(!0),I.CheckSwitchOff(g.SwitchOffKeyDefine.ShowBuyBonusBetInfo)&&this.m_bottomBar.BuyBonusPriceRoot){var e=I.times(this.m_buyList[this.m_buyListIndex].PriceOdd,t);this.m_bottomBar.BuyBonusPriceRoot.active=!0,this.m_bottomBar.CumulativePaid=e,this.m_bottomBar.BuyBonusNumPrice=e,this.m_bottomBar.BuyBonusCumulativePrice=e}},m.Show=function(){console.error("buybonus show",this.m_isBuyBonus,this.m_bottomBar.IsInTrial,N.OnUseItemID,this.m_canBuyBonus),this.m_isBuyBonus||this.m_bottomBar.IsInTrial||N.OnUseItemID||!this.m_canBuyBonus?w.getInstance().ShowMessageBox(g.StringKey.TRIAL_REFUSED_REASON+"1",g.StringKey.MSGBOX_TITLE_SYSTEM_INFO):(this.node.active=!0,this.m_bottomBar.SendClickEvent(g.BTN_CLICK_EVENT.BUY_BONUS,0))},m.Hide=function(){this.node.active=!1},m.SetSpriteAtlas=function(t,e){void 0===e&&(e=null),this.m_spriteAtlas=t,this.m_buyFGTxt=e,this.SetTxt(),this.SetSpecialGameIcon()},m.SetTxt=function(){var t;this.m_buyTitleTxt&&(this.m_buyTitleTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_BUY),this.m_buyTitleTxt.font||(this.m_buyTitleTxt.font=g.DefaultFont)),this.m_specialGameExpLabel.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_BUY_NOW),this.m_specialGameExpLabel.font||(this.m_specialGameExpLabel.font=g.DefaultFont);var e=null!=(t=g.GameSwitchOff)&&t.IsSSS?g.StringKey.BUY_BONUS_DES_PLAY:g.StringKey.BUY_BONUS_DES_BET;this.m_betLabelTxt.string=T.GetInstance().GetString(e);var i="";I.CheckSwitchOff(g.SwitchOffKeyDefine.CurrencySymbol)&&Number(g.API_ID)!=g.MGAApi||""==g.DollarSymbol||(i="("+g.DollarSymbol+")"),this.m_betLabelTxt.string=f.formatStr(this.m_betLabelTxt.string,i),this.m_betLabelTxt.font||I.SetFont(this.m_betLabelTxt),this.m_timesLabelTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_TIMES),this.m_timesLabelTxt.font||I.SetFont(this.m_timesLabelTxt),this.m_priceLabelTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_COST),this.m_priceLabelTxt.font||I.SetFont(this.m_priceLabelTxt),this.m_totalPriceLabelTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_DES_TOTAL_PRICE),this.m_totalPriceLabelTxt.font||I.SetFont(this.m_totalPriceLabelTxt),this.m_buyAndUseTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_BUY_AND_PLAY),this.m_buyAndUseTxt.font||I.SetFont(this.m_buyAndUseTxt),this.m_explainTxt&&(this.m_explainTxt.string=T.GetInstance().GetString(g.StringKey.BUY_BONUS_ITEM_EXPLAIN),this.m_explainTxt.font||(this.m_explainTxt.font=g.DefaultFont)),this.m_buyFGTxt?this.m_buyBonusTxt.spriteFrame=this.m_buyFGTxt:this.m_spriteAtlas&&(this.m_buyBonusTxt.spriteFrame=this.m_spriteAtlas.getSpriteFrame("BuyBonus_Title")),I.SetFont(this.m_betLabel),I.SetFont(this.m_timesLabel),I.SetFont(this.m_priceLabel),I.SetFont(this.m_betPriceLabel)},m.OnRotation=function(t){var e=this.node.active;this.node.active=!0,t?this.m_buyBonusRoot.getComponent(S).play("Clip_BuyBonus_Landscape"):this.m_buyBonusRoot.getComponent(S).play("Clip_BuyBonus_Portrait"),this.node.active=e},m.SetRemainTimes=function(){if(this.m_remainTimes--,this.m_bottomBar.SetChips(this.m_bottomBar.GetChips()-this.MallBet),this.m_bottomBar.BottomBarManager.SetNetBet(this.MallBet),this.m_bottomBar.BuyBonusRemainTimes=this.m_remainTimes,I.CheckSwitchOff(g.SwitchOffKeyDefine.ShowBuyBonusBetInfo)&&this.m_bottomBar.BuyBonusPriceRoot){this.m_bottomBar.BuyBonusPriceRoot.active=!0;var t=I.times(this.m_buyList[this.m_buyListIndex].PriceOdd,this.m_buyList[this.m_buyListIndex].BetVec[this.m_betIndex]);this.m_bottomBar.CumulativePaid=this.m_bottomBar.CumulativePaid+t,this.m_bottomBar.BuyBonusNumPrice=t,this.m_bottomBar.BuyBonusCumulativePrice=this.m_bottomBar.CumulativePaid}},m.CheckOverAni=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.m_remainTimes){t.next=6;break}I.CheckSwitchOff(g.SwitchOffKeyDefine.ShowBuyBonusBetInfo)&&this.m_bottomBar.BuyBonusPriceRoot&&(this.m_bottomBar.BuyBonusPriceRoot.active=!1),this.m_bottomBar.SetNowBet(this.m_origBet),this.CloseMall(),t.next=8;break;case 6:if(I.CheckSwitchOff(g.SwitchOffKeyDefine.ShowBuyBonusBetInfo)){t.next=8;break}return t.abrupt("return");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.CloseMall=function(){this.m_bottomBar.CumulativePaid=0,this.m_isBuyBonus=!1,this.m_canBuyBonus=!0,g.SetCanUseItemCard(!0),this.m_bottomBar.SetBetDescribe(!1),this.m_bottomBar.SetUsingBuyBonus(!1,this.m_buyList[this.m_buyListIndex].DescType),this.Hide(),this.m_endCb&&this.m_endCb()},s(e,[{key:"IsBuyBonus",get:function(){return this.m_isBuyBonus}},{key:"CanBuyBonus",set:function(t){this.m_canBuyBonus=t}},{key:"RemainTimes",get:function(){return this.m_remainTimes}},{key:"MallId",get:function(){return this.m_mallId}},{key:"MallBet",get:function(){return this.m_priceOdd*this.m_bottomBar.GetNowBetValue()}}]),e}(d)).prototype,"m_buyBonusRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(bt.prototype,"m_mask",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(bt.prototype,"m_icon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(bt.prototype,"m_pageBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=e(bt.prototype,"m_pageBtnText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=e(bt.prototype,"m_pageBtnSelected",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=e(bt.prototype,"m_page",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(bt.prototype,"m_closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(bt.prototype,"m_maskBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(bt.prototype,"m_listNext",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(bt.prototype,"m_listBack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(bt.prototype,"m_betAdd",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(bt.prototype,"m_betMinus",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(bt.prototype,"m_timesAdd",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(bt.prototype,"m_timesMinus",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(bt.prototype,"m_buyBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(bt.prototype,"m_explainBtn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(bt.prototype,"m_explainTxt",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(bt.prototype,"m_explainPage",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(bt.prototype,"m_betLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(bt.prototype,"m_timesLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(bt.prototype,"m_priceLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(bt.prototype,"m_betPriceLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(bt.prototype,"m_specialGameExpLabel",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(bt.prototype,"m_specialGameLabel",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(bt.prototype,"m_specialGameIcon",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(bt.prototype,"m_specialGameTxt",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(bt.prototype,"m_buyTitleTxt",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(bt.prototype,"m_featureTitleTxt",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(bt.prototype,"m_betLabelTxt",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(bt.prototype,"m_timesLabelTxt",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(bt.prototype,"m_priceLabelTxt",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(bt.prototype,"m_totalPriceLabelTxt",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(bt.prototype,"m_buyAndUseTxt",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(bt.prototype,"m_buyBonusTxt",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=bt))||ct));m._RF.pop()}}}));

System.register("chunks:///_virtual/CellComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./ItemList.ts","./AwardCell.ts","./DebrisCell.ts","./ExchangeNumComponent.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,l,m,h,u,c,_,f,g,b,d,p,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Button,l=e.Node,m=e.Label,h=e.Animation,u=e.Component},function(e){c=e.default},function(e){_=e.default},function(e){f=e.default},function(e){g=e.default},function(e){b=e.default},function(e){d=e.default},function(e){p=e.default},function(e){C=e.default}],execute:function(){var N,x,I,y,v,S,w,L,G,D,R,A,T,B,z,M,O,k,E,U,F,K;a._RF.push({},"4b1e4e/GnNAnYUsohaPRaoA","CellComponent",void 0);var P=.7,H=r.ccclass,W=r.property;e("default",(N=W({type:p,tooltip:"碎片"}),x=W({type:d,tooltip:"獎勵"}),I=W({type:C,tooltip:"數量控制"}),y=W({type:s,tooltip:"兌換按鈕"}),v=W({type:l,tooltip:"不可兌換按鈕"}),S=W({type:m,tooltip:"兌換道具"}),w=W({type:m,tooltip:"獎勵"}),L=W({type:m,tooltip:"兌換"}),G=W({type:l,tooltip:"縮小之ROOT"}),D=W({type:l,tooltip:"縮小之ROOT(Number)"}),H((T=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_debrisCells",T,o(t)),i(t,"m_awardCells",B,o(t)),i(t,"m_exchangeNumComponent",z,o(t)),i(t,"m_exchangeBtn",M,o(t)),i(t,"m_disableNode",O,o(t)),i(t,"m_exchangeItemLabel",k,o(t)),i(t,"m_exchangeAwardLabel",E,o(t)),i(t,"m_exchangeLabels",U,o(t)),i(t,"m_shrinkRoot",F,o(t)),i(t,"m_shrinkRootNumber",K,o(t)),t.m_debrisManager=null,t.m_info=null,t.m_itemDesc=null,t}n(t,e);var a=t.prototype;return a.Init=function(e,t,n){var i=this;this.m_debrisManager=e,this.m_info=t,this.m_itemDesc=n;for(var o=0;o<this.m_debrisCells.length;o++)this.m_info.dn[o]?(this.m_debrisCells[o].node.active=!0,this.m_debrisCells[o].NumLabel.node.active=!0,this.m_debrisCells[o].UpdateNum(0),this.m_debrisCells[o].Init(this.m_debrisManager.GetDebrisIcon(this.m_info.dn[o]),this.m_info.dc[o]),o>=3&&(this.m_shrinkRoot.setScale(P,P),this.m_shrinkRootNumber.setScale(P,P))):(this.m_debrisCells[o].node.active=!1,this.m_debrisCells[o].NumLabel.node.active=!1);for(var a=0;a<this.m_awardCells.length;a++)this.m_awardCells[a].node.active=!1;this.m_awardCells[0].node.active=!0,this.m_awardCells[0].Init(b.GetInstance().GetItemIcon(t.ficon),t.amount),this.m_exchangeNumComponent.Init(t.max,this,(function(){i.ChangeNum()})),this.SetTxt()},a.SetTxt=function(){for(var e=0;e<this.m_exchangeLabels.length;e++)g.SetFont(this.m_exchangeLabels[e]),this.m_exchangeLabels[e].string=_.GetInstance().GetString(c.StringKey.DEBRIS_EXCHANGE);this.m_exchangeAwardLabel&&(g.SetFont(this.m_exchangeAwardLabel),this.m_exchangeAwardLabel.string=_.GetInstance().GetString(c.StringKey.DEBRIS_AWARD)),this.m_exchangeItemLabel&&(g.SetFont(this.m_exchangeItemLabel),this.m_exchangeItemLabel.string=_.GetInstance().GetString(c.StringKey.DEBRIS_ITEM)),this.m_exchangeNumComponent.SetTxt()},a.OnExchange=function(){if(this.m_exchangeNumComponent.Num>0){if(f.getInstance().Play(c.AudioClips.COMMON_BTN),this.node.getComponent(h))this.node.getComponent(h).play("Clip_Debris_GetReward");this.m_debrisManager.ReqExchange(this.m_info.no,this.m_exchangeNumComponent.Num),this.m_exchangeNumComponent.ResetNum(),this.ChangeNum()}},a.OnShowRewardInfo=function(){if(this.m_itemDesc&&this.m_info.ItemBet){var e=Number(this.m_info.ficon.toString()[1]),t=Number(this.m_info.ficon.toString()[0]),n=b.GetInstance().GetItemIcon(this.m_info.ficon),i=_.GetInstance().GetGameName(Number(c.NOW_GAME_ID)),o=b.GetInstance().GetItemInfoText({bet:this.m_info.ItemBet,gameDesc:this.m_itemDesc,star:e,type:t},2),a=_.GetInstance().GetString(c.StringKey.BACKPACK_TXT_INFO)+"\n"+o.gameDesc;this.m_debrisManager.OpenCommonText(o.title,a,i,n,this.m_info.amount)}else console.error("Something wrong",this.m_itemDesc,this.m_info.ItemBet)},a.ChangeNum=function(){this.m_awardCells[0].UpdateNum(this.m_exchangeNumComponent.Num);for(var e=0;e<this.m_debrisCells.length;e++)this.m_debrisCells[e].node.active&&this.m_debrisCells[e].UpdataNeedNum(this.m_exchangeNumComponent.Num)},a.UpdateInfo=function(e){if(e.debrislist){for(var t=[],n=0;n<e.debrislist.length;n++){var i=e.debrislist[n].no.toString(),o=Number(i[1]);isNaN(o)||(t[o]||(t[o]=[]),t[o].push(e.debrislist[n]))}for(var a=0;a<this.m_info.dn.length;a++){var r=this.m_info.dn[a].toString(),s=Number(r[1]);if(!isNaN(s)&&t[s])for(var l=0;l<t[s].length;l++)if(t[s][l].no===this.m_info.dn[a]){this.m_debrisCells[a].UpdateNum(t[s][l].count?t[s][l].count:0);break}}}if(this.m_exchangeNumComponent.UpdateState(),e.changelist)for(var m=0;m<e.changelist.length;m++)if(e.changelist[m].formula===this.m_info.no){this.m_exchangeNumComponent.DecreaseLeft(e.changelist[m].count);break}for(var h=!0,u=0;u<this.m_info.dn.length&&(!this.m_info.dn[u]||(h=this.m_debrisCells[u].Num>=this.m_debrisCells[u].NeedNum));u++);var c=h&&this.m_exchangeNumComponent.ChangeTimes<this.m_exchangeNumComponent.LeftNum;return this.m_exchangeBtn.node.active=c,this.m_disableNode.active=!c,c},a.CheckRecipe=function(e){for(var t=0;t<this.m_debrisCells.length;t++){var n=g.times(this.m_debrisCells[t].NeedNum,e);if(this.m_debrisCells[t].Num<n)return!1}return!0},t}(u)).prototype,"m_debrisCells",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(A.prototype,"m_awardCells",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(A.prototype,"m_exchangeNumComponent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(A.prototype,"m_exchangeBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"m_disableNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"m_exchangeItemLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(A.prototype,"m_exchangeAwardLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"m_exchangeLabels",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(A.prototype,"m_shrinkRoot",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(A.prototype,"m_shrinkRootNumber",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=A))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEffect.ts",["cc"],(function(t){"use strict";var s,i,e,h;return{setters:[function(t){s=t.cclegacy,i=t.v3,e=t.v2,h=t.macro}],execute:function(){var n;t("CommonEffect",void 0),s._RF.push({},"6f779uo//FP8owPSb4jjuXE","CommonEffect",void 0),function(t){var s=function(){function t(){}return t.PascalTriangleLine=function(t){for(var s=[1],i=1;i<t;i++)s[i]=s[i-1]*(t-i)/i;return s},t.RangedRandom=function(t,s){return(s-t)*Math.random()+t},t.GetRandomRectPos=function(t,s,i){var n=e(this.RangedRandom(-s.x,s.x)/2|0,this.RangedRandom(-s.x,s.x)/2|0).rotate(i*h.RAD);return t.add(n)},t.GetRandomOvalPos=function(t,s,i){var n=s.y/Math.max(1,s.x),r=Math.random()*s.x*.5,a=Math.random()*Math.PI*2,p=e(r*Math.cos(a),r*Math.sin(a)*n).rotate(i*h.RAD);return t.add(p)},t.ZoomAndFlip=function(t,s,i,h){var n=Math.sin(h*Math.PI)*(s-t)+t,r=Math.cos(h*Math.PI*i);return e(n*r,n)},t}();t.ExtendsMath=s;var n=function(){function t(t){switch(this.pts=null,this.len=0,this.ptl=null,this.bez=null,this.len=t.length,0==this.len?(t.push(i(0,0)),t.push(i(0,0))):1==this.len&&t.push(i(t[0].x,t[0].y)),this.pts=t,this.len){case 2:this.bez=this.Bezier2;break;case 3:this.bez=this.Bezier3;break;case 4:this.bez=this.Bezier4;break;case 5:this.bez=this.Bezier5;break;case 6:this.bez=this.Bezier6;break;default:this.ptl=s.PascalTriangleLine(this.len),this.bez=this.BezierN}}var e=t.prototype;return e.GetPosition=function(t){return this.bez.apply(this,[t])},e.Bezier2=function(t){var s=1-t;return i(s*this.pts[0].x+t*this.pts[1].x,s*this.pts[0].y+t*this.pts[1].y)},e.Bezier3=function(t){var s=1-t,e=[s*s,2*s*t,t*t];return i(e[0]*this.pts[0].x+e[1]*this.pts[1].x+e[2]*this.pts[2].x,e[0]*this.pts[0].y+e[1]*this.pts[1].y+e[2]*this.pts[2].y)},e.Bezier4=function(t){var s=1-t,e=[s*s*s,3*s*s*t,3*s*t*t,t*t*t];return i(e[0]*this.pts[0].x+e[1]*this.pts[1].x+e[2]*this.pts[2].x+e[3]*this.pts[3].x,e[0]*this.pts[0].y+e[1]*this.pts[1].y+e[2]*this.pts[2].y+e[3]*this.pts[3].y)},e.Bezier5=function(t){var s=1-t,e=[s*s*s*s,4*s*s*s*t,6*s*s*t*t,4*s*t*t*t,t*t*t*t];return i(e[0]*this.pts[0].x+e[1]*this.pts[1].x+e[2]*this.pts[2].x+e[3]*this.pts[3].x+e[4]*this.pts[4].x,e[0]*this.pts[0].y+e[1]*this.pts[1].y+e[2]*this.pts[2].y+e[3]*this.pts[3].y+e[4]*this.pts[4].y)},e.Bezier6=function(t){var s=1-t,e=[s*s*s*s*s,5*s*s*s*s*t,10*s*s*s*t*t,10*s*s*t*t*t,5*s*t*t*t*t,t*t*t*t*t];return i(e[0]*this.pts[0].x+e[1]*this.pts[1].x+e[2]*this.pts[2].x+e[3]*this.pts[3].x+e[4]*this.pts[4].x+e[5]*this.pts[5].x,e[0]*this.pts[0].y+e[1]*this.pts[1].y+e[2]*this.pts[2].y+e[3]*this.pts[3].y+e[4]*this.pts[4].y+e[5]*this.pts[5].y)},e.BezierN=function(t){for(var s=1-t,e=i(0,0),h=0;h<this.len;h++){for(var n=1,r=0;r<this.len-h-1;r++)n*=s;for(var a=0;a<h;a++)n*=t;e.x+=n*this.ptl[h]*this.pts[h].x,e.y+=n*this.ptl[h]*this.pts[h].y}return e},t}();t.Bezier=n}(n||(n=t("CommonEffect",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/CommonTextManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./Tools.ts","./IconTemplate.ts"],(function(t){"use strict";var e,i,n,o,l,r,a,m,c,u,s,p,_,f,b,h,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){r=t.cclegacy,a=t._decorator,m=t.Node,c=t.Label,u=t.Button,s=t.Sprite,p=t.RichText,_=t.Component},function(t){f=t.default},function(t){b=t.default},function(t){h=t.default},function(t){T=t.default}],execute:function(){var g,y,d,v,x,C,N,z,F,L,S,w,B,A,I,D,O,E,M,P,R,k,H,V,j,J,U,G;r._RF.push({},"405f6GpBJJAeL+jOwIdKmiW","CommonTextManager",void 0);var K=a.ccclass,W=a.property;t("default",(g=W({type:m,tooltip:"純文字"}),y=W({type:m,tooltip:"道具卡"}),d=W({type:c,tooltip:"訊息框上方標題"}),v=W({type:c,tooltip:"內容文字"}),x=W({type:u,tooltip:"X按鈕"}),C=W({type:u,tooltip:"背景遮罩"}),N=W({type:s,tooltip:"道具卡圖示"}),z=W({type:c,tooltip:"道具卡數量"}),F=W({type:c,tooltip:"道具卡標題"}),L=W({type:p,tooltip:"道具卡描述"}),S=W({type:m,tooltip:"收藏"}),w=W({type:T,tooltip:"收藏 IconTemplate"}),B=W({type:c,tooltip:"favor內容文字"}),K((D=e((I=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"m_textNode",D,o(e)),n(e,"m_itemNode",O,o(e)),n(e,"m_title",E,o(e)),n(e,"m_contentText",M,o(e)),n(e,"m_closeBtn",P,o(e)),n(e,"m_nodeBlockBtn",R,o(e)),n(e,"m_itemIconSprite",k,o(e)),n(e,"m_itemNumLabel",H,o(e)),n(e,"m_itemTitleLabel",V,o(e)),n(e,"m_itemDescLabel",j,o(e)),n(e,"m_FaverNode",J,o(e)),n(e,"m_FaverIconTemplate",U,o(e)),n(e,"m_favorContentText",G,o(e)),e}i(e,t);var r=e.prototype;return r.start=function(){var t=this;this.m_closeBtn.node.on(m.EventType.TOUCH_END,(function(e){b.getInstance().Play(f.AudioClips.COMMON_CANCEL_BTN),t.CloseCommonText()})),this.m_nodeBlockBtn.node.on(m.EventType.TOUCH_END,(function(e){t.CloseCommonText()})),h.SetFont(this.m_title),h.SetFont(this.m_itemTitleLabel),h.SetFont(this.m_contentText),h.SetFont(this.m_itemNumLabel),h.SetFont(this.m_itemDescLabel),h.SetFont(this.m_favorContentText)},r.OpenCommonText=function(t,e,i,n,o,l){i||n?(this.m_itemTitleLabel.string=i,this.m_itemDescLabel.string=e,this.m_itemIconSprite.spriteFrame=n,this.m_itemNumLabel.string=o&&o>0?o.toString():"",this.m_itemNode.active=!0,this.m_textNode.active=!1):(this.m_contentText.string=e,this.m_itemNode.active=!1,this.m_textNode.active=!0),this.m_title.string=t,this.node.active=!0,this.m_FaverNode.active=!1,l==f.CommonTextType.FAVOR&&(this.m_itemNode.active=!1,this.m_textNode.active=!1,this.m_contentText.string="",this.m_favorContentText.string=e,this.m_FaverNode.active=!0)},r.InitFavorIcon=function(t){t&&t(this.m_FaverIconTemplate)},r.CloseCommonText=function(){this.node.active=!1,this.m_contentText.horizontalAlign=c.HorizontalAlign.CENTER,this.m_contentText.verticalAlign=c.VerticalAlign.TOP},r.SetTitle=function(t){this.m_title.string=t},r.SetContentText=function(t){this.m_contentText.string=t},r.SetContentText_HorizontalAlign=function(t){this.m_contentText.horizontalAlign=t},r.SetContentText_VerticalAlign=function(t){this.m_contentText.verticalAlign=t},r.OnRotation=function(t){t?this.node.setPosition(0,218,0):this.node.setPosition(0,568,0)},l(e,[{key:"Close",get:function(){return this.m_closeBtn.node}}]),e}(_)).prototype,"m_textNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(I.prototype,"m_itemNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"m_title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"m_contentText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(I.prototype,"m_closeBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"m_nodeBlockBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"m_itemIconSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"m_itemNumLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(I.prototype,"m_itemTitleLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(I.prototype,"m_itemDescLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(I.prototype,"m_FaverNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(I.prototype,"m_FaverIconTemplate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(I.prototype,"m_favorContentText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=I))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/CommonWebPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(e){"use strict";var t,i,n,o,l,r,a,s,c,u,p,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,c=e.WebView,u=e.Button,p=e.Animation,b=e.Component},function(e){m=e.default}],execute:function(){var f,_,h,d,w,y,C,g;r._RF.push({},"b955aTAiglJ44fY/c86hV+V","CommonWebPage",void 0);var v=a.ccclass,V=a.property;e("default",(f=V({type:s,tooltip:"標題"}),_=V({type:c,tooltip:"WebView"}),h=V({type:u,tooltip:"重整按鈕"}),v((y=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"m_titleLabel",y,o(t)),n(t,"m_webView",C,o(t)),n(t,"m_reloadBtn",g,o(t)),t.m_closeCb=null,t}i(t,e);var r=t.prototype;return r.OnRotation=function(e){e?this.node.getComponent(p).play("Clip_Common_WebPage_Landscape"):this.node.getComponent(p).play("Clip_Common_WebPage_Portrait")},r.SetTitle=function(e){this.m_titleLabel.string=e,this.m_titleLabel.font||(this.m_titleLabel.font=m.DefaultFont)},r.Show=function(e,t,i){void 0===i&&(i=!1),this.m_reloadBtn.node.active=i,this.m_webView.url=e,this.node.active=!0,this.OnRotation(t)},r.OnClose=function(){this.node.active=!1,this.m_closeCb&&this.m_closeCb()},r.reload=function(){var e=this,t=this.m_webView.url;this.m_webView.url="",this.scheduleOnce((function(){e.m_webView.url=t}),0)},l(t,[{key:"CloseCb",set:function(e){this.m_closeCb=e}}]),t}(b)).prototype,"m_titleLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"m_webView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(w.prototype,"m_reloadBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ConnectionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./MsgBox.ts","./Tools.ts","./Request.ts","./EnvironmentConfig.ts","./ItemList.ts","./LocaleStringManager.ts","./ConnectionSpeed.ts","./AppManager.ts","./env"],(function(e){"use strict";var t,n,o,r,i,s,a,c,m,E,u,S,_,d,l;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,o=e.log,r=e.sys,i=e.assetManager},function(e){s=e.default},function(e){a=e.default},function(e){c=e.default},function(e){m=e.Request},function(e){E=e.default},function(e){u=e.default},function(e){S=e.default},function(e){_=e.default},function(e){d=e.default},function(e){l=e.EDITOR}],execute:function(){n._RF.push({},"52d7cw8mKhFuJZpX5IGvC1J","ConnectionManager",void 0);var I=[s.BTN_CLICK_EVENT.AUTOPLAY,s.BTN_CLICK_EVENT.AUTOPLAY_STOP,s.BTN_CLICK_EVENT.SPIN,s.BTN_CLICK_EVENT.STOP,s.BTN_CLICK_EVENT.HARDSTOP_ON,s.BTN_CLICK_EVENT.HARDSTOP_OFF,s.BTN_CLICK_EVENT.CLICK_PLATE],C=[s.GAME_ID.CSH,s.GAME_ID.FG,s.GAME_ID.SR,s.GAME_ID.MW,s.GAME_ID.MW2,s.GAME_ID.NC,s.GAME_ID.CAI],T=e("PrizeType",{none:0,coin:1,itemCard:2}),O=e("default",function(){function e(){var t=this;if(this.m_protocolList=void 0,this.m_defaultOnCommand=void 0,this.m_defaultOnCommandError=void 0,this.m_defaultHeader=void 0,this.m_defaultHttpMethod=e.HTTP_METHOD.TYPE_GET,this.m_defaultTimeout=20,this.m_webSocketConnected=!1,this.m_queueCMD=void 0,this.m_webSocket=void 0,this.m_webUrl="",this.m_isCloseClick=!1,this.m_passClickEventList=null,this.m_isFirst=!0,this.m_apiIdString=null,this.m_ingoreEventID=null,this.m_passGameID=null,this.m_token=void 0,this.m_apiIdToTitleName=null,this.m_settingCb=null,this.m_isCloseAutoChange=!1,e._instance)throw new Error("Error: Instantiation failed: Use ConnectionManager.getInstance() instead of new.");if(e._instance=this,this.m_protocolList=new Map,this.m_defaultHeader={"Access-Control-Allow-Origin":"*"},!r.isNative&&E.ENV_TYPE!==s.EVN.TEST&&!l){this.m_webUrl=window.location.href;var n=/\?/g;this.m_webUrl=this.m_webUrl.slice(0,this.m_webUrl.search(n));var o=window.location.href,a=/\.com/g;o=o.slice(0,o.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/setting.json";var m=window.location.href;m=m.slice(m.search(/\/[\w]+\/\?[\w=&:-]*/g)).replace("/", ""),m=m.slice(0,m.indexOf("/")),i.loadRemote(o,{reload:!0},(function(e,n){n&&(n.CloseClick&&n.CloseClick[m]&&(t.m_isCloseClick=!0),n.IgnoreEventNo&&(t.m_passClickEventList=n.IgnoreEventNo),t.m_apiIdToTitleName=n.ApiIdToTitleName,t.m_settingCb&&t.m_settingCb(t.m_apiIdToTitleName),n.CloseAutoChange&&n.CloseAutoChange[m]&&(t.m_isCloseAutoChange=!0))}))}window.addEventListener("unhandledrejection",(function(t){var n=e.FormErrorParams(s.AID,Number(s.API_ID),Number(s.NOW_GAME_ID),s.GAME_VERSION,t.reason);e.getInstance().SendErrorLog(n)})),this.m_apiIdString=c.GetLinkParameterByName("apiId")}e.getInstance=function(){return this._instance||(this._instance=new e),e._instance},e.FormPhaseEventParams=function(e,t,n,o,r,i,a){void 0===r&&(r=s.PHASE_RESULT.UNKNOWN);var c={};return c.AccountID=e,c.GameID=t,c.GameVersion=n,c.EventID=o,c.EventStatus=r,c.SSOKey=i,c.ApiId=a,null!=c.AccountID&&0!=c.AccountID||(c.AccountID=-1),null!=c.SSOKey&&""!=c.SSOKey||(c.SSOKey="Null"),c},e.FormSubAgentServiceParams=function(e,t,n,o,r,i){var s=document.location.href;document.referrer&&(s=document.referrer);var a=(s=(s=s.replace("https://","")).replace("https://","")).split("/")[0],c={};return c.AccountID=e,c.ApiID=t,c.GameID=n,c.SiteID=o,c.AgentID=r,c.LineCode=i,c.Site=a,null!=c.AccountID&&0!=c.AccountID||(c.AccountID=-1),c},e.FormVerificationEventParams=function(e,t,n,o,r,i,s,a){void 0===r&&(r="");var c={};return c.AccountID=e,c.GameID=t,c.GameVersion=n,c.EventID=o,c.EventValue=r,c.SSOKey=i,c.ApiId=s,c.LogIndex=a,null!=c.AccountID&&0!=c.AccountID||(c.AccountID=-1),null!=c.SSOKey&&""!=c.SSOKey||(c.SSOKey="Null"),c},e.FormErrorParams=function(e,t,n,o,i){var s={};switch(s.AccountID=e,s.GameID=n,s.GameVersion=o,s.ErrorLog=JSON.stringify(i.stack),r.browserType){case r.BrowserType.CHROME:s.BrowserSystem=1;break;case r.BrowserType.SAFARI:s.BrowserSystem=2;break;case r.BrowserType.IE:s.BrowserSystem=3;break;case r.BrowserType.UC:s.BrowserSystem=4;break;case r.BrowserType.QQ:case r.BrowserType.MOBILE_QQ:s.BrowserSystem=5;break;default:s.BrowserSystem=0}switch(r.os){case r.OS.ANDROID:s.DeviceSystem=1;break;case r.OS.IOS:s.DeviceSystem=2;break;case r.OS.WINDOWS:s.DeviceSystem=3;break;default:s.DeviceSystem=0}return s.CreateTime=(new Date).toDateString(),s},e.FormMailParams=function(e,t){var n={};return n.AccountId=e,n.Lang=t,n},e.FormBtnClickParams=function(e,t,n,o,r,i,a){void 0===i&&(i=s.PHASE_RESULT.UNKNOWN),void 0===a&&(a=!0);var c={};return c.AccountID=e,c.ApiID=t,c.GameID=n,c.GameVersion=o,c.EventID=r,c.EventStatus=i,c.isLandscape=a?1:2,null!=c.AccountID&&0!=c.AccountID||(c.AccountID=-1),c},e.OnExit=function(){delete this._instance,this._instance=null};var n=e.prototype;return n.GetApiId2TitleName=function(e){return this.m_settingCb=e,this.m_apiIdToTitleName?this.m_apiIdToTitleName:null},n.SetDefaultHeader=function(e){this.m_defaultHeader=e},n.SetDefaultHttpMethod=function(e){this.m_defaultHttpMethod=e},n.SetDefaultOnCommandFunc=function(e){null!=e&&(this.m_defaultOnCommand=e)},n.SetDefaultOnCommandErrorFunc=function(e){null!=e&&(this.m_defaultOnCommandError=e)},n.SetToken=function(e){this.m_token=e},n.AddSetting=function(e,t,n,o,r,i,s){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===s&&(s=null),this.AddSettingBySubData(e,{type:t,onCommand:n,onCommandError:o,httpLink:r,header:s,httpMethod:i}),!0},n.AddSettingBySubData=function(t,n){return n.type==e.CONNECT_TYPE.TYPE_HTTP&&null==n.httpLink?(o("ConnectionManager Error! Please set Link:",t),!1):(this.m_protocolList.set(t,n),!0)},n.GetSetting=function(e){return this.m_protocolList.get(e)},n.CheckSetting=function(e){return null!=this.m_protocolList.get(e)||null!=this.m_protocolList.get(e)},n.UpdateURL=function(){var t=this.m_protocolList.get(s.PROTOCOL.SUBAGENTSERVICE_REQ);t?t.httpLink=E.SUBAGENTSERVICE_URL:e.getInstance().AddSetting(s.PROTOCOL.SUBAGENTSERVICE_REQ,e.CONNECT_TYPE.TYPE_HTTP,(function(){}),(function(){}),E.SUBAGENTSERVICE_URL)},n.SendCommand=function(t,n,o,r,i){void 0===n&&(n=null),void 0===o&&(o={}),void 0===r&&(r=null),void 0===i&&(i=null),this.m_isFirst&&(this.m_isFirst=!1);var s=this.m_protocolList.get(t);if(!(null==s||s.type>=e.CONNECT_TYPE.MAX))switch(s.type){case e.CONNECT_TYPE.TYPE_HTTP:this.ReqHttp(t,s,n,o,r,i);break;case e.CONNECT_TYPE.TYPE_WEBSOCKET:this.m_webSocketConnected?this.SendWSCommand(t,n):(null==this.m_queueCMD&&(this.m_queueCMD=new Array),this.m_queueCMD.push({protocolType:t,content:n}),this.ConnectWebSocket(s.httpLink,s.onCommand))}},n.ReqHttp=function(t,n,o,r,i,a){void 0===o&&(o=null),void 0===r&&(r={}),void 0===i&&(i=null),void 0===a&&(a=null);var E=this,u=n.httpMethod||this.m_defaultHttpMethod;n.header||this.m_defaultHeader;o=o||"";var S=n.httpLink+o;null==r&&(r={}),t!=s.PROTOCOL.LOGIN&&(r.token=this.m_token);var d=Date.now();n.ignoreCache,this.m_defaultTimeout;m(u,S,r,i).then((function(e){if(e.ok)try{var o=JSON.parse(e.data);null!==a?a(o):null==n.onCommand?E.m_defaultOnCommand(t,o):n.onCommand(t,o)}catch(e){throw e}else t!=s.PROTOCOL.PHASE_EVENT&&t!=s.PROTOCOL.CLICK_EVENT&&t!=s.PROTOCOL.VERIFY_EVENT&&(null==n.onCommandError?E.m_defaultOnCommandError&&E.m_defaultOnCommandError(t,e):n.onCommandError(t,e));_.GetInstance().SetSpeedData(c.minus(Date.now(),d))})).catch((function(o){if(t!=s.PROTOCOL.PHASE_EVENT&&t!=s.PROTOCOL.CLICK_EVENT&&t!=s.PROTOCOL.VERIFY_EVENT&&(null==n.onCommandError?E.m_defaultOnCommandError(t,o):n.onCommandError(t,o)),_.GetInstance().SetSpeedData(c.minus(Date.now(),d)),"0"!==s.NOW_GAME_ID){var r=e.FormErrorParams(s.AID,Number(s.API_ID),Number(s.NOW_GAME_ID),s.VERSION,null);r.ErrorLog=JSON.stringify(o),e.getInstance().SendErrorLog(r)}}))},n.ConnectWebSocket=function(e,t){o("--ReqWebSocket-----------------------------------------------------------");var n=this;e=e.replace("https://",""),this.m_webSocket=new WebSocket("wss://"+e),this.m_webSocket.onmessage=function(e){o("--ReqWebSocket--GO---------------------------------------------------------"),o(e.data);var t=JSON.parse(e.data),r=n.m_protocolList.get(t.cmdType);o(n.m_protocolList,r),null==r||null==r.onCommand?n.m_defaultOnCommand(t.cmdType,t.content):r.onCommand(t.cmdType,t.content)},this.m_webSocket.onopen=function(e){if(n.m_webSocketConnected=!0,o("onopen "+e),null!=t&&t(),n.m_queueCMD.length>0)for(var r=0;r<n.m_queueCMD.length;r++){var i=n.m_queueCMD.pop();n.SendWSCommand(i.protocolType,i.content)}},this.m_webSocket.onclose=function(e){n.m_webSocketConnected=!1,o("onclose "+e)},this.m_webSocket.onerror=function(e){o("onerror "+e),a.getInstance().ShowMessageBox(s.StringKey.MSGBOX_LOGIN_FAIL,null,c.CloseGameTab),n.m_webSocketConnected=!1}},n.SendWSCommand=function(e,t){o("SendWSCommand: ",e,t);var n={cmdType:e,content:t},r=JSON.stringify(n);this.m_webSocket.send(r)},n.GetLoginCB=function(){return this.m_protocolList.get(s.PROTOCOL.LOGIN).onCommand},n.SetLoginCB=function(e){this.m_protocolList.get(s.PROTOCOL.LOGIN).onCommand=e},n.IsProhibitLog=function(){return E.ENV_TYPE==s.EVN.TEST||Boolean(c.GetLinkParameterByName("demo"))&&!(-1!=s.GLI_GAME_ID.indexOf(Number(s.NOW_GAME_ID)))&&!(-1!=s.BMM_GAME_ID.indexOf(Number(s.NOW_GAME_ID)))},n.SendPhaseEnteringEvent=function(e){if(!this.IsProhibitLog()){switch(o("SendPhaseEnteringEvent"),r.browserType){case r.BrowserType.CHROME:e.BrowserSystem=1;break;case r.BrowserType.SAFARI:e.BrowserSystem=2;break;case r.BrowserType.IE:e.BrowserSystem=3;break;case r.BrowserType.UC:e.BrowserSystem=4;break;case r.BrowserType.QQ:case r.BrowserType.MOBILE_QQ:e.BrowserSystem=5;break;case r.BrowserType.FIREFOX:e.BrowserSystem=6;break;default:e.BrowserSystem=0}switch(r.os){case r.OS.ANDROID:e.DeviceSystem=1;break;case r.OS.IOS:e.DeviceSystem=2;break;case r.OS.WINDOWS:e.DeviceSystem=3;break;default:e.DeviceSystem=0}e.CreateTime=(new Date).toISOString();var t="?AccountID="+e.AccountID+"&GameID="+e.GameID+"&GameVersion="+e.GameVersion+"&EventID="+e.EventID+"&EventStatus="+e.EventStatus+"&BrowserSystem="+e.BrowserSystem+"&DeviceSystem="+e.DeviceSystem+"&SSOKey="+e.SSOKey+"&ApiId="+(this.m_apiIdString?this.m_apiIdString:e.ApiId)+"&CurrencyNumber="+s.CURRENCY_NUMBER+"&SubAgentCode="+s.SUB_AGENT_CODE,n=this.m_protocolList.get(s.PROTOCOL.PHASE_EVENT);n&&(n.onCommand||(n.onCommand=function(){}),n.onCommandError||(n.onCommandError=function(){})),this.SendCommand(s.PROTOCOL.PHASE_EVENT,t)}},n.SendSubAgentService=function(t){if(!s.IS_DEMO){var n="?accountId="+t.AccountID+"&apiId="+(this.m_apiIdString?this.m_apiIdString:t.ApiID)+"&gameId="+t.GameID+"&siteId="+t.SiteID+"&agentId="+t.AgentID+"&linecode="+t.LineCode+"&site="+t.Site;this.m_protocolList.get(s.PROTOCOL.SUBAGENTSERVICE_REQ)||e.getInstance().AddSetting(s.PROTOCOL.SUBAGENTSERVICE_REQ,e.CONNECT_TYPE.TYPE_HTTP,(function(){}),(function(){}),E.SUBAGENTSERVICE_URL),this.SendCommand(s.PROTOCOL.SUBAGENTSERVICE_REQ,n)}},n.SendBtnClickEvent=function(e){switch(e.EventID){case s.BTN_CLICK_EVENT.SPIN:case s.BTN_CLICK_EVENT.CLICK_PLATE:case s.BTN_CLICK_EVENT.SPACE_SPIN:case s.BTN_CLICK_EVENT.AUTOPLAY:case s.BTN_CLICK_EVENT.WISEAUTO_TOTAL:d.SetNovice()}if(!this.m_ingoreEventID){this.m_ingoreEventID={};for(var t=0;t<I.length;t++)this.m_ingoreEventID[I[t]]=!0}if(!this.m_passGameID){this.m_passGameID={};for(var n=0;n<C.length;n++)this.m_passGameID[C[n]]=!0}if((this.m_passGameID[e.GameID]||!this.m_ingoreEventID[e.EventID])&&!this.IsProhibitLog()){if(this.m_isCloseClick){var o=e.EventID;if(o!=s.BTN_CLICK_EVENT.PLATFORM_ERROR_MESSAGE&&o>s.BTN_CLICK_EVENT.WEB_SITE&&o<s.BTN_CLICK_EVENT.FEATURESVIEW)return}switch(r.browserType){case r.BrowserType.CHROME:e.BrowserSystem=1;break;case r.BrowserType.SAFARI:e.BrowserSystem=2;break;case r.BrowserType.IE:e.BrowserSystem=3;break;case r.BrowserType.UC:e.BrowserSystem=4;break;case r.BrowserType.QQ:case r.BrowserType.MOBILE_QQ:e.BrowserSystem=5;break;case r.BrowserType.FIREFOX:e.BrowserSystem=6;break;default:e.BrowserSystem=0}switch(r.os){case r.OS.ANDROID:e.DeviceSystem=1;break;case r.OS.IOS:e.DeviceSystem=2;break;case r.OS.WINDOWS:e.DeviceSystem=3;break;default:e.DeviceSystem=0}e.CreateTime=new Date;var i="?AccountID="+e.AccountID+"&ApiID="+(this.m_apiIdString?this.m_apiIdString:e.ApiID)+"&GameID="+e.GameID+"&GameVersion="+e.GameVersion+"&EventNo="+e.EventID+"&EventValue="+e.EventStatus+"&BrowserSystem="+e.BrowserSystem+"&DeviceSystem="+e.DeviceSystem+"&Screen="+e.isLandscape+"&CurrencyNumber="+s.CURRENCY_NUMBER+"&SubAgentCode="+s.SUB_AGENT_CODE,a=this.m_protocolList.get(s.PROTOCOL.CLICK_EVENT);a&&(a.onCommand||(a.onCommand=function(){}),a.onCommandError||(a.onCommandError=function(){})),this.SendCommand(s.PROTOCOL.CLICK_EVENT,i)}},n.SendMailReq=function(e,t,n){var o=this;void 0===n&&(n=0);var r=this.m_defaultHttpMethod,i=(this.m_defaultHeader,"?AccountId="+e.AccountId+(e.Lang?"&Lang="+e.Lang:"")),s=E.MAIL_URL+i;s=s.indexOf("?")>0?s+"&token="+this.m_token:s+"?toke="+this.m_token;var a=Date.now();this.m_defaultTimeout;m(r,s).then((function(r){if(r.ok){var i=JSON.parse(r.data);t&&t(i.Mails,i.Error)}else(n+=1)<3&&o.SendMailReq(e,t,n);_.GetInstance().SetSpeedData(c.minus(Date.now(),a))})).catch((function(r){(n+=1)<3&&o.SendMailReq(e,t,n),_.GetInstance().SetSpeedData(c.minus(Date.now(),a))}))},n.ShowMailInfo=function(e){switch(e.PrizeType){case T.coin:a.getInstance().ShowMessageBoxFormat(s.StringKey.MSGBOX_AWARD_INFO,s.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[e.Desc,e.Number.toString(),e.CurrencySymbol+c.FormatNumberThousands(c.strip(e.Amount),c.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)]);break;case T.itemCard:var t=S.GetInstance().GetString(s.StringKey.MSGBOX_AWARD_INFO_ITEM);t=(t=(t=t.replace("{Rank}",e.Number.toString())).replace("{Event}",e.Desc)).replace("{Reward}",u.GetInstance().GetItemInfoText({gameName:S.GetInstance().GetGameName(e.Extra.GameID),title:e.Extra.CardName},null).title),a.getInstance().ShowMessageBoxFormat("",s.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[t])}},n.SendErrorLog=function(e){if(null!=e.ErrorLog&&-1!==e.ErrorLog.search(/index\.\w+\.js/g)){for(;;){if(-1===e.ErrorLog.search(this.m_webUrl))break;e.ErrorLog=e.ErrorLog.replace(this.m_webUrl,"")}var t=E.ERROR_URL,n="?";for(var o in e)n+=o+"="+e[o]+"&";m("get",t+n).then((function(e){}))}},n.SendVerificationEvent=function(t){if(!this.IsProhibitLog()){switch(o("SendVerificationEvent"),r.browserType){case r.BrowserType.CHROME:t.BrowserSystem=1;break;case r.BrowserType.SAFARI:t.BrowserSystem=2;break;case r.BrowserType.IE:t.BrowserSystem=3;break;case r.BrowserType.UC:t.BrowserSystem=4;break;case r.BrowserType.QQ:case r.BrowserType.MOBILE_QQ:t.BrowserSystem=5;break;case r.BrowserType.FIREFOX:t.BrowserSystem=6;break;default:t.BrowserSystem=0}switch(r.os){case r.OS.ANDROID:t.DeviceSystem=1;break;case r.OS.IOS:t.DeviceSystem=2;break;case r.OS.WINDOWS:t.DeviceSystem=3;break;default:t.DeviceSystem=0}t.CreateTime=new Date;var n="?AccountID="+t.AccountID+"&GameID="+t.GameID+"&GameVersion="+t.GameVersion+"&EventID="+t.EventID+"&EventValue="+t.EventValue+"&BrowserSystem="+t.BrowserSystem+"&DeviceSystem="+t.DeviceSystem+"&CreateTime="+t.CreateTime+"&SSOKey="+t.SSOKey+"&ApiId="+(this.m_apiIdString?this.m_apiIdString:t.ApiId)+"&LogIndex="+t.LogIndex,i=this.m_protocolList.get(s.PROTOCOL.VERIFY_EVENT);i?(i.onCommand||(i.onCommand=function(){}),i.onCommandError||(i.onCommandError=function(){})):e.getInstance().AddSetting(s.PROTOCOL.VERIFY_EVENT,e.CONNECT_TYPE.TYPE_HTTP,(function(){}),(function(){}),E.VERIFY_URL),this.SendCommand(s.PROTOCOL.VERIFY_EVENT,n)}},t(e,[{key:"IsCloseAutoChange",get:function(){return this.m_isCloseAutoChange}}]),e}());O.CONNECT_TYPE={TYPE_HTTP:1,TYPE_WEBSOCKET:2,MAX:3},O.HTTP_METHOD={TYPE_GET:"get",TYPE_POST:"post"},O._instance=new O,n._RF.pop()}}}));

System.register("chunks:///_virtual/ConnectionSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts"],(function(t){"use strict";var e,n,i,s,a;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){a=t.default}],execute:function(){s._RF.push({},"78e90FmBMVKHaAiB4a9kegO","ConnectionSpeed",void 0);var r=t("default",function(){function t(){this.m_speedData=[],this.m_avgSpeed=null,this.m_notifyCb={}}t.GetInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var s=t.prototype;return s.SetSpeedData=function(){var t=n(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.m_speedData.push(e),this.m_speedData.length>5&&(n=0,this.m_speedData.forEach((function(t){n=a.plus(n,t)})),this.m_avgSpeed=a.divide(n,this.m_speedData.length),this.m_speedData=new Array,this.NotifyAll());case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.AddSpeedNotify=function(t,e){this.m_notifyCb[t]=e},s.NotifyAll=function(){var t=n(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e in this.m_notifyCb)Object.prototype.hasOwnProperty.call(this.m_notifyCb,e)&&(n=this.m_notifyCb[e])&&n(this.m_avgSpeed);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.OnExit=function(){this.m_notifyCb={}},e(t,[{key:"AvgSpeed",get:function(){return this.m_avgSpeed}}]),t}());r._instance=new r,s._RF.pop()}}}));

System.register("chunks:///_virtual/ConnectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnvironmentConfig.ts","./MsgBox.ts","./Define.ts","./Tools.ts","./ConnectionSpeed.ts","./DataStruct.ts"],(function(t){"use strict";var e,n,o,a,s,i,r,c,u;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.log},function(t){a=t.default},function(t){s=t.default},function(t){i=t.default},function(t){r=t.default},function(t){c=t.default},function(t){u=t.ConnectionDataStruct}],execute:function(){n._RF.push({},"6cece1NubVKiYunxO18gQAl","ConnectManager",void 0);var l=function(t,e,n,o){this.content=void 0,this.callback=void 0,this.hasToken=void 0,this.isProto=void 0,this.content=t,this.callback=e,this.hasToken=n,this.isProto=o},m=t("default",function(){function t(){this.m_ip="",this.m_token="",this.m_isFirstSendRepeatLogin=!0,this.m_gameType="",this.m_isProto=!1,this.m_errorCallback=null,this.m_loginFailCallback=null,this.m_commands=new Array}t.GetInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var n=t.prototype;return n.SendCommand=function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var a=new l(t,e,n,o);n?(this.m_commands.push(a),1==this.m_commands.length&&this.ExecuteCommand(a)):this.ExecuteCommand(a)},n.ExecuteCommand=function(t){switch(t.content.Method){case u.RequestMethod.Get:""!=t.content.URL&&null!=t.content.info&&this.Get(t);break;case u.RequestMethod.Post:""!=t.content.URL&&null!=t.content.reqData&&this.Post(t);break;default:o("Error Request Method!!")}},n.ExecuteNext=function(){this.m_commands.shift(),this.m_commands.length>0&&this.ExecuteCommand(this.m_commands[0])},n.ErrorHandle=function(t){this.m_errorCallback&&this.m_errorCallback(t),this.ExecuteNext()},n.Get=function(t){var e=this,n=t.content.URL+"?";for(var o in t.content.info)"constructor"!=o&&(n+=o+"="+t.content.info[o]+"&");t.hasToken&&(n+="token="+this.m_token);var a=Date.now(),l=new XMLHttpRequest;l.open("GET",this.m_ip+n,!0),l.timeout=1e4,l.withCredentials=!0,l.onload=function(){if(4==l.readyState){if(l.status>=200&&l.status<300||304==l.status){var n=l.responseText;if(n){var o=JSON.parse(n);o.token&&(e.m_token=o.token),t.callback(o),e.ExecuteNext()}else t.callback(!1),e.ExecuteNext()}else t.content.Type===u.ErrorHandleType.Handle&&s.getInstance().ShowMessageBox(i.StringKey.MSGBOX_CONNECT_FAIL,i.StringKey.MSGBOX_TITLE_SYSTEM_INFO,r.CloseGameTab,r.GetErrorCode(i.ErrorStatus.Game,i.ErrorStatus.Unknow,l.status)),t.callback(!1),e.ExecuteNext();c.GetInstance().SetSpeedData(r.minus(Date.now(),a))}},l.ontimeout=function(){c.GetInstance().SetSpeedData(r.minus(Date.now(),a)),e.ErrorHandle(t.content.Type)},l.onerror=function(){c.GetInstance().SetSpeedData(r.minus(Date.now(),a)),e.ErrorHandle(t.content.Type)},l.send()},n.Post=function(t){var e=this,n=t.content.reqData instanceof Uint8Array?t.content.reqData:JSON.stringify(t.content.reqData),o=t.content.URL+"?";if(t.content.info)for(var a in t.content.info)"constructor"!=a&&(o+=a+"="+t.content.info[a]+"&");t.hasToken&&(o+="token="+this.m_token);var l=Date.now(),m=new XMLHttpRequest;(this.m_isProto||t.isProto)&&(m.responseType="arraybuffer"),m.open("POST",this.m_ip+o,!0),m.setRequestHeader("Content-Type",this.m_isProto||t.isProto?"application/x-protobuf":"application/json"),m.timeout=1e4,m.onload=function(){if(4==m.readyState){if(m.status>=200&&m.status<300||304==m.status){if(e.m_isProto||t.isProto){if(m.response)return t.callback(m.response),void e.ExecuteNext()}else if(m.responseText){var n=JSON.parse(m.responseText);return n.token&&(e.m_token=n.token),t.callback(n),void e.ExecuteNext()}t.callback(!1),e.ExecuteNext()}else"/account/login"===t.content.URL?e.m_loginFailCallback&&e.m_loginFailCallback():t.content.Type===u.ErrorHandleType.Handle&&s.getInstance().ShowMessageBox(i.StringKey.MSGBOX_CONNECT_FAIL,i.StringKey.MSGBOX_TITLE_SYSTEM_INFO,r.CloseGameTab,r.GetErrorCode(i.ErrorStatus.Game,i.ErrorStatus.Unknow,m.status)),t.callback(!1),e.ExecuteNext();c.GetInstance().SetSpeedData(r.minus(Date.now(),l))}},m.ontimeout=function(){c.GetInstance().SetSpeedData(r.minus(Date.now(),l)),e.ErrorHandle(t.content.Type)},m.onerror=function(){c.GetInstance().SetSpeedData(r.minus(Date.now(),l)),e.ErrorHandle(t.content.Type)},m.send(n)},n.SelectIp=function(){var t=a.ENV_TYPE,e=a.GAME_SERVER_URL;switch(t){case i.EVN.TEST:break;default:e+=this.m_gameType}this.m_ip=e},e(t,[{key:"Token",set:function(t){this.m_token=t}},{key:"GameType",set:function(t){this.m_gameType=t}},{key:"IsProto",set:function(t){this.m_isProto=t}},{key:"ErrorCb",set:function(t){this.m_errorCallback=t}},{key:"LoginFailCallback",set:function(t){this.m_loginFailCallback=t}}]),t}());m._instance=new m,n._RF.pop()}}}));

System.register("chunks:///_virtual/CurrcncyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./SoundManager.ts","./Define.ts","./CurrencyChange.ts"],(function(t){"use strict";var e,n,r,a,i,o,c,u,l,s,m,p,d,f,_,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,c=t.Sprite,u=t.Label,l=t.Button,s=t.Node,m=t.tween,p=t.Vec3,d=t.Component},function(t){f=t.default},function(t){_=t.default},function(t){b=t.default},function(t){h=t.default}],execute:function(){var T,y,C,g,N,v,E,S;i._RF.push({},"8cdd5ikCNtNZKQfT19e1A2u","CurrcncyItem",void 0);var w=o.ccclass,A=o.property,M=.05;t("default",(T=A(c),y=A(u),C=A(l),w((v=e((N=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"m_coinSprite",v,a(e)),r(e,"m_money",E,a(e)),r(e,"m_btn",S,a(e)),e.m_btncallback=void 0,e.m_id=void 0,e}n(e,t);var i=e.prototype;return i.start=function(){var t=this;this.node.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==h.CurrentTouchName&&t.m_btn.interactable?(h.CurrentTouchName=e.target.name,m(t.node).to(M,{scale:new p(.9,.9,1)}).start()):e.target&&0==e.target.active&&(h.CurrentTouchName=e.target.name)})),this.node.on(s.EventType.TOUCH_CANCEL,(function(e){m(t.node).to(M,{scale:new p(1,1,1)}).start(),h.CurrentTouchName==e.target.name&&(h.CurrentTouchName=null)})),this.node.on(s.EventType.TOUCH_END,(function(e){m(t.node).to(M,{scale:new p(1,1,1)}).start(),h.CurrentTouchName==e.target.name&&(h.CurrentTouchName=null,t.m_btn.interactable&&(_.getInstance().Play(b.AudioClips.COMMON_BTN),t.m_btncallback&&t.m_btncallback(t.m_id)))}))},i.setInfo=function(t,e,n){var r=t.coin,a=t.name;0==a.search("m")&&(r/=1e3,a=a.replace("m","")),this.m_money.string=f.FormatNumberThousands(f.strip(r),f.FORMAT_NUMBER_TYPE.PERMANENT_DOT)+" "+a,this.node.name=a,this.m_coinSprite.spriteFrame=e,this.m_id=t.id,this.m_btncallback=n},e}(d)).prototype,"m_coinSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(N.prototype,"m_money",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(N.prototype,"m_btn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=N))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/CurrencyChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrcncyItem.ts","./MsgBox.ts","./Define.ts","./Tools.ts","./LocaleStringManager.ts"],(function(t){"use strict";var e,i,n,o,r,a,l,s,m,c,u,h,f,b,_,p,g,C,d,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Label,s=t.ScrollView,m=t.Prefab,c=t.SpriteFrame,u=t.error,h=t.UITransform,f=t.instantiate,b=t.Animation,_=t.Component},function(t){p=t.default},function(t){g=t.default},function(t){C=t.default},function(t){d=t.default},function(t){w=t.default}],execute:function(){var v,L,y,I,S,W,R,T,V,N,x;r._RF.push({},"e42b6vaqdpDHLunjDqWkzLL","CurrencyChange",void 0);var E=a.ccclass,z=a.property;t("default",(v=z(l),L=z(p),y=z(s),I=z(m),E(((x=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_titleLabel",R,o(e)),n(e,"m_nowItem",T,o(e)),n(e,"m_scrollView",V,o(e)),n(e,"m_itemPrefab",N,o(e)),e.m_bottombar=void 0,e.m_itemList=void 0,e.coinTextures={},e}i(e,t),e.OnExit=function(){this.CurrentTouchName=null};var r=e.prototype;return r.start=function(){},r.Init=function(t,e){var i=this;this.m_bottombar=t,this.m_titleLabel.string=w.GetInstance().GetString(C.StringKey.CHANGE_CURRENCY_TITLE),this.m_bottombar.Wallet.List.forEach((function(t){var e=t.name.replace("m","");C.CommonBundle.load(d.GetFilePath("Astt/%s/multiCurrency/coin/"+e),c,(function(e,n){e?u(e):i.coinTextures[t.name]=n}))}))},r.Show=function(t){this.RefreshList(),this.node.active=!0,this.OnRotation(t,void 0)},r.Close=function(){this.node.active=!1},r.RefreshList=function(){var t=this;this.m_scrollView.content.getComponent(h).width=this.m_scrollView.node.getComponent(h).width,this.m_scrollView.content.removeAllChildren();var e=0,i=0;this.m_itemList=this.m_bottombar.Wallet.List;for(var n=0,o=0;o<this.m_itemList.length;o++)if(this.m_itemList[o].id==this.m_bottombar.Wallet.NowWalletId){n=o;break}var r=this.m_itemList.splice(n,1)[0];this.m_nowItem.setInfo(r,this.coinTextures[r.name],(function(e){t.ChangeWallet(e)})),this.m_itemList.forEach((function(n){var o=f(t.m_itemPrefab);e=o.getComponent(h).width,i=o.getComponent(h).height,t.m_scrollView.content.addChild(o),o.getComponent(p).setInfo(n,t.coinTextures[n.name],(function(e){t.ChangeWallet(e)}))})),this.m_scrollView.content.getComponent(h).height=Math.ceil(this.m_itemList.length/Math.floor(this.m_scrollView.content.getComponent(h).width/e))*i},r.ChangeWallet=function(t){this.m_bottombar.Wallet.ChangeNowCurrency(t),g.getInstance().ShowMessageBox(d.StringFormat(w.GetInstance().GetString(C.StringKey.CHANGE_CURRENCY),this.m_bottombar.Wallet.CurencyName)),this.m_bottombar.SetBetList(void 0,void 0,!0),this.m_bottombar.SetChips(this.m_bottombar.Wallet.RawCoin),this.m_bottombar.SetWinValue(0),this.Close()},r.OnRotation=function(t,e){t?this.getComponent(b).play("Info_L"):this.getComponent(b).play("Info_S")},e}(_)).CurrentTouchName=void 0,R=e((W=x).prototype,"m_titleLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(W.prototype,"m_nowItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(W.prototype,"m_scrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(W.prototype,"m_itemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=W))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyMission.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyMissionItem.ts","./LocaleStringManager.ts","./Define.ts","./SoundManager.ts","./Tools.ts","./NotificationManager.ts","./BottombarManager.ts","./LocalStorageManager.ts","./AppManager.ts","./MissionListView.ts","./GameLsitView.ts","./RedDiamondGet.ts","./GetRedLetter.ts","./GameIconComponent.ts","./DailyMissionManager.ts","./LevelManager.ts","./RookieHintManager.ts","./MissionBtn.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,m,l,c,u,h,d,p,f,g,_,I,T,C,y,S,v,D,b,L,M,w,N,G,R,E,A,P,k,x,F,O,B,V,z,U,K,H,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime,r=t.createClass},function(t){m=t.cclegacy,l=t._decorator,c=t.Node,u=t.Label,h=t.ScrollView,d=t.Prefab,p=t.Button,f=t.Sprite,g=t.v3,_=t.SpriteAtlas,I=t.UITransform,T=t.instantiate,C=t.Layout,y=t.Size,S=t.log,v=t.Animation,D=t.find,b=t.tween,L=t.Component},function(t){M=t.default,w=t.MissionDetailStatus},function(t){N=t.default},function(t){G=t.default},function(t){R=t.default},function(t){E=t.default},function(t){A=t.default},function(t){P=t.default},function(t){k=t.default},function(t){x=t.default},function(t){F=t.default},function(t){O=t.default},function(t){B=t.default},function(t){V=t.default},function(t){z=t.default},function(t){U=t.missionManager},function(t){K=t.default},function(t){H=t.HintLevel},function(t){W=t.default}],execute:function(){var Y,X,Z,j,J,q,Q,$,tt,et,it,nt,ot,st,at,rt,mt,lt,ct,ut,ht,dt,pt,ft,gt,_t,It,Tt,Ct,yt,St,vt,Dt,bt,Lt,Mt,wt,Nt,Gt,Rt,Et,At,Pt,kt;t("MissionType",void 0),m._RF.push({},"225aexmh9RCCbti5PKqZfXE","DailyMission",void 0);var xt,Ft=l.ccclass,Ot=l.property,Bt=[60,120,120],Vt="07:00",zt=t("LobbyMallCoinID",2e3),Ut=t("GameCoinID",6e3),Kt=t("TaDaBuffID",7e3),Ht=t("CollectCardID",8e3),Wt=(t("GiftID_MINI",9e5),t("GiftID_MAX",999999),t("MissionTypeNums",2)),Yt=t("EventType",{Open:1,Close:2,Active:3,Inactive:4}),Xt=["DailyMission_TheGame","DailyMission_OtherGame","DailyMission_Mission"];t("default",(Y=Ot([c]),X=Ot(c),Z=Ot(c),j=Ot([u]),J=Ot(h),q=Ot(d),Q=Ot(u),$=Ot([p]),tt=Ot(c),et=Ot(u),it=Ot({type:c,tooltip:"介面本體"}),nt=Ot({type:d,tooltip:"遊戲Icon"}),ot=Ot({type:c,tooltip:"頁簽"}),st=Ot({type:c,tooltip:"頁簽紅點"}),at=Ot({type:c,tooltip:"亮起的頁簽"}),rt=Ot({type:d,tooltip:"任務項目畫面"}),mt=Ot({type:d,tooltip:"遊戲項目畫面"}),lt=Ot({type:c,tooltip:"放置頁面"}),ct=Ot({type:f,tooltip:"標題"}),ut=Ot({type:f,tooltip:"頁簽標題-暗"}),ht=Ot({type:f,tooltip:"頁簽標題-亮"}),Ft((ft=e((pt=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"TitleText",ft,o(e)),n(e,"PageNode",gt,o(e)),n(e,"Mask",_t,o(e)),n(e,"RefreshText",It,o(e)),n(e,"ScrollView",Tt,o(e)),n(e,"ItemPrefab",Ct,o(e)),n(e,"PromoteText",yt,o(e)),n(e,"TypeButtons",St,o(e)),n(e,"FutureMissionNode",vt,o(e)),n(e,"FutureMissionTexts",Dt,o(e)),n(e,"m_mainNode",bt,o(e)),n(e,"m_gameIconPrefab",Lt,o(e)),n(e,"m_tabNodes",Mt,o(e)),n(e,"m_redPointNodes",wt,o(e)),n(e,"m_lightPageNodes",Nt,o(e)),n(e,"m_missionListPagePrefab",Gt,o(e)),n(e,"m_gameListPagePrefab",Rt,o(e)),n(e,"m_contentNode",Et,o(e)),n(e,"m_titleSprite",At,o(e)),n(e,"m_darkTabTitleSprites",Pt,o(e)),n(e,"m_lightTabTitleSprites",kt,o(e)),e.isShow=!1,e.actionStartTime=void 0,e.actionEndTime=void 0,e.missionListUI=[],e.icon=void 0,e.iconTime=void 0,e.crossDayTime=0,e.getNowMission=void 0,e.m_isLandscape=void 0,e.running=!1,e.lock=!1,e.curCompNum=0,e.curLockNum=0,e.hasRefreshMissionList=!0,e.retryTimes=0,e.m_controller=void 0,e.m_refreshTimer=0,e.m_getRdAniPrefab=void 0,e.m_getRdLetterAniPrefab=void 0,e.currentGameList={},e.m_thisGameView=null,e.m_gameListView=null,e.m_readList={},e.readKeyName="",e.m_missionAtlas=void 0,e.defaultSelectMissionType=void 0,e.m_missionBtn=void 0,e.m_needShowComplete=!1,e.m_isClose=!1,e._eventCb=[],e._dt=0,e}i(e,t);var m=e.prototype;return m.callEventCb=function(t){this._eventCb.forEach((function(e){e(t)}))},m.onLoad=function(){U.OnLoad(this)},m.onDestroy=function(){U.OnDestroy()},m.start=function(){this.RefreshText[0]&&(this.RefreshText[0].node.active=!0,N.IsChinese()||this.RefreshText[0].node.setScale(g(.75,this.RefreshText[0].node.scale.y,1)),E.SetFont(this.RefreshText[0])),this.FutureMissionTexts[0]&&E.SetFont(this.FutureMissionTexts[0])},m.update=function(t){if(!this.m_isClose&&(this._dt+=t,this._dt=this._dt>1?0:this._dt,0!=this._dt)){var e="";if(this.actionEndTime){this._dt=0;var i=new Date,n=this.actionEndTime.getTime()-i.getTime();n=n<0?0:n;var o=Math.floor(n/864e5),s=Math.floor(n/36e5)-24*o,a=Math.floor(n/6e4)-60*(24*o+s);this.iconTime&&this.iconTime.node.setScale(g(1,this.iconTime.node.scale.y,1)),0==n?(e=N.GetInstance().GetString(G.StringKey.RANK_END),this.running=!1):o>=1?e=o+"D "+s+"H":s>=1||a>=1?e=s+"H "+a+"m":(e=N.GetInstance().GetString(G.StringKey.RANK_LESS_X_MIN),!N.IsChinese()&&this.iconTime&&this.iconTime.node.setScale(g(.7,this.iconTime.node.scale.y,1))),this.m_refreshTimer+=t,this.m_refreshTimer>120&&(this.m_refreshTimer=0,this.checkAndRefreshMissionList())}else e=N.GetInstance().GetString(G.StringKey.DAILY_COMMING_SOON),!N.IsChinese()&&this.iconTime&&this.iconTime.node.setScale(g(.7,this.iconTime.node.scale.y,1));this.iconTime&&(this.iconTime.string=e),this.m_thisGameView&&this.m_thisGameView.SetTimeTxt(e),this.isShow||0!=this.crossDayTime&&(new Date).getTime()>this.crossDayTime&&(this.crossDayTime=0,this.updateMissionInfo())}},m.init=function(){var t=s(a().mark((function t(e,i,n,o,s,r){var m,l,c=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.loadAtlasFile(),new Promise((function(t){c.schedule((function i(){e.IsBackpackStringLoaded()&&(c.unschedule(i),t())}),1)}))]);case 2:this.getNowMission=i,this.icon=n,this.iconTime=o,E.SetFont(this.iconTime),this.m_missionBtn=n.Pic.getComponent(W),this.m_controller=e,this.readKeyName=G.AID+":DailyMissionReadList",this.m_readList=k.GetObject(this.readKeyName),null==this.m_readList&&(this.m_readList={}),this.m_mainNode.active=!1,m=T(this.m_missionListPagePrefab),this.m_contentNode.addChild(m),this.m_thisGameView=m.getComponent(F),this.m_thisGameView.Init(this.m_controller,this,this.m_missionAtlas,(function(){c.showDesc()})),l=T(this.m_gameListPagePrefab),this.m_contentNode.addChild(l),l.active=!1,this.m_gameListView=l.getComponent(O),this.m_thisGameView&&this.m_thisGameView.SetRefreshTxt(),this.OnRotation(this.m_controller.IsLandscape),E.IsTadaCasino&&K.GetInstance().LevelInfo.level<H.Mission&&(this.lock=!0),this.updateMissionInfo(!0),this.m_controller.SetTrialEndCb((function(){c.updateMissionInfo()})),x.LobbyData&&(G.CommonBundle.load(E.GetFilePath("Astt/%s/RedDiamond/Prefab/RedDiamond_Get"),d,(function(t,e){t||(c.m_getRdAniPrefab=e)})),G.CommonBundle.load(E.GetFilePathApiId("Astt/%s/RedDiamond/Prefab/RedDiamond_Letter"),d,(function(t,e){t||(c.m_getRdLetterAniPrefab=e)}))),r&&r();case 27:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o,s,a){return t.apply(this,arguments)}}(),m.OnSelectTab=function(t,e){var i=Number(e);if(!isNaN(i)){R.getInstance().Play(G.AudioClips.COMMON_BTN);for(var n=0;n<this.m_lightPageNodes.length;n++)this.m_lightPageNodes[n].active=i==n;0===i&&(this.m_redPointNodes[i].active=!1),this.ClickMissionPage(null,i.toString())}},m.loadAtlasFile=function(){var t=this;return new Promise((function(e){var i="/framework/dailyMission/dailymission";E.isIndia?i="/framework_india/dailyMission/dailymission":E.isIndia2&&(i="/dailymission_india2"),E.Line!==G.LineSetting.americas&&E.Line!==G.LineSetting.americas_str||(i="/framework_americas/dailyMission/dailymission");var n="AsttText/"+N.CurrLang+i;G.OtherBundle.load(n,_,(function(i,n){if(i)return console.error(i.message||i),void e();t.m_missionAtlas=n,t.SetTxt(),e()}))}))},m.CloseIcon=function(){this.icon&&(this.icon.Pic.active=!1,this.icon.Ani.node.active=!1,this.icon.Label.active=!1)},m.updateMissionInfo=function(t){var e=this;void 0===t&&(t=!1),this.getNowMission((function(i){i.OverDay,i.OverDayMin;var n=Date.now();if(e.actionStartTime=new Date(1e3*Number(i.StartTimestamp)),e.actionEndTime=new Date(1e3*Number(i.EndTimestamp)),(!i.EndTimestamp||Number(i.EndTimestamp)<=0||""==i.EndTimestamp)&&e.retryTimes>=Bt.length&&(e.m_isClose=!0),Vt=e.GetRefreshTime(),(E.isIndia||E.isIndia2)&&(Vt="05:30"),e.RefreshText[0]&&(e.RefreshText[0].string=N.GetInstance().GetString(G.StringKey.DAILY_REFRESH).replace("{time}",""+Vt)),e.running=e.actionStartTime.getTime()<n&&n<e.actionEndTime.getTime()&&i.DailyMissionList.length>0,e.icon.Pic.getComponent(p).interactable=!e.lock,e.running)e.m_controller&&!e.m_controller.IsInTrial&&(e.icon.Pic.active=!0,e.icon.Ani.node.active=!0,e.icon.Label.active=!E.IsTadaCasino,e.callEventCb(Yt.Active)),e.curCompNum=0,e.crossDayTime=e.actionStartTime.getTime()+864e5+5e3*Math.random(),e.m_isClose&&(e.crossDayTime=999999999),(null==e.m_readList||null==e.m_readList.updateTime||e.m_readList.updateTime<e.actionStartTime.getTime())&&(e.m_readList={list:[],updateTime:(new Date).getTime()},e.m_readList.list[2]={compNum:0,lockNum:0,total:0,isRead:!1}),e.m_readList.list[2].compNum<e.actionStartTime.getTime()&&(e.m_readList.list[2].isRead=!1,e.TypeButtons[2]&&(e.TypeButtons[2].node.getChildByName("red_point").active=!0)),e.TitleText[0]&&(e.TitleText[0].active=!0,e.TitleText[0].getComponent(f).spriteFrame=e.m_missionAtlas.getSpriteFrame("txt_title_task")),e.m_thisGameView?e.m_thisGameView.UpdateMissionList(i.DailyMissionList,i.ItemInfo,i.GiftInfo,t):e.updateMissionList(i.DailyMissionList,i.ItemInfo,i.GiftInfo),null==i.NextGameIDList&&(i.NextGameIDList=[]),e.updateFutureGameNode(i.NextGameIDList.sort((function(t,e){return t-e}))),e.updateMissionTypes(),A.GetInstance().UpdateMissionNotify(i);else{var o=new Date(e.actionEndTime);e.retryTimes<Bt.length?(e.crossDayTime=o.getTime()+1e3*Bt[e.retryTimes],e.retryTimes++):(o<=new Date&&o.setDate(o.getDate()+1),e.crossDayTime=o.getTime()+5e3*Math.random(),e.retryTimes=0,e.icon.Pic.active=!1,e.icon.Ani.node.active=!1,e.icon.Label.active=!1,e.callEventCb(Yt.Inactive))}}))},m.updateMissionTypes=function(){var t=0,e=-1;if(this.TypeButtons.length>0){this.TypeButtons.forEach((function(i,n){1==i.node.active&&(e=-1==e?n:e,t++)}));var i=this.TypeButtons[0].node.parent.getComponent(I).width/t;this.TypeButtons.forEach((function(t){t.node.getComponent(I).width=i}))}else this.m_tabNodes.forEach((function(i,n){1==i.active&&(e=-1==e?n:e,t++)}));null==this.defaultSelectMissionType&&(this.defaultSelectMissionType=e),this.isShow&&this.OnSelectTab(null,this.defaultSelectMissionType.toString())},m.updateMissionList=function(t,i,n){var o=this,s=[],a=[],r=[],m=[];t.forEach((function(t){t.CurrentCount>=t.TotalCount?a.push(t):t.Lock?r.push(t):100==t.Vip?s.push(t):m.push(t)})),m.sort((function(t,e){if(t.GameID.toString()==G.NOW_GAME_ID&&e.GameID.toString()!=G.NOW_GAME_ID)return-1;if(e.GameID.toString()==G.NOW_GAME_ID&&t.GameID.toString()!=G.NOW_GAME_ID)return 1;var i=t.CurrentCount/t.TotalCount;return e.CurrentCount/e.TotalCount-i})),t=s.concat(m,r,a);for(var l=0,c=[],u=0;u<Wt;u++)c.push({comp:0,lock:0,total:0});var h=0,d=0,p={};t.forEach((function(t,s){var a,r;o.missionListUI[s]?a=o.missionListUI[s]:(a=T(o.ItemPrefab),o.missionListUI[s]=a,a.getComponent(M).setRes(o.m_missionAtlas),o.ScrollView.content.addChild(a)),E.SetZIndex(a,s);var m=[];switch(E.IsTadaCasino&&(m=e.toGiftPackData(t,n,i)),r=t.ItemID==zt?t:e.toItemInfoData(i[t.ItemID]),m.length>0?a.getComponent(M).updateDataNew(t,m,o.m_controller,s):a.getComponent(M).updateData(t,r,o.m_controller)){case w.Complete:c[t.Show-1].comp++,h++;break;case w.Lock:c[t.Show-1].lock++,d++}c[t.Show-1].total++,l=a.getComponent(I).height,t.GameID.toString()==G.NOW_GAME_ID&&(o.defaultSelectMissionType=1),2==t.Show&&t.GameID&&(p[t.GameID.toString()]=!0)})),this.currentGameList=p;var f=this.ScrollView.content.getComponent(C).spacingY;this.ScrollView.content.getComponent(I).height=t.length*l+(t.length-1)*f,this.curLockNum=0,this.curCompNum=0;for(var g=0;g<Wt;g++){var _=this.m_readList.list[g];null==_&&(_={compNum:0,lockNum:0,total:0,isRead:!1},this.m_readList.list[g]=_),this.curCompNum+=_.compNum,this.curLockNum+=_.lockNum;var y=c[g];_.compNum==y.comp&&_.lockNum==y.lock&&_.total==y.total||(_.isRead=!1,this.TypeButtons[g].node.getChildByName("red_point").active=!0),_.compNum=y.comp,_.lockNum=y.lock,_.total=y.total,this.TypeButtons[g].node.active=!(0==y.total)}this.icon.Mode.active=!1;var S=!1;if(d!=this.curLockNum){var v=this.icon.Ani.getState("ButtonFX01_New");v&&!v.isPlaying&&(this.icon.Mode.active=!0,this.icon.Ani.stop(),this.icon.Ani.play("ButtonFX01_New")),S=!0}if(this.curLockNum=d,h>this.curCompNum&&0==S){var D=this.icon.Ani.getState("ButtonFX01_End");D&&!D.isPlaying&&(this.icon.Mode.active=!0,this.icon.Ani.stop(),this.icon.Ani.play("ButtonFX01_End"))}this.curCompNum=h;for(var b=t.length;b<this.missionListUI.length;b++)this.missionListUI[b]&&(this.missionListUI[b].destroy(),this.missionListUI[b]=null);this.ScrollView.scrollToTop()},m.ClickMissionPage=function(t,e){var i=this;null!=t&&R.getInstance().Play(G.AudioClips.COMMON_BTN);var n=parseInt(e);if(this.m_thisGameView)switch(this.m_mainNode.active=!0,n){case 0:case 1:this.switchMissionList(n),this.m_thisGameView.node.active=!0,this.m_gameListView.node.active=!1;break;case 2:this.m_gameListView.node.active=!0,this.m_thisGameView.node.active=!1}else 0==n||1==n?(this.switchMissionList(n),this.FutureMissionNode.active=!1,this.ScrollView.node.active=!0):2==n&&(this.FutureMissionNode.active=!0,this.ScrollView.node.active=!1,this.m_readList.list[n].compNum=(new Date).getTime());this.m_readList.list[n].isRead=!0,this.m_readList.updateTime=(new Date).getTime(),k.SetObject(this.readKeyName,this.m_readList),this.TypeButtons.length>0&&this.TypeButtons.forEach((function(t,e){e==n?(t.node.getChildByName("red_point").active=!1,t.interactable=!1):t.interactable=!0})),this.m_redPointNodes.length>0&&this.m_redPointNodes.forEach((function(t,e){e==n?(t.active=!1,i.m_tabNodes[e].getComponent(p).interactable=!1):i.m_tabNodes[e].getComponent(p).interactable=!0})),this.OnRotation(this.m_isLandscape)},m.switchMissionList=function(t){var e=this;if(this.m_thisGameView)this.m_thisGameView.SwitchMissionList(t);else{var i=0,n=0;this.missionListUI.forEach((function(o){if(null!=o){var s=o.getComponent(M),a=s.m_info;o.active=a.Show-1==t,o.active&&i++,s.status==w.Complete&&(e.scheduleOnce((function(){})),s.playCompAni()),n=o.getComponent(I).height}}));var o=this.ScrollView.content.getComponent(C).spacingY;this.ScrollView.content.getComponent(I).height=i*n+(i-1)*o}},m.updateFutureGameNode=function(t){var e=this;if(this.m_thisGameView)this.m_tabNodes[2]&&(this.m_tabNodes[2].active=!(0==t.length)),this.m_gameListView.SetInfo(this.crossDayTime,t);else{this.TypeButtons[2]&&(this.TypeButtons[2].node.active=!(0==t.length));var i=new Date(this.crossDayTime);this.FutureMissionTexts[0].string=E.StringFormat(N.GetInstance().GetString(G.StringKey.DAILY_TOMORROW),i.getDate()+"/"+(i.getMonth()+1));var n=this.FutureMissionNode.getComponent(h);n.content.removeAllChildren(),t.forEach(s(a().mark((function t(i){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E.Icons[i]){t.next=3;break}return t.next=3,new Promise((function(t){E.LoadIcon(N.CurrLang,i,(function(){t()}))}));case 3:o=null,e.m_gameIconPrefab?(o=T(e.m_gameIconPrefab),o.getComponent(z).SetGameIcon(E.Icons[i]),o.setScale(g(.585,.585,1))):((o=new c).addComponent(f).spriteFrame=E.Icons[i],o.getComponent(f).sizeMode=f.SizeMode.CUSTOM,o.getComponent(I).setContentSize(new y(130,130))),n.content.addChild(o);case 6:case"end":return t.stop()}}),t)}))));var o=this.ScrollView.content.getComponent(C).spacingY;n.content.getComponent(I).height=130*t.length+(t.length-1)*o}},m.refreshMissionList=function(t){var e=this;this.hasRefreshMissionList=!0,this.getNowMission((function(i){S("info",i),i.DailyMissionList&&(e.m_thisGameView?e.m_thisGameView.UpdateMissionList(i.DailyMissionList,i.ItemInfo,i.GiftInfo):e.updateMissionList(i.DailyMissionList,i.ItemInfo,i.GiftInfo),A.GetInstance().UpdateMissionNotify(i)),t&&t()}))},m.checkAndRefreshMissionList=function(t){return this.hasRefreshMissionList||this.refreshMissionList(t),!this.hasRefreshMissionList},m.openUI=function(){var t=this;if(this.running&&!this.isShow&&!this.lock){var e,i=G.AID+":"+G.MissionIsOpenedKey,n=k.GetBool(i);e=this.checkAndRefreshMissionList((function(){t.OnSelectTab(null,t.defaultSelectMissionType.toString()),t.OnRotation(t.m_isLandscape),!n&&E.IsTadaCasino&&t.m_controller.RookieHintManager&&(k.SetBool(i,!0),t.m_controller.RookieHintManager.CheckLevelHint(3.5,t.m_isLandscape))})),this.callEventCb(Yt.Open),this.isShow=!0,this.icon.Mode.active=!1,e||(this.OnSelectTab(null,this.defaultSelectMissionType.toString()),this.OnRotation(this.m_isLandscape))}},m.closeUI=function(){this.isShow&&(this.callEventCb(Yt.Close),this.isShow=!1,R.getInstance().Play(G.AudioClips.COMMON_BTN),this.m_controller.getComponent(P).CloseCommonText(),this.m_mainNode.active=!1)},m.isOpen=function(){return this.isShow},m.showDesc=function(){var t="",e=Object.keys(this.m_thisGameView?this.m_thisGameView.CurrentGameList:this.currentGameList);0==e.length?t=N.GetInstance().GetString(G.StringKey.DAILY_DESC_SINGLE_GAME):e.forEach((function(e,i){var n=N.GetInstance().GetGameName(Number(e));t=t+(0!=i?",":"")+n}));for(var i=N.GetInstance().GetString(G.StringKey.DAILY_DESC_CONTENT);-1!==i.search("{time}");)i=i.replace("{time}",Vt);for(;-1!==i.search("{ITEM_NAME}");)i=i.replace("{ITEM_NAME}",E.IsTada?N.GetInstance().GetString(G.StringKey.TADA_ITEM_NAME):N.GetInstance().GetString(G.StringKey.JILI_ITEM_NAME));this.m_controller.node.getComponent(P).OpenCommonText(N.GetInstance().GetString(G.StringKey.DAILY_DESC_TITLE),E.StringFormat(i,Vt,Vt,t,G.SERIES_GAME_NAME))},m.LockDailyEnable=function(t){this.running&&(this.lock=t,this.icon.Pic.getComponent(p).interactable=!this.lock,t&&this.closeUI())},m.SetTxt=function(){if(N.CurrLang!==G.Lang.EN&&this.m_missionAtlas){this.m_titleSprite&&(this.m_titleSprite.spriteFrame=this.m_missionAtlas.getSpriteFrame("DailyMission_Title"));for(var t=0;t<this.m_darkTabTitleSprites.length;t++)this.m_darkTabTitleSprites[t].spriteFrame=this.m_missionAtlas.getSpriteFrame(Xt[t]),this.m_lightTabTitleSprites[t].spriteFrame=this.m_missionAtlas.getSpriteFrame(Xt[t]+"_On")}},m.OnRotation=function(t){var e,i;this.m_isLandscape=t;var n=this.m_mainNode.getComponent(v);t?n.play("Clip_Common_TagFrame_Landscape"):n.play("Clip_Common_TagFrame_Portrait"),null==(e=this.m_thisGameView)||e.OnRotation(t),null==(i=this.m_gameListView)||i.OnRotation(t)},e.toItemInfoData=function(t){var e={};return t&&(e.icon=t.Icon,e.type=t.WinType,e.bet=t.Bet,e.title=t.ItemName,e.gameName=N.GetInstance().GetGameName(t.GameID),e.gameDesc=t.GameName,e.star=t.Star),e},e.toGiftPackData=function(t,e,i){var n=t.ItemID,o=t.ItemCount,s=t.ExtendID,a=[],r={ItemID:0,ItemCount:0,ExtendID:null,ItemInfo:null};if(e&&e[n])for(var m=e[n].List,l=0;l<m.length;l++){if(m[l].ItemID==zt||m[l].ItemID==Ut||m[l].ItemID==Kt||m[l].ItemID==Ht)r={ItemID:m[l].ItemID,ItemCount:m[l].ItemCount,ExtendID:m[l].ExtendID,ItemInfo:null};else{var c=this.toItemInfoData(i[m[l].ItemID]);r={ItemID:m[l].ItemID,ItemCount:m[l].ItemCount,ExtendID:m[l].ExtendID,ItemInfo:c}}a.push(r)}else{if(n==zt||n==Ut||n==Kt||n==Ht)r={ItemID:n,ItemCount:o,ExtendID:s,ItemInfo:null};else if(i&&i[n]){r={ItemID:n,ItemCount:o,ExtendID:null,ItemInfo:this.toItemInfoData(i[n])}}a.push(r)}return a},m.ConvertMissionList=function(t,e){var i=[];if(t&&t.length>0){for(var n=0,o=0;o<t.length;o++){var s=G.RewardInfoDataType.SLOT_ITEM,a=[null,null,null],r=null;switch(t[o].ItemID){case zt:s=G.RewardInfoDataType.RUBY;break;case Ut:s=G.RewardInfoDataType.COIN,n+=t[o].ItemCount,a[0]=e;break;case Kt:s=G.RewardInfoDataType.BUFF,r=t[o].ExtendID;break;case Ht:s=G.RewardInfoDataType.ALBUM_CARD,r=t[o].ExtendID;break;default:s=G.RewardInfoDataType.SLOT_ITEM,a[0]=t[o].ItemID}var m={data:{type:s,amount:t[o].ItemCount?t[o].ItemCount:1,value:a[0],value2:a[1],value3:a[2],value4:r}};i.push(m)}console.error("ConvertMissionList",JSON.stringify(i));var l=N.GetInstance().GetString(G.StringKey.SHOW_REWARD_MISSION);return x.SetRewardDatas(i,l),n}return 0},m.DecodeExtendID=function(t){var e=[0,0,0];return e[0]=t/1e5%1e3,e[1]=t/1e4%10,e[2]=t/10%1e3,e},m.ShowComplete=function(){if(console.error("ShowComplete",this.m_needShowComplete,this.m_thisGameView.UnlockString),this.m_needShowComplete){var t=this.m_thisGameView.UnlockString;this.m_missionBtn.ShowComplete(t),this.m_needShowComplete=!1,this.m_thisGameView.ResetCompList()}},m.ShowGetRedDiamond=function(t){var e=this;return new Promise((function(t){if(e.m_getRdAniPrefab&&e.m_getRdLetterAniPrefab){var i=e.m_isLandscape,n=e.m_controller.node,o=e.m_controller.getComponent(P).FloatViewSize,s=i?"Top":E.isIndia2?"Right":"Bottom",a=T(e.m_getRdAniPrefab);if(a.getComponent(B))a.getComponent(B).SetTxt();else{var r=D("Bg/Frame/TXT",a).getComponent(u),m=D("Bg/Frame/TXT02",a).getComponent(u);r.string=N.GetInstance().GetString(G.StringKey.REWARD_RUBY),m.string=N.GetInstance().GetString(G.StringKey.REWARD_CLICK_MALL),E.SetFont(r),E.SetFont(m)}a.position=E.DiffPos(n.getComponent(I).anchorPoint,i,n),n.addChild(a),E.SetZIndex(a,G.ZOrder.RANKING+2);var l=T(e.m_getRdLetterAniPrefab),c=D("Data/Node_GetDiamond",l);if(l.getComponent(V))l.getComponent(V).SetTxt(),c=l.getComponent(V).TargetNode;else{var h=D("Data/Num_Get",l);h.getComponent(u).string="",E.SetFont(h.getComponent(u))}switch(l.position=E.DiffPos(n.getComponent(I).anchorPoint,i,n),s){case"Top":l.position=l.position.add(g(200,o.height/2-40));break;case"Right":l.position=l.position.add(g(o.width/2-40,-200));break;case"Bottom":l.position=l.position.add(g(0,-o.height/2+40))}l.active=!1,n.addChild(l),E.SetZIndex(l,G.ZOrder.RANKING+1),R.getInstance().Play(G.AudioClips.ITEM_CARD_USE),a.getComponent(v).play("Clip_RedDiamond_Start"),a.getComponent(v).once(v.EventType.FINISHED,(function(){a.getComponent(v).play("Clip_RedDiamond_Loop"),G.Wait(e,.2).then((function(){var i="Top"==s?"L":"Bottom"==s?"S":"R";l.active=!0,l.getComponent(v).play("Clip_RedDiamond_Letter_"+i+"_Start"),a.getComponent(v).play("Clip_RedDiamond_Hit"),a.getComponent(v).once(v.EventType.FINISHED,(function(){var o=n.getComponent(I).convertToNodeSpaceAR(l.getComponent(I).convertToWorldSpaceAR(g(c.position)));l.getComponent(v).play("Clip_RedDiamond_Letter_"+i+"_Hit01");b(a).to(1,{position:g(o.add(g(0,-27.6))),scale:g(.2,.2,1)}).call((function(){a.removeFromParent(),l.getComponent(v).play("Clip_RedDiamond_Letter_"+i+"_Hit02"),l.getComponent(v).once(v.EventType.FINISHED,(function(){l.getComponent(v).play("Clip_RedDiamond_Letter_"+i+"_Idle"),G.Wait(e,.5).then((function(){l.getComponent(v).play("Clip_RedDiamond_Letter_"+i+"_End"),l.getComponent(v).once(v.EventType.FINISHED,(function(){l.removeFromParent(),t()}))}))}))})).start()}))}))}))}else t()}))},m.GetRefreshTime=function(){if(this.actionEndTime)return(this.actionEndTime.getHours()>=10?this.actionEndTime.getHours().toString():"0"+this.actionEndTime.getHours())+":"+(this.actionEndTime.getMinutes()>=10?this.actionEndTime.getMinutes().toString():"0"+this.actionEndTime.getMinutes());var t=Date.now(),e=new Date(t),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(i);return(n.getHours()>=10?n.getHours().toString():"0"+n.getHours())+":"+(n.getMinutes()>=10?n.getMinutes().toString():"0"+n.getMinutes())},r(e,[{key:"TabNodes",get:function(){return this.m_tabNodes}},{key:"RedPointNodes",get:function(){return this.m_redPointNodes}},{key:"IconNodes",get:function(){return this.icon}},{key:"IsLandscape",get:function(){return this.m_isLandscape}},{key:"ReadList",get:function(){return this.m_readList}},{key:"MissionBtn",get:function(){return this.m_missionBtn}},{key:"NeedShowComplete",set:function(t){this.m_needShowComplete=t}},{key:"eventCb",set:function(t){null==t?this._eventCb=[]:this._eventCb.push(t)}}]),e}(L)).prototype,"TitleText",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(pt.prototype,"PageNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(pt.prototype,"Mask",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(pt.prototype,"RefreshText",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(pt.prototype,"ScrollView",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(pt.prototype,"ItemPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(pt.prototype,"PromoteText",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(pt.prototype,"TypeButtons",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=e(pt.prototype,"FutureMissionNode",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(pt.prototype,"FutureMissionTexts",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=e(pt.prototype,"m_mainNode",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(pt.prototype,"m_gameIconPrefab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(pt.prototype,"m_tabNodes",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=e(pt.prototype,"m_redPointNodes",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=e(pt.prototype,"m_lightPageNodes",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=e(pt.prototype,"m_missionListPagePrefab",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(pt.prototype,"m_gameListPagePrefab",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(pt.prototype,"m_contentNode",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(pt.prototype,"m_titleSprite",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(pt.prototype,"m_darkTabTitleSprites",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=e(pt.prototype,"m_lightTabTitleSprites",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=pt))||dt));!function(t){t[t.Common=0]="Common",t[t.Game=1]="Game"}(xt||(xt=t("MissionType",{}))),m._RF.pop()}}}));

System.register("chunks:///_virtual/DailyMissionItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./SoundManager.ts","./ItemList.ts","./Tools.ts","./MsgBox.ts","./LifeSocket.ts","./BottombarManager.ts","./DailyMissionRewardCell.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,l,m,c,u,p,d,h,_,g,f,y,I,T,b,C,S,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Animation,l=t.Node,m=t.Label,c=t.RichText,u=t.Sprite,p=t.ProgressBar,d=t.SpriteFrame,h=t.color,_=t.Component},function(t){g=t.default},function(t){f=t.default},function(t){y=t.default},function(t){I=t.default},function(t){T=t.default},function(t){b=t.default},function(t){C=t.default},function(t){S=t.default},function(t){N=t.default}],execute:function(){var w,v,D,G,x,M,R,L,A,F,E,B,k,P,z,O,K,V,Y,H,J,W,U,X,j,q,Q,Z,$,tt,et,it,nt,ot,at,rt,st,lt,mt,ct,ut,pt,dt,ht,_t,gt,ft,yt,It,Tt,bt,Ct,St,Nt,wt,vt;t({MissionDetailStatus:void 0,MissionRewardType:void 0}),a._RF.push({},"d3c6fa546BI5KTS3cfwtT0w","DailyMissionItem",void 0);var Dt,Gt,xt=r.ccclass,Mt=r.property,Rt=["Txt_taskicon_JILI","Txt_taskicon_specificgame","Txt_taskicon_limitedtime","Txt_taskicon_VIP","Txt_taskicon_SP"],Lt=["DailyMission_TagName_Brand","DailyMission_TagName_Game","DailyMission_TagName_Time","DailyMission_TagName_VIP","DailyMission_TagName_SP"],At=1,Ft=2;t("default",(w=Mt(s),v=Mt({type:l,tooltip:"底圖"}),D=Mt({type:m,tooltip:"任務標題"}),G=Mt({type:c,tooltip:"任務條件"}),x=Mt({type:m,tooltip:"獎勵項目資訊"}),M=Mt({type:m,tooltip:"獎勵項目"}),R=Mt({type:u,tooltip:"紅鑽圖示"}),L=Mt({type:p,tooltip:"任務進度"}),A=Mt({type:m,tooltip:"任務進度提示"}),F=Mt({type:l,tooltip:"類型標籤,[jili,specific,limite,vip,sp]"}),E=Mt({type:u,tooltip:"標籤多語系"}),B=Mt({type:l,tooltip:"完成提示"}),k=Mt({type:l,tooltip:"禁用提示"}),P=Mt({type:l,tooltip:"跳轉"}),z=Mt(u),O=Mt({type:d,tooltip:"進度條圖片，1為0.1以下使用"}),K=Mt({type:l,tooltip:"特效"}),V=Mt({type:l,tooltip:"紅鑽"}),Y=Mt({type:m,tooltip:"紅鑽數量"}),H=Mt({type:l,tooltip:"道具卡"}),J=Mt({type:u,tooltip:"道具卡icon"}),W=Mt({type:m,tooltip:"道具卡數量"}),U=Mt({type:l,tooltip:"資訊按鈕"}),X=Mt({type:l,tooltip:"獎勵面板3個以上用"}),j=Mt({type:l,tooltip:"獎勵面板3個以上用背景 0:會變長 1:固定長度"}),q=Mt({type:N,tooltip:"單個獎勵資訊"}),Q=Mt({type:m,tooltip:"Reward或GameType"}),xt((tt=e(($=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"ani",tt,o(e)),n(e,"m_bgNodes",et,o(e)),n(e,"GameText",it,o(e)),n(e,"ConditionText",nt,o(e)),n(e,"RewardInfoText",ot,o(e)),n(e,"RewardTexts",at,o(e)),n(e,"RewardImg",rt,o(e)),n(e,"Progress",st,o(e)),n(e,"ProgressText",lt,o(e)),n(e,"TypeTag",mt,o(e)),n(e,"m_tagNameSprites",ct,o(e)),n(e,"CompNode",ut,o(e)),n(e,"LockNode",pt,o(e)),n(e,"RedictNode",dt,o(e)),n(e,"gameIcon",ht,o(e)),n(e,"ProgressBarSpriteFrame",_t,o(e)),n(e,"FxNode",gt,o(e)),n(e,"m_redDiamondNode",ft,o(e)),n(e,"m_redDiamondNum",yt,o(e)),n(e,"m_itemNode",It,o(e)),n(e,"m_itemIconSprite",Tt,o(e)),n(e,"m_itemNumLabel",bt,o(e)),n(e,"m_infoBtnNode",Ct,o(e)),n(e,"m_rewardLayout",St,o(e)),n(e,"m_over3Back",Nt,o(e)),n(e,"m_rewardCell",wt,o(e)),n(e,"m_rewardOrTypeTxt",vt,o(e)),e.m_itemInfo=void 0,e.m_giftPackInfo=[],e.m_extraManager=void 0,e.rewardType=void 0,e.m_info=void 0,e.m_langAtlas=void 0,e.status=null,e.tweenComp=void 0,e.m_itemNum=0,e.m_isLandscape=!1,e.m_closeAllRewardLayoutCb=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){this.RewardInfoText[0]&&(this.RewardInfoText[0].node.active=!0,this.RewardInfoText[0].string=g.GetInstance().GetString(f.StringKey.DAILY_REWARD),T.SetFont(this.RewardInfoText[0])),this.m_rewardOrTypeTxt&&(this.m_rewardOrTypeTxt.string=""),T.SetFont(this.ConditionText[0]),T.SetFont(this.ConditionText[1]),T.SetFont(this.GameText[0]),T.SetFont(this.RewardTexts[0]),T.SetFont(this.ProgressText)},a.OnRotation=function(t){this.m_isLandscape=t,t?(this.node.getComponent(s).play("Clip_DailyMission_MissionCell_Landscape"),this.FxNode.getComponent(s).play("Clip_DailyMission_Special_FX_Landscape"),this.m_giftPackInfo&&this.m_over3Back[0]&&(this.m_giftPackInfo.length>4?(this.m_over3Back[0].active=!1,this.m_over3Back[1].active=!0):(this.m_over3Back[0].active=!0,this.m_over3Back[1].active=!1))):(this.node.getComponent(s).play("Clip_DailyMission_MissionCell_Portrait"),this.FxNode.getComponent(s).play("Clip_DailyMission_Special_FX_Portrait"),this.m_giftPackInfo&&this.m_over3Back[0]&&(this.m_giftPackInfo.length>2?(this.m_over3Back[0].active=!1,this.m_over3Back[1].active=!0):(this.m_over3Back[0].active=!0,this.m_over3Back[1].active=!1)))},a.setRes=function(t,e){var i=this;this.m_langAtlas=t,this.TypeTag.forEach((function(t,e){t.getChildByName("txt")&&(t.getChildByName("txt").getComponent(u).spriteFrame=i.m_langAtlas.getSpriteFrame(Rt[e])),i.m_tagNameSprites[e]&&(i.m_tagNameSprites[e].spriteFrame=i.m_langAtlas.getSpriteFrame(Lt[e]))})),e&&(this.m_closeAllRewardLayoutCb=e)},a.CloseRewardLayout=function(){this.m_rewardLayout&&(this.m_rewardLayout.active=!1)},a.updateData=function(t,e,i,n){if(this.m_info=t,this.m_extraManager=i,this.RewardImg.node.active=!1,this.tweenComp&&(this.tweenComp.stop(),this.tweenComp=null),this.CompNode.active=!1,g.IsChinese()?(this.ConditionText[0].node.active=!0,this.ConditionText[0].string=t.ConditionDesc,this.ConditionText[0].fontFamily=f.DollarFontFamily):(this.ConditionText[1].node.active=!0,this.ConditionText[1].string=t.ConditionDesc,this.ConditionText[1].fontFamily=f.DollarFontFamily),t.Show==Ft&&t.GameID)this.RewardTexts[0].string=g.GetInstance().GetGameName(t.GameID),this.RedictNode.active=t.GameID.toString()!=f.NOW_GAME_ID&&!T.CheckSwitchOff(f.SwitchOffKeyDefine.AllChangeGameImport);else{var o=g.GetInstance().GetString(T.IsTada?f.StringKey.BRAND_TADA:f.StringKey.BRAND_JILI),a=g.GetInstance().GetString(f.StringKey.DAILY_PLAY_SLOT_GAME).replace("{0}",o);this.RewardTexts[0].string=T.StringFormat(a,f.SERIES_GAME_NAME),this.RedictNode.active=!1}return 100==t.Vip?this.FxNode.active=!0:this.FxNode.active=!1,this.LockNode.active=1==t.Lock,this.TypeTag.forEach((function(t,e){t.active=!1})),100==t.Vip?this.TypeTag[4].active=!0:t.Show==At?this.TypeTag[0].active=!0:t.Show==Ft&&(this.TypeTag[1].active=!0),e.ItemID?this.updateDataCoin(e):(this.rewardType=Dt.Item,this.updateDataItemCard(e,t.ItemCount,n)),this.m_info.Show===Ft&&this.m_infoBtnNode&&(this.m_infoBtnNode.active=!1),this.updateProgress(t)},a.updateDataNew=function(t,e,i,n){var o=this;if(this.m_info=t,e&&(this.m_giftPackInfo=e),this.m_extraManager=i,this.RewardImg.node.active=!1,this.tweenComp&&(this.tweenComp.stop(),this.tweenComp=null),this.CompNode.active=!1,g.IsChinese()?(this.ConditionText[0].node.active=!0,this.ConditionText[0].string=t.ConditionDesc,this.ConditionText[0].fontFamily=f.DollarFontFamily):(this.ConditionText[1].node.active=!0,this.ConditionText[1].string=t.ConditionDesc,this.ConditionText[1].fontFamily=f.DollarFontFamily),t.Show==Ft&&t.GameID)this.RewardTexts[0].string=g.GetInstance().GetGameName(t.GameID),this.RedictNode.active=t.GameID.toString()!=f.NOW_GAME_ID&&!T.CheckSwitchOff(f.SwitchOffKeyDefine.AllChangeGameImport);else{var a=g.GetInstance().GetString(T.IsTada?f.StringKey.BRAND_TADA:f.StringKey.BRAND_JILI),r=g.GetInstance().GetString(f.StringKey.DAILY_PLAY_SLOT_GAME).replace("{0}",a);this.RewardTexts[0].string=T.StringFormat(r,f.SERIES_GAME_NAME),this.RedictNode.active=!1}100==t.Vip?this.FxNode.active=!0:this.FxNode.active=!1,this.LockNode.active=1==t.Lock,this.TypeTag.forEach((function(t,e){t.active=!1})),100==t.Vip?this.TypeTag[4].active=!0:t.Show==At?this.TypeTag[0].active=!0:t.Show==Ft&&(this.TypeTag[1].active=!0),this.m_rewardCell[0].CleanGiftCb();for(var s=1;s<this.m_rewardCell.length;s++)this.m_rewardCell[s].node.active=!1;var l=0;if(e.length>1){this.m_rewardCell[l].SetGiftBox((function(t){o.m_closeAllRewardLayoutCb&&o.m_closeAllRewardLayoutCb(),o.m_rewardLayout.active=t,o.OnRotation(o.m_isLandscape)}),this.m_itemNode),l=1}for(var m=0;m<e.length;m++){var c=e[m].ItemInfo?e[m].ItemID:null,u=null;0==l&&(u=this.m_itemNode),this.m_rewardCell[l].SetCellRes(e[m],i,u,c),l++}return this.m_info.Show===Ft&&this.m_infoBtnNode&&(this.m_infoBtnNode.active=!1),this.updateProgress(t)},a.updateDataCoin=function(t){2e3==t.ItemID&&(this.rewardType=Dt.LobbyMallCoin,this.m_itemNode&&this.m_redDiamondNode&&(this.m_redDiamondNode.active=!0,this.m_itemNode.active=!1,this.m_itemNumLabel.node.active=!1,this.m_redDiamondNum&&(this.m_redDiamondNum.string=t.ItemCount.toString())))},a.updateDataItemCard=function(t,e,i){var n=this;if(this.m_itemInfo=t,this.m_itemNum=e,this.m_itemInfo.bet=this.m_extraManager.GetDisplayValue(this.m_itemInfo.bet),8!=t.star&&7!=t.star&&6!=t.star){var o=g.GetInstance().GetString(f.StringKey.DAILY_COMMON_ITEM);t.title=o.replace("{ITEM_NAME}",T.IsTada?g.GetInstance().GetString(f.StringKey.TADA_ITEM_NAME):g.GetInstance().GetString(f.StringKey.JILI_ITEM_NAME)),t.title=T.CustomStringFormat(t.title,{Star:I.GetInstance().GetStar(t.star?t.star:0)})}this.m_itemNode&&this.m_redDiamondNode&&(this.m_itemNode.active=!0,this.m_itemNumLabel.node.active=!0,this.m_redDiamondNode.active=!1,this.m_itemNumLabel.string=1===e?"":"*"+e.toString(),I.GetInstance().GetGameSpriteAtlas()||void 0===i?this.m_itemIconSprite.spriteFrame=I.GetInstance().GetItemIcon(t.icon):I.GetInstance().AddListener(i.toString(),(function(){n.m_itemIconSprite.spriteFrame=I.GetInstance().GetItemIcon(t.icon)})))},a.updateProgress=function(t){var e=t.CurrentCount/t.TotalCount;e<.1?(this.Progress.barSprite.type=u.Type.TILED,this.Progress.barSprite.spriteFrame=this.ProgressBarSpriteFrame[1]):(this.Progress.barSprite.type=u.Type.SLICED,this.Progress.barSprite.spriteFrame=this.ProgressBarSpriteFrame[0]),this.Progress.progress=e,this.ProgressText.string="("+(t.CurrentCount>t.TotalCount?t.TotalCount:t.CurrentCount)+"/"+t.TotalCount+")";var i=t.Show==At&&100!=t.Vip?"p":"g";return 2===this.m_bgNodes.length&&(this.m_bgNodes[0].active=!0,this.m_bgNodes[1].active=!1),t.CurrentCount>=t.TotalCount?(2!=this.m_bgNodes.length&&(this.ani.play("DailyMissionList_Com_"+i),this.RewardTexts[0].color=h(255,0,0)),this.status=Gt.Complete):0==t.Lock?(2!=this.m_bgNodes.length&&(this.ani.play("DailyMissionList_Def_"+i),this.RewardTexts[0].color=h(255,0,0)),this.status=Gt.Running):(2!=this.m_bgNodes.length&&(this.ani.play("DailyMissionList_Def_"+i),this.RewardTexts[0].color=h(255,0,0)),this.status=Gt.Lock),this.status},a.showInfo=function(){var t=this.m_extraManager.node.getComponent(S);if(t)switch(this.rewardType){case Dt.Item:var e=I.GetInstance().GetItemIcon(this.m_itemInfo.icon),i=this.m_itemInfo.gameName,n=T.shallowCopy(this.m_itemInfo),o=I.GetInstance().GetItemInfoText(n,2),a=g.GetInstance().GetString(f.StringKey.BACKPACK_TXT_INFO)+"\n"+o.gameDesc;t.OpenCommonText(this.m_itemInfo.title,a,i,e,this.m_itemNum);break;case Dt.LobbyMallCoin:var r=g.GetInstance().GetString(f.StringKey.REWARD_RUBY_DESC);r=r.replace("{ITEM_NAME}",T.IsTada?g.GetInstance().GetString(f.StringKey.TADA_ITEM_NAME):g.GetInstance().GetString(f.StringKey.JILI_ITEM_NAME)),t.OpenCommonText(g.GetInstance().GetString(f.StringKey.REWARD_RUBY_TITLE),r)}this.m_extraManager.RookieHintManager&&this.m_extraManager.RookieHintManager.CloseHint(f.RookieHintType.MISSION_MENU),y.getInstance().Play(f.AudioClips.COMMON_BTN)},a.redictToOtherGame=function(){var t=this.m_info.GameID,e=g.GetInstance().GetGameName(t);b.getInstance().ShowFullMessageBox(f.StringKey.CHANGE_GAME_HINT,f.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[e],(function(){C.GetInstance().ReqUrl(t,f.BTN_CLICK_EVENT.MISSION_OTHER_GAME)}))},a.playCompAni=function(){this.CompNode.active=!0},e}(_)).prototype,"ani",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e($.prototype,"m_bgNodes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e($.prototype,"GameText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e($.prototype,"ConditionText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e($.prototype,"RewardInfoText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e($.prototype,"RewardTexts",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e($.prototype,"RewardImg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"Progress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e($.prototype,"ProgressText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e($.prototype,"TypeTag",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e($.prototype,"m_tagNameSprites",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e($.prototype,"CompNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e($.prototype,"LockNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e($.prototype,"RedictNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e($.prototype,"gameIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e($.prototype,"ProgressBarSpriteFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e($.prototype,"FxNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e($.prototype,"m_redDiamondNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e($.prototype,"m_redDiamondNum",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e($.prototype,"m_itemNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e($.prototype,"m_itemIconSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e($.prototype,"m_itemNumLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e($.prototype,"m_infoBtnNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e($.prototype,"m_rewardLayout",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e($.prototype,"m_over3Back",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=e($.prototype,"m_rewardCell",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=e($.prototype,"m_rewardOrTypeTxt",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));!function(t){t[t.Item=0]="Item",t[t.LobbyMallCoin=1]="LobbyMallCoin"}(Dt||(Dt=t("MissionRewardType",{}))),function(t){t[t.Running=0]="Running",t[t.Complete=1]="Complete",t[t.Lock=2]="Lock"}(Gt||(Gt=t("MissionDetailStatus",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/DailyMissionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectManager.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./MissionProtocal.ts","./Wallet.ts","./missionCProto.mjs_cjs=&original=.js","./gaiaProto.mjs_cjs=&original=.js","./GaiaManager.ts","./gaiaProto.js","./missionCProto.js"],(function(n){"use strict";var i,s,t,o,e,a,r,u,l,c,m,f,h,g;return{setters:[function(n){i=n.createClass,s=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){o=n.cclegacy,e=n.log},function(n){a=n.default},function(n){r=n.default},function(n){u=n.default},function(n){l=n.default},function(n){c=n.MissionReqData},function(n){m=n.walletManger},null,null,function(n){f=n.gaiaManager},function(n){h=n.default},function(n){g=n.default}],execute:function(){o._RF.push({},"f9855eVGsFO57gbC57nUAEp","DailyMissionManager",void 0);n("missionManager",new(function(){function n(){this.m_mission=null,this.m_createViewCb=null}var o=n.prototype;return o.OnLoad=function(n){this.m_mission=n},o.OnDestroy=function(){this.m_mission=null},o.init=function(n,i,s,t,o,e){var a;null==(a=this.m_mission)||a.init(n,i,s,t,o,e)},o.NewInit=function(){var n;e("New Init",this.m_createViewCb);null==(n=this.m_createViewCb)||n.call(this,"",(function(n){var i=new h.gaiaProto.MissionDailyReq;i.aid=Number(r.APP.GetAID()),i.token=r.APP.GetAToken(),i.lang=l.ConvertLanguageToFull(u.CurrLang),i.isNow=!0,m.HasWallet&&(i.currencynumber=m.CurencyID),e("getNowDailyMissionInfo",i);var s=new c.GetDailyMission;s.reqData=h.gaiaProto.MissionDailyReq.encode(i).finish(),a.GetInstance().SendCommand(s,(function(i){f.CheckAck(i,(function(i,s){var t=g.missionProto.DailyMissionDataResponse.decode(s);if(e("getNowDailyMissionInfo",t),(null==t.error||0==t.error)&&t.messageb){var o=g.missionProto.DailyMissionInfo.decode(t.messageb);n(o)}}))}),!1,!0)}),(function(){}))},o.OnRotation=function(n){var i;null==(i=this.m_mission)||i.OnRotation(n)},o.ConvertMissionList=function(n,i){return this.m_mission?this.m_mission.ConvertMissionList(n,i):0},o.ShowGetRedDiamond=function(){var n=s(t().mark((function n(i){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.m_mission){n.next=3;break}return n.next=3,this.m_mission.ShowGetRedDiamond(i);case 3:case"end":return n.stop()}}),n,this)})));return function(i){return n.apply(this,arguments)}}(),o.OpenUI=function(){var n;null==(n=this.m_mission)||n.openUI()},o.CloseIcon=function(){var n;null==(n=this.m_mission)||n.CloseIcon()},o.RefreshMissionList=function(n){var i;null==(i=this.m_mission)||i.refreshMissionList((function(){null==n||n()}))},o.LockDailyEnable=function(n){var i;null==(i=this.m_mission)||i.LockDailyEnable(n)},o.ShowComplete=function(){var n;null==(n=this.m_mission)||n.ShowComplete()},i(n,[{key:"CreateViewCb",set:function(n){this.m_createViewCb=n}},{key:"HasMission",get:function(){return!!this.m_mission}},{key:"HasRefreshMissionList",set:function(n){this.m_mission&&(this.m_mission.hasRefreshMissionList=n)}},{key:"EventCb",set:function(n){this.m_mission&&(this.m_mission.eventCb=n)}}]),n}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/DailyMissionRewardCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./SoundManager.ts","./ItemList.ts","./Tools.ts","./BottombarManager.ts","./DailyMission.ts","./AppManager.ts","./BuffManager.ts"],(function(t){"use strict";var e,i,n,r,o,a,m,s,f,u,c,_,l,d,p,I,h,g,b,N,S,C,v,y,G,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,m=t._decorator,s=t.Animation,f=t.Sprite,u=t.Label,c=t.Node,_=t.SpriteAtlas,l=t.v3,d=t.Component},function(t){p=t.default},function(t){I=t.default},function(t){h=t.default},function(t){g=t.default},function(t){b=t.default},function(t){N=t.default},function(t){S=t.CollectCardID,C=t.TaDaBuffID,v=t.GameCoinID,y=t.LobbyMallCoinID},function(t){G=t.default},function(t){D=t.default}],execute:function(){var w,T,M,A,B,E,O,R,x,F,L,k,K,z,H,P,U,W;a._RF.push({},"ca6c3Y8c19CTrjLAA4VDLu5","DailyMissionRewardCell",void 0);var Y=m.ccclass,j=m.property,J=["DailyMission_Icon_Coin_","DailyMission_Icon_Ruby_","DailyMission_Icon_gift","Collection_card_06_b"];t("default",(w=j(s),T=j({type:f,tooltip:"道具卡圖"}),M=j({type:u,tooltip:"道具卡張數"}),A=j({type:f,tooltip:"獎項圖片"}),B=j({type:u,tooltip:"獎勵數目"}),E=j({type:c,tooltip:"禮包"}),O=j({type:c,tooltip:"禮包 i"}),R=j({type:_,tooltip:"合圖"}),Y((L=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"ani",L,r(e)),n(e,"m_cardSprite",k,r(e)),n(e,"m_cardNum",K,r(e)),n(e,"m_rewardSprite",z,r(e)),n(e,"m_rewardNum",H,r(e)),n(e,"m_gift",P,r(e)),n(e,"m_giftInfoIcon",U,r(e)),n(e,"m_missionAtlas",W,r(e)),e.m_giftInfo=void 0,e.m_itemInfo=void 0,e.m_extraManager=void 0,e.m_isGiftBox=!1,e.m_giftBoxOpenCb=null,e.m_isOpen=!1,e.m_itemNum=0,e.m_buffNode=null,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this;this.node.on(c.EventType.TOUCH_END,(function(e){t.m_giftBoxOpenCb?(t.m_isOpen=!t.m_isOpen,t.m_giftBoxOpenCb(t.m_isOpen)):t.ShowInfo()}))},a.OnRotation=function(t){},a.CleanGiftCb=function(){this.m_giftBoxOpenCb=null},a.SetGiftBox=function(t,e){this.m_buffNode&&(this.m_buffNode.removeFromParent(),D.GetInstance().ReturnBuffNode(this.m_buffNode,this.m_buffNode.name),this.m_buffNode=null),this.m_giftBoxOpenCb=t,this.m_isGiftBox=!0,this.m_gift.active=!0,this.m_giftInfoIcon.active=!0,this.m_cardSprite.node.active=!1,this.m_cardNum.node.active=!1,this.m_rewardSprite.node.active=!1,this.m_rewardNum.node.active=!1,e&&(e.active=!1)},a.SetCellRes=function(t,e,i,n){var r=this;this.m_buffNode&&(this.m_buffNode.removeFromParent(),D.GetInstance().ReturnBuffNode(this.m_buffNode,this.m_buffNode.name),this.m_buffNode=null),this.node.active=!0,this.m_gift.active=!1,this.m_giftInfoIcon.active=!1,this.m_giftInfo=t,this.m_extraManager=e,t.ItemInfo&&(this.m_itemInfo=t.ItemInfo);var o=t.ItemID;if(t.ItemInfo)this.m_cardSprite.node.active=!0,this.m_cardNum.node.active=!0,this.m_rewardSprite.node.active=!1,this.m_rewardNum.node.active=!1,!g.GetInstance().GetGameSpriteAtlas()&&n?g.GetInstance().AddListener(n.toString(),(function(){r.m_cardSprite.spriteFrame=g.GetInstance().GetItemIcon(t.ItemInfo.icon)})):this.m_cardSprite.spriteFrame=g.GetInstance().GetItemIcon(t.ItemInfo.icon),this.m_cardNum.string=t.ItemCount.toString();else{this.m_cardSprite.node.active=!1,this.m_cardNum.node.active=!1,this.m_rewardSprite.node.active=!0,this.m_rewardNum.node.active=!0;var a,m="",s=0;switch(o){case y:m=J[1]+"4",a=this.m_missionAtlas.getSpriteFrame(m),this.m_rewardSprite.spriteFrame=a,s=t.ItemCount,i&&(i.active=!1),this.m_rewardNum.string=s>0?s.toString():"";break;case v:m=J[0]+"4",a=this.m_missionAtlas.getSpriteFrame(m),this.m_rewardSprite.spriteFrame=a,s=t.ItemCount,i&&(i.active=!1),this.m_rewardNum.string=s>0?s.toString():"";break;case C:this.m_rewardSprite.spriteFrame=null,this.m_rewardNum.string="";var f=t.ExtendID.toString();if(i&&(i.active=!0),t.ItemCount&&t.ItemCount>1&&(f=f+"+"+t.ItemCount.toString()),this.m_buffNode=D.GetInstance().GetBuffNode(f),this.m_buffNode)this.m_buffNode.scale=l(.6,.6,1),this.m_rewardSprite.node.addChild(this.m_buffNode);else{G.GetBuffCardNode(t.ExtendID,(function(e){e&&(r.m_buffNode=e,console.error("mission cell",r.m_buffNode.name,t.ItemCount),r.m_buffNode.scale=l(.6,.6,1),r.m_rewardSprite.node.addChild(r.m_buffNode))}),t.ItemCount)}break;case S:m=J[3],a=this.m_missionAtlas.getSpriteFrame(m),this.m_cardSprite.node.active=!0,this.m_cardNum.node.active=!0,this.m_rewardSprite.node.active=!1,this.m_rewardNum.node.active=!1,this.m_cardSprite.spriteFrame=a,this.m_cardNum.string="",i&&(i.active=!0)}}},a.ShowInfo=function(){var t=this.m_giftInfo?this.m_giftInfo.ItemID:null,e=this.m_extraManager.node.getComponent(N);if(e&&t)switch(t){case y:var i=p.GetInstance().GetString(I.StringKey.REWARD_RUBY_DESC);i=i.replace("{ITEM_NAME}",b.IsTada?p.GetInstance().GetString(I.StringKey.TADA_ITEM_NAME):p.GetInstance().GetString(I.StringKey.JILI_ITEM_NAME)),e.OpenCommonText(p.GetInstance().GetString(I.StringKey.REWARD_RUBY_TITLE),i);break;case v:e.OpenCommonText(p.GetInstance().GetString(I.StringKey.REWARD_COIN_TITLE),p.GetInstance().GetString(I.StringKey.REWARD_COIN_DESC));break;case C:var n="BUFF_TITLE",r="BUFF_DESC";this.m_buffNode&&(console.error("Check BuffData",this.m_buffNode.BuffData),n=this.m_buffNode.BuffData.buffName,r=this.m_buffNode.BuffData.info),e.OpenCommonText(n,r);break;case S:e.OpenCommonText(p.GetInstance().GetString("Define.StringKey.REWARD_COLLECTION_TITLE"),p.GetInstance().GetString("Define.StringKey.REWARD_COLLECTION_DESC"));break;default:var o=g.GetInstance().GetItemIcon(this.m_itemInfo.icon),a=this.m_itemInfo.gameName,m=b.shallowCopy(this.m_itemInfo),s=g.GetInstance().GetItemInfoText(m,2),f=p.GetInstance().GetString(I.StringKey.BACKPACK_TXT_INFO)+"\n"+s.gameDesc;e.OpenCommonText(this.m_itemInfo.title,f,a,o,this.m_itemNum)}this.m_extraManager.RookieHintManager&&this.m_extraManager.RookieHintManager.CloseHint(I.RookieHintType.MISSION_MENU),h.getInstance().Play(I.AudioClips.COMMON_BTN)},o(e,[{key:"BuffNode",get:function(){return this.m_buffNode},set:function(t){this.m_buffNode=t}}]),e}(d)).prototype,"ani",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(F.prototype,"m_cardSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"m_cardNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(F.prototype,"m_rewardSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"m_rewardNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(F.prototype,"m_gift",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"m_giftInfoIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"m_missionAtlas",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=F))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/DataStruct.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o;return{setters:[function(t){n=t.createClass},function(t){o=t.cclegacy}],execute:function(){var e;t("ConnectionDataStruct",void 0),o._RF.push({},"3a744+yqxtGMIYKXAwD1lZ+","DataStruct",void 0),function(t){var o=function(){this.status=void 0,this.msg=void 0};t.CommonNotify=o;var e=function(){this.differMoney=void 0,this.playerMoney=void 0};t.CashFlowNotify=e;var i,r,u=function(){};u.CommonNotify=o,u.CashFlowNotify=e,t.DataStruct=u,function(t){t[t.Get=0]="Get",t[t.Post=1]="Post"}(i||(i={})),t.RequestMethod=i,function(t){t[t.Ignore=0]="Ignore",t[t.Handle=1]="Handle"}(r||(r={})),t.ErrorHandleType=r;var c=function(){function t(){this.method=0,this.url="",this.type=r.Ignore,this.reqData=null,this.info=null}return n(t,[{key:"Type",get:function(){return this.type}},{key:"Method",get:function(){return this.method}},{key:"URL",get:function(){return this.url}}]),t}();t.ProtocolData=c;t.BigWinReplayReq=function(){this.info=function(){},this.check=function(){},this.replay=function(t){}}}(e||(e=t("ConnectionDataStruct",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/Debris.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./Define.ts","./EnvironmentConfig.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./ItemList.ts","./BottombarManager.ts","./CommonWebPage.ts","./BackpackManager.ts","./DebrisManager.ts","./MsgBox.ts","./NotificationManager.ts","./CellComponent.ts","./debrisproto.mjs_cjs=&original=.js","./TimeBool.ts","./LocalStorageManager.ts","./debrisproto.js"],(function(e){"use strict";var t,i,n,l,o,r,s,a,m,c,h,_,b,u,f,g,d,p,L,S,v,C,y,I,T,D,w,P,N,x,A,E,B,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,a=e.Prefab,m=e.Animation,c=e.WebView,h=e.Sprite,_=e.Label,b=e.instantiate,u=e.SpriteAtlas,f=e.js,g=e.tween,d=e.Component},function(e){p=e.default},function(e){L=e.default},function(e){S=e.default},function(e){v=e.default},function(e){C=e.default},function(e){y=e.default},function(e){I=e.default},function(e){T=e.default},function(e){D=e.default},function(e){w=e.backpackManager},function(e){P=e.debrisManager},function(e){N=e.default},function(e){x=e.default},function(e){A=e.default},null,function(e){E=e.default},function(e){B=e.default},function(e){R=e.default}],execute:function(){var k,G,M,O,F,W,z,V,K,H,U,j,Y,q,Z,Q,X,J,$,ee,te,ie,ne,le,oe,re,se,ae,me,ce,he,_e,be,ue,fe,ge,de,pe;o._RF.push({},"e4427FhTvZD/aQveh7Ztjex","Debris",void 0);var Le=60,Se=3600,ve=86400,Ce=["Debris_Activity","Debris_SRedeem","Debris_ARedeem","Debris_BRedeem","Debris_CRedeem"],ye=r.ccclass,Ie=r.property;e("default",(k=Ie({type:s,tooltip:"橫版內容"}),G=Ie({type:a,tooltip:"橫版的cell"}),M=Ie({type:s,tooltip:"直版內容"}),O=Ie({type:a,tooltip:"直版的cell"}),F=Ie({type:m,tooltip:"內容的直橫版切換"}),W=Ie({type:c,tooltip:"活動頁"}),z=Ie({type:a,tooltip:"Common WebPage"}),V=Ie({type:s,tooltip:"亮起的按鈕"}),K=Ie({type:s,tooltip:"紅點"}),H=Ie({type:h,tooltip:"標題"}),U=Ie({type:_,tooltip:"標籤文字"}),j=Ie({type:h,tooltip:"頁簽標題-暗"}),Y=Ie({type:h,tooltip:"頁簽標題-亮"}),q=Ie({type:_,tooltip:"押注提示"}),Z=Ie({type:_,tooltip:"剩餘時間"}),Q=Ie({type:_,tooltip:"兌換道具"}),X=Ie({type:_,tooltip:"獎勵"}),J=Ie({type:_,tooltip:"兌換數量"}),ye((te=t((ee=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_contentNodeL",te,l(t)),n(t,"m_cellPrefabL",ie,l(t)),n(t,"m_contentNodeS",ne,l(t)),n(t,"m_cellPrefabS",le,l(t)),n(t,"m_contentAnim",oe,l(t)),n(t,"m_webView",re,l(t)),n(t,"m_commonWebPagePrefab",se,l(t)),n(t,"m_lightNodes",ae,l(t)),n(t,"m_redPointNodes",me,l(t)),n(t,"m_titleSprite",ce,l(t)),n(t,"m_tabTitleLabels",he,l(t)),n(t,"m_darkTabTitleSprites",_e,l(t)),n(t,"m_lightTabTitleSprites",be,l(t)),n(t,"m_betHintLabel",ue,l(t)),n(t,"m_leftTimeLabel",fe,l(t)),n(t,"m_exchangeItemLabel",ge,l(t)),n(t,"m_exchangeAwardLabel",de,l(t)),n(t,"m_exchangeAmountLabel",pe,l(t)),t.m_activityCb=null,t.m_playerInfoCb=null,t.m_getDebrisCb=null,t.m_exchangeCb=null,t.m_iconBtnCb=null,t.m_debrisAtlas=null,t.m_cellListL=[],t.m_cellListS=[],t.m_checkTween=null,t.m_timeCounter=0,t.m_checkTimer=null,t.m_isInit=!1,t.m_activityNo=0,t.m_fallEndTime=null,t.m_endTime=null,t.m_selectIdx=4,t.m_debrisInfoList=null,t.m_minBets=null,t.m_atlas=null,t.m_isCheckActive=!1,t.m_extraManager=null,t.m_bottomBar=null,t.m_commonWebPage=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){P.OnLoad(this)},o.onDestroy=function(){P.OnDestroy()},o.Init=function(e,t,i,n,l,o){var r=this;this.m_extraManager=e,this.m_activityCb=t,this.m_playerInfoCb=i,this.m_getDebrisCb=n,this.m_exchangeCb=l,this.m_iconBtnCb=o,this.m_isInit=!0,this.SetTxt(),this.LoadDebris(),this.m_bottomBar=this.m_extraManager.node.getComponent(T);var s=this.m_bottomBar.Wallet.Ratio;if(S.COLLECT_URL=S.COLLECT_URL.replace("{ratio}",y.strip(s).toString()),this.m_webView)this.m_webView.url=S.COLLECT_URL,this.m_webView.node.active=!0;else{var a=b(this.m_commonWebPagePrefab);this.node.addChild(a),this.m_commonWebPage=a.getComponent(D),this.m_commonWebPage.CloseCb=function(){r.OnSelectPage(null,4..toString())},this.m_commonWebPage.Show(S.COLLECT_URL,this.m_bottomBar.IsLandscape),this.m_commonWebPage.SetTitle(v.GetInstance().GetString(L.StringKey.DEBRIS_EVENT))}this.m_checkTimer=new E,this.m_checkTimer.UseDT(!0)},o.CheckFirstDebris=function(){var e=L.AID+":"+L.NOW_GAME_ID+":DebrisTimes",t=B.GetInt(e);(t=t||0)<L.DEBRIS_TIMES?B.SetInt(e,t+1):(this.m_commonWebPage.node.active=!1,this.OnSelectPage(null,4..toString()))},o.SetTxt=function(e){if(void 0===e&&(e=!1),e||this.SetTitle(),this.m_tabTitleLabels.length>1){y.SetFont(this.m_tabTitleLabels[0]),this.m_tabTitleLabels[0].string=v.GetInstance().GetString(L.StringKey.DEBRIS_EVENT);for(var t=["","C","B","A","S"],i=1;i<this.m_tabTitleLabels.length;i++)y.SetFont(this.m_tabTitleLabels[i]),this.m_tabTitleLabels[i].string=t[i]+"-"+v.GetInstance().GetString(L.StringKey.DEBRIS_EXCHANGE)}if(this.m_exchangeAmountLabel&&(y.SetFont(this.m_exchangeAmountLabel),this.m_exchangeAmountLabel.string=v.GetInstance().GetString(L.StringKey.DEBRIS_AMOUNT)),this.m_exchangeAwardLabel&&(y.SetFont(this.m_exchangeAwardLabel),this.m_exchangeAwardLabel.string=v.GetInstance().GetString(L.StringKey.DEBRIS_AWARD)),this.m_exchangeItemLabel&&(y.SetFont(this.m_exchangeItemLabel),this.m_exchangeItemLabel.string=v.GetInstance().GetString(L.StringKey.DEBRIS_ITEM)),this.m_atlas){this.m_titleSprite.spriteFrame=this.m_atlas.getSpriteFrame("Debris_Title"),this.m_extraManager.SetDebrisBtnTitle(this.m_atlas.getSpriteFrame("Debris_IconName"));for(var n=0;n<this.m_darkTabTitleSprites.length;n++)this.m_darkTabTitleSprites[n].spriteFrame=this.m_atlas.getSpriteFrame(Ce[n]),this.m_lightTabTitleSprites[n].spriteFrame=this.m_atlas.getSpriteFrame(Ce[n]+"_On")}y.SetFont(this.m_leftTimeLabel),y.SetFont(this.m_betHintLabel);for(var l=0;l<this.m_cellListS.length;l++)if(this.m_cellListS[l])for(var o=0;o<this.m_cellListS[l].length;o++)this.m_cellListS[l][o].SetTxt();for(var r=0;r<this.m_cellListL.length;r++)if(this.m_cellListL[r])for(var s=0;s<this.m_cellListL[r].length;s++)this.m_cellListL[r][s].SetTxt()},o.OpenCommonText=function(e,t,i,n,l){this.m_bottomBar.OpenCommonText(e,t,i,n,l)},o.SetTitle=function(){var e=this,t=y.GetFilePath("AsttText/"+v.CurrLang+"/%s/Debris/Debris");L.OtherBundle.load(t,u,(function(t,i){t?e.SetTitle():(e.m_atlas=i,e.SetTxt(!0))}))},o.LoadDebris=function(){var e=this,t=y.GetFilePath("Astt/%s/Debris/DebrisImg/DebrisAtlas");L.CommonBundle.load(t,u,(function(t,i){if(t)e.LoadDebris();else if(e.m_debrisAtlas=i,w.ItemPlist)e.m_activityCb&&e.m_activityCb();else{e.schedule((function t(){w.ItemPlist&&(e.m_activityCb&&e.m_activityCb(),e.unschedule(t))}),1)}}))},o.Process=function(e){if(this.m_checkTimer&&(this.m_checkTimer.Update(1e3*e),this.m_checkTimer.ToBool())){this.m_checkTimer.Start(1e4);var t=Date.now();t>this.m_endTime?this.m_timeCounter=0:this.m_timeCounter=this.m_endTime-t}if(this.m_timeCounter>0){this.m_timeCounter-=1e3*e;var i=Math.floor(this.m_timeCounter/1e3),n=Math.floor(i/ve);i-=n*ve;var l=Math.floor(i/Se);i-=l*Se;var o=Math.floor(i/Le);i-=o*Le;var r=f.formatStr(v.GetInstance().GetString(L.StringKey.DEBRIS_LEFT_TIME),n,l,o);this.m_leftTimeLabel.string=r}else{var s;if(!this.m_isCheckActive&&null!=this.m_endTime)this.m_isCheckActive=!0,this.m_endTime=null,null==(s=this.m_activityCb)||s.call(this)}},o.OnSelectPage=function(e,t){C.getInstance().Play(L.AudioClips.COMMON_BTN);var i=Number(t);if(!isNaN(i)){this.m_selectIdx=i,this.m_webView?this.m_webView.node.active=0===i:this.m_commonWebPage.node.active=0===i;for(var n=0;n<this.m_lightNodes.length;n++)this.m_lightNodes[n].active=n===i;for(var l=0;l<this.m_cellListL.length;l++)if(this.m_cellListL[l])for(var o=0;o<this.m_cellListL[l].length;o++)this.m_cellListL[l][o].node.active=l===i;for(var r=0;r<this.m_cellListS.length;r++)if(this.m_cellListS[r])for(var s=0;s<this.m_cellListS[r].length;s++)this.m_cellListS[r][s].node.active=r===i;if(0!==this.m_selectIdx){var a=this.m_extraManager.node.getComponent(T).Wallet.Ratio;this.m_betHintLabel.string=f.formatStr(v.GetInstance().GetString(L.StringKey.DEBRIS_BET_HINT),y.times(this.m_minBets[this.m_selectIdx-1],a).toString())}}},o.GetDebrisIcon=function(e){if(this.m_debrisInfoList)for(var t=0;t<this.m_debrisInfoList.length;t++)if(this.m_debrisInfoList[t].no===e)return this.m_debrisAtlas.getSpriteFrame(this.m_debrisInfoList[t].icon.toString());return null},o.OnRotation=function(e){this.m_commonWebPage?(e?(this.node.getComponent(m).play("Clip_Common_TagFrame_Landscape"),this.m_contentAnim.play("Clip_Debris_RedeemPage_Landscape")):(this.node.getComponent(m).play("Clip_Common_TagFrame_Portrait"),this.m_contentAnim.play("Clip_Debris_RedeemPage_Portrait")),this.m_commonWebPage.OnRotation(e)):e?this.node.getComponent(m).play("ViewL"):this.node.getComponent(m).play("ViewS")},o.Show=function(e){this.node.active=!0,this.m_extraManager.SetDebrisBtnRedPoint(!1),this.CheckFirstDebris(),this.OnRotation(e),p.getInstance().SendBtnClickEvent(p.FormBtnClickParams(Number(L.AID),Number(L.API_ID),Number(L.NOW_GAME_ID),L.GAME_VERSION,L.BTN_CLICK_EVENT.DEBRISE_VIEW_OPEN,1,e))},o.Hide=function(){this.node.active=!1},o.CloseDebris=function(){this.m_iconBtnCb(!1),this.Hide(),this.m_checkTween&&(this.m_checkTween.stop(),this.m_checkTween=null)},o.SetCheckCounter=function(){var e=this;this.m_checkTween&&(this.m_checkTween.stop(),this.m_checkTween=null);var t=10+Math.floor(5*Math.random());this.m_checkTween=g(this).delay(t).call((function(){e.ReqGetDebris()})).start()},o.ReqExchange=function(e,t){this.m_exchangeCb&&this.m_exchangeCb(e,t,this.m_activityNo)},o.ReqGetDebris=function(){this.m_getDebrisCb&&this.m_getDebrisCb()},o.OnRecvActivity=function(e){if("string"==typeof e){var t=y.DecodeProtoString(e);e=R.debrisprotocol.ActivityOutput.decode(t)}if(this.m_checkTimer.Clear(),e&&e.Debris&&e.Debris.length>0&&e.minbet&&e.minbet.length>0)if(Date.now()>=y.times(Number(e.end.seconds),1e3))this.CloseDebris();else{this.m_checkTimer.Start(1e4),this.m_activityNo=e.no,this.m_debrisInfoList=e.Debris,this.m_minBets=e.minbet,0!==this.m_selectIdx&&(this.m_betHintLabel.string=f.formatStr(v.GetInstance().GetString(L.StringKey.DEBRIS_BET_HINT),this.m_minBets[this.m_selectIdx-1].toString())),this.m_fallEndTime=y.times(Number(e.fall.seconds),1e3),this.m_endTime=y.times(Number(e.end.seconds),1e3),this.m_timeCounter=this.m_endTime-Date.now();for(var i=0;i<this.m_cellListL.length;i++)if(this.m_cellListL[i])for(;this.m_cellListL[i].length>0;){var n=this.m_cellListL[i].pop();n.node.removeFromParent(),n.node.destroy()}for(var l=0;l<this.m_cellListS.length;l++)if(this.m_cellListS[l])for(;this.m_cellListS[l].length>0;){var o=this.m_cellListS[l].pop();o.node.removeFromParent(),o.node.destroy()}for(var r=0;r<e.formula.length;r++){var s=b(this.m_cellPrefabL);this.m_contentNodeL.addChild(s);var a=s.getComponent(A);a.Init(this,e.formula[r],e.ItemGameDesc),this.m_cellListL[e.formula[r].level]||(this.m_cellListL[e.formula[r].level]=[]),this.m_cellListL[e.formula[r].level].push(a),s.active=e.formula[r].level===this.m_selectIdx;var m=b(this.m_cellPrefabS);this.m_contentNodeS.addChild(m);var c=m.getComponent(A);c.Init(this,e.formula[r],e.ItemGameDesc),this.m_cellListS[e.formula[r].level]||(this.m_cellListS[e.formula[r].level]=[]),this.m_cellListS[e.formula[r].level].push(c),m.active=e.formula[r].level===this.m_selectIdx}this.m_playerInfoCb&&this.m_playerInfoCb(this.m_activityNo)}else this.CloseDebris()},o.OnRecvPlayerInfo=function(e){if(e){if("string"==typeof e){var t=y.DecodeProtoString(e);e=R.debrisprotocol.PlayerInfoAck.decode(t)}if(0===e.result||void 0===e.result){for(var i=[],n=0;n<this.m_cellListL.length;n++)if(this.m_cellListL[n])for(var l=0;l<this.m_cellListL[n].length;l++){var o=this.m_cellListL[n][l].UpdateInfo(e);i[n]||(i[n]=o)}for(var r=0;r<this.m_cellListS.length;r++)if(this.m_cellListS[r])for(var s=0;s<this.m_cellListS[r].length;s++)this.m_cellListS[r][s].UpdateInfo(e);for(var a=0;a<this.m_redPointNodes.length;a++)this.m_redPointNodes[a]&&(this.m_redPointNodes[a].active=i[a]);this.m_isInit&&(this.m_isInit=!1,this.m_iconBtnCb&&this.m_iconBtnCb(!0),this.SetCheckCounter())}}else this.CloseDebris()},o.OnRecvGetDebris=function(e){if(e||""===e){if("string"==typeof e){var t=y.DecodeProtoString(e);e=R.debrisprotocol.PlayerGetAck.decode(t)}0!==e.result&&void 0!==e.result||(e.get&&(this.m_playerInfoCb&&this.m_playerInfoCb(this.m_activityNo),this.m_extraManager.SetDebrisBtnRedPoint(!0)),x.GetInstance().UpdateDebrisNotify(e.get),Date.now()<=this.m_fallEndTime&&this.SetCheckCounter())}else this.CloseDebris()},o.OnRecvExchange=function(e){if(e){if("string"==typeof e){var t=y.DecodeProtoString(e);e=R.debrisprotocol.ExchangeDebrisAck.decode(t)}if(0===e.result||void 0===e.result){if((e.awardtype&L.DAILYMISSION_REWARD_TYPE.ItemCard)>0){var i={};i.contextKey=L.StringKey.SIGN_IN_CONGRATS,i.itemSpriteFrame=I.GetInstance().GetItemIcon(e.iicon),i.itemNum=e.amount,i.titleKey=N.DEFAULT_TITLE_KEY,i.showCancelBtn=!1,i.showConfirmBtn=!0,i.showCloseBtn=!1,N.getInstance().PushMessageBoxSetting(i),w.ShowRedpoint(!0),w.ShowGameRedpoint(!0)}(e.awardtype&L.DAILYMISSION_REWARD_TYPE.MallCoin)>0&&this.m_extraManager.ShowGetRedDiamond(e.amount),this.m_playerInfoCb&&this.m_playerInfoCb(this.m_activityNo)}}else this.CloseDebris()},t}(d)).prototype,"m_contentNodeL",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(ee.prototype,"m_cellPrefabL",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(ee.prototype,"m_contentNodeS",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ee.prototype,"m_cellPrefabS",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ee.prototype,"m_contentAnim",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ee.prototype,"m_webView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ee.prototype,"m_commonWebPagePrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ee.prototype,"m_lightNodes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=t(ee.prototype,"m_redPointNodes",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(ee.prototype,"m_titleSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ee.prototype,"m_tabTitleLabels",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=t(ee.prototype,"m_darkTabTitleSprites",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(ee.prototype,"m_lightTabTitleSprites",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(ee.prototype,"m_betHintLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ee.prototype,"m_leftTimeLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ee.prototype,"m_exchangeItemLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ee.prototype,"m_exchangeAwardLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ee.prototype,"m_exchangeAmountLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ee))||$));o._RF.pop()}}}));

System.register("chunks:///_virtual/DebrisBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,l,u,a,c,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,u=t._decorator,a=t.Sprite,c=t.Button,p=t.Node,s=t.Component}],execute:function(){var f,y,b,d,m,_,h,g;l._RF.push({},"87a634yo2lJZ6Tk/A6lhJOq","DebrisBtn",void 0);var v=u.ccclass,P=u.property;t("default",(f=P({type:a,tooltip:"標題"}),y=P({type:c,tooltip:"按鈕"}),b=P({type:p,tooltip:"紅點"}),v((_=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"m_titleSprite",_,n(e)),r(e,"m_btn",h,n(e)),r(e,"m_redPointNode",g,n(e)),e}return i(e,t),o(e,[{key:"TitleSprite",get:function(){return this.m_titleSprite}},{key:"Btn",get:function(){return this.m_btn}},{key:"RedPointNode",get:function(){return this.m_redPointNode}}]),e}(s)).prototype,"m_titleSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(m.prototype,"m_btn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(m.prototype,"m_redPointNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/DebrisCell.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,u,m,a,s,l,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,u=e.createClass},function(e){m=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Label,o=e.Component}],execute:function(){var c,p,h,_,d,f;m._RF.push({},"f4d05ZyE8VIiLHOwruTqfcu","DebrisCell",void 0);var b=a.ccclass,N=a.property;e("default",(c=N({type:s,tooltip:"碎片圖示"}),p=N({type:l,tooltip:"數量"}),b((d=t((_=function(e){function t(){for(var t,i=arguments.length,u=new Array(i),m=0;m<i;m++)u[m]=arguments[m];return t=e.call.apply(e,[this].concat(u))||this,n(t,"m_debrisSprite",d,r(t)),n(t,"m_numLabel",f,r(t)),t.m_needNum=0,t.m_num=0,t.m_changeNum=1,t}i(t,e);var m=t.prototype;return m.Init=function(e,t){this.m_debrisSprite.spriteFrame=e,this.m_needNum=t,this.m_changeNum=1,this.UpdateNum(0)},m.UpdateNum=function(e){this.m_num=e,this.m_numLabel.string=e+"/"+this.m_needNum*this.m_changeNum},m.UpdataNeedNum=function(e){this.m_changeNum=e,this.m_numLabel.string=this.m_num+"/"+this.m_needNum*this.m_changeNum},u(t,[{key:"NumLabel",get:function(){return this.m_numLabel}},{key:"NeedNum",get:function(){return this.m_needNum}},{key:"Num",get:function(){return this.m_num}}]),t}(o)).prototype,"m_debrisSprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(_.prototype,"m_numLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_))||h));m._RF.pop()}}}));

System.register("chunks:///_virtual/DebrisManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectManager.ts","./Define.ts","./DebrisProtocal.ts","./Wallet.ts","./gaiaProto.mjs_cjs=&original=.js","./GaiaManager.ts","./debrisproto.mjs_cjs=&original=.js","./Protocol.ts","./LocaleStringManager.ts","./debrisproto.js","./gaiaProto.js"],(function(e){"use strict";var n,t,i,r,a,c,o,s,u,l,b,f;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,i=e.log},function(e){r=e.default},function(e){a=e.default},function(e){c=e.DebrisReqData},function(e){o=e.walletManger},null,function(e){s=e.gaiaManager},null,function(e){u=e.default},function(e){l=e.default},function(e){b=e.default},function(e){f=e.default}],execute:function(){t._RF.push({},"9cb37cV8rVJCJ1UxOC8FS7X","DebrisManager",void 0);var d=56,v=57,P=58,h=59,D=e("DebrisManager",function(){function e(){this.m_debris=null,this.m_createViewCb=null}var t=e.prototype;return t.OnLoad=function(e){this.m_debris=e},t.OnDestroy=function(){this.m_debris=null},t.Init=function(e,n,t,i,r,a){var c;null==(c=this.m_debris)||c.Init(e,n,t,i,r,a)},t.NewInit=function(){var e,n=this;null==(e=this.m_createViewCb)||e.call(this,(function(){var e=new f.gaiaProto.DebrisAInfoReq;e.aid=Number(a.APP.GetAID()),e.token=a.APP.GetAToken(),e.lang=u.Language[l.CurrLang],o.HasWallet&&(e.currencynumber=o.CurencyID);var t=new c.DebrisActivity;t.reqData=f.gaiaProto.DebrisAInfoReq.encode(e).finish(),r.GetInstance().SendCommand(t,(function(e){s.CheckAck(e,(function(e,t){n.OnRecvAck(e,t)}))}),!1,!0)}),(function(e){var t=new f.gaiaProto.DebrisPInfoReq;t.aid=Number(a.APP.GetAID()),t.token=a.APP.GetAToken(),t.ano=e,o.HasWallet&&(t.currencynumber=o.CurencyID);var i=new c.DebrisPlayer;i.reqData=f.gaiaProto.DebrisPInfoReq.encode(t).finish(),r.GetInstance().SendCommand(i,(function(e){s.CheckAck(e,(function(e,t){n.OnRecvAck(e,t)}))}),!1,!0)}),(function(){var e=new f.gaiaProto.DebrisPGetReq;e.aid=Number(a.APP.GetAID()),e.token=a.APP.GetAToken(),o.HasWallet&&(e.currencynumber=o.CurencyID);var t=new c.DebrisGet;t.reqData=f.gaiaProto.DebrisPGetReq.encode(e).finish(),r.GetInstance().SendCommand(t,(function(e){s.CheckAck(e,(function(e,t){n.OnRecvAck(e,t)}))}),!1,!0)}),(function(e,t,i){var u=new f.gaiaProto.DebrisExchangeReq;u.aid=Number(a.APP.GetAID()),u.token=a.APP.GetAToken(),u.fno=e,u.amount=t,u.ano=i,o.HasWallet&&(u.currencynumber=o.CurencyID);var l=new c.DebrisExchange;l.reqData=f.gaiaProto.DebrisExchangeReq.encode(u).finish(),r.GetInstance().SendCommand(l,(function(e){s.CheckAck(e,(function(e,t){n.OnRecvAck(e,t)}))}),!1,!0)}))},t.OnRecvAck=function(e,n){switch(i("OnRecvAck",e,n),e){case d:var t,r=b.debrisprotocol.ActivityOutput.decode(n);i("PROTOCOL_TYPE_DEBRIS_AINFO",r),null==(t=this.m_debris)||t.OnRecvActivity(r);break;case v:var a,c=b.debrisprotocol.PlayerInfoAck.decode(n);i("PROTOCOL_TYPE_DEBRIS_PINFO",c),null==(a=this.m_debris)||a.OnRecvPlayerInfo(c);break;case P:var o,s=b.debrisprotocol.PlayerGetAck.decode(n);i("PROTOCOL_TYPE_DEBRIS_PGET",s),null==(o=this.m_debris)||o.OnRecvGetDebris(s);break;case h:var u,l=b.debrisprotocol.ExchangeDebrisAck.decode(n);i("PROTOCOL_TYPE_DEBRIS_EXCHANGE",l),null==(u=this.m_debris)||u.OnRecvExchange(l)}},t.Process=function(e){var n;null==(n=this.m_debris)||n.Process(e)},t.OnRotation=function(e){var n;null==(n=this.m_debris)||n.OnRotation(e)},t.SetTxt=function(e){var n;void 0===e&&(e=!1),null==(n=this.m_debris)||n.SetTxt(e)},t.Show=function(e){var n;null==(n=this.m_debris)||n.Show(e)},t.OnRecvActivity=function(e){var n;null==(n=this.m_debris)||n.OnRecvActivity(e)},t.OnRecvPlayerInfo=function(e){var n;null==(n=this.m_debris)||n.OnRecvPlayerInfo(e)},t.OnRecvGetDebris=function(e){var n;null==(n=this.m_debris)||n.OnRecvGetDebris(e)},t.OnRecvExchange=function(e){var n;null==(n=this.m_debris)||n.OnRecvExchange(e)},n(e,[{key:"CreateViewCb",set:function(e){this.m_createViewCb=e}}]),e}());e("debrisManager",new D);t._RF.pop()}}}));

System.register("chunks:///_virtual/DebrisProtocal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStruct.ts"],(function(t){"use strict";var r,e,o;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.ConnectionDataStruct}],execute:function(){var n;t("DebrisReqData",void 0),e._RF.push({},"f90a5j7iF1Oc4ng3lzKWipP","DebrisProtocal",void 0),function(t){var e=function(t){function e(){var r;return(r=t.call(this)||this).type=o.ErrorHandleType.Ignore,r.method=o.RequestMethod.Post,r.url="/debris/ActivityInfoProto",r.reqData=null,r}return r(e,t),e}(o.ProtocolData);t.DebrisActivity=e;var n=function(t){function e(){var r;return(r=t.call(this)||this).type=o.ErrorHandleType.Ignore,r.method=o.RequestMethod.Post,r.url="/debris/GetDebrisProto",r.reqData=null,r}return r(e,t),e}(o.ProtocolData);t.DebrisGet=n;var a=function(t){function e(){var r;return(r=t.call(this)||this).type=o.ErrorHandleType.Ignore,r.method=o.RequestMethod.Post,r.url="/debris/PlayerInfoProto",r.reqData=null,r}return r(e,t),e}(o.ProtocolData);t.DebrisPlayer=a;var i=function(t){function e(){var r;return(r=t.call(this)||this).type=o.ErrorHandleType.Ignore,r.method=o.RequestMethod.Post,r.url="/debris/ExchangeDebrisProto",r.reqData=null,r}return r(e,t),e}(o.ProtocolData);t.DebrisExchange=i}(n||(n=t("DebrisReqData",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(_){"use strict";var E,A,T,I,N;return{setters:[function(_){E=_.createClass},function(_){A=_.cclegacy,T=_.Enum,I=_.size,N=_.v3}],execute:function(){var O,S,R,C,B,M,L,G;A._RF.push({},"4364179z4hOF59Lm7UYZZkE","Define",void 0),function(_){_[_.PLAYING=0]="PLAYING",_[_.USING=1]="USING"}(O||(O={})),function(_){_[_.EFFECTVIEW=10]="EFFECTVIEW",_[_.EFTWIN=15]="EFTWIN",_[_.HINT=16]="HINT",_[_.BACKPACK=20]="BACKPACK",_[_.DISCOUNT=21]="DISCOUNT",_[_.DEBRIS=22]="DEBRIS",_[_.FEATURES=23]="FEATURES",_[_.VOLATILITY=25]="VOLATILITY",_[_.JACKPOTDESC=26]="JACKPOTDESC",_[_.JACKPOTRESULT=27]="JACKPOTRESULT",_[_.RANKING=28]="RANKING",_[_.ITEMINFO=29]="ITEMINFO",_[_.ROOKIE=30]="ROOKIE",_[_.PLAY_READY=31]="PLAY_READY",_[_.WEBVIEW=40]="WEBVIEW",_[_.NOTIFY=999]="NOTIFY"}(S||(S={})),function(_){_[_.MISSION=10]="MISSION",_[_.ICONBOX=20]="ICONBOX"}(R||(R={})),function(_){_[_.None=0]="None",_[_.Promote=1]="Promote"}(C||(C={})),function(_){_[_.L=0]="L",_[_.S=1]="S"}(B||(B={})),function(_){_[_.BACKPAG_BOTTOM=0]="BACKPAG_BOTTOM",_[_.BACKPAG_LEFT=1]="BACKPAG_LEFT"}(M||(M={})),function(_){_[_.FAVOR=0]="FAVOR"}(L||(L={})),function(_){_[_.ORG=0]="ORG",_[_.DICE=1]="DICE",_[_.SUBMIT=3]="SUBMIT"}(G||(G={}));var D=_("default",function(){function _(){}return _.IsWaitingEnterGame=function(E){if(_.StartSceneTime>=0){var A=E&&E(3e3);return _.StartSceneTime=-1,A<=_.EnterGameTime}return!1},_.Wait=function(_,E){return new Promise((function(A){_.scheduleOnce((function(){A()}),E)}))},_.SetCanUseItemCard=function(_,E){void 0===E&&(E=O.PLAYING),this.m_canUseItemCard=_,this.m_cantUseReason=E},_.SetSwitchOffKeys=function(_){this.m_switchOffKeys=_},_.GLIAutoPlaySingleWinRate=function(){this.AUTOPLAY_SINGLE_WIN_RATE=100},_.OnExit=function(){_.ERROR_OCCUR=!1,_.VERSION="0.107",_.DEFAULT_AID="-1",_.AID=_.DEFAULT_AID,_.API_ID="0",_.SITE_ID=0,_.NOW_GAME_ID="0",_.CURRENCY_NUMBER=0,_.SERIES_GAME_NAME="Jili",_.ALIVE_INTERVAL=null,_.FreeSpinRemain=0,_.PLATFORM_VER="",_.LINE_CODE=-1,_.SUB_AGENT_CODE=-1,_.IS_LOBBY_OPEN=!1,_.IS_DEMO=!1,_.IS_DELAY_TO_NEXT=!1,_.DEALY_TIME=0,_.SSO_CURRENCY_NUMBER=[],_.AUTOPLAY_MAX_ROUND=999,_.AUTOPLAY_ROUND_BTN=[],_.HAS_CLIENTMODE=!1,_.REGION="",_.DEPOSIT_URL=null,_.REALITY_CHECK_INTERVAL=900,_.HOME_URL=null,_.AsttWallentEventKey="Astt",_.Platform="",_.LobbyMode=-1,_.GAME_VERSION="",_.CommonBundle=null,_.GameBundle=null,_.CURRENCY_CHANGE_ENABLE=!1,_.CAN_DROP_ITEM_CARD=!1,_.BAR_DIFF_HEIGHT=0,_.APP=null,_.DollarSymbol="",_.DollarSymbolSuffix="",_.DollorSymbolDisplayPriority=!0,_.DollarFontFamily="Arial",_.DefaultFont=null,_.DefaultExtraFont=null,_.GLI_Default_DollarSymbol="$",_.IsSyncFromWS=!1,_.IsLifeSocketClose=!0,_.LifeSocketReqUrl=null,_.FormBtnClickParams=null,_.SendBtnClickEvent=null,_.IsIntroNodeActive=!0,this.m_canUseItemCard=!0,this.m_cantUseReason=O.PLAYING,this.m_switchOffKeys=[],this.TOKEN="",this.AddEventWebview=null,this.RemoveEventWebview=null},E(_,null,[{key:"CanUseItemCard",get:function(){return this.m_canUseItemCard}},{key:"CantUseReason",get:function(){return this.m_cantUseReason}},{key:"SwitchOffKeys",get:function(){return this.m_switchOffKeys}}]),_}());D.ERROR_OCCUR=!1,D.VERSION="0.131",D.Layer2D=1<<25,D.DEFAULT_AID="-1",D.AID=D.DEFAULT_AID,D.API_ID="0",D.SITE_ID=0,D.NOW_GAME_ID="0",D.CURRENCY_NUMBER=0,D.SERIES_GAME_NAME="Jili",D.ALIVE_INTERVAL=null,D.GameSwitchOff={},D.PLATFORM_VER="",D.LINE_CODE=-1,D.SUB_AGENT_CODE=-1,D.BET_LEVEL=-1,D.IS_LOBBY_OPEN=!1,D.IS_DEMO=!1,D.IS_DELAY_TO_NEXT=!1,D.DEALY_TIME=0,D.SSO_CURRENCY_NUMBER=[],D.AUTOPLAY_MAX_ROUND=999,D.AUTOPLAY_ROUND_BTN=[],D.HAS_CLIENTMODE=!1,D.REGION="",D.FEATURE_TIMES=-1,D.DEBRIS_TIMES=1,D.DEPOSIT_URL=null,D.CLIENTMODE_ID={MAX_ROUND:1,DELAY_TIME:2,ROUND_BTN:3,FEATURE_TIMES:4,DEPOSIT_URL:5,REALITY_CHECK_INTERVAL:6,SYMBOL_STYLE:7},D.Style=T(G),D.SeasonStyle={ORG:"00",XMAS:"01"},D.REALITY_CHECK_INTERVAL=180,D.FreeSpinRemain=0,D.HOME_URL=null,D.AsttWallentEventKey="Astt",D.Platform="",D.PlatformType={WEB:"web",APP:"app"},D.IsGiftCodeOpen=!1,D.LobbyMode=-1,D.LobbyModeType={None:-1,CLOSE:0,TO_JILI:1,TO_URL:2,USING_IFRAME:3,CHANGE_IFRAME:4},D.SERVER_RET_TYPE={SERVER_SUCCESS:0,SERVER_ERROR_SEATE:799,SERVER_NOUSE:899,SERVER_MAINTAIN:231,SERVER_SHUTDOWN:232,SERVER_NEED_UID:233,SERVER_NEED_LOGIN:234,SERVER_TOKEN_ERROR:235},D.AckType={login:0,exchangeChips:2,info:11,spin:12,buyBonus:36,heartBeat:98,serverMsg:99},D.HEART_BEAT_STATE={NOTIFY:97,MAINTAIN:98,CLOSE:99},D.GAME_VERSION="",D.EVN={DEFAULT:0,TEST:1,UAT:2,AUTO:3,NEW_TEST:4},D.SchemeKey="wv2g",D.WebViewEvent={Close:"CloseWebView",ChangeGame:"ChangeGame"},D.CommonBundleName="",D.OtherBundleName="other",D.CommonBundle=null,D.OtherBundle=null,D.GameBundle=null,D.CURRENCY_CHANGE_ENABLE=!1,D.CAN_DROP_ITEM_CARD=!1,D.DEFAULT_LANDSCAPE_SIZE=I(1136,640),D.BAR_DIFF_HEIGHT=0,D.LOGO_BASE_DIFF=[N(0,-26),N(0,0)],D.StartSceneTime=-1,D.EnterGameTime=10,D.DelayEnterGameTime=3,D.FullLang={CN:"zh-CN",EN:"en-US",TH:"th-TH",VN:"vi-VN",ID:"id-ID",HI:"hi-IN",TA:"ta-IN",MM:"my-MM",JP:"ja-JP",MS:"ms-MY",KO:"ko-KR",BN:"bn-IN",ES:"es-AR",PT:"pt-BR",IT:"it-IT",SE:"sv-SE",DE:"de-DE",DADK:"da-DK",RORO:"ro-RO",NLNL:"nl-NL",TRTR:"tr-TR",RURU:"ru-RU",GRGR:"gr-GR",FRFR:"fr-FR"},D.Lang={CN:"cn",EN:"en",TH:"th",VN:"vn",ID:"id",HI:"hi",TA:"ta",MM:"mm",JP:"jp",MS:"ms",KO:"ko",BN:"bn",ES:"es",PT:"pt",IT:"it",SE:"se",DE:"de",DADK:"da",RORO:"ro",NLNL:"nl",TRTR:"trTR",RURU:"ruRU",GRGR:"grGR",FRFR:"frFR"},D.RevertDotLang=[D.Lang.VN,D.Lang.ES,D.Lang.PT,D.Lang.IT,D.Lang.SE,D.Lang.DE,D.Lang.DADK,D.Lang.RORO,D.Lang.NLNL,D.Lang.TRTR,D.Lang.FRFR],D.TADA_BANNED_LANG=[D.Lang.TH,D.Lang.VN,D.Lang.ID,D.Lang.HI,D.Lang.TA,D.Lang.MM,D.Lang.MS,D.Lang.BN],D.GENERAL_RET=T({SUCCESS:0,ERROR_GENERAL_CHECK_ERROR:211,ERROR_GENERAL_REPEAT_LOGIN:236,ERROR_GENERAL_NO_UID:233,ERROR_GENERAL_TIME_OUT:4,ERROR_GENERAL_NOT_JOINED:5,ERROR_SERVER_MAINTAIN:231,ERROR_GAME_IS_FREE:102,ERROR_GAME_NOT_FREE:103,ERROR_WRONG_FREE_TYPE:104,ERROR_SYSTEM_FAIL:251,ERROR_GAME_WRONG_BET:301,ERROR_GAME_NO_COIN:302,ERROR_GAME_NO_COIN_SINGLE:305,FREESPIN_ABNORMAL:315,ERROR_TRIAL_FAIL:421,ERROR_TRIAL_BETFAIL:422,ERROR_TRIAL_END:423,ERROR_BUY_BONUS_CLOSED:431,ERROR_BUY_BONUS_NO_COIN:432,ERROR_SERVER_TRIAL_BETFAIL:433,ERROR_SERVER_TRIAL_END:434}),D.GAP_RET=T({SUCCESS:0,ERROR_GAP_INVALID_SSOKEY:3,ERROR_GAP_NOT_SERVICE:4,ERROR_GAP_SERVER_MAINTAIN:12,ERROR_GAP_UNKNOWN:87}),D.GAME_ID={DEFAULT:0,CF:1,CSH:2,TKS:4,CHILLI:5,LTS:6,DOFULI:7,DOFULII:8,FD:9,GEM:10,TQS:11,CS:12,WS:13,HB:14,KK:15,KK2:16,SH:17,SH2:18,GEM2:19,CF2:20,OLS:21,TWKS:22,GEM3:23,QNZZ:24,TBZZ:25,SH3:26,SSS:27,QZSG:28,QZDN:29,SH4:30,QZGF:31,CF3:32,PP:33,OLS2:35,BBC:36,SH5:37,FS:38,OLS3:40,XYY:43,LFS:44,CBT:45,BS:46,BFS:47,LGB:48,FH:49,MC:51,CK:52,RB2:53,LC:54,SE:55,HS:56,CSHY:57,PLY:59,GQ:58,DT:61,DICE:62,SUD:63,BL:64,ROLL:66,MP:67,EM:68,JS:69,TP:72,TPAK:75,NC:76,BK:77,AG2:78,AB:79,WEBLOBBY:80,CSUS:81,MW:85,BOG:87,LL:89,IFFF:91,CRH:92,RM:94,USA_BK:95,IG:96,SR:100,MS:101,RS2:102,MW2:103,TW:106,SS:107,MW3:108,FG:109,ALI:110,NK:111,PK:113,AA:115,TAXI:116,P89:117,USA_NC:120,RM2:121,B1:122,DOTD:126,CB:127,LUDO:128,THOR:130,PRM:132,MW4:134,ME:135,SAMBA:136,GE:137,USA_FH:138,B2:139,USA_FG:140,USA_AA:141,BH:142,B3:143,CAI:144,LN:145,FB:146,B4:147,B5:148,B6:149,B7:150,B8:151,BAC:152,USA_BFS:155,USA_MS:156,USA_MC:157,TP3:159,CB2:160,BAC2:161,LUDOQ:163,PIRATE:164,USA_BOG:165,USA_TAXI:166,USA_DOTD:167,USA_ME:168,USA_SAMBA:169,USA_GE:170,SC:171,IBINGO:172,B10:174,CNY:176,PLI1:179,LOE:180,WA:181,GJ:183,RSX2:184,FG2:185,MC2:186,C72:187,USA_MW3:188,GA:189,PETRA:191,DF:193,SL:198,USA_THOR:201,USA_CAI:202,PHOENIX:208,AP:209,FB2:213,KA:214,USA_WR:218,USA_LN:222,FGP:223,CTK:225,WITCH:226,AFR:228,CTS:230,BB:238,DBG:239,PS:240,USA_PIRATE:243,USA_BH:244,USA_CNY:245,USA_WA:246,USA_SL:247,USA_GJ:251,ZEUS:252,DL:258,BFS2:259,TPH:263,PW:299,FG3:300,JPJ:301,MP2:303,USA_AP:304,ENTITY:308,SAMURAI:376,USA_DF:380,USA_FGP:381,TCT:399,SAD:403,FGBB:437},D.TADA_ICONS=[D.GAME_ID.PLI1],D.UFA_ICONS=[D.GAME_ID.RSX2,D.GAME_ID.FG2,D.GAME_ID.MC2,D.GAME_ID.C72,D.GAME_ID.GA,D.GAME_ID.FB2],D.GLI_GAME_ID=[D.GAME_ID.CSUS,D.GAME_ID.USA_BK,D.GAME_ID.USA_NC,D.GAME_ID.USA_FH,D.GAME_ID.USA_FG,D.GAME_ID.USA_AA,D.GAME_ID.USA_MC,D.GAME_ID.USA_BFS,D.GAME_ID.USA_MS,D.GAME_ID.USA_MW3,D.GAME_ID.USA_PIRATE,D.GAME_ID.USA_CNY,D.GAME_ID.USA_BH,D.GAME_ID.USA_SL,D.GAME_ID.USA_GJ,D.GAME_ID.USA_DF,D.GAME_ID.USA_FGP,D.GAME_ID.USA_WA],D.BMM_GAME_ID=[D.GAME_ID.USA_BOG,D.GAME_ID.USA_ME,D.GAME_ID.USA_GE,D.GAME_ID.USA_BFS,D.GAME_ID.USA_MW3,D.GAME_ID.USA_CAI,D.GAME_ID.USA_THOR,D.GAME_ID.USA_DOTD,D.GAME_ID.USA_SAMBA,D.GAME_ID.USA_WR,D.GAME_ID.USA_LN,D.GAME_ID.USA_PIRATE,D.GAME_ID.USA_BH,D.GAME_ID.USA_CNY,D.GAME_ID.USA_NC,D.GAME_ID.USA_FH,D.GAME_ID.USA_SL,D.GAME_ID.USA_GJ,D.GAME_ID.USA_DF,D.GAME_ID.USA_FGP,D.GAME_ID.USA_WA],D.ZOrder=T(S),D.BtnZOrder=T(R),D.WIDGET=T(M),D.DIRACTION=T(B),D.CommonTextType=T(L),D.AutoShowOrder=T({SKY_BAR:0,SIGN_IN:1}),D.RookieHintType=T({SPIN_BTN:0,BET_BTN:1,MISSION_BTN:2,MISSION_MENU:3}),D.RewardInfoDataType=T({COIN:0,RUBY:1,BACKPACK_ITEM:2,SLOT_ITEM:3,FISH_ITEM:4,FISH_SKIN:5,VIP_POINT:6,EVENT_POINT:7,EVENT_ENERGY:8,ALBUM_CARD:9,ALBUM_REWARD:10,BOOK_REWARD:11,CHALLENGE_POINT:12,BUFF:13}),D.MHB_GAME_ID=[D.GAME_ID.CSH,D.GAME_ID.FD,D.GAME_ID.SH,D.GAME_ID.SH4,D.GAME_ID.OLS2,D.GAME_ID.FS,D.GAME_ID.BS,D.GAME_ID.BFS,D.GAME_ID.FH,D.GAME_ID.MC],D.SOUND_PATH={MP3:"AsttSound/",OGG:"AsttSound_OGG/"},D.SOUND_FILE={COMMON_BTN:"COMMON_BTN",COMMON_CANCEL_BTN:"COMMON_CANCEL_BTN",COMMON_TURNING:"COMMON_TURNING",COMMON_CHECKBOX_OFF:"COMMON_CHECKBOX_OFF",COMMON_CHECKBOX_ON:"COMMON_CHECKBOX_ON",ITEM_CARD_USE:"Item_card_use",NOTIFY_HINT:"ai_hint"},D.AudioClips={COMMON_BTN:null,COMMON_CANCEL_BTN:null,COMMON_TURNING:null,COMMON_CHECKBOX_OFF:null,COMMON_CHECKBOX_ON:null,ITEM_CARD_USE:null,NOTIFY_HINT:null},D.PROTOCOL={LOGIN:0,PHASE_EVENT:10,CLICK_EVENT:20,MAIL_REQ:30,VERIFY_EVENT:40,SUBAGENTSERVICE_REQ:50,VIP:60,PROMOTION:70,FAVORITE:80,FAVORITE_ADD:81,FAVORITE_REMOVE:82,DEBRIS_ACTIVITY:91,DEBRIS_PLAYER_INFO:92,DEBRIS_GETDEBRIS:93,DEBRIS_EXCHANGE:94},D.StringKey={BALANCE:"BALANCE",WIN:"WIN",NET:"NET : ",DEMO_WIN:"DEMO_WIN",BET:"BET",EXTRA_BET:"EXTRA_BET",ITEM_BET:"ITEM_BET",DEMO_BET:"DEMO_BET",SPEED_HINT:"SPEED_HINT",AUTO_HINT0:"AUTO_HINT0",AUTO_HINT1:"AUTO_HINT1",MSGBOX_CONFIRM:"MSGBOX_CONFIRM",MSGBOX_CANCEL:"MSGBOX_CANCEL",MSGBOX_EXIT:"MSGBOX_EXIT",MSGBOX_CONTINUE:"MSGBOX_CONTINUE",MSGBOX_HISTORY:"MSGBOX_HISTORY",MSGBOX_LOGIN_FAIL:"MSGBOX_LOGIN_FAIL",MSGBOX_LOGIN_USER_NAME_NOT_FOUND:"MSGBOX_LOGIN_USER_NAME_NOT_FOUND",MSGBOX_LOGIN_DUPLICATE_LOGIN:"MSGBOX_LOGIN_DUPLICATE_LOGIN",MSGBOX_SERVER_MAINTAIN:"MSGBOX_SERVER_MAINTAIN",MSGBOX_MAINTAIN_HINT:"MSGBOX_MAINTAIN_HINT",MSGBOX_MAINTAIN_TYPE0:"MSGBOX_MAINTAIN_TYPE0",MSGBOX_MAINTAIN_TYPE1:"MSGBOX_MAINTAIN_TYPE1",MSGBOX_ERROR_GENERAL_TIME_OUT:"MSGBOX_ERROR_GENERAL_TIME_OUT",MSGBOX_CONNECT_FAIL:"MSGBOX_CONNECT_FAIL",MSGBOX_ERROR_GAP_TIME_OUT:"MSGBOX_ERROR_GAP_TIME_OUT",MSGBOX_WEBSERVICE_CONNECT_FAIL:"MSGBOX_WEBSERVICE_CONNECT_FAIL",MSGBOX_NOT_SERVICE:"MSGBOX_NOT_SERVICE",MSGBOX_TITLE_SYSTEM_INFO:"MSGBOX_TITLE_SYSTEM_INFO",MSGBOX_MONEY_NOT_ENOUGH_DOWN_BET:"MSGBOX_MONEY_NOT_ENOUGH_DOWN_BET",MSGBOX_MONEY_NOT_ENOUGH:"MSGBOX_MONEY_NOT_ENOUGH",MSGBOX_TIME_OUT:"MSGBOX_TIME_OUT",MSGBOX_SPIN_STATE_ERR:"MSGBOX_SPIN_STATE_ERR",MSGBOX_SPIN_OTHER_FAIL:"MSGBOX_SPIN_OTHER_FAIL",MSGBOX_RELOGIN_SYNC:"MSGBOX_RELOGIN_SYNC",MSGBOX_CURRENCY_CHANGE:"MSGBOX_CURRENCY_CHANGE",MSGBOX_DISCONNECT_RELOGIN:"MSGBOX_DISCONNECT_RELOGIN",MSGBOX_TITLE_QUICK_MOD:"MSGBOX_TITLE_QUICK_MOD",MSGBOX_QUICK_MOD:"MSGBOX_QUICK_MOD",MSGBOX_TOUCHPANEL_SPIN:"MSGBOX_TOUCHPANEL_SPIN",MSGBOX_CANT_FULLSCREEN:"MSGBOX_CANT_FULLSCREEN",MSGBOX_RESYNC:"MSGBOX_RESYNC",MSGBOX_AWARD_INFO:"MSGBOX_AWARD_INFO",MSGBOX_AWARD_INFO_ITEM:"MSGBOX_AWARD_INFO_ITEM",MSGBOX_ONLOADING:"MSGBOX_ONLOADING",MSGBOX_HISTORY_UNABLE_HINT:"MSGBOX_HISTORY_UNABLE_HINT",MSGBOX_UNSHOW_BACK:"MSGBOX_UNSHOW_BACK",MSGBOX_DEPOSIT:"MSGBOX_DEPOSIT",MSGBOX_MAX_REWARD:"MSGBOX_MAX_REWARD",MSGBOX_REALITY_CHECK:"MSGBOX_REALITY_CHECK",CONFIRM_BACK_TO_LOBBY:"CONFIRM_BACK_TO_LOBBY",ROOKIE_CLICK_SPIN:"ROOKIE_CLICK_SPIN",ROOKIE_CLICK_BET:"ROOKIE_CLICK_BET",ROOKIE_CLICK_MISSION:"ROOKIE_CLICK_MISSION",ROOKIE_TRY_MISSION:"ROOKIE_TRY_MISSION",INTRO_CONTINUE:"INTRO_CONTINUE",AUTO_PLAY_PANEL_START:"AUTO_PLAY_PANEL_START",AUTO_PLAY_PANEL_CANEL:"AUTO_PLAY_PANEL_CANEL",AUTO_PLAY_PANEL_STOP:"AUTO_PLAY_PANEL_STOP",AUTO_PLAY_PANEL_QUICKSTOP:"AUTO_PLAY_PANEL_QUICKSTOP",AUTO_PLAY_PANEL_QUICKSTOP_EFFECT:"AUTO_PLAY_PANEL_QUICKSTOP_EFFECT",AUTO_PLAY_PANEL_TOTALROUND:"AUTO_PLAY_PANEL_TOTALROUND",AUTO_PLAY_PANEL_TOTALROUND_2:"AUTO_PLAY_PANEL_TOTALROUND_2",AUTO_PLAY_PANEL_SINGLE_AWARD:"AUTO_PLAY_PANEL_SINGLE_AWARD",AUTO_PLAY_PANEL_COIN:"AUTO_PLAY_PANEL_COIN",AUTO_PLAY_PANEL_ENTER_FREEGAME:"AUTO_PLAY_PANEL_ENTER_FREEGAME",AUTO_PLAY_PANEL_GOT_JP:"AUTO_PLAY_PANEL_GOT_JP",AUTO_PLAY_PANEL_CLOSE_EFFECT:"AUTO_PLAY_PANEL_CLOSE_EFFECT",AUTO_PLAY_START_AUTO:"AUTO_PLAY_START_AUTO",AUTO_PLAY_STOP_AUTO:"AUTO_PLAY_STOP_AUTO",AUTO_PLAY_PANEL_COIN_LESS:"AUTO_PLAY_PANEL_COIN_LESS",AUTO_PLAY_PANEL_WINNING_MORE:"AUTO_PLAY_PANEL_WINNING_MORE",AUTO_PLAY_PANEL_CHIPS_GREAT:"AUTO_PLAY_PANEL_CHIPS_GREAT",AUTO_PLAY_PANEL_CHIPS_LESS:"AUTO_PLAY_PANEL_CHIPS_LESS",AUTO_PLAY_HINT_START:"AUTO_PLAY_HINT_START",AUTO_PLAY_HINT_END:"AUTO_PLAY_HINT_END",SPEED_PANEL_START:"SPEED_PANEL_START",SPEED_PANEL_STOP:"SPEED_PANEL_STOP",CHAT_SYSTEM_TXT:"CHAT_SYSTEM_TXT_",CHAT_SYSTEM_SP_TXT:"CHAT_SYSTEM_SP_TXT_",BOTTOM_BAR_LOGINDEX_TITLE:"BOTTOM_BAR_LOGINDEX_TITLE",BOTTOM_BAR_BACK_TO_GAME:"BOTTOM_BAR_BACK_TO_GAME",BOTTOM_BAR_BACK_GAME_HISTORY:"BOTTOM_BAR_BACK_GAME_HISTORY",BOTTOM_BAR_BACK_GAME_DESCRIPTION:"BOTTOM_BAR_BACK_GAME_DESCRIPTION",WARNING_CLICK_TOO_FAST:"WARNING_CLICK_TOO_FAST",FEATURES_BTN:"FEATURES_BTN",FEATURES_FIRE_NUN:"FEATURES_FIRE_NUN",FEATURES_FIRE_INFO_L:"FEATURES_FIRE_INFO_L",FEATURES_FIRE_INFO_S:"FEATURES_FIRE_INFO_S",FEATURES_VOLATILITY_TEXT:"FEATURES_VOLATILITY_TEXT",FEATURES_HISTORY_ROUND:"FEATURES_HISTORY_ROUND",FEATURES_DEMO_PLAYING:"FEATURES_DEMO_PLAYING",BACKPACK_TAB_USE:"BACKPACK_TAB_USE",BACKPACK_TAB_ALL:"BACKPACK_TAB_ALL",BACKPACK_TAB_MSG:"BACKPACK_TAB_MSG",BACKPACK_WEBVIEW_TITTLE:"BACKPACK_WEBVIEW_TITTLE",BACKPACK_TXT_GAME:"BACKPACK_TXT_GAME",BACKPACK_TXT_BET:"BACKPACK_TXT_BET",BACKPACK_TXT_VIP:"BACKPACK_TXT_VIP",BACKPACK_TXT_PROPERTY:"BACKPACK_TXT_PROPERTY",BACKPACK_TXT_PROPERTY_UP:"BACKPACK_TXT_PROPERTY_UP",BACKPACK_TXT_TIME_BAR:"BACKPACK_TXT_TIME_BAR_",BACKPACK_TXT_TIME:"BACKPACK_TXT_TIME",BACKPACK_TXT_TIMEOUT:"BACKPACK_TXT_TIMEOUT",BACKPACK_TXT_INFO:"BACKPACK_TXT_INFO",BACKPACK_TXT_OWN:"BACKPACK_TXT_OWN",BACKPACK_TXT_AVAILABLE:"BACKPACK_TXT_AVAILABLE",BACKPACK_BTN_USE:"BACKPACK_BTN_USE",RRBACKPACK_BTN_USE:"RRBACKPACK_BTN_USE",BACKPACK_AWARD:"BACKPACK_AWARD",BACKPACK_REFUSED_REASON:"BACKPACK_REFUSED_REASON_",BACKPACK_GET_ITEM:"BACKPACK_GET_ITEM",BACKPACK_WARNING:"BACKPACK_WARNING_",BACKPACK_WARNING2:"BACKPACK_WARNING2_",BACKPACK_WARNING3:"BACKPACK_WARNING3_",BACKPACK_WARNING4:"BACKPACK_WARNING4_",BACKPACK_NO_ITEM:"BACKPACK_NO_ITEM",FREESPINS_END:"FREESPINS_END",FREESPIN_BET:"FREESPIN_BET",GAMEID:"GAMEID_",TADA_GAMEID:"TADA_GAMEID_",ITEM_TITLE:"ITEM_TITLE_",ITEM_DESC:"ITEM_DESC_",ITEM_DESC_GAME:"ITEM_DESC_GAME_",JILI_ITEM_NAME:"JILI_ITEM_NAME",TADA_ITEM_NAME:"TADA_ITEM_NAME",GF_GIFTCARD:"GF_GIFTCARD",PH_IPHONE:"PH_IPHONE",PH_IPHONE_15:"PH_IPHONE_15",PH_GALAXY:"PH_GALAXY",PRIVATE_MSG_ITEM_GET:"PRIVATE_MSG_ITEM_GET",PRIVATE_MSG_ITEM_USE:"PRIVATE_MSG_ITEM_USE",PRIVATE_MSG_ITEM_TIMEOUT:"PRIVATE_MSG_ITEM_TIMEOUT",RANK_A_TO_B_RANK:"RANK_A_TO_B_RANK",RANK_END:"RANK_END",RANK_LAST_ORDER:"RANK_LAST_ORDER",RANK_LESS_X_MIN:"RANK_LESS_X_MIN",RANK_ORDER:"RANK_ORDER",RANK_OUT_OF_RANK:"RANK_OUT_OF_RANK",RANK_READY:"RANK_READY",RANK_REFRESH:"RANK_REFRESH",RANK_TOTAL_WIN_LIST:"RANK_TOTAL_WIN_LIST",RANK_BONUS_MSG:"RANK_BONUS_MSG",RANK_CHECK:"RANK_CHECK",RANK_BONUS_REMAIN_TIME:"RANK_BONUS_REMAIN_TIME",RANK_RANK:"RANK_RANK",RANK_NAME:"RANK_NAME",RANK_POINT:"RANK_POINT",RANK_TYPE:"RANK_TYPE_",DAILY_COMPLETE:"DAILY_COMPLETE",DAILY_UNFINISHED:"DAILY_UNFINISHED",DAILY_COMMING_SOON:"DAILY_COMMING_SOON",DAILY_DESC_TITLE:"DAILY_DESC_TITLE",DAILY_DESC_CONTENT:"DAILY_DESC_CONTENT",DAILY_DESC_SINGLE_GAME:"DAILY_DESC_SINGLE_GAME",DAILY_REFRESH:"DAILY_REFRESH",DAILY_REWARD:"DAILY_REWARD",DAILY_PROMOTE:"DAILY_PROMOTE",DAILY_COMMON_ITEM:"DAILY_COMMON_ITEM",DAILY_PLAY_GAME_NAME:"DAILY_PLAY_GAME_NAME",DAILY_PLAY_COMMON_GAME:"DAILY_PLAY_COMMON_GAME",DAILY_PLAY_SLOT_GAME:"DAILY_PLAY_SLOT_GAME",DAILY_PLAY_POKER_GAME:"DAILY_PLAY_POKER_GAME",DAILY_PLAY_TADA_GAME:"DAILY_PLAY_TADA_GAME",DAILY_TOMORROW:"DAILY_TOMORROW",DAILY_DESC_CONTENT_INDO:"DAILY_DESC_CONTENT_INDO",DAILY_COMPLETE_INDO:"DAILY_COMPLETE_INDO",REWARD_RUBY:"REWARD_RUBY",REWARD_CLICK_MALL:"REWARD_CLICK_MALL",REWARD_RUBY_TITLE:"REWARD_RUBY_TITLE",REWARD_RUBY_DESC:"REWARD_RUBY_DESC",REWARD_COIN_TITLE:"Coin Description",REWARD_COIN_DESC:"The Basic currency to play games.",SHOW_REWARD_COLLECT_CARD:"SHOW_REWARD_COLLECT_CARD",SHOW_REWARD_MISSION:"Complete Daily Missions",UNLOCK:"UNLOCK",RECOMMEND_TITLE:"RECOMMEND_TITLE",RECOMMEND_HINT:"RECOMMEND_HINT",SIGN_IN_TITLE:"SIGN_IN_TITLE",SIGN_IN_CONGRATS:"SIGN_IN_CONGRATS",SIGN_IN_GOT:"SIGN_IN_GOT",SIGN_IN_GET:"SIGN_IN_GET",SIGN_IN_BOX:"SIGN_IN_BOX",SIGN_IN_BTN_HINT:"SIGN_IN_BTN_HINT",SIGN_IN_VIP0:"SIGN_IN_VIP0",SIGN_IN_VIP0_LOCK:"SIGN_IN_VIP0_LOCK",SIGN_IN_VIP_LOCK_1:"SIGN_IN_VIP_LOCK_1",SIGN_IN_VIP_LOCK_2:"SIGN_IN_VIP_LOCK_2",SIGN_IN_START:"SIGN_IN_START",SIGN_IN_FINISHED:"SIGN_IN_FINISHED",SIGN_IN_UNABLED:"SIGN_IN_UNABLED",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_PREPARING:"SIGN_IN_PREPARING",SIGN_IN:"SIGN_IN",SIGNED_IN:"SIGNED_IN",SIGN_IN_FINISHED_LOOP:"SIGN_IN_FINISHED_LOOP",SIGN_IN_UNABLED_LOOP:"SIGN_IN_UNABLED_LOOP",SIGN_IN_PREPARING_LOOP:"SIGN_IN_PREPARING_LOOP",SIGN_IN_NET_ERROR:"SIGN_IN_NET_ERROR",SIGN_IN_HINT:"SIGN_IN_HINT",SIGN_IN_NOTICE:"SIGN_IN_NOTICE",SIGN_IN_NOTICE_GET:"SIGN_IN_NOTICE_GET",SIGN_IN_NOTICE_NOGET:"SIGN_IN_NOTICE_NOGET",SIGN_IN_NOTICE_BOX:"SIGN_IN_NOTICE_BOX",SIGN_IN_NOTICE_NOBOX:"SIGN_IN_NOTICE_NOBOX",SIGN_IN_NOTICE_UPGRADE:"SIGN_IN_NOTICE_UPGRADE",SIGN_IN_NOTICE_GET_HINT:"SIGN_IN_NOTICE_GET_HINT",FAVOR_TITLE:"FAVOR_TITLE",FAVOR_REMOVE_HINT:"FAVOR_REMOVE_HINT",FAVOR_AUTO_REMOVE_HINT:"FAVOR_AUTO_REMOVE_HINT",FAVOR_ADD_HINT:"FAVOR_ADD_HINT",FAVOR_INVALID_HINT:"FAVOR_INVALID_HINT",FAVOR_HINT:"FAVOR_HINT",FAVOR_DESC:"FAVOR_DESC_",FAVOR_BIG_DESC:"FAVOR_BIG_DESC",FAVOR_NOTHING_DESC:"FAVOR_NOTHING_DESC",FAVOR_INFO:"FAVOR_INFO",CHANGE_GAME_HINT:"CHANGE_GAME_HINT",BIG_WIN_REPLAY_TITLE:"BIG_WIN_REPLAY_TITLE",FEATURES_TITLE:"FEATURES_TITLE",EVENT_TITLE:"EVENT_TITLE",TIGGER_RANK_TITLE:"TIGGER_RANK_TITLE",TIGGER_RANK_RESET:"TIGGER_RANK_RESET",TIGGER_RANK_REFRESH:"TIGGER_RANK_REFRESH",TIGGER_RANK_OUTSIDE:"TIGGER_RANK_OUTSIDE",TIGGER_RANK_RANK:"TIGGER_RANK_RANK",TIGGER_RANK_NAME:"TIGGER_RANK_NAME",TIGGER_RANK_ODDS:"TIGGER_RANK_ODDS",TIGGER_RANK_TIME:"TIGGER_RANK_TIME",TRIAL_AWARD_RECORD_DESC:"TRIAL_AWARD_RECORD_DESC",TRIAL_END_RECORD_DESC:"TRIAL_END_RECORD_DESC",TRIAL_REFUSED_REASON:"TRIAL_REFUSED_REASON_",TRIAL_RECORD:"TRIAL_RECORD",TRIAL_INFO:"TRIAL_INFO",TRIAL_FAVOR:"TRIAL_FAVOR",FREEWINCASH:"FREEWINCASH",FREEWINCASH_FREE:"FREEWINCASH_FREE",FREEWINCASH_WINCASH:"FREEWINCASH_WINCASH",FREEWINCASH_DESC_1:"FREEWINCASH_DESC_1",FREEWINCASH_DESC_2:"FREEWINCASH_DESC_2",FREEWINCASH_DESC_3:"FREEWINCASH_DESC_3",FREEWINCASH_DESC_4:"FREEWINCASH_DESC_4",FREEWINCASH_TAEGEY:"FREEWINCASH_TAEGEY",FREEWINCASH_TIER:"FREEWINCASH_TIER",FREEWINCASH_GIVEUP:"FREEWINCASH_GIVEUP",FREEWINCASH_CONTINUE_CHALLENGE:"FREEWINCASH_CONTINUE_CHALLENGE",FREEWINCASH_CHALLENGE:"FREEWINCASH_CHALLENGE",FREEWINCASH_GIVEUPWIN:"FREEWINCASH_GIVEUPWIN",FREEWINCASH_WINMORECASH:"FREEWINCASH_WINMORECASH",FREEWINCASH_WINCASHNOW:"FREEWINCASH_WINCASHNOW",FREEWINCASH_FORFEIT:"FREEWINCASH_FORFEIT",FREEWINCASH_CONTINUE:"FREEWINCASH_CONTINUE",FREEWINCASH_JOIN:"FREEWINCASH_JOIN",FREEWINCASH_CANCEL:"FREEWINCASH_CANCEL",FREEWINCASH_CONFIRM:"FREEWINCASH_CONFIRM",FREEWINCASH_COLLECTANDLEAVE:"FREEWINCASH_COLLECTANDLEAVE",FREEWINCASH_WIN:"FREEWINCASH_WIN",FREEWINCASH_BET:"FREEWINCASH_BET",FREEWINCASH_TXT_1:"FREEWINCASH_TXT_1",FREEWINCASH_TXT_2:"FREEWINCASH_TXT_2",FREEWINCASH_TXT_4:"FREEWINCASH_TXT_4",FREEWINCASH_PLAYING1:"FREEWINCASH_PLAYING1",FREEWINCASH_PLAYING2:"FREEWINCASH_PLAYING2",FREEWINCASH_TXT_5:"FREEWINCASH_TXT_5",FREEWINCASH_TXT_6:"FREEWINCASH_TXT_6",FREEWINCASH_BACKPACK:"FREEWINCASH_BACKPACK",FREEWINCASH_WALLET:"FREEWINCASH_WALLET",FREEWINCASH_COINS:"FREEWINCASH_COINS",FREEWINCASH_DEMOCOINS:"FREEWINCASH_DEMOCOINS",FREEWINCASH_INSTRUCTION:"FREEWINCASH_INSTRUCTION",FREEWINCASH_INSTRUCTION_1:"FREEWINCASH_INSTRUCTION_1",FREEWINCASH_INSTRUCTION_2:"FREEWINCASH_INSTRUCTION_2",FREEWINCASH_INSTRUCTION_3:"FREEWINCASH_INSTRUCTION_3",FREEWINCASH_INSTRUCTION_4:"FREEWINCASH_INSTRUCTION_4",FREEWINCASH_INSTRUCTION_5:"FREEWINCASH_INSTRUCTION_5",FREEWINCASH_INSTRUCTION_6:"FREEWINCASH_INSTRUCTION_6",FREEWINCASH_INSTRUCTION_7:"FREEWINCASH_INSTRUCTION_7",FREEWINCASH_INSTRUCTION_8:"FREEWINCASH_INSTRUCTION_8",FREEWINCASH_MESSAGE_1:"FREEWINCASH_MESSAGE_1",FREEWINCASH_MESSAGE_2:"FREEWINCASH_MESSAGE_2",FREEWINCASH_MESSAGE_3:"FREEWINCASH_MESSAGE_3",BUY_BONUS_BUY:"BUY_BONUS_BUY",BUY_BONUS_FEATURE:"BUY_BONUS_FEATURE",BUY_BONUS_DES_BUY_NOW:"BUY_BONUS_DES_BUY_NOW",BUY_BONUS_DES_FREE:"BUY_BONUS_DES_FREE",BUY_BONUS_DES_BONUS:"BUY_BONUS_DES_BONUS",BUY_BONUS_DES_BET:"BUY_BONUS_DES_BET",BUY_BONUS_DES_PLAY:"BUY_BONUS_DES_PLAY",BUY_BONUS_DES_COST:"BUY_BONUS_DES_COST",BUY_BONUS_DES_TOTAL_PAID:"BUY_BONUS_DES_TOTAL_PAID",BUY_BONUS_DES_TOTAL_PRICE:"BUY_BONUS_DES_TOTAL_PRICE",BUY_BONUS_DES_TIMES:"BUY_BONUS_DES_TIMES",BUY_BONUS_BUY_AND_PLAY:"BUY_BONUS_BUY_AND_PLAY",BUY_BONUS_MSG_MONEY_NOT_ENOUGH:"BUY_BONUS_MSG_MONEY_NOT_ENOUGH",BUY_BONUS_MSG_BUYING_LIMIT_REACHED:"BUY_BONUS_MSG_BUYING_LIMIT_REACHED",BUY_BONUS_MSG_CLOSED:"BUY_BONUS_MSG_CLOSED",BUY_BONUS_ITEM_EXPLAIN:"BUY_BONUS_ITEM_EXPLAIN",CHANGE_CURRENCY_TITLE:"CHANGE_CURRENCY_TITLE",CHANGE_CURRENCY:"CHANGE_CURRENCY",FEATURES_DEMO_GO_BACK_REAL:"FEATURES_DEMO_GO_BACK_REAL",FEATURES_DEMO_BTN_TXT:"FEATURES_DEMO_BTN_TXT",FEATURES_DEMO_INFO_1:"FEATURES_DEMO_INFO_1",FEATURES_DEMO_INFO_2:"FEATURES_DEMO_INFO_2",FEATURES_DEMO_REAL_MODE:"FEATURES_DEMO_REAL_MODE",FEATURES_DEMO_MODE:"FEATURES_DEMO_MODE",FEATURES_DEMO_SELECTION:"FEATURES_DEMO_SELECTION",NOTIFY_ITEM_1:"NOTIFY_ITEM_1",NOTIFY_ITEM_2:"NOTIFY_ITEM_2",NOTIFY_JILILV:"NOTIFY_JILILV",NOTIFY_SIGNIN:"NOTIFY_SIGNIN",NOTIFY_DAILY:"NOTIFY_DAILY",NOTIFY_BUYBONUS:"NOTIFY_BUYBONUS",NOTIFY_DEBRIS:"NOTIFY_DEBRIS",NOTIFY_TOP50:"NOTIFY_TOP50",VOLATILITY_INFO:"VOLATILITY_INFO",VOLATILITY_TEXT:"VOLATILITY_TEXT",JACKPOT_TEXT:"JACKPOT_TEXT",BRAND_JILI:"BRAND_JILI",BRAND_TADA:"BRAND_TADA",JACKPOT_DESC_TEXT_1:"JACKPOT_DESC_TEXT_1",JACKPOT_DESC_TEXT_2:"JACKPOT_DESC_TEXT_2",JACKPOT_BET_TEXT_1:"JACKPOT_BET_TEXT_1",JACKPOT_BET_TEXT_2:"JACKPOT_BET_TEXT_2",JACKPOT_BET_TEXT_3:"JACKPOT_BET_TEXT_3",JACKPOT_BET_TEXT_1b:"JACKPOT_BET_TEXT_1b",JACKPOT_BET_TEXT_2b:"JACKPOT_BET_TEXT_2b",JACKPOT_BET_TEXT_3b:"JACKPOT_BET_TEXT_3b",JACKPOT_BET_TEXT_1c:"JACKPOT_BET_TEXT_1c",JACKPOT_BET_TEXT_2c:"JACKPOT_BET_TEXT_2c",JACKPOT_BET_TEXT_3c:"JACKPOT_BET_TEXT_3c",JACKPOT_BET_TEXT:"JACKPOT_BET_TEXT",JACKPOT_AWARD_TEXT:"JACKPOT_AWARD_TEXT",JACKPOT_WIN_TEXT:"JACKPOT_WIN_TEXT",JACKPOT_AWARDTYPE_TEXT:"JACKPOT_AWARDTYPE_TEXT",JACKPOT_DATE_TEXT:"JACKPOT_DATE_TEXT",JACKPOT_WINNER_TEXT:"JACKPOT_WINNER_TEXT",JACKPOT_AMOUNT_TEXT:"JACKPOT_AMOUNT_TEXT",JACKPOT_GRAND_TEXT:"JACKPOT_GRAND_TEXT",JACKPOT_MAJOR_TEXT:"JACKPOT_MAJOR_TEXT",JACKPOT_MINI_TEXT:"JACKPOT_MINI_TEXT",JACKPOT_GONGRATS_TEXT:"JACKPOT_GONGRATS_TEXT",SLOT_JACKPOT:"SLOT_JACKPOT",SLOT_JACKPOT_OTHER:"SLOT_JACKPOT_OTHER",MHB_TEXT:"MHB_TEXT",MHB_DESC_BTN_THIS:"MHB_DESC_BTN_THIS",MHB_DESC_BTN_OTHER:"MHB_DESC_BTN_OTHER",MHB_DESC_TEXT_1:"MHB_DESC_TEXT_1",MHB_DESC_TEXT_2:"MHB_DESC_TEXT_2",MHB_WINNER_TEXT:"MHB_WINNER_TEXT",MHB_AMOUNT_TEXT:"MHB_AMOUNT_TEXT",MHB_DATE_TEXT:"MHB_DATE_TEXT",MHB_INFO:"MHB_INFO",MHB_INFO_TITLE:"MHB_INFO_TITLE",DEBRIS_ITEM:"DEBRIS_ITEM",DEBRIS_AWARD:"DEBRIS_AWARD",DEBRIS_AMOUNT:"DEBRIS_AMOUNT",DEBRIS_EXCHANGE:"DEBRIS_EXCHANGE",DEBRIS_LEFT:"DEBRIS_LEFT",DEBRIS_LEFT_TIME:"DEBRIS_LEFT_TIME",DEBRIS_BET_HINT:"DEBRIS_BET_HINT",DEBRIS_EVENT:"DEBRIS_EVENT",DEBRIS_NOT_ENOUGH:"DEBRIS_NOT_ENOUGH",GIFT_CODE_1:"GIFT_CODE_1",GIFT_CODE_2:"GIFT_CODE_2",GIFT_CODE_3:"GIFT_CODE_3",GIFT_ERROR_CODE:"GIFT_ERROR_CODE_"},D.StringKeyGame={},D.APP=null,D.DollarSymbol="",D.DollarSymbolSuffix="",D.DollorSymbolDisplayPriority=!0,D.DollarFontFamily="Arial",D.DefaultFont=null,D.DefaultExtraFont=null,D.IsSyncFromWS=!1,D.TransactionMode={Normal:0,Single:1,SingleSync:2},D.PHASE_ENTERING_EVENT={WEBVIEW_LAUNCH:90,CREATOR_LAUNCH:100,CHECK_LANG:101,GET_LANG:102,FEATURE_VIEW_INIT:103,LOGIN_GAP:200,LOGIN_GAP_END:201,SOCKET_RESULT:250,SOCKET_CONNECTION_TIME:251,SOCKET_CONNECTION_ERROR:252,LOADING_GAME_VEIEW_END:260,LOGIN_GAME:300,LOGIN_GAME_END:301,GET_SETTING:350,GAME_LOADING:400,GAME_MAIN_STAGE:500,CLOSE_INTRO:501,PLAY_LEADING:502,BALANCE_ENOUGH:503,OPEN_INTRO:504,FIRST_SPIN:600,LOGIN_GAME_RELOGIN:900,TRIGGER_TIMEOUT:998,TIMEOUT:999,GL_LOG:1e3,ROUT_CHANGE:1001},D.RealItemsMap={13081001:D.StringKey.PH_IPHONE,13081002:D.StringKey.PH_IPHONE_15,13081003:D.StringKey.PH_GALAXY},D.ROUTE={NCR:1,CHIEF:2},D.VERIFY_EVENT={SYNC_CHIPS:100,SYNC_WIN:101,SYNC_PLATE:102},D.TIMEOUT_COMMAND={LOGIN:0,GAME_INFO:1,UPGRADE:2,SPIN:3,FREE_SPIN:4,CHOOSE:5},D.FavorSymbol={BIG:"b",RECOMMAND_FAVOR:"rf",FAVOR:"f",RECOMMAND:"r",TRIAL:"t"},D.BTN_CLICK_EVENT={WEB_SITE:1,AUTOPLAY:30,AUTOPLAY_STOP:31,SPIN:40,STOP:41,FEATURESVIEW:50,FEATURES_DEMO_1:51,FEATURES_DEMO_2:52,FEATURES_DEMO_3:53,FEATURES_DEMO_4:54,FEATURES_DEMO_5:55,FEATURES_DEMO_NOW_PLAY:56,FEATURES_DEMO_IDLE:57,FEATURES_DEMO_BACK_REAL:58,FEATURES_DEMO_MENU:59,HARDSTOP_ON:60,HARDSTOP_OFF:61,RATIO:70,DESC:71,SOUND_ON:80,SOUND_OFF:81,HISTORY:90,WISEAUTO:100,CLICK_PLATE:105,SPACE_SPIN:110,WISEAUTO_TOTAL:120,WISEAUTO_FORCE_NON_MANUAL_STOP:130,WISEAUTO_FORCE_MANUAL_STOP:131,WISEAUTO_FORCE_OTHER_STOP:132,BACKPACK:140,BACKPACK_GAMETAB:141,BACKPACK_ALLTAB:142,BACKPACK_MSGTAB:143,BACKPACK_CHANGE_GAME:144,RECOMMEND_CLICK:150,TREATURE_BOX_CLICK:151,SIGN_IN_INFO_CLICK:152,BOOKMARK_CLICK:153,TRIAL_CLICK:160,RECOM_CHANGE_GAME:200,RECOM_FAVOR_ADD:201,RECOM_FAVOR_REMOVE:202,FAVOR_CHANGE_GAME:210,FAVOR_FAVOR_ADD:211,FAVOR_FAVOR_REMOVE:212,RECOMF_CHANGE_GAME:220,RECOMF_FAVOR_ADD:221,RECOMF_FAVOR_REMOVE:222,TRIAL_FAVOR_ADD:223,BIG_FAVOR_ADD:225,BIG_WIN_REPLAY:230,LIKE_CHANGE_GAME:240,BUY_BONUS:250,VOLATILITY_CLOSE:259,VOLATILITY:260,VOLATILITY_HIGH:261,VOLATILITY_LOW:262,VOLATILITY_QUEST:263,NOTIFY_OTHER_GAME:264,NOTIFY_HISTORY_ICON:265,INDOLOBBY_CHANGE_GAME:266,INDOLOBBY_BUTTON_EVENT:267,MISSION_OTHER_GAME:268,DEBRISE_VIEW_OPEN:270,INDOLOBBY_GAME_COUNT:271,JP_CHANGE_GAME:281,MHB_CHANGE_GAME:291,TOP50_CHANGE_GAME:292,EVENT_CHANGE_GAME:293,PLATFORM_ERROR_MESSAGE:300,INGAME:600,GAME_ERROR:601,SYNC_CHIPS:602,CHANGE_CHIPS:603,CLOSE_GAME:700},D.PHASE_RESULT={SUCCESS:0,TIMEOUT:1,NOT_LOGIN_YET:2,REPEAT_LOGIN:3,INVALID_SSOKEY:4,INVALID_TOKEN:5,NOT_ALLOW_REGION:6,SERVER_MAINTAIN:7,UNKNOWN:99},D.GL_RESULT={TRUE:0,FALSE:1},D.SOUND_OGG_ENABLE=!1,D.TagType=T({None:0,Hot:1,New:2,Event:3}),D.TagName=["","hot_","new_","event_"],D.BuyBonusTag=T({None:0,Hot:1,Event:2}),D.BetMode=T({Normal:0,Item:1,ExtraBet:2,FreeSpin:3,Trail:4}),D.CurrencyBetIcon={default:"BottomBar_Bet",USD:"BottomBar_Bet_01"},D.BetIcon={JILI_Default:"BottomBar_Bet",TADA_Default:"BottomBar_Bet_01",BMM_Default:"BottomBar_Bet",ExtraBetPostfix:"_Ex",SSS_Postfix:"_SSS"},D.SpinBtn={BottomBar_Btn_L:"BottomBar_Btn_L",BottomBar_Spin_01:"BottomBar_Spin_01"},D.FreeSpinBtn={FreeSpin_Word:"BottomBar_Btn_FreeSpin_2",FreeSpin_Arrow:"BottomBar_Btn_FreeSpin_1",FreeSpin_BG:"BottomBar_Btn_FreeSpin_BG",PrizeUp_Word:"BottomBar_Btn_Bonus"},D.LineSetting={org:1,sec:2,street:3,bc:4,americas:5,americas_str:6},D.ResFolderName={org:"framework",sec:"framework_2",street:"framework_1.5",bc:"framework_bc",india:"framework_india",india2:"framework_india_2",americas:"framework_americas",americas_str:"framework_americas_1.5"},D.BarPath="Astt/%s/bottombar/BarNode_share",D.AutoPlaySettingPanel="Astt/%s/autoPlay/AutoPlaySettingPanel",D.AutoPlaySettingPanel_DFI="Astt/%s/autoPlay/AutoPlaySettingPanel_DFI",D.AutoPlaySettingPanel_DFIII="Astt/%s/autoPlay/AutoPlaySettingPanel_DFIII",D.AutoPlaySettingPanel_BS="Astt/%s/autoPlay/AutoPlaySetting_BS",D.AutoPlaySetting_AG2="Astt/%s/autoPlay/AutoPlaySetting_AG2",D.AutoPlaySetting_FD="Astt/%s/autoPlay/AutoPlaySetting_FD",D.AutoPlaySettingPanel_MS="Astt/%s/autoPlay/AutoPlaySettingPanel_MS",D.DiscountBtn="Astt/%s/discount/Prefab/WinMore_IconBtn",D.DepositBtn="Astt/%s/Common/Prefab/Common_QuicklyRecharge",D.DebrisBtnPath={ORG:"Astt/%s/Debris/Prefab/Debris_IconBtn",AMERICAS:"Astt/%s/Debris/Prefab/Debris_IconBtn"},D.DailyMissionBtn="Astt/%s/dailyMission/Prefab/DailyMission_IconBtn",D.NewDailyMissionBtn="Astt/%s/dailyMission/Prefab/DailyMission_IconBtn_02",D.DebrisViewPath={ORG:"Astt/%s/Debris/Prefab/Debris",AMERICAS:"Astt/%s/Debris/Prefab/Debris"},D.BuyBonusPath={ORG:"Astt/%s/buyBonus/Prefab/BuyBonus",AMERICAS:"Astt/%s/buyBonus/Prefab/BuyBonus",BTN:"Astt/%s/buyBonus/Prefab/BuyBonus_IconBtn"},D.TrialPath={ORG:"Astt/%s/Trial/Prefab/Trial",AMERICAS:"Astt/%s/Trial/Prefab/Trial"},D.TrialBtnPath={ORG:"Astt/%s/Trial/Prefab/Trial_IconBtn",AMERICAS:"Astt/%s/Trial/Prefab/Trial_IconBtn"},D.UFAApiID=[1003,1072],D.WebNoMenu=[9,10,11,12,13,14,15,16,17,18,19,20,1003],D.NoSymbolApiID=[8,4],D.AUTOPLAY_SINGLE_WIN_RATE=10,D.CbKey={BottomBar:"bar",Backpack:"backpack",ItemInfo:"itemInfo",Volatility:"volatility",SignIn:"signin",Discount:"discount",Trial:"trial",Favor:"favor",Debris:":debris",BuyBonus:"buybonus",Deposit:"Deposit"},D.DAILYMISSION_REWARD_TYPE={ItemCard:1,MallCoin:2,ForceFg:4,RaceTicket:8,Gift:16,GameCoin:32,TaDaBuff:64,CollectCard:128},D.REPLAY_ANI_DELAY_TIME=1.75,D.ErrorStatus=T({PlatFormRetry:99,PlatForm:100,Game:200,Spin:300,Unknow:999}),D.SwitchOffKeyDefine=T({ShopingMall:1,SmartMessage:2,Promotion:3,TreasureChest:4,GameHistory:5,FeaturedDisplay:6,CoinAccuracy:7,CurrencySymbol:8,ItemBoxImport:9,AllChangeGameImport:10,AutoPlay:11,IsDelay:12,CloseSpeedUp:13,CloseBackpack:14,Trail:15,ShowAutoSetting:16,NoSoundUnder1:17,NoQuickSpin:18,RatioOnView:19,ShowPlateformVer:20,ShowTime:21,ShowPlayTime:22,BlockLobbyOff:23,NoRedSpot:24,CloseVip:25,CloseBuyBonusInfo:26,CloseSettingInfo:27,UseKilo:28,ClickAutoSetting:29,CloseBuyBonusAdd:30,RemoveDecimal:31,ShowBuyBonusBetInfo:32,CloseWinTxtWithZero:33,ShowNetWin:34,CloseSideFeatures:35,RealityCheck:36,CloseJPList:37,DisableSettingInfo:38,CloseManual:39,CloseHotChilli:40,CloseFreeSpin:41}),D.ClientErrorCode=T({ReceiveSpinAckAgain:-99,ClientTimeOut:-98,PlateError:-97}),D.BetColumnLimit=5,D.BetLowLvl=2,D.BetUpLvl=12,D.BetStorageKey=":BetValue",D.IsLifeSocketClose=!0,D.LifeSocketReqUrl=null,D.SpeedRange=[500,1e3,1500,2e3,Number.MAX_SAFE_INTEGER],D.MaxSpeedLvl=4,D.FormBtnClickParams=null,D.SendBtnClickEvent=null,D.GameReason=T(O),D.m_canUseItemCard=!0,D.m_cantUseReason=O.PLAYING,D.m_switchOffKeys=[],D.CloseIntroKey="CloseIntro",D.MissionIsOpenedKey="MissionIsOpenedKey",D.TOKEN="",D.AddEventWebview=null,D.RemoveEventWebview=null,D.WebviewType=C.None,D.EventWebviewType=T(C),D.IsIntroNodeActive=!0,D.TestRankType=-1,D.BMMApi={UKGC:1006,MALTA:1007,SPAIN:1008,DENMARK:1009,ROMANIA:1010,SWEDEN:1011,PORTUGAL:1012,SWITZERLAND:1013,COLOMBIA:1014,GREECE:1015,NETHERLANDS:1016,ITALY:1017,GERMANY:1018},D.BMMRequest={OutsideInfo:[1007],BetDollerSymbol:[1006,1007]},D.MGAApi=995,D.GLI_Default_DollarSymbol="$",D.GLIApi={AMERICAS:999,COLOMBIA:997},D.SpinType={Normal:0,Twice:1},D.BdType={None:0,Item:1,BuyBonus:2,FreeSpin:3},A._RF.pop()}}}));

System.register("chunks:///_virtual/Discount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./ConnectionManager.ts","./Tools.ts","./Define.ts","./LocaleStringManager.ts","./MsgBox.ts","./BottombarManager.ts","./Recommend.ts","./SignIn.ts","./LocalStorageManager.ts","./Favor.ts","./BigFavorHint.ts","./BigWinReplay.ts","./TiggerRank.ts","./EnvironmentConfig.ts","./promotion.mjs_cjs=&original=.js","./Request.ts","./Wallet.ts","./promotion.js"],(function(e){"use strict";var t,i,n,o,a,r,m,s,l,_,c,d,g,h,u,f,p,v,b,N,S,B,P,A,y,I,C,R,w,T,O,L,E,k,F,D,W,V,M,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,m=e._decorator,s=e.WebView,l=e.Node,_=e.Layout,c=e.Sprite,d=e.Animation,g=e.Prefab,h=e.SpriteFrame,u=e.log,f=e.instantiate,p=e.error,v=e.UITransform,b=e.Button,N=e.Component},function(e){S=e.default},function(e){B=e.default},function(e){P=e.default},function(e){A=e.default},function(e){y=e.default},function(e){I=e.default},function(e){C=e.default,R=e.BigFavorUser},function(e){w=e.default},function(e){T=e.default},function(e){O=e.default},function(e){L=e.default},function(e){E=e.default},function(e){k=e.default},function(e){F=e.default},function(e){D=e.default},null,function(e){W=e.Request,V=e.DEFAULT_REQUEST_OPTIONS},function(e){M=e.walletManger},function(e){G=e.default}],execute:function(){var H,U,q,z,K,x,j,Y,J,Q,X,Z,$,ee,te,ie,ne,oe,ae,re,me,se,le,_e,ce,de,ge,he,ue,fe,pe,ve,be,Ne,Se,Be,Pe,Ae;r._RF.push({},"4b11aWDpHNHjofkfo8a8SDk","Discount",void 0);var ye,Ie,Ce=m.ccclass,Re=m.property,we="WinMore_Title",Te=5e3,Oe=function(){this.PageName="",this.BtnNode=null,this.BtnState=null,this.LabelNode=null,this.RedPointNode=null,this.ViewNode=null,this.CheckBg=null},Le=e("PageName",{Recommand:"recommend",SignIn:"signin",Favor:"favor",bigWinReplay:"bigwin",Features:"features",TigerRank:"tigerrank",EventWebview:"eventwebview",mhb:"mhb",JP:"jp"});!function(e){e[e.eventwebview=0]="eventwebview",e[e.tigerrank=1]="tigerrank",e[e.signin=2]="signin",e[e.recommend=3]="recommend",e[e.favor=4]="favor",e[e.jp=5]="jp",e[e.mhb=6]="mhb",e[e.features=7]="features",e[e.bigwin=8]="bigwin"}(ye||(ye={})),function(e){e[e.eventwebview=0]="eventwebview",e[e.tigerrank=1]="tigerrank",e[e.recommend=2]="recommend",e[e.favor=3]="favor",e[e.signin=4]="signin",e[e.bigwin=5]="bigwin",e[e.features=6]="features",e[e.jp=7]="jp",e[e.mhb=8]="mhb"}(Ie||(Ie={}));var Ee=["WinMore_Events","WinMore_TOP50","WinMore_Popular","WinMore_Favorites","WinMore_FreeGift","WinMore_TOP50","WinMore_Features","WinMore_LinkJP","WinMore_MHB"],ke="FavorShows",Fe=[];e("default",(H=Re({type:s,tooltip:"活動頁"}),U=Re({type:l,tooltip:"優惠主畫面"}),q=Re({type:_,tooltip:"頁簽背景"}),z=Re({type:_,tooltip:"頁簽文字"}),K=Re({type:c,tooltip:"按鈕上的推薦文字(改用動態載入)"}),x=Re({type:c,tooltip:"優惠標題"}),j=Re({type:l,tooltip:"載入遮罩"}),Y=Re({type:l,tooltip:"基本畫面"}),J=Re({type:d,tooltip:"簽到提示動畫"}),Q=Re({type:g,tooltip:"新頁簽按鈕"}),X=Re({type:g,tooltip:"新頁簽按鈕(TADA)：Common_TagBtn"}),Z=Re({type:l,tooltip:"Logo"}),$=Re({type:l,tooltip:"Other Logo"}),ee=Re({type:l,tooltip:"TaDa Casino"}),te=Re({type:E,tooltip:"大愛心提示介面"}),ie=Re({type:h,tooltip:"紅點圖片"}),ne=Re({type:h,tooltip:"(暗)標題圖片 (照 enum(Sheet) 的順序)"}),oe=Re({type:h,tooltip:"(亮)標題圖片 (照 enum(Sheet) 的順序)"}),Ce((me=t((re=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_eventWebView",me,o(t)),n(t,"m_discountViewNode",se,o(t)),n(t,"m_backPageLayout",le,o(t)),n(t,"m_namePageLayout",_e,o(t)),n(t,"m_discountSprite",ce,o(t)),n(t,"m_discountTitleSprite",de,o(t)),n(t,"m_loadingMaskNode",ge,o(t)),n(t,"m_baseViewNode",he,o(t)),n(t,"m_signInHintAnim",ue,o(t)),n(t,"m_backPageBtnPrefabNew",fe,o(t)),n(t,"m_backPageBtnPrefabNew_TADA",pe,o(t)),n(t,"m_logoNode",ve,o(t)),n(t,"m_otherLogoNode",be,o(t)),n(t,"m_tadaCasinoLogoNode",Ne,o(t)),n(t,"m_bigFavorHint",Se,o(t)),n(t,"m_redPointSpriteFrame",Be,o(t)),n(t,"m_titleSprite_Off",Pe,o(t)),n(t,"m_titleSprite_On",Ae,o(t)),t.m_isInitEnd=!1,t.m_bottomBar=null,t.m_currentTouchName=null,t.m_isLandscape=!1,t.m_isSignInChecked=!1,t.m_isRecommendFinished=!1,t.m_localeSpriteAtlas=null,t.m_recommend=null,t.m_signIn=null,t.m_favor=null,t.m_bigWin=null,t.m_tiggerRank=null,t.m_loadingTime=Te,t.m_isCountDown=!1,t.m_defaultPageName=null,t.m_pageBtnArray=new Array,t.m_viewArray=new Array,t.m_reqReplayInfo=null,t.m_reqReplay=null,t.m_isAddFavorByBig=!1,t.m_isBlockByApiId=!1,t.m_isFirstShoFavor=!0,t.m_showList=null,t.m_isOpenWebView=!1,t.m_recommendCb=null,t.m_newRecommendCb=null,t.m_recommendCloseCb=null,t.m_favorInfoCbs=Array(),t.m_onRotationCbs={},t.m_showCbs={},t.m_isLoadBtn=!1,t}i(t,e);var r=t.prototype;return r.SetRecommendCb=function(e){this.m_recommendCb=e},r.SetRecommendCloseCb=function(e){this.m_recommendCloseCb=e},r.SetFavorInfoCb=function(e){this.m_favorInfoCbs.push(e)},r.onLoad=function(){try{var e=A.AID+":"+ke;this.m_showList=O.GetObject(e);for(var t=0;t<this.m_showList.length;t++){if(Number(A.NOW_GAME_ID)===this.m_showList[t]){this.m_isFirstShoFavor=!1;break}}}catch(e){}},r.Process=function(e){this.m_signIn&&this.m_signIn.Process(e),this.m_bigWin&&this.m_bigWin.Process(e),this.m_isCountDown&&(this.m_loadingTime-=1e3*e,this.m_loadingTime<=0&&(this.m_signIn&&this.m_signIn.TimeOutHandle(),this.m_favor&&this.m_favor.TimeOutHandle(),this.HideMask()))},r.OnRotation=function(e){for(var t in this.m_isLandscape=e,this.m_isLandscape?this.node.getComponent(d).play("Clip_Common_TagFrame_Landscape"):this.node.getComponent(d).play("Clip_Common_TagFrame_Portrait"),this.m_recommend&&this.m_recommend.OnRotation(this.m_isLandscape),this.m_favor&&this.m_favor.OnRotation(this.m_isLandscape),this.m_signIn&&this.m_signIn.OnRotation(this.m_isLandscape),this.m_bigWin&&this.m_bigWin.OnRotation(this.m_isLandscape),this.m_tiggerRank&&this.m_tiggerRank.OnRotation(this.m_isLandscape),this.EventWebViewLandScape(),this.m_onRotationCbs)if(Object.prototype.hasOwnProperty.call(this.m_onRotationCbs,t)){var i=this.m_onRotationCbs[t];i&&i(e)}},r.SetManager=function(e){this.m_bottomBar=e},r.Init=function(e,t,i,n,o,a){var r,m=this;this.m_bottomBar=e;for(var s=Number(P.GetLinkParameterByName("apiId")),l=0;l<Fe.length;l++)if(Number(A.API_ID)===Fe[l]||s===Fe[l]){this.m_isBlockByApiId=!0;break}if(!this.m_isBlockByApiId){if(this.SetLogoIcon(),this.SetRecommendCb((function(e,t,i,n,o){if(void 0===o&&(o=null),u("SetRecommendCb CheckSwitchOff:",P.CheckSwitchOff(A.SwitchOffKeyDefine.Promotion)),!P.CheckSwitchOff(A.SwitchOffKeyDefine.Promotion)){var a=P.GetFilePath("Astt/%s/discount/Prefab/WinMore_Popular_Page");A.CommonBundle.load(a,g,(function(r,s){if(r)u("err:",r);else{u("SetRecommendCb path:",a);var l=f(s);m.m_recommend=l.getComponent(w),l.active=!1,m.m_baseViewNode.addChild(l),m.m_recommend.SetContentPadding(),m.m_recommend.InitRecommendGameIcon(m,m.m_isLandscape,e,t,i,n,(function(){m.m_localeSpriteAtlas&&m.m_recommend.SetTxt(m.m_localeSpriteAtlas),m.AddPageBtn(m.m_recommend.node,Le.Recommand,A.StringKey.RECOMMEND_TITLE)}),o),m.m_bottomBar.sendTestLog(3003)}}))}})),S.GetInstance().SetRecommendCloseCb((function(){m.RemoveBtn(Le.Recommand)})),this.SetRecommendCloseCb((function(){m.RemoveBtn(Le.Recommand)})),this.ReqPromotionInfo(),null==(r=A.GameSwitchOff)||!r.IsCloseFavorite){var _=function(e){if(!P.CheckSwitchOff(A.SwitchOffKeyDefine.Promotion)){var t=P.GetFilePath("Astt/%s/discount/Prefab/WinMore_Popular_Page");A.CommonBundle.load(t,g,(function(t,i){if(!t){if(e&&e.Enabled){if(null===m.m_favor){var n=f(i);m.m_favor=n.getComponent(L),m.m_baseViewNode.addChild(n)}m.m_favor.node.active=!1,m.m_favor.FavorInit(m,m.m_isLandscape,e,m.m_isAddFavorByBig,m.m_bottomBar,(function(){if(m.m_localeSpriteAtlas&&m.m_favor.SetTxt(m.m_localeSpriteAtlas),m.AddPageBtn(m.m_favor.node,Le.Favor,A.StringKey.FAVOR_TITLE),null!==e.Expired)for(var t=0;t<e.Expired.length;t++)I.getInstance().ShowMessageBoxFormat(A.StringKey.FAVOR_AUTO_REMOVE_HINT,A.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[y.GetInstance().GetGameName(e.Expired[t])]);if(m.m_isAddFavorByBig&&m.m_bigFavorHint){if(e.Enabled&&e.Favorites){for(var i=!1,n=0;n<e.Favorites.length;n++)if(e.Favorites[n]===Number(A.NOW_GAME_ID)){i=!0;break}if(i){var o=function(){m.m_isAddFavorByBig=!1,m.m_bigFavorHint.node.active=!0,m.m_bigFavorHint.SetIcon(P.Icons[Number(A.NOW_GAME_ID)],Number(A.NOW_GAME_ID)),m.m_bottomBar.SetFavorBtnVisible(!1,R.BigWin)};P.Icons[Number(A.NOW_GAME_ID)]?o():P.LoadIcon(y.CurrLang,Number(A.NOW_GAME_ID),o)}}m.m_isAddFavorByBig=!1}})),m.m_bottomBar.SetFavorBtnVisible(e.BigWined,R.BigWin)}else m.m_bottomBar.SetFavorBtnVisible(!1,R.BigWin),m.RemoveBtn(Le.Favor),m.m_recommend&&m.m_recommend.UpdateFavorState(null,!0);m.m_bottomBar.sendTestLog(3004)}}))}};S.GetInstance().SetFavorInfoCb(_),this.SetFavorInfoCb(_),this.ReqFavoriteInfo()}if(n&&o){var c=P.GetFilePath("Astt/%s/discount/Prefab/WinMore_FreeGift_Page");A.CommonBundle.load(c,g,(function(a,r){if(!a){var s=f(r);m.m_signIn=s.getComponent(T),s.active=!1,m.m_baseViewNode.addChild(s),m.m_signIn.Init(m.m_isLandscape,e,m,t,i,n,o,(function(){m.m_localeSpriteAtlas&&m.m_signIn.SetTxt(m.m_localeSpriteAtlas),m.AddPageBtn(m.m_signIn.node,Le.SignIn,A.StringKey.SIGN_IN_TITLE)}),(function(){m.RemoveBtn(Le.SignIn)})),m.m_bottomBar.SetTrialEndCb((function(){m.m_signIn.ReqSignInState()})),m.m_bottomBar.sendTestLog(3005)}}))}u("reqReplay reqReplay:",a),a&&(this.m_reqReplayInfo=a.info,this.m_reqReplay=a.replay,a.check()),u("reqReplay this.m_reqReplayInfo:",this.m_reqReplayInfo);var d=P.GetFilePath("Astt/%s/discount/Prefab/WinMore_Top50_Page");u("TiggerRankPrefab path:",d),A.CommonBundle.load(d,g,(function(e,t){if(!e){var i=f(t);m.m_tiggerRank=i.getComponent(F),m.m_tiggerRank?(i.active=!1,m.m_baseViewNode.addChild(i),m.m_tiggerRank.Init(m.m_isLandscape,(function(){m.m_localeSpriteAtlas&&m.m_tiggerRank.SetTxt(),m.AddPageBtn(m.m_tiggerRank.node,Le.TigerRank,A.StringKey.TIGGER_RANK_TITLE);var e=A.AID+":"+A.NOW_GAME_ID+":FeatureTimes",t=O.GetInt(e),i=A.FEATURE_TIMES>=0?A.FEATURE_TIMES:1;t&&t>i&&(m.m_defaultPageName=Le.TigerRank)}),(function(){m.RemoveBtn(Le.TigerRank)})),m.m_tiggerRank.OnRotation(m.m_isLandscape)):p("this.m_tiggerRank is null"),m.m_bottomBar.sendTestLog(3006)}})),this.m_bottomBar.SetTrialEndCb((function(){m.SortBtn()})),u("Define.AddEventWebview"),A.AddEventWebview=function(){m.AddPageBtn(null,Le.EventWebview,A.StringKey.EVENT_TITLE),m.m_bottomBar.sendTestLog(3007)},A.RemoveEventWebview=function(){m.RemoveBtn(Le.EventWebview)},u("Discount Init DONE")}},r.SetLogoIcon=function(){if(P.LoadIcon(y.CurrLang,Number(A.NOW_GAME_ID),null),this.m_logoNode)if(P.Line!=A.LineSetting.americas&&P.Line!=A.LineSetting.americas_str){var e=P.UsingLogoSpriteFrame();e?P.OtherLogo&&this.m_otherLogoNode?(this.m_otherLogoNode.active=!0,this.m_logoNode.active=!1,this.m_otherLogoNode.getComponent(c).spriteFrame=e):this.m_logoNode.active=!0:this.m_logoNode.active=!1}else P.IsTadaCasino&&this.m_tadaCasinoLogoNode&&(this.m_logoNode.active=!1,this.m_tadaCasinoLogoNode.active=!0)},r.EventWebViewLandScape=function(){this.m_isLandscape?this.m_eventWebView.node.getComponent(v).setContentSize(841,422):this.m_eventWebView.node.getComponent(v).setContentSize(521,744)},r.BigWinReplayInit=function(){var e=this,t=P.GetFilePath("Astt/%s/discount/bigwin");A.CommonBundle.load(t,g,(function(t,i){if(!t){var n=f(i);e.m_baseViewNode.addChild(n),e.m_bigWin=n.getComponent(k),e.m_bigWin.node.active=!1,e.m_bigWin.Init(e,e.m_isLandscape,e.m_bottomBar,e.m_reqReplayInfo,e.m_reqReplay,(function(){e.m_localeSpriteAtlas&&e.m_bigWin.SetTxt(e.m_localeSpriteAtlas),e.AddPageBtn(e.m_bigWin.node,Le.bigWinReplay,A.StringKey.BIG_WIN_REPLAY_TITLE)})),e.m_bottomBar.sendTestLog(3008)}}))},r.SetTxt=function(e){this.m_localeSpriteAtlas=this.m_localeSpriteAtlas?this.m_localeSpriteAtlas:y.GetInstance().GetCommonAtlas(),y.CurrLang!=A.Lang.EN&&(this.m_discountTitleSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(we),this.SetTitleSprite()),this.m_signIn&&this.m_signIn.SetTxt(this.m_localeSpriteAtlas),this.m_recommend&&this.m_recommend.SetTxt(this.m_localeSpriteAtlas),this.m_tiggerRank&&this.m_tiggerRank.SetTxt()},r.SetTitleSprite=function(){for(var e=0;e<Ee.length;e++)this.m_titleSprite_Off[e]=this.m_localeSpriteAtlas.getSpriteFrame(Ee[e]),this.m_titleSprite_On[e]=this.m_localeSpriteAtlas.getSpriteFrame(Ee[e]+"_On")},r.CloseIcon=function(){this.CloseDiscountBtn()},r.ShowDiscountView=function(e){void 0===e&&(e=null),this.m_discountViewNode.active=!0,u("SetPage A ShowDiscountView"),this.SetPage(e),u("SetPage A-1 m_showCbs:",this.m_defaultPageName),this.m_showCbs[this.m_defaultPageName]&&this.m_showCbs[this.m_defaultPageName](this.m_defaultPageName),u("SetPage A-2 this.m_signIn:",this.m_signIn),this.m_signIn&&(u("SetPage A-3 ShowMask"),this.ShowMask(),this.m_signIn.ReqSignInState()),this.OnRotation(this.m_isLandscape)},r.CloseDiscountView=function(){this.m_discountViewNode.active=!1},r.IsDiscountViewOpen=function(){return this.m_discountViewNode.active},r.ShowDiscountBtn=function(){this.m_bottomBar&&this.m_bottomBar.IsInTrial||this.m_isBlockByApiId||this.m_bottomBar.SetDiscountBtnState(!0)},r.CloseDiscountBtn=function(){this.m_bottomBar&&this.m_bottomBar.SetDiscountBtnState(!1),this.m_discountViewNode.active=!1},r.ShowFavorHint=function(){if(!P.CheckSwitchOff(A.SwitchOffKeyDefine.NoRedSpot))if(this.node.active&&this.m_defaultPageName===Le.Favor);else for(var e=0;e<this.m_pageBtnArray.length;e++){var t=this.m_pageBtnArray[e];if(t.PageName===Le.Favor){t.RedPointNode&&(t.RedPointNode.active=!0,this.m_bottomBar.DiscountRedPointNode&&(this.m_bottomBar.DiscountRedPointNode.active=!0));break}}},r.ShowSignInHint=function(e){if(!P.CheckSwitchOff(A.SwitchOffKeyDefine.NoRedSpot))for(var t=0;t<this.m_pageBtnArray.length;t++){var i=this.m_pageBtnArray[t];if(i.PageName===Le.SignIn){i.RedPointNode&&(i.RedPointNode.active=e,this.m_bottomBar.DiscountFreeGift&&(this.m_bottomBar.DiscountFreeGift.active=e));break}}},r.ShowRedSpotHint=function(e){if(!P.CheckSwitchOff(A.SwitchOffKeyDefine.NoRedSpot))for(var t=0;t<this.m_pageBtnArray.length;t++){var i=this.m_pageBtnArray[t];if(i.PageName===e){i.RedPointNode&&(i.RedPointNode.active=!0,this.m_bottomBar.DiscountRedPointNode&&(this.m_bottomBar.DiscountRedPointNode.active=!0));break}}},r.ShowMask=function(){this.m_loadingTime=Te,this.m_isCountDown=!0,this.m_loadingMaskNode?this.m_loadingMaskNode.active=!0:p(" this.m_loadingMaskNode is null")},r.HideMask=function(){this.m_isCountDown=!1,this.m_loadingMaskNode?this.m_loadingMaskNode.active=!1:p(" this.m_loadingMaskNode is null")},r.OnRecvSignInState=function(e){this.m_signIn&&this.m_signIn.OnRecvSignInState(e)},r.OnRecvSignIn=function(e){this.m_signIn&&this.m_signIn.OnRecvSignIn(e)},r.OnRecvBigWin=function(e){this.m_bigWin&&this.m_bigWin.OnRecvBigWin(e)},r.SetDefaultShowSignIn=function(){for(var e=0;e<this.m_pageBtnArray.length;e++)this.m_pageBtnArray[e]},r.AddFavor=function(e,t){this.m_favor&&this.m_favor.AddFavor(e,t),t===A.BTN_CLICK_EVENT.BIG_FAVOR_ADD&&(this.m_isAddFavorByBig=!0)},r.RemoveFavor=function(e,t){this.m_favor&&this.m_favor.RemoveFavor(e,t)},r.UpdateFavorState=function(e){this.m_recommend&&this.m_recommend.UpdateFavorState(e)},r.AddPageBtn=function(e,t,i,n,o){var a=this;u("AddPageBtn pageName:",t),this.m_isLoadBtn||(this.m_isLoadBtn=!0,this.m_bottomBar.LoadDiscountBtn()),this.SetTxt();for(var r=null,m=0;m<this.m_pageBtnArray.length;m++)this.m_pageBtnArray[m].PageName===t&&(r=this.m_pageBtnArray[m]);null===r&&(r=new Oe,this.m_pageBtnArray.push(r),t!=Le.EventWebview&&(r.ViewNode=e),r.PageName=t,e&&!e.parent&&this.m_baseViewNode.addChild(e),this.m_onRotationCbs[t]=n,n&&n(this.m_isLandscape),u("AddPageBtn this.m_showCbs:",this.m_showCbs),this.m_showCbs[t]=o,r.BtnNode=f(this.m_backPageBtnPrefabNew_TADA),r.BtnState=r.BtnNode.getComponent(b),r.LabelNode=r.BtnNode.getChildByName("TagName"),r.LabelNode.getComponent(c).spriteFrame=this.m_titleSprite_Off[Ie[t]],r.CheckBg=r.BtnNode.getChildByName("CheckBg"),r.CheckBg.active=!1,r.BtnNode.on(l.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==a.m_currentTouchName||e.target&&0==e.target.active)&&(a.m_currentTouchName=e.target.name)})),r.BtnNode.on(l.EventType.TOUCH_CANCEL,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null)})),r.BtnNode.on(l.EventType.TOUCH_END,(function(e){a.m_currentTouchName==e.target.name&&(a.m_currentTouchName=null,u("SetPage A pageBtn.BtnNode.on"),a.SetPage(t),a.m_bottomBar.SendClickEvent(A.BTN_CLICK_EVENT.BOOKMARK_CLICK,t))})),r.BtnNode.getChildByName("TagName").getChildByName("RedSpot")&&(r.RedPointNode=r.BtnNode.getChildByName("TagName").getChildByName("RedSpot"),r.RedPointNode.active=!1),t!==Le.Recommand&&t!==Le.EventWebview||this.ShowRedSpotHint(t)),this.SortBtn()},r.RemoveBtn=function(e){u("RemoveBtn pageName:",e);for(var t=0;t<this.m_pageBtnArray.length;t++)if(this.m_pageBtnArray[t].PageName===e){var i=this.m_pageBtnArray.splice(t,1)[0];i.BtnNode&&i.BtnNode.removeFromParent(),i.LabelNode&&i.LabelNode.removeFromParent(),i.ViewNode&&(i.ViewNode.active=!1),this.SortBtn(),this.m_discountViewNode&&(u("SetPage A m_discountViewNode"),this.SetPage());break}},r.SortBtn=function(){for(var e=new Array,t=0;t<Object.keys(ye).length/2;t++)e.push(null);for(var i=0;i<this.m_pageBtnArray.length;i++)e[ye[this.m_pageBtnArray[i].PageName]]=this.m_pageBtnArray[i];this.m_pageBtnArray=new Array;for(var n=0;n<e.length;n++)e[n]&&this.m_pageBtnArray.push(e[n]);this.m_backPageLayout&&this.m_backPageLayout.node.removeAllChildren(),this.m_namePageLayout&&this.m_namePageLayout.node.removeAllChildren();for(var o=0;o<this.m_pageBtnArray.length;o++){var a=this.m_pageBtnArray[o];a.BtnNode.parent||this.m_backPageLayout&&this.m_backPageLayout.node.addChild(a.BtnNode),this.m_defaultPageName?a.PageName===this.m_defaultPageName?(a.ViewNode&&(a.ViewNode.active=!0),a.PageName==Le.EventWebview&&u("SetPage 2 pageName:",a.PageName)):a.ViewNode&&(a.ViewNode.active=!1):0===o?(a.ViewNode&&(a.ViewNode.active=!0),a.PageName==Le.EventWebview&&u("SetPage 3 pageName:",a.PageName)):a.ViewNode&&(a.ViewNode.active=!1),this.m_namePageLayout&&this.m_namePageLayout.node.addChild(a.LabelNode)}this.m_pageBtnArray.length>0&&!A.IS_DEMO?this.ShowDiscountBtn():this.CloseDiscountBtn()},r.OnFeatureClose=function(){this.m_eventWebView.node.active=this.m_isOpenWebView},r.openEventWebView=function(){if(this.m_bottomBar){var e=this.m_bottomBar.node.getComponent(C),t=D.PROMOTE_ACTION_URL+"&game="+A.NOW_GAME_ID+"&token="+A.TOKEN+"&ratio="+M.Ratio;u(" openEventWebView url:",t),e.OpenCommonWebPage(t,"",!0)}},r.SetPage=function(e){if(void 0===e&&(e=null),null===e?this.m_defaultPageName=this.m_defaultPageName?this.m_defaultPageName:this.m_pageBtnArray[this.m_pageBtnArray.length-1].PageName:e!=Le.EventWebview&&(this.m_defaultPageName=e),this.m_isOpenWebView=e===Le.EventWebview,this.m_isOpenWebView){u("SetPage 1 pageName:",e),this.openEventWebView();for(var t=0;t<this.m_pageBtnArray.length;t++){var i=this.m_pageBtnArray[t];if(i.PageName===Le.EventWebview){i.RedPointNode&&(i.RedPointNode.active=!1);break}}this.CheckDiscountRedPoint()}else{u("SetPage 2 this.m_defaultPageName:",this.m_defaultPageName),u("SetPage 2 pageName:",e),u("SetPage 2 this.m_pageBtnArray:",this.m_pageBtnArray);for(var n=!1,o=0;o<this.m_pageBtnArray.length;o++)this.m_pageBtnArray[o].PageName===this.m_defaultPageName?(n=!0,this.m_pageBtnArray[o].ViewNode&&(this.m_pageBtnArray[o].ViewNode.active=!0),this.CheckView(this.m_defaultPageName),u("SetPage CheckBg:",this.m_pageBtnArray[o].PageName,this.m_pageBtnArray[o].CheckBg.active),this.m_pageBtnArray[o].CheckBg.active=!0,this.m_pageBtnArray[o].CheckBg.getChildByName("TagName_On").getComponent(c).spriteFrame=this.m_titleSprite_On[Ie[this.m_pageBtnArray[o].PageName]],this.m_pageBtnArray[o].LabelNode.getComponent(c).spriteFrame=this.m_titleSprite_On[Ie[this.m_pageBtnArray[o].PageName]],this.m_defaultPageName==Le.Recommand||this.m_defaultPageName==Le.Favor&&this.m_favor.UpdateArrowState()):(this.m_pageBtnArray[o].ViewNode&&(this.m_pageBtnArray[o].ViewNode.active=!1),this.m_pageBtnArray[o].CheckBg.active=!1,this.m_pageBtnArray[o].LabelNode.getComponent(c).spriteFrame=this.m_titleSprite_Off[Ie[this.m_pageBtnArray[o].PageName]]);if(!n){var a=this.m_pageBtnArray[0];a.ViewNode&&(a.ViewNode.active=!0),this.m_defaultPageName=a.PageName}if(this.m_defaultPageName===Le.Favor||this.m_defaultPageName===Le.Recommand){if(this.m_isFirstShoFavor&&this.m_defaultPageName===Le.Favor){this.m_isFirstShoFavor=!1;var r=A.AID+":"+ke;this.m_showList||(this.m_showList=new Array),this.m_showList.push(Number(A.NOW_GAME_ID)),O.SetString(r,JSON.stringify(this.m_showList)),this.m_favor.AutoShowHint()}for(var m=0;m<this.m_pageBtnArray.length;m++){var s=this.m_pageBtnArray[m];if(s.PageName===this.m_defaultPageName){s.RedPointNode&&(s.RedPointNode.active=!1);break}}}this.CheckDiscountRedPoint()}},r.CheckDiscountRedPoint=function(){if(!P.CheckSwitchOff(A.SwitchOffKeyDefine.NoRedSpot)&&this.m_bottomBar.DiscountRedPointNode&&this.m_bottomBar.DiscountRedPointNode.active)for(var e=0;e<this.m_pageBtnArray.length;e++){if(this.m_pageBtnArray[e].RedPointNode&&this.m_pageBtnArray[e].RedPointNode.active){this.m_bottomBar.DiscountRedPointNode.active=!0;break}this.m_bottomBar.DiscountRedPointNode.active=!1}},r.CheckView=function(e){e===Le.Recommand&&this.m_recommend?this.m_recommend.OnRotation(this.m_isLandscape):e===Le.Favor&&this.m_favor?this.m_favor.OnRotation(this.m_isLandscape):e===Le.SignIn&&this.m_signIn?this.m_signIn.OnRotation(this.m_isLandscape):e===Le.TigerRank&&this.m_tiggerRank?this.m_tiggerRank.OnRotation(this.m_isLandscape):this.m_onRotationCbs[e]&&this.m_onRotationCbs[this.m_defaultPageName](this.m_isLandscape)},r.ReqPromotionInfo=function(){var e=this,t=new G.promotionProto.PromotionRequest;t.accountID=Number(A.APP.GetAID()),t.apiID=Number(A.APP.GetApiID()),t.loginGameID=Number(A.NOW_GAME_ID);var i=G.promotionProto.PromotionRequest.encode(t).finish(),n=D.SERVICE_URL+"promotionservice/OnLoginV3";W(B.HTTP_METHOD.TYPE_POST,n,{},i,V,!0).then((function(t){if(D.ENV_TYPE===A.EVN.TEST&&(t.ok=!0),u("ReqData res.ok:",t.ok),t.ok)if(D.ENV_TYPE===A.EVN.TEST){e.OnRecvAck({cmdType:2,content:{Enabled:!0,Games:[159,85,2,30,18,13],Labels:[[0],[0],[0],[1],[1],[1]],Mall:[0,1,1,1,0,0],DAU:[21034,20875,21589,21431,17619,16825]}})}else e.NewOnRecvAck(t.protoData)})),B.getInstance().CheckSetting(A.PROTOCOL.PROMOTION)||"-1"==A.AID||"0"==A.API_ID||B.getInstance().AddSetting(A.PROTOCOL.PROMOTION,B.CONNECT_TYPE.TYPE_HTTP,null,null,D.SERVICE_URL+"promotionservice/OnLoginV2?apiId="+A.API_ID+"&accountId="+A.AID+"&logingameId="+A.NOW_GAME_ID)},r.NewOnRecvAck=function(e){var t=new Uint8Array(e),i=G.promotionProto.GamePromotionCommand.decode(t);if(i&&i.enabled&&this.m_recommendCb){for(var n=[],o=new Array,a=[],r=[],m=[],s=0;s<i.list.length;s++)n.push(i.list[s].gameID),o.push(i.list[s].labels),a.push(i.list[s].mall),r.push(i.list[s].dAU),m.push(i.list[s].top);this.m_recommendCb(n,o,a,r,m)}else i&&!i.enabled&&this.m_recommendCloseCb&&this.m_recommendCloseCb()},r.OnRecvAck=function(e){if(0!=e){var t=e.content;t&&t.Enabled&&t.Games&&this.m_recommendCb||t&&!t.Enabled&&this.m_recommendCloseCb&&this.m_recommendCloseCb()}},r.ReqFavoriteInfo=function(){var e=this;if(B.getInstance().CheckSetting(A.PROTOCOL.FAVORITE)||"-1"==A.AID||"0"==A.API_ID||B.getInstance().AddSetting(A.PROTOCOL.FAVORITE,B.CONNECT_TYPE.TYPE_HTTP,null,null,D.SERVICE_URL+"favoriteservice/OnLogin?apiId="+A.API_ID+"&accountId="+A.AID+"&logingameId="+A.NOW_GAME_ID+"&alterId=0"),D.ENV_TYPE===A.EVN.TEST){this.OnRecvAckFavorite({cmdType:4,content:{Enabled:!0,Favorites:[2,85,103,122,159],Promotions:null,Expired:null,DAU:[21589,20716,20875,19048,21034],BigWined:!1}})}else B.getInstance().SendCommand(A.PROTOCOL.FAVORITE,null,null,null,(function(t){e.OnRecvAckFavorite(t)}))},r.OnRecvAckFavorite=function(e){if(0!=e){var t=e.content;if(this.m_favorInfoCbs&&t)for(var i=0;i<this.m_favorInfoCbs.length;i++)this.m_favorInfoCbs[i](t)}},a(t,[{key:"SignInHintAnim",get:function(){return this.m_signInHintAnim}},{key:"GameId",get:function(){return Number(A.NOW_GAME_ID)}}]),t}(N)).prototype,"m_eventWebView",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(re.prototype,"m_discountViewNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(re.prototype,"m_backPageLayout",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(re.prototype,"m_namePageLayout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(re.prototype,"m_discountSprite",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(re.prototype,"m_discountTitleSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(re.prototype,"m_loadingMaskNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(re.prototype,"m_baseViewNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(re.prototype,"m_signInHintAnim",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(re.prototype,"m_backPageBtnPrefabNew",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(re.prototype,"m_backPageBtnPrefabNew_TADA",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(re.prototype,"m_logoNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(re.prototype,"m_otherLogoNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(re.prototype,"m_tadaCasinoLogoNode",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(re.prototype,"m_bigFavorHint",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(re.prototype,"m_redPointSpriteFrame",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(re.prototype,"m_titleSprite_Off",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=t(re.prototype,"m_titleSprite_On",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=re))||ae));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadPrefabManager.ts","./EvtReceiver.ts","./Tools.ts","./SoundManager.ts","./Define.ts"],(function(e){"use strict";var i,n,t,o,_,a,l,m,c,s,E,f,d,u,r,T,h,O,C,I;return{setters:[function(e){i=e.inheritsLoose},function(e){n=e.cclegacy,t=e.error,o=e.instantiate,_=e.Animation,a=e.AnimationClip,l=e.tween,m=e.v3,c=e.log,s=e.ParticleSystem2D,E=e.Vec2,f=e.TweenSystem,d=e.Label,u=e.Enum,r=e.Node},function(e){T=e.default},function(e){h=e.default},function(e){O=e.default},function(e){C=e.default},function(e){I=e.default}],execute:function(){var F;n._RF.push({},"bc3c97zP8pM2I5NAob2S72W","EffectView",void 0);var N=e("default",function(e){function n(){var i;return(i=e.call(this)||this).m_awardBoardFile=n.EFFECT_ROOT+"win/awardBoard",i.m_effectList={},i.m_timeLineList={},i.m_winEffCbFunc=null,i.m_currentWinEffect=null,i.m_currentWinEffectTimeline=null,i.m_awardBoard=null,i.m_awardBoardTimeline=null,i.m_txtWinValue=null,i.m_durRollMoneyTick=n.MONEY_ROLL_TIME,i.m_moneyRealValue=0,i.m_moneyRollValue=0,i.m_bgMaskNode=null,i.m_commonGetCoinCbFunc=null,i.m_commonGetCoinMidCbFunc=null,i.m_commonGetCoinEff=null,i.m_commonGetCoinTline=null,i.m_updateMoneyEff=null,i.m_updateMoneyTline=null,i.m_getCoinParticle=null,i.m_odds=[3,5,10,20,30],i.m_winEffectFiles=[null,null,n.EFFECT_ROOT+n.FILE_PATH.BIG_WIN,n.EFFECT_ROOT+n.FILE_PATH.MEGA_WIN,n.EFFECT_ROOT+n.FILE_PATH.SUPER_WIN],i.m_coinEffects=[2,3,5,5,5],i.m_coinTimes=[2,2,5,5,5],i.m_soundNameByOdds=[],i.m_isAutoCheckFloat=!1,i.m_rotateCoins={},i.m_controller=void 0,i.m_appearPtc=void 0,i.m_coinEffect=void 0,i.m_loadedSound=void 0,i.m_isLandscape=!1,i.m_LandscapeRate=1,i.m_winType=void 0,i.m_nowPlaySoundID=null,i.m_bottombarView=void 0,i.m_loadedSound=!1,i}i(n,e);var u=n.prototype;return u.Init=function(e){this.m_controller=e},u.LoadSound=function(){this.m_loadedSound=!0},u.OnUpdate=function(e){this.RollWinMoney(e)},u.ShowWinAndCoinEffect=function(e,i,n){void 0===n&&(n=null),n=n||function(){};var t=T.getInstance().GetManagerId(n);this.ShowWinEffect(e,t),void 0!==e.playCoinAtWinEffect&&!0!==e.playCoinAtWinEffect||this.playCoinEffect(i,t),T.getInstance().StartLoad(t)},u.ShowWinEffect=function(e,i){var s=this;void 0===i&&(i=-1);var E=e.effectFile,f=e.winValue,d=e.cbFunc,u=e.yPos,r=e.deltaY,C=e.cbFuncBtoM,F=e.cbFuncMtoS,N=e.cbFuncPlaying,A=e.isLoop||!1,R=e.rollTime;if(null!=f){var M=function(){s.m_bgMaskNode&&(s.m_bgMaskNode.active=!0),c("LoadPrefabManager CB",f),u=null!=u&&u||n.DEFAULT_Y,s.m_effectList[E].setPosition(m(n.DesignSize.width/2,u)),s.m_effectList[E].active=!0,s.m_timeLineList[E].play(n.ANI_LABEL.ACT),s.m_currentWinEffect=s.m_effectList[E],s.m_currentWinEffectTimeline=s.m_timeLineList[E],s.m_currentWinEffectTimeline.name=E,r=E==n.FILE_PATH.JACKPOT?180:null!=r?r:230,s.m_awardBoard.setPosition(m(n.DesignSize.width/2,u-r)),s.m_awardBoard.active=!0,s.m_awardBoardTimeline.play(n.ANI_LABEL.ACT),s.SetWinValue(f,R),N&&N()},L=i;-1==i&&(L=T.getInstance().GetManagerId(M));n.WIN_EFFECT_SOUND_NAME[E];this.m_winEffCbFunc=d,null==this.m_effectList[E]?(T.getInstance().AddLoad(L),I.GameBundle.load(E,(function(e,i){if(e)t(e.message||e);else{var f=o(i);f.active=!1,s.addChild(f),O.SetZIndex(f,n.EFF_ZORDER.WIN_EFFECT);var d=f.getComponent(_);h.Pack(f,(function(e){if(e==n.ANI_FRAME_EVENT.ENDING)s.m_awardBoard&&s.m_awardBoard.active&&s.m_awardBoardTimeline.play(n.ANI_LABEL.ENDING);else if(e==n.ANI_FRAME_EVENT.LOOP){if(A)d.play(n.ANI_LABEL.LOOP),d.getState(n.ANI_LABEL.LOOP).wrapMode=a.WrapMode.Loop}else e==n.ANI_FRAME_EVENT.B_TO_M?(s.m_awardBoard&&s.m_awardBoard.active&&l(s.m_txtWinValue).by(.25,{scale:m(1.5,1.5,1.5)}).by(.1,{scale:m(.9,.9,.9)}).start(),C&&C()):e==n.ANI_FRAME_EVENT.M_TO_S?(s.m_awardBoard&&s.m_awardBoard.active&&l(s.m_txtWinValue).by(.25,{scale:m(1.5,1.5,1.5)}).by(.1,{scale:m(.9,.9,.9)}).start(),F&&F()):e==n.ANI_FRAME_EVENT.END&&(c("ANI_FRAME_EVENT.END"),s.OnAnimationEnd(),s.m_winEffCbFunc&&s.m_winEffCbFunc())})),f.active=!1,s.m_effectList[E]=f,s.m_timeLineList[E]=d,T.getInstance().OnLoaded(L)}})),null==this.m_awardBoard&&(T.getInstance().AddLoad(L),I.GameBundle.load(this.m_awardBoardFile,(function(e,i){e?t(e.message||e):(s.m_awardBoard=o(i),s.addChild(s.m_awardBoard),O.SetZIndex(s.m_awardBoard,n.EFF_ZORDER.AWARD_BOARD),s.m_awardBoard.active=!1,s.m_awardBoardTimeline=s.m_awardBoard.getComponent(_),s.m_txtWinValue=s.m_awardBoard.getChildByName("win_value_label"),T.getInstance().OnLoaded(L))}))),-1==i?T.getInstance().StartLoad(L):T.getInstance().AddOnLoadedCallback(L,M)):-1==i?M():T.getInstance().AddOnLoadedCallback(L,M)}else this.m_awardBoard&&(this.m_awardBoard.active=!1,this.m_awardBoardTimeline.stop())},u.WinEffect=function(){this.m_currentWinEffectTimeline&&this.m_currentWinEffectTimeline.play(n.ANI_LABEL.ENDING,!1)},u.SetWinValue=function(e,i,t){void 0===i&&(i=null),void 0===t&&(t=0),this.m_moneyRealValue=O.strip(e),this.m_moneyRollValue=t,i=null==i&&n.MONEY_ROLL_TIME||i,this.m_durRollMoneyTick=O.strip(i)},u.RollWinMoney=function(e){if(this.m_moneyRealValue=O.strip(this.m_moneyRealValue),this.m_moneyRollValue=O.strip(this.m_moneyRollValue),this.m_moneyRollValue<this.m_moneyRealValue){var i=O.divide(this.m_durRollMoneyTick,O.strip(e)),n=O.divide(O.strip(this.m_moneyRealValue-this.m_moneyRollValue),i),t=O.FORMAT_NUMBER_TYPE.DEFINE_DOT;this.m_isAutoCheckFloat&&(t=this.m_moneyRealValue.toString().indexOf(".")>-1?O.FORMAT_NUMBER_TYPE.PERMANENT_DOT:O.FORMAT_NUMBER_TYPE.NONE_DOT),this.m_moneyRollValue=O.strip(this.m_moneyRollValue+n),this.m_moneyRollValue>this.m_moneyRealValue&&(this.m_moneyRollValue=this.m_moneyRealValue),O.SetLabelString(this.m_txtWinValue,this.m_moneyRollValue,t),this.m_durRollMoneyTick=O.strip(this.m_durRollMoneyTick-e)}},u.SetWinMoneyToMax=function(){},u.IsRollMoneyEnd=function(){return this.m_moneyRollValue==this.m_moneyRealValue},u.StopAnimation=function(e){this.m_currentWinEffectTimeline&&this.m_currentWinEffectTimeline.stop(),this.m_awardBoard&&(this.m_awardBoard.active=!1,this.m_awardBoardTimeline.stop()),1!=e&&this.m_winEffCbFunc&&this.m_winEffCbFunc(),this.m_winEffCbFunc=null,this.OnAnimationEnd()},u.OnAnimationEnd=function(){this.m_currentWinEffect&&(this.m_currentWinEffect.active=!1),this.m_controller&&this.m_controller.Hide(),this.m_bgMaskNode&&(this.m_bgMaskNode.active=!1),this.m_moneyRealValue=0,this.m_moneyRollValue=0},u.playCoinEffect=function(e,i){var _=this;void 0===i&&(i=-1);var a=e.level,s=e.position,E=e.time;null==E&&(E=0);var f=e.zOrder;null==f&&(f=0);var d=e.parent;this.stopCoinEffectImmly();var u=n.COIN_EFFECT_LIST[a];if(u=O.GetFilePath(u)){c("~~~~~~~~~~~~~~~~~~~~~~",e,E,f);var r=function(){_.m_coinEffect.setPosition(m(s.x,s.y)),null==d||null==d?(_.addChild(_.m_coinEffect),O.SetZIndex(_.m_coinEffect,0)):(d.addChild(_.m_coinEffect),O.SetZIndex(_.m_coinEffect,f)),0!=E&&l(_).delay(E).call((function(){_.stopCoinEffect()})).start()};-1!=i&&(T.getInstance().AddOnLoadedCallback(i,r),T.getInstance().AddLoad(i)),I.CommonBundle.load(u,(function(e,n){c("LoadRes ",u),e?t(e.message||e):(_.m_coinEffect=o(n),_.m_coinEffect?-1==i?r():T.getInstance().OnLoaded(i):c("SlotBottomBarView.playCoinEffect m_coinEffect is null"))}))}},u.stopCoinEffectImmly=function(){null!=this.m_coinEffect&&this.m_coinEffect.removeFromParent&&(this.m_coinEffect.removeFromParent(),this.m_coinEffect=null)},u.stopCoinEffect=function(){if(null!=this.m_coinEffect&&this.m_coinEffect){var e=this.m_coinEffect.getChildByName("Particle_1").getComponent(s),i=this.m_coinEffect.getChildByName("Particle_2").getComponent(s);e&&e.stopSystem(),i&&i.stopSystem()}},u.ShowCommonEffect=function(e,i,t,o,_){void 0===t&&(t=null),void 0===o&&(o=null),void 0===_&&(_=!1),t=t||{},o=o||{};var a=new E(n.DesignSize.width/2,n.DesignSize.height),l=new E(n.DesignSize.width/2-10,145);_=this.m_loadedSound&&_;var m=void 0,c=e/i;this.m_bottombarView&&(e=this.m_bottombarView.GetDisplayValue(e));for(var s=this.m_odds.length-1;s>=0;s--)if(c>=this.m_odds[s]){o.level=this.m_coinEffects[s],5==this.m_coinEffects[s]?o.position=o.position?o.position:a:o.position=o.smallPosition?o.smallPosition:o.position?o.position:l,(null==o.time||o.time<=0)&&(o.time=this.m_coinTimes[s]),5==this.m_coinEffects[s]?(t.effectFile=this.m_winEffectFiles[s],t.winValue=e,this.SetWinType(s),this.ShowWinAndCoinEffect(t,o)):this.playCoinEffect(o),m=this.m_soundNameByOdds[s];break}return null!=m&&(this.m_nowPlaySoundID=C.getInstance().Play(m,!1)),null==o.time&&(o.time=0),o.time},u.SkipEffect=function(){if(this.stopCoinEffect(),f.instance.ActionManager.removeAllActionsFromTarget(this),this.m_currentWinEffectTimeline){var e=this.m_currentWinEffectTimeline.name,i=O.FORMAT_NUMBER_TYPE.DEFINE_DOT;e!=n.FILE_PATH.BIG_WIN&&e!=n.FILE_PATH.MEGA_WIN&&e!=n.FILE_PATH.SUPER_WIN||(this.m_moneyRollValue=O.strip(this.m_moneyRollValue),this.m_moneyRealValue=O.strip(this.m_moneyRealValue),this.m_moneyRollValue==this.m_moneyRealValue?(this.m_awardBoardTimeline.play(n.ANI_LABEL.ENDING),this.m_currentWinEffectTimeline.setCurrentTime(5)):(this.m_isAutoCheckFloat&&(i=this.m_moneyRealValue.toString().indexOf(".")>-1?O.FORMAT_NUMBER_TYPE.PERMANENT_DOT:O.FORMAT_NUMBER_TYPE.NONE_DOT),O.SetLabelString(this.m_txtWinValue,this.m_moneyRealValue,i),this.m_currentWinEffectTimeline.setCurrentTime(3.8)),this.m_currentWinEffectTimeline=null),this.m_moneyRollValue=this.m_moneyRealValue}},u.SkipEffectSound=function(){this.m_nowPlaySoundID&&(C.getInstance().Stop(this.m_nowPlaySoundID),this.m_nowPlaySoundID=null)},u.SetAutoCheckFloat=function(e){this.m_isAutoCheckFloat=e},u.SetOdds=function(e){this.m_odds=e},u.SetWinEffectFiles=function(e){this.m_winEffectFiles=e},u.SetAwardBoardFile=function(e){this.m_awardBoardFile=e},u.SetEffectLevels=function(e){this.m_coinEffects=e},u.SetEffectTimes=function(e){this.m_coinTimes=e},u.SetSoundNameByOdds=function(e){this.m_soundNameByOdds=e},u.SetBGMaskNode=function(e){null!=e&&(this.m_bgMaskNode=e)},u.SetWinTextFontSize=function(e){this.m_txtWinValue&&(this.m_txtWinValue.getComponent(d).fontSize=e)},u.SetWinType=function(e){this.m_winType=e},u.SetBottombarView=function(e){this.m_bottombarView=e},n}(r));N.DesignSize={width:1136,height:640},N.SOUND_FILE={COMMON_SUPER_WIN:null,COMMON_MEGA_WIN:null,COMMON_COIN_SMALL:null,COMMON_COIN_MEDIUM:null,COMMON_BIG_WIN:null},N.EFFECT_ROOT="Astt/%s/effect/GameCommonEffect/",N.FILE_PATH={BIG_WIN:"win/big_anim",MEGA_WIN:"win/mega_anim",SUPER_WIN:"win/super_anim",JACKPOT:"win/effect_Jackpot",BIG_TO_MEGA_WIN:"win/bigToMega_anim",BIG_TO_SUPER_WIN:"win/bigToSuper_anim",FIVE_OF_A_KIND:"win/5ofa_anim"},N.WIN_EFFECT_SOUND_NAME=((F={})[N.FILE_PATH.BIG_WIN]="Common_big_win",F[N.FILE_PATH.MEGA_WIN]="Common_mega_win",F[N.FILE_PATH.SUPER_WIN]="Common_super_win",F[N.FILE_PATH.JACKPOT]="Common_JP_win",F[N.FILE_PATH.BIG_TO_MEGA_WIN]="Common_big_win",F[N.FILE_PATH.BIG_TO_SUPER_WIN]="Common_big_win",F[N.FILE_PATH.FIVE_OF_A_KIND]="Common_big_win",F),N.EffectViewUIName=u({TXT_WIN_MONEY:"label_final_value",PARTICLE:"Particle_"}),N.DEFAULT_Y=400,N.PARTICLE_AMOUNT_MAX=2,N.MONEY_ROLL_TIME=3,N.UPDATE_MONEY_CSB=N.EFFECT_ROOT+"common_get_coin/Node_GetCoin01.csb",N.COMMON_GET_COIN_CSB=N.EFFECT_ROOT+"common_get_coin/Node_GetCoin02.csb",N.GET_COIN_PARTICLE_CSB=N.EFFECT_ROOT+"common_get_coin/Particle/_V3_GetCoin02.plist",N.ROTATE_COIN_CSB=N.EFFECT_ROOT+"common_get_coin/Node_CoinRotation01.csb",N.TRIAL_COIN_CSB=N.EFFECT_ROOT+"common_get_coin/Node_GetTrialCoin.csb",N.COIN_APPEAR_PARTICLE_CSB=N.EFFECT_ROOT+"common_get_coin/Particle/New_CoinShine03.plist",N.COMMON_COIN_AMOUNT=8,N.ANI_LABEL={ACT:"main",LOOP:"loop",ENDING:"ending"},N.ANI_FRAME_EVENT={MID:"AniMid",B_TO_M:"AniBtoM",M_TO_S:"AniMtoS",ENDING:"AniEnding",END:"AniEnd",LOOP:"AniLoop"},N.EFF_ZORDER={COIN_FALL:1,WIN_EFFECT:2,AWARD_BOARD:3,COMMON_GET_COIN:4,GET_TRIAL_COIN:5},N.COIN_EFFECT_LIST={1:N.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_1",2:N.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_2",3:N.EFFECT_ROOT+"coin/1_SmallGoldCoinFX_3",4:N.EFFECT_ROOT+"coin/2_BigGoldCoinFX_1",5:N.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_1",6:N.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_2",7:N.EFFECT_ROOT+"coin/3_MegaGoldCoinFX_3"},N.EFFECT_VIEW_CSB_FILE="effect/EffectView.csb",N.WIN_TYPE={BIG:2,MEGA:3,SUPER:4},n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectWin.ts",["cc","./Tools.ts","./Define.ts"],(function(t){"use strict";var i,e,n,s,a,o,l,f,m,_,W,h;return{setters:[function(t){i=t.cclegacy,e=t.Node,n=t.v3,s=t.error,a=t.instantiate,o=t.UIOpacity,l=t.BitmapFont,f=t.Label,m=t.tween,_=t.Animation},function(t){W=t.default},function(t){h=t.default}],execute:function(){i._RF.push({},"cb8b0BjjqNLxqXwzC4sYe3x","EffectWin",void 0);t("default",function(){function t(t,i){this.m_controller=void 0,this.m_useEftWinValue=!1,this.m_eftWinValueFnt=null,this.m_eftWinNode=null,this.m_eftWinBg=null,this.m_eftWinLabel=null,this.m_eftWinEft=null,this.m_eftWinNodePos=null,this.m_lastFinalWinValue=0,this.m_lastTotalWinValue=0,this.m_isEftWinFading=!1,this.m_isLandscape=!1,this.m_eftWinActions=[],this.m_controller=t,this.m_isLandscape=i}var i=t.prototype;return i.SetUseEftWinValue=function(t,i,m,_){var c=this;if(this.m_useEftWinValue=!0,this.m_useEftWinValue&&!this.m_eftWinValueFnt){var u=new e;u.position=n(i[Number(this.m_isLandscape)])?n(i[Number(this.m_isLandscape)]):n(0,0),this.m_eftWinNodePos=i,this.m_eftWinNode=u,this.m_eftWinNode.active=!1,this.m_controller.node.addChild(this.m_eftWinNode),W.SetZIndex(this.m_eftWinNode,h.ZOrder.EFTWIN);var d=W.GetFilePath("Astt/%s/bottombar/EftWin");h.CommonBundle.load(d,(function(t,i){t?s(t.message||t):(c.m_eftWinBg=a(i),c.m_eftWinBg.getComponent(o).opacity=0,c.m_eftWinNode.addChild(c.m_eftWinBg),W.SetZIndex(c.m_eftWinBg,0))}));var r=W.GetFilePath("Astt/%s/bottombar/EftWin_effect");if(h.CommonBundle.load(r,(function(t,i){t?s(t.message||t):(c.m_eftWinEft=a(i),c.m_eftWinEft.active=!1,c.m_eftWinNode.addChild(c.m_eftWinEft),W.SetZIndex(c.m_eftWinEft,0))})),"string"==typeof t)h.GameBundle.load(t,l,(function(t,i){if(t)s(t.message||t);else{c.m_eftWinValueFnt=i;var n=new e;n.addComponent(f),n.addComponent(o),c.m_eftWinLabel=n.getComponent(f),c.m_eftWinLabel.string="",c.m_eftWinLabel.font=c.m_eftWinValueFnt,c.m_eftWinLabel.fontSize=m,c.m_eftWinLabel.lineHeight=_,c.m_eftWinNode.addChild(n),W.SetZIndex(n,2)}}));else{this.m_eftWinValueFnt=t;var p=new e;p.addComponent(f),this.m_eftWinLabel=p.getComponent(f),this.m_eftWinLabel.string="",this.m_eftWinLabel.font=this.m_eftWinValueFnt,this.m_eftWinLabel.fontSize=m,this.m_eftWinLabel.lineHeight=_,this.m_eftWinNode.addChild(p),W.SetZIndex(p,2)}}},i.SetEftWinValue=function(t,i,e){var s=this;if(this.m_useEftWinValue&&this.m_eftWinNode&&this.m_eftWinBg&&this.m_eftWinLabel&&this.m_eftWinEft){var a=W.divide(1.3,.02),l=e||0;i?this.m_controller.SetWinValueWithRunning(i,1.3):(i=t,this.m_controller.SetWinValue(0),this.m_controller.SetWinValueWithRunning(t,1.3));var f,h=W.divide(W.strip(t-l),a);if(this.m_eftWinNode.active=!0,this.m_lastFinalWinValue=t,this.m_lastTotalWinValue=i,this.m_eftWinActions.length>0)for(;this.m_eftWinActions.length>0;)this.m_eftWinActions.shift().stop();f=this.m_controller.GetDisplayValue(t).toString().indexOf(".")>-1?W.FORMAT_NUMBER_TYPE.PERMANENT_DOT:W.FORMAT_NUMBER_TYPE.NONE_DOT;var c=m(this.m_eftWinNode).repeat(a,m().call((function(){(l=W.plus(l,h))>=t&&(l=t),s.m_eftWinLabel.string=W.FormatNumberThousands(s.m_controller.GetDisplayValue(l),f)})).delay(.02)).call((function(){s.m_eftWinLabel.string=W.FormatNumberThousands(s.m_controller.GetDisplayValue(t),f)}));this.m_eftWinActions.push(c);var u=m(this.m_eftWinNode).call((function(){s.m_eftWinEft.active=!0,s.m_eftWinEft.getComponent(_).play("EftWin_effect"),s.m_eftWinEft.getComponent(_).once(_.EventType.FINISHED,(function(){s.m_eftWinEft&&(s.m_eftWinEft.active=!1)}))}));this.m_eftWinActions.push(u);var d=m(this.m_eftWinNode).call((function(){s.m_eftWinBg.setScale(n(1,1)),s.m_eftWinBg.getComponent(o).opacity=255,s.m_eftWinBg.getComponent(_).play("EftWin");var t=m(s.m_eftWinBg).delay(1.8).to(.35,{scale:n(0,0,0)}).start();s.m_eftWinActions.push(t),t=m(s.m_eftWinBg.getComponent(o)).delay(1.8).to(.35,{opacity:0}).start(),s.m_eftWinActions.push(t)}));this.m_eftWinActions.push(d);var r=m(this.m_eftWinNode).call((function(){s.m_eftWinLabel.node.setScale(n(1,1)),s.m_eftWinLabel.node.getComponent(o).opacity=255,s.m_eftWinLabel.node.position=n(0,0);var t=m(s.m_eftWinLabel.node).to(.15,{scale:n(1.25,1.25,1.25)}).delay(1.65).call((function(){s.m_isEftWinFading=!0})).to(.35,{scale:n(0,0,0)}).call((function(){s.m_eftWinLabel.string=""})).start();s.m_eftWinActions.push(t),t=m(s.m_eftWinLabel.node.getComponent(o)).delay(1.8).to(.35,{opacity:0}).start(),s.m_eftWinActions.push(t)}));this.m_eftWinActions.push(r),this.m_isEftWinFading=!1;var p=m(this.m_eftWinNode).parallel(d,u,r,c).delay(2.15).call((function(){s.m_lastFinalWinValue=0,s.m_lastTotalWinValue=0,s.m_isEftWinFading=!1,s.m_eftWinNode.active=!1})).start();this.m_eftWinActions.push(p)}},i.SkipEftWinValue=function(){var t=this;if(!this.m_isEftWinFading&&this.m_eftWinNode&&this.m_eftWinBg&&this.m_eftWinLabel&&this.m_eftWinEft&&this.m_lastFinalWinValue>0){var i,e=!1;if(this.m_eftWinActions.length>0)for(;this.m_eftWinActions.length>0;)this.m_eftWinActions.shift().stop();i=this.m_controller.GetDisplayValue(this.m_lastFinalWinValue).toString().indexOf(".")>-1?W.FORMAT_NUMBER_TYPE.PERMANENT_DOT:W.FORMAT_NUMBER_TYPE.NONE_DOT;var s=m(this.m_eftWinNode).call((function(){var s=m(t.m_eftWinBg).call((function(){e||(e=!0,t.m_eftWinLabel.string=W.FormatNumberThousands(t.m_controller.GetDisplayValue(t.m_lastFinalWinValue),i),t.m_controller.SetWinValue(t.m_lastTotalWinValue,!0,!0),t.m_lastFinalWinValue=0,t.m_lastTotalWinValue=0)})).delay(.4).to(.2,{scale:n(0,0,0)}).start();t.m_eftWinActions.push(s),s=m(t.m_eftWinBg.getComponent(o)).delay(.4).to(.2,{opacity:0}).start(),t.m_eftWinActions.push(s)}));this.m_eftWinActions.push(s);var a=m(this.m_eftWinNode).call((function(){var i=m(t.m_eftWinLabel.node).delay(.4).to(.2,{scale:n(0,0,0)}).start();t.m_eftWinActions.push(i),i=m(t.m_eftWinLabel.node.getComponent(o)).delay(.4).to(.2,{opacity:0}).start(),t.m_eftWinActions.push(i)}));this.m_eftWinActions.push(a);var l=m(this.m_eftWinNode).parallel(s,a).delay(.6).call((function(){t.m_isEftWinFading=!1,t.m_eftWinNode.active=!1})).start();this.m_eftWinActions.push(l)}},i.SetPosition=function(t){this.m_eftWinNodePos=t,this.m_eftWinNode.position=n(this.m_eftWinNodePos[Number(this.m_isLandscape)])},i.IsUseEftWin=function(){return this.m_useEftWinValue},i.OnRatation=function(t){this.m_isLandscape=t,this.m_eftWinNode&&(this.m_eftWinNode.position=n(this.m_eftWinNodePos[Number(this.m_isLandscape)]))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"cd5312Vr5xFvIoHgCiZ3Xwm","EnvironmentConfig",void 0);var n=t("default",function(){function t(){}return t.OnExit=function(){t.CURR_ENV=0,t.WEBAPI_URL="https://{{domain}}/",t.PHASE_URL="https://{{domain}}/webservice/event/trigger",t.VERIFY_URL="https://{{domain}}/webservice/event/assetUpdate",t.CLICK_URL="https://{{domain}}/webservice/event/user",t.MAIL_URL="https://{{domain}}/rankingservice/user/GetMailList",t.SUBAGENTSERVICE_URL="https://{{domain}}/subagentservice/MakeUserSubAgent",t.SERVICE_URL="https://{{domain}}/",t.GAME_SERVER_URL="https://{{domain}}/",t.ERROR_URL="https://{{domain}}/webservice/event/error",t.RATIO_URL="https://{{uat}}history.{{domain}}.com/{lang}/intro/{{webName}}?token={token}&game={gameId}{device}",t.BC_RATIO_URL="https://{{uat}}wb.{{domain}}.com/{lang}/intro/{{webName}}",t.HISTORY_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame?token={token}&game={gameId}{device}",t.COLLECT_URL="https://{{uat}}history.{{domain}}.com/{lang}/action/collect/transfer?token={token}&game={gameId}&ratio={ratio}",t.BC_HISTORY_URL="https://{{uat}}wbgamerecord.{{domain}}.com/ingame/gamehistory/index.aspx?token={token}&lang={lang}&game={gameId}",t.BACKPACK_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/member?game={gameId}&token={token}{device}",t.MEMBER_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/member/signin?game={gameId}&token={token}{device}",t.SOCKET_URL="wss://{{domain}}/lifeservice/ws",t.SOCKET_URL2="wss://{{domain}}/lifeservice/ws2",t.RANKING_URL="https://{{domain}}/rankingservice/user/GetRankingList",t.RANKING_URL2="https://{{domain}}/rankingservice/user/GetRankingListV2",t.NOTIFY_URL="https://{{domain}}/smartnotice/notice/getReq",t.ACTION_URL="https://{{uat}}history.{{domain}}.com/{lang}/action/transfer",t.PROMOTE_ACTION_URL="https://{{uat}}history.{{domain}}.com/{lang}/promote/action",t.PROMOTE_URL="https://{{uat}}history.{{domain}}.com/{lang}/promote/game",t.WEB_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/{target}?game={gameId}&token={token}{device}",t.CLOSE_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/close"},e(t,null,[{key:"ENV_TYPE",get:function(){return 3}}]),t}());n.CURR_ENV=0,n.WEBAPI_URL="https://{{domain}}/",n.PHASE_URL="https://{{domain}}/webservice/event/trigger",n.VERIFY_URL="https://{{domain}}/webservice/event/assetUpdate",n.CLICK_URL="https://{{domain}}/webservice/event/user",n.MAIL_URL="https://{{domain}}/rankingservice/user/GetMailList",n.SUBAGENTSERVICE_URL="https://{{domain}}/subagentservice/MakeUserSubAgent",n.SERVICE_URL="https://{{domain}}/",n.GAME_SERVER_URL="https://{{domain}}/",n.ERROR_URL="https://{{domain}}/webservice/event/error",n.RATIO_URL="https://{{uat}}history.{{domain}}.com/{lang}/intro?token={token}&game={gameId}{device}&sac={sac}",n.BC_RATIO_URL="https://{{uat}}wb.{{domain}}.com/{lang}/intro/{{webName}}?sac={sac}",n.HISTORY_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame?token={token}&game={gameId}{device}&sac={sac}",n.COLLECT_URL="https://{{uat}}history.{{domain}}.com/{lang}/action/collect/transfer?token={token}&game={gameId}&ratio={ratio}&sac={sac}",n.BC_HISTORY_URL="https://{{uat}}wbgamerecord.{{domain}}.com/ingame/gamehistory/index.aspx?token={token}&lang={lang}&game={gameId}&sac={sac}",n.BACKPACK_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/member?game={gameId}&token={token}{device}",n.MEMBER_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/member/signin?game={gameId}&token={token}{device}",n.SOCKET_URL="wss://{{domain}}/lifeservice/ws",n.SOCKET_URL2="wss://{{domain}}/lifeservice/ws2",n.RANKING_URL="https://{{domain}}/rankingservice/user/GetRankingList",n.RANKING_URL2="https://{{domain}}/rankingservice/user/GetRankingListV2",n.NOTIFY_URL="https://{{domain}}/smartnotice/notice/getReq",n.ACTION_URL="https://{{uat}}history.{{domain}}.com/{lang}/action/transfer?sac={sac}",n.PROMOTE_ACTION_URL="https://{{uat}}history.{{domain}}.com/{lang}/promote/action?sac={sac}",n.PROMOTE_URL="https://{{uat}}history.{{domain}}.com/{lang}/promote/game?sac={sac}",n.WEB_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/{target}?game={gameId}&token={token}{device}&sac={sac}",n.CLOSE_URL="https://{{uat}}history.{{domain}}.com/{lang}/ingame/close",n.TEST_PATH={GAME_SERVER_URL:"",ERROR_URL:"",WEBAPI_URL:"",PHASE_URL:"",VERIFY_URL:"",RATIO_URL:"",HISTORY_URL:"",BACKPACK_URL:"",MEMBER_URL:"",SOCKET_URL:"",SOCKET_URL2:"",CLICK_URL:"",MAIL_URL:"",RANKING_URL:"",RANKING_URL2:"",SUBAGENTSERVICE_URL:"",NOTIFY_URL:"",ACTION_URL:"",WEB_URL:""},a._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentConfigTestPath.ts",["cc","./EnvironmentConfig.ts"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.default}],execute:function(){t("SetPath",(function(){a.TEST_PATH={GAME_SERVER_URL:"https://test-wbslot-fd.jlfafafa1.com/",ERROR_URL:"https://test-wbslot-fd.jlfafafa1.com/webservice/event/error",WEBAPI_URL:"https://test-wb-api.jlfafafa2.com/",PHASE_URL:"https://test-wbslot-fd.jlfafafa1.com/webservice/event/trigger",VERIFY_URL:"https://test-wbslot-fd.jlfafafa1.com/webservice/event/assetUpdate",RATIO_URL:"https://test-wbgamerecord.jlfafafa3.com/Games/tmd/ingame/hall/slot/{{webName}}/index.aspx",HISTORY_URL:"https://test-wbgamerecord.jlfafafa3.com/ingame/index.aspx",BACKPACK_URL:"https://test-wbgamerecord.jlfafafa3.com/ingame/index.aspx?target=Backpack",MEMBER_URL:"https://test-wbgamerecord.jlfafafa3.com/ingame/index.aspx?target=Member",SOCKET_URL:"wss://test-wbslot-fd.jlfafafa1.com/lifeservice/ws",SOCKET_URL2:"wss://test-wbslot-fd.jlfafafa1.com/lifeservice/ws2",CLICK_URL:"https://test-wbslot-fd.jlfafafa1.com/webservice/event/user",MAIL_URL:"https://test-wbslot-fd.jlfafafa1.com/rankingservice/user/GetMailList",RANKING_URL:"https://test-wbslot-fd.jlfafafa1.com/rankingservice/user/GetRankingList",ACTION_URL:"https://test-wbgamerecord.jlfafafa3.com/action/transfer.aspx",WEB_URL:"https://{{uat}}wbgamerecord.{{domain}}.com/ingame/index.aspx?target={target}&lang={lang}&game={gameId}&token={token}",NOTIFY_URL:"",SUBAGENTSERVICE_URL:""}})),e._RF.push({},"1225fqB5sBKxbjCPREjJFB5","EnvironmentConfigTestPath",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorMsgManager.ts",["cc","./Define.ts","./MsgBox.ts","./Tools.ts"],(function(e){"use strict";var t,n,s,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default},function(e){s=e.default},function(e){r=e.default}],execute:function(){t._RF.push({},"6c401uy9P9MDb/lGhpNeWM8","ErrorMsgManager",void 0);var o=e("ErrorMsgManager",function(){function e(){if(this.m_cbs=null,e._instance)throw new Error("Error: Instantiation failed: Use ErrorManager.getInstance() instead of new.");e._instance=this}e.GetInstance=function(){return this._instance||(this._instance=new e),e._instance},e.OnExit=function(){delete this._instance,this._instance=null};var t=e.prototype;return t.SetCb=function(e){this.m_cbs=e},t.ShowSpinErr=function(e,t,o,l){if(l.ErrorMsg){var _;try{var a=JSON.parse(l.ErrorMsg);s.getInstance().ShowMessageBox(a.message,n.StringKey.MSGBOX_TITLE_SYSTEM_INFO,r.CloseGameTab,r.GetErrorCode(n.ErrorStatus.Game,e))}catch(e){console.error(e)}null==(_=this.m_cbs)||null==_.StopCb||_.StopCb(!0)}else if(e==n.GENERAL_RET.ERROR_GAME_NO_COIN){var i;t<o?s.getInstance().ShowMessageBox(n.StringKey.MSGBOX_MONEY_NOT_ENOUGH):s.getInstance().ShowMessageBox(n.StringKey.MSGBOX_MONEY_NOT_ENOUGH_DOWN_BET),null==(i=this.m_cbs)||null==i.StopCb||i.StopCb(!0)}else if(e==n.GENERAL_RET.ERROR_GAME_NO_COIN_SINGLE){var S;s.getInstance().ShowMessageBox(n.StringKey.MSGBOX_MONEY_NOT_ENOUGH,n.StringKey.MSGBOX_TITLE_SYSTEM_INFO,r.CloseGameTab,r.GetErrorCode(n.ErrorStatus.Game,e)),null==(S=this.m_cbs)||null==S.StopCb||S.StopCb(!0)}else if(e===n.GENERAL_RET.ERROR_BUY_BONUS_CLOSED){var E,c;s.getInstance().ShowMessageBox(n.StringKey.BUY_BONUS_MSG_CLOSED),null==(E=this.m_cbs)||null==E.StopCb||E.StopCb(!0),null==(c=this.m_cbs)||null==c.CloseMallCb||c.CloseMallCb()}else if(e===n.GENERAL_RET.ERROR_BUY_BONUS_NO_COIN){var u,M;s.getInstance().ShowMessageBox(n.StringKey.BUY_BONUS_MSG_MONEY_NOT_ENOUGH),null==(u=this.m_cbs)||null==u.StopCb||u.StopCb(!0),null==(M=this.m_cbs)||null==M.CloseMallCb||M.CloseMallCb()}else if(e===n.GENERAL_RET.FREESPIN_ABNORMAL){var O,g;s.getInstance().ShowMessageBox(n.StringKey.MSGBOX_RELOGIN_SYNC),null==(O=this.m_cbs)||null==O.StopCb||O.StopCb(!0),null==(g=this.m_cbs)||null==g.ResetFreeSpinCb||g.ResetFreeSpinCb(null!=l&&l.freeremain?null==l?void 0:l.freeremain:0)}else{var N;s.getInstance().ShowMessageBox(n.StringKey.MSGBOX_SPIN_STATE_ERR,n.StringKey.MSGBOX_TITLE_SYSTEM_INFO,r.CloseGameTab,r.GetErrorCode(n.ErrorStatus.Game,e)),null==(N=this.m_cbs)||null==N.StopCb||N.StopCb(!1)}},e}());o._instance=new o,t._RF.pop()}}}));

System.register("chunks:///_virtual/EvtReceiver.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var c,e,n,a,o;return{setters:[function(t){c=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,a=t.log,o=t.Component}],execute:function(){var i;e._RF.push({},"9cd57oopkhBmZJ5o4EZK1tk","EvtReceiver",void 0);var l=n.ccclass;t("default",l(i=function(t){function e(){for(var c,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(c=t.call.apply(t,[this].concat(n))||this).m_callback=void 0,c}c(e,t),e.Pack=function(t,c){t.addComponent(e),t.getComponent(e).SetCallback(c)};var n=e.prototype;return n.EvtReciever=function(t){a("AnimEvtReciever: ",t),this.m_callback?this.m_callback(t):a("callback沒有設定，無法處理event: ",t)},n.triggerAnimationEvent=function(t){a("triggerAnimationEvent: ",t),this.m_callback?this.m_callback(t):a("callback沒有設定，無法處理event: ",t)},n.SetCallback=function(t){this.m_callback=t},n.onDestroy=function(){this.m_callback=null},e}(o))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/ExchangeNumComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,m,s,u,a,l,r,h,o,c,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,m=t.assertThisInitialized,s=t.createClass},function(t){u=t.cclegacy,a=t._decorator,l=t.Label,r=t.Node,h=t.Component},function(t){o=t.default},function(t){c=t.default},function(t){_=t.default},function(t){f=t.default}],execute:function(){var g,p,N,b,d,y,S,L,T,v,C,O,k;u._RF.push({},"10a13qqArRGFrckBNES/tNf","ExchangeNumComponent",void 0),function(t){t[t.On=0]="On",t[t.Off=1]="Off"}(k||(k={}));var R=a.ccclass,z=a.property;t("default",(g=z({type:l,tooltip:"數量"}),p=z({type:l,tooltip:"剩餘數量"}),N=z({type:r,tooltip:"+節點，[啟用，不可用]"}),b=z({type:r,tooltip:"-節點，[啟用，不可用]"}),d=z({type:l,tooltip:"不足提示"}),R((L=e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return e=t.call.apply(t,[this].concat(s))||this,n(e,"m_numLabel",L,m(e)),n(e,"m_leftNumLabel",T,m(e)),n(e,"m_addNodes",v,m(e)),n(e,"m_subNodes",C,m(e)),n(e,"m_hintLabel",O,m(e)),e.m_cell=null,e.m_leftNum=0,e.m_num=1,e.m_changeTimes=0,e.m_changeNumCb=null,e}i(e,t);var u=e.prototype;return u.Init=function(t,e,i){this.m_cell=e,this.m_leftNum=t,this.m_changeNumCb=i,f.SetFont(this.m_leftNumLabel),f.SetFont(this.m_numLabel),this.m_leftNumLabel.string=this.m_changeTimes+"/"+this.m_leftNum.toString(),this.m_numLabel.string=this.m_num.toString(),this.UpdateState()},u.SetTxt=function(){this.m_hintLabel.string=c.GetInstance().GetString(o.StringKey.DEBRIS_NOT_ENOUGH)},u.ResetNum=function(){this.m_num=1,this.m_numLabel.string=this.m_num.toString(),this.UpdateState()},u.DecreaseLeft=function(t){this.m_changeTimes=t,this.m_leftNumLabel.string=this.m_changeTimes+"/"+this.m_leftNum.toString(),this.UpdateState()},u.UpdateState=function(){this.m_hintLabel.node.active=0!=this.m_leftNum&&!this.m_cell.CheckRecipe(1);var t=this.m_cell.CheckRecipe(this.m_num+1);this.m_changeTimes!=this.m_leftNum&&this.m_num+this.m_changeTimes!=this.m_leftNum||(t=!1),this.m_addNodes[k.Off].active=!t,this.m_addNodes[k.On].active=t;var e=this.m_num>1;this.m_subNodes[k.Off].active=!e,this.m_subNodes[k.On].active=e},u.OnAdd=function(){var t;_.getInstance().Play(o.AudioClips.COMMON_BTN),this.m_num+=1,this.m_leftNum-this.m_changeTimes==0?this.m_num=1:this.m_num>this.m_leftNum-this.m_changeTimes?this.m_num=this.m_leftNum-this.m_changeTimes:this.m_cell.CheckRecipe(this.m_num)||(this.m_num-=1),this.m_numLabel.string=this.m_num.toString(),this.UpdateState(),null==(t=this.m_changeNumCb)||t.call(this)},u.OnSub=function(){var t;_.getInstance().Play(o.AudioClips.COMMON_BTN),this.m_num-=1,this.m_leftNum<=0?this.m_num=this.m_leftNum:this.m_num<=1&&(this.m_num=1),this.m_numLabel.string=this.m_num.toString(),this.UpdateState(),null==(t=this.m_changeNumCb)||t.call(this)},s(e,[{key:"LeftNum",get:function(){return this.m_leftNum}},{key:"Num",get:function(){return this.m_num}},{key:"ChangeTimes",get:function(){return this.m_changeTimes}}]),e}(h)).prototype,"m_numLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(S.prototype,"m_leftNumLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(S.prototype,"m_addNodes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(S.prototype,"m_subNodes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(S.prototype,"m_hintLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/ExtraManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./Define.ts","./AppManager.ts","./LocaleStringManager.ts","./LocalStorageManager.ts","./SoundManager.ts","./TimeBool.ts","./Tools.ts","./ItemList.ts","./DailyMission.ts","./FloatView.ts","./JPManager.ts","./MHBManager.ts","./MsgBox.ts","./Rankboard.ts","./TrialView.ts","./VolatilityManager.ts","./BottombarManager.ts","./Discount.ts","./Features.ts","./IconSorter.ts","./ItemInfo.ts","./MayLike.ts","./DebrisBtn.ts","./ItemGet.ts","./ItemBall.ts","./FeaturesDemoSelectComponent.ts","./FeaturesDemoComponent.ts","./MissionBtn.ts","./NotificationManager.ts","./Protocol.ts","./ConnectManager.ts","./AutoShowManager.ts","./EnvironmentConfig.ts","./VipManager.ts","./GroupNode.ts","./BackpackManager.ts","./Wallet.ts","./SignInProtocol.ts","./gaiaProto.mjs_cjs=&original=.js","./GaiaManager.ts","./DebrisManager.ts","./DailyMissionManager.ts","./BuyBonusManager.ts","./TrialManager.ts","./IconBox.ts","./RookieHintManager.ts","./LevelManager.ts","./BuyBonusBtn.ts","./gaiaProto.js"],(function(t){"use strict";var e,n,o,i,a,r,m,s,u,l,_,c,p,B,h,d,g,b,f,C,y,S,T,I,M,k,N,D,v,E,A,L,R,w,P,F,O,G,x,V,U,H,W,K,z,Y,Z,j,X,q,J,Q,$,tt,et,nt,ot,it,at,rt,mt,st,ut,lt,_t,ct,pt,Bt,ht,dt,gt,bt,ft,Ct,yt,St,Tt,It,Mt,kt,Nt,Dt,vt,Et,At,Lt,Rt,wt,Pt,Ft,Ot;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,m=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t.v3,l=t._decorator,_=t.Sprite,c=t.Label,p=t.SpriteAtlas,B=t.Node,h=t.Button,d=t.SpriteFrame,g=t.Prefab,b=t.RichText,f=t.ProgressBar,C=t.tween,y=t.instantiate,S=t.sys,T=t.TweenSystem,I=t.error,M=t.log,k=t.Animation,N=t.Widget,D=t.UITransform,v=t.ParticleSystem2D,E=t.UIRenderer,A=t.color,L=t.UIOpacity,R=t.find,w=t.Component},function(t){P=t.default},function(t){F=t.default},function(t){O=t.default},function(t){G=t.default},function(t){x=t.default},function(t){V=t.default},function(t){U=t.default},function(t){H=t.default},function(t){W=t.default},function(t){K=t.EventType},function(t){z=t.default},function(t){Y=t.default},function(t){Z=t.default},function(t){j=t.default},function(t){X=t.default},function(t){q=t.default,J=t.TrialInfo,Q=t.TrialSignUp,$=t.TrialGiveUp},function(t){tt=t.default},function(t){et=t.default,nt=t.SCALE_TIME,ot=t.BigFavorUser},function(t){it=t.default,at=t.PageName},function(t){rt=t.default},function(t){mt=t.default},function(t){st=t.default},function(t){ut=t.default},function(t){lt=t.default},function(t){_t=t.default},function(t){ct=t.default},function(t){pt=t.default},function(t){Bt=t.default},function(t){ht=t.default},function(t){dt=t.default},function(t){gt=t.default},function(t){bt=t.default},function(t){ft=t.default},function(t){Ct=t.default},function(t){yt=t.default},function(t){St=t.default},function(t){Tt=t.backpackManager},function(t){It=t.walletManger},function(t){Mt=t.SignInReqData},null,function(t){kt=t.gaiaManager},function(t){Nt=t.debrisManager},function(t){Dt=t.missionManager},function(t){vt=t.buyBonusManager},function(t){Et=t.trialManager},function(t){At=t.default,Lt=t.IconBoxSeat},function(t){Rt=t.RookieHintManager,wt=t.HintLevel},function(t){Pt=t.default},function(t){Ft=t.default},function(t){Ot=t.default}],execute:function(){var Gt,xt,Vt,Ut,Ht,Wt,Kt,zt,Yt,Zt,jt,Xt,qt,Jt,Qt,$t,te,ee,ne,oe,ie,ae,re,me,se,ue,le,_e,ce,pe,Be,he,de,ge,be,fe,Ce,ye,Se,Te,Ie,Me,ke,Ne,De,ve,Ee,Ae,Le,Re,we,Pe,Fe,Oe,Ge,xe,Ve,Ue,He,We,Ke,ze,Ye,Ze,je,Xe,qe,Je,Qe,$e,tn,en,nn,on,an,rn,mn,sn,un,ln,_n,cn,pn,Bn,hn,dn,gn,bn,fn,Cn,yn,Sn,Tn,In,Mn,kn,Nn,Dn,vn,En,An,Ln,Rn,wn,Pn,Fn,On,Gn,xn,Vn,Un,Hn,Wn,Kn,zn,Yn,Zn,jn,Xn,qn,Jn,Qn,$n,to,eo,no,oo,io,ao,ro,mo,so,uo,lo,_o,co,po,Bo,ho,go,bo,fo,Co,yo,So,To,Io,Mo,ko,No,Do,vo,Eo,Ao,Lo,Ro,wo,Po,Fo,Oo,Go,xo,Vo,Uo,Ho,Wo,Ko,zo,Yo,Zo,jo,Xo,qo,Jo,Qo,$o,ti;s._RF.push({},"4c2ffmx6GBLjoLuSbIdXAw7","ExtraManager",void 0);var ei=function(t,e){this.key="",this.cb=null,this.key=t,this.cb=e},ni={AutoPlay:"BottomBar_AutoSpin",Bet:"BottomBar_Bet",ItemBet:"img_itembet_label",FreeSpins_02:"FreeSpins_02",Balance:"img_blance_label",Spin:"BottomBar_Spin",SpinStop_b:"BottomBar_Stop",SpinStop:"BottomBar_Stop",AutoStop:"BottomBar_AutoStop",Win:"img_win_label",AutoPlayTittle:"img_hosting_label",HostingAutoStop:"img_hosting_stop_label",FeaturesBtn:"img_features_label",TrialBtn:"TXT_WinMore",TrialCoin:"img_Trial_txt6",TrialBet:"ExperienceBet",FeaturesDemo_btn:"img_feature",FeaturesDemo_Win:"img_demo_win",FeaturesDemo_bet:"img_demo_bet",FeaturesDemoMode:"img_demo_mode",FeaturesDemoReal:"img_real_mode",FeaturesDemoPlay:"img_F_list",FeaturesGoRealDes:"img_back_real",FeaturesMenuDes:"img_back_feature",DemoMode:"demomode01",ReplayStartSprite:"replayer",ReplayEndSprite:"replayerend",ReplayMode:"bigwin_mode01",ReplayBalanceSprite:"bigwin_mode03",ReplayBetSprite:"bigwin_mode02",ReplayWinSprite:"bigwin_mode04"},oi="Astt/%s/backpack/Prefab/Backpack",ii=[u(0,-15),u(0,-77),u(0,-139),u(0,-201),u(0,-263)],ai=[],ri=[4801,5101,1],mi=l.ccclass,si=l.property;t("default",(Gt=si({type:_,tooltip:"押注金額文字圖"}),xt=si({type:c,tooltip:"押注金額文字"}),Vt=si({type:c,tooltip:"押注金額文字"}),Ut=si({type:c,tooltip:"押注金額文字"}),Ht=si({type:p,tooltip:"共用合圖"}),Wt=si([B]),Kt=si([B]),zt=si({type:B,tooltip:"FloatView按鈕節點"}),Yt=si({type:h,tooltip:"背包按鈕"}),Zt=si({type:B,tooltip:"背包紅點"}),jt=si({type:_,tooltip:"背包圖示"}),Xt=si({type:B,tooltip:"使用道具卡定位"}),qt=si({type:d,tooltip:"Jili 卡"}),Jt=si({type:g,tooltip:"取得道具卡"}),Qt=si({type:g,tooltip:"取得道具卡"}),$t=si({type:h,tooltip:"特色按鈕"}),te=si({type:_,tooltip:"選單文字"}),ee=si({type:h,tooltip:"返回真錢"}),ne=si({type:_,tooltip:"返回真錢文字"}),oe=si({type:_,tooltip:"選項"}),ie=si({type:B,tooltip:"特色遊玩遮罩"}),ae=si({type:B,tooltip:"反回真錢提示"}),re=si({type:B,tooltip:"表演提示"}),me=si({type:B,tooltip:"特色模式狀態提示"}),se=si({type:_,tooltip:"特色模式-財產"}),ue=si({type:_,tooltip:"特色模式文字"}),le=si({type:_,tooltip:"特色按鈕文字"}),_e=si({type:B,tooltip:"特色遊玩畫面根結點"}),ce=si({type:B,tooltip:"特色遊玩選項根結點"}),pe=si({type:B,tooltip:"排行榜按鈕根"}),Be=si({type:h,tooltip:"(改用動態載入)"}),he=si({type:B,tooltip:"(改用動態載入)"}),de=si({type:c,tooltip:"(改用動態載入)"}),ge=si(h),be=si(B),fe=si(c),Ce=si(h),ye=si(c),Se=si({type:h,tooltip:"關閉遊戲按鈕"}),Te=si({type:it,tooltip:"優惠功能"}),Ie=si({type:B,tooltip:"優惠按鈕根"}),Me=si({type:h,tooltip:"優惠按鈕(改用動態載入)"}),ke=si({type:B,tooltip:"百寶箱紅點(改用動態載入)"}),Ne=si({type:B,tooltip:"百寶箱簽到提示(改用動態載入)"}),De=si({type:h,tooltip:"優惠關閉按鈕(背景)"}),ve=si({type:h,tooltip:"優惠關閉按鈕"}),Ee=si({type:h,tooltip:"大顆的收藏按鈕"}),Ae=si({type:ut,tooltip:"猜你喜歡介面"}),Le=si(B),Re=si(B),we=si(_),Pe=si(b),Fe=si(_),Oe=si(_),Ge=si(_),xe=si(_),Ve=si(_),Ue=si(_),He=si({type:B,tooltip:"洗碼"}),We=si({type:_,tooltip:"洗碼按鈕上文字(改用動態載入)"}),Ke=si({type:h,tooltip:"介面開啟按鈕(改用動態載入)"}),ze=si({type:f,tooltip:"洗碼進度"}),Ye=si({type:B,tooltip:"洗碼進度提示節點"}),Ze=si({type:c,tooltip:"洗碼進度累積贏分提示"}),je=si({type:c,tooltip:"洗碼進度累積贏分提示(不同顏色的底板)"}),Xe=si({type:c,tooltip:"進度階段提示"}),qe=si({type:b,tooltip:"體驗幣金額"}),Je=si({type:B,tooltip:"Fg內購按鈕根節點"}),Qe=si({type:B,tooltip:"Fg內購跟節點"}),$e=si({type:B,tooltip:"Fg內購使用"}),tn=si({type:c,tooltip:"Fg內購使用剩餘次數"}),en=si({type:_,tooltip:"Fg內購使用圖示"}),nn=si({type:_,tooltip:"Fg內購使用圖示文字"}),on=si({type:B,tooltip:"BuyBonus動畫"}),an=si({type:c,tooltip:"Buy Bonus單一卡價格"}),rn=si({type:c,tooltip:"Buy Bonus共花費金額"}),mn=si({type:c,tooltip:"Buy Bonus單一卡價格標題"}),sn=si({type:c,tooltip:"Buy Bonus共花費金額標題"}),un=si({type:B,tooltip:"Buy Bonus花費金額資訊根"}),ln=si({type:h,tooltip:"(改用動態載入)"}),_n=si({type:_,tooltip:"(改用動態載入)"}),cn=si(_),pn=si({type:B,tooltip:"付費遊戲標籤節點:0.hot,1.event"}),Bn=si({type:_,tooltip:"付費遊戲 Txt(改用動態載入)"}),hn=si({type:d,tooltip:"FreeSpin bet Img(押注按鈕上的 FREE SPIN字樣)"}),dn=si({type:At,tooltip:"周邊機制ICON BOX"}),gn=si({type:Rt,tooltip:"新手提示控制"}),mi(((ti=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"m_betSprite",Cn,i(e)),o(e,"m_betLabel",yn,i(e)),o(e,"m_BMMbetLabel",Sn,i(e)),o(e,"m_APPbetLabel",Tn,i(e)),o(e,"m_commAtlas",In,i(e)),o(e,"m_topLeftNodes",Mn,i(e)),o(e,"m_topRightNodes",kn,i(e)),o(e,"m_floatBaseNode",Nn,i(e)),o(e,"m_backpackBtn",Dn,i(e)),o(e,"m_backpackRp",vn,i(e)),o(e,"m_backpackSprite",En,i(e)),o(e,"m_usingCardNode",An,i(e)),o(e,"m_jillCardSpriteFrame",Ln,i(e)),o(e,"m_getItemEft",Rn,i(e)),o(e,"m_getItemBall",wn,i(e)),o(e,"m_featuresBtn",Pn,i(e)),o(e,"m_featuresDemoBtnTxt",Fn,i(e)),o(e,"m_featuresGoRealBtn",On,i(e)),o(e,"m_featuresGoRealBtnTxt",Gn,i(e)),o(e,"m_featuresMenu",xn,i(e)),o(e,"m_featuresDemoView",Vn,i(e)),o(e,"m_featuresGoRealDes",Un,i(e)),o(e,"m_featuresMenuDes",Hn,i(e)),o(e,"m_featuresHint",Wn,i(e)),o(e,"m_featuresDemoModeTxt",Kn,i(e)),o(e,"m_demoModeTxt",zn,i(e)),o(e,"m_featuresSprite",Yn,i(e)),o(e,"m_featuresDemoRootNode",Zn,i(e)),o(e,"m_featuresDemoSelectRootNode",jn,i(e)),o(e,"m_rankingBtnRoot",Xn,i(e)),o(e,"m_rankingBtn",qn,i(e)),o(e,"m_rankingAnim",Jn,i(e)),o(e,"m_rankingLabel",Qn,i(e)),o(e,"m_dailyBtn",$n,i(e)),o(e,"m_dailyAnim",to,i(e)),o(e,"m_dailyLabel",eo,i(e)),o(e,"m_lobbyBtn",no,i(e)),o(e,"m_lobbyLable",oo,i(e)),o(e,"m_closeGameBtn",io,i(e)),o(e,"m_discount",ao,i(e)),o(e,"m_discountBtnRoot",ro,i(e)),o(e,"m_discountBtn",mo,i(e)),o(e,"m_discountRedPointNode",so,i(e)),o(e,"m_discountFreeGift",uo,i(e)),o(e,"m_discountBgCloseBtn",lo,i(e)),o(e,"m_discountCloseBtn",_o,i(e)),o(e,"m_favorBtn",co,i(e)),o(e,"m_mayLikeView",po,i(e)),o(e,"m_bigWinReplayMask",Bo,i(e)),o(e,"m_bigWinReplayAni",ho,i(e)),o(e,"m_replayBetSprite",go,i(e)),o(e,"m_replayBetValue",bo,i(e)),o(e,"m_replayStartAniSprite",fo,i(e)),o(e,"m_replayEndAniSprite",Co,i(e)),o(e,"m_replayModeTxt",yo,i(e)),o(e,"m_replayBetTxt",So,i(e)),o(e,"m_replayWinTxt",To,i(e)),o(e,"m_replayBalanceTxt",Io,i(e)),o(e,"m_trial",Mo,i(e)),o(e,"m_trialSprite",ko,i(e)),o(e,"m_trialBtn",No,i(e)),o(e,"m_trialProgressBar",Do,i(e)),o(e,"m_trialProgressHintNode",vo,i(e)),o(e,"m_trialTotalWinLabel",Eo,i(e)),o(e,"m_trialTotalWinLabel_Under",Ao,i(e)),o(e,"m_trialProgressLvlLabel",Lo,i(e)),o(e,"m_trialCoinLabel",Ro,i(e)),o(e,"m_buyBonusRoot",wo,i(e)),o(e,"m_buyBonusView",Po,i(e)),o(e,"m_buyBonusUsed",Fo,i(e)),o(e,"m_buyBonusRemainTimes",Oo,i(e)),o(e,"m_buyBonusIcon",Go,i(e)),o(e,"m_buyBonusIconTxt",xo,i(e)),o(e,"m_buyBonusAnimNode",Vo,i(e)),o(e,"m_buyBonusNumPrice",Uo,i(e)),o(e,"m_buyBonusCumulativePrice",Ho,i(e)),o(e,"m_buyBonusPriceTitle",Wo,i(e)),o(e,"m_buyBonusCumulativePriceTitle",Ko,i(e)),o(e,"m_buyBonusPriceRoot",zo,i(e)),o(e,"m_buyBonusBtn",Yo,i(e)),o(e,"m_buyBonusSprite",Zo,i(e)),o(e,"m_buyBonusTag",jo,i(e)),o(e,"m_buyBonusTagNode",Xo,i(e)),o(e,"m_buyBonusTxt",qo,i(e)),o(e,"m_FreeSpinBetImgSpriteFrame",Jo,i(e)),o(e,"m_iconBox",Qo,i(e)),o(e,"m_rookieHintManager",$o,i(e)),e.m_isLandscape=!0,e.m_isSmall=!1,e.m_isLow=!1,e.m_bottomBarManager=null,e.m_localeSpriteAtlas=null,e.m_topLeftIcon=null,e.m_topRightIcon=null,e.m_backpackNode=null,e.m_isOpenBackpackOnLoading=!1,e.m_isBackpackIconAni=!1,e.m_itemInfo=void 0,e.m_backpackExcTimer=void 0,e.m_loadCommonItemCbs=new Array,e.m_getItem=null,e.m_featuresView=null,e.m_selectFDFunc=null,e.m_closeFDNotifyCb=null,e.m_featuresNum=0,e.m_oriBet=0,e.m_demoBetIdx=0,e.m_demoBetIdxError=!1,e.m_hasUnshow=!1,e.m_isFeaturesDemo=!1,e.m_isFeaturesDemoLoaded=!1,e.m_isInitFreaturesDemo=!1,e.m_haveFeaturesDemoMode=!1,e.m_isFeaturesDemoMode=!1,e.m_isNowInDemoMenu=!1,e.m_lockAutoEnableByFeatures=!1,e.m_featuresDemoIsPlay=[],e.m_featuresDemoPlayLimit=[1,1,1,1,1],e.m_featuresDemoBtns=new Array,e.m_isFeaturesDemoBtnsLoaded=[!1,!1,!1,!1,!1],e.m_isFirstFeaturesDemo=!1,e.m_canPlayFeaturesDemo=!1,e.m_featuresDemoTimer=void 0,e.m_featuresDemoSelectComp=null,e.m_featuresDemoComp=null,e.m_rankingView=void 0,e.m_setCanAutoShowRankboardUI=!1,e.m_discountSprite=null,e.m_canShowReplay=!1,e.m_isNowReplay=!1,e.m_originalDollarSymbol="",e.m_replayUnit=1,e.m_depositBtn=null,e.m_isInTrial=!1,e.m_trialCoins=0,e.m_nowTrialTotalWin=0,e.m_nowTrialTotalBet=0,e.m_isBuyBonusOpen=!1,e.m_buyFGTxt=null,e.m_openAllBtnCb=null,e.m_closeAllBtnCb=null,e.m_debrisNode=null,e.m_debrisBtn=null,e.needSortBtn=!0,e.m_lobbyBtnPosAnim=null,e.m_cumulativePaid=0,e.m_CustomWidgetAmerica={},e}n(e,t);var s=e.prototype;return s.GetCustomWidgetAmerica=function(t,e){return this.m_CustomWidgetAmerica[t]?this.m_CustomWidgetAmerica[t][Number(e)]:null},s.SetCustomWidgetAmerica=function(t,e){return this.m_CustomWidgetAmerica[t]=e},s.onLoad=function(){var t=this;F.IS_DEMO=Boolean(H.GetLinkParameterByName("demo")),this.m_backpackExcTimer=new U,this.m_backpackExcTimer.UseDT(!0),this.m_featuresDemoTimer=new U,this.m_topLeftIcon=new mt(["iconBox","mission","jackpot","musthitby","ranking"],this.m_topLeftNodes),this.m_topRightIcon=new mt([F.CbKey.BuyBonus,F.CbKey.Discount,F.CbKey.Debris,F.CbKey.Favor,F.CbKey.Trial,F.CbKey.Deposit],this.m_topRightNodes),this.m_bottomBarManager=this.node.getComponent(et),this.m_backpackBtn.node.active=!1,Tt.CreateViewCb=function(e,n,o,i,a,r,m){t.BackpackInit(e,n,o,i,a,r,m)},Nt.CreateViewCb=function(e,n,o,i){t.DebrisInit(e,n,o,i)},Dt.CreateViewCb=function(e,n,o){t.DailyMissionInit(e,n,o)},vt.CreateViewCb=function(e,n,o){t.BuyBonusInit(e,n,o)},Et.CreateViewCb=function(e,n,o,i,a,r){t.LoadTrialBtn(e,n,o,i,a,r)},this.m_iconBox&&(this.m_iconBox.node.active=!0,H.SetZIndex(this.m_iconBox.node,F.BtnZOrder.ICONBOX),this.m_topLeftIcon.AddIcon("iconBox",[this.m_iconBox.node]).Sort().Reorder(),this.m_iconBox.node.getComponent(z).ResetPosition(),C(this.m_iconBox.node).delay(.5).call((function(){t.m_iconBox.node.active=!1})).start())},s.start=function(){var t=this;if(this.m_discount&&(this.m_discount.node.zIndex=F.ZOrder.DISCOUNT),(F.IS_DEMO||this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames)&&this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1,this.m_featuresSprite&&(this.m_featuresSprite.node.active=!1)),F.DEPOSIT_URL){var e=H.GetFilePath(F.DepositBtn);F.CommonBundle.load(e,(function(e,n){t.m_depositBtn=y(n),t.m_floatBaseNode.addChild(t.m_depositBtn),t.m_topRightIcon.AddIcon(F.CbKey.Deposit,[t.m_depositBtn]).Sort().Reorder(),t.m_discountBtn&&t.m_discountBtnRoot.getComponent(z).ResetPosition(),t.m_favorBtn&&t.m_favorBtn.node.getComponent(z).ResetPosition(),t.m_debrisNode&&t.m_debrisNode.getComponent(z).ResetPosition(),t.m_trialBtn&&t.m_trialBtn.node.getComponent(z).ResetPosition(),t.m_buyBonusRoot&&t.m_buyBonusRoot.getComponent(z).ResetPosition(),t.m_depositBtn.getComponent(z).ResetPosition(),t.m_depositBtn.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_bottomBarManager.CurrentTouchName&&t.m_lobbyBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_depositBtn.getComponent(z)&&t.m_depositBtn.getComponent(z).OnTouchStart(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),t.m_depositBtn.on(B.EventType.TOUCH_MOVE,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_depositBtn.getComponent(z)&&t.m_depositBtn.getComponent(z).OnTouchMove(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),t.m_depositBtn.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),t.m_depositBtn.on(B.EventType.TOUCH_END,(function(e){if(t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;var n=function(){var t=S.OS.IOS&&H.IsNativeWebView()?"_self":"_blank";window.open(F.DEPOSIT_URL,t)};t.m_depositBtn.getComponent(z)?t.m_depositBtn.getComponent(z).OnTouchEnd(e.getUILocation(),n):n()}}))}))}if(S.isNative||O.LobbyData||this.AppWebViewCheck()){if(!S.isNative&&O.LobbyData&&!O.LobbyData.backUrl)return;if(this.m_lobbyBtn.node.active=!0,this.m_iconBox){O.SetOpenSkyBar((function(){t.m_iconBox.CloseMenu()}))}this.m_lobbyLable&&("cn"==G.CurrLang?this.m_lobbyLable.string="返回大廳":this.m_lobbyLable.string="Back to lobby",Y.GetInstance().ResetPosition(),Z.GetInstance().ResetPosition()),O.LobbyData&&O.LobbyData.isHideMember&&(T.instance.ActionManager.removeAllActionsFromTarget(this.m_floatBaseNode),this.m_floatBaseNode.active=!1,this.m_backpackBtn&&(this.m_backpackBtn.node.active=!1))}this.m_closeGameBtn&&Number(F.API_ID)==F.MGAApi&&(this.m_closeGameBtn.node.active=!0),this.m_rookieHintManager&&(this.m_rookieHintManager.SetTargetPosNode(this.m_bottomBarManager.SpinBtn.node.parent),this.m_rookieHintManager.SetTargetPosNode(this.m_bottomBarManager.BetBtn.node.parent))},s.LoadDiscountBtn=function(){var t=this,e=H.GetFilePath(F.DiscountBtn);F.CommonBundle.load(e,(function(e,n){e&&(I(e.message||e),t.LoadDiscountBtn);var o=y(n);t.m_iconBox?(t.m_iconBox.SetBtnSeat(o,Lt.WinMore),t.OnRotation(t.m_isLandscape),t.m_discountBtnRoot.active=!1):t.m_discountBtnRoot.addChild(o),t.m_discountBtn=o.getComponent(h),t.m_discountRedPointNode=o.getChildByName("Bg").getChildByName("RedSpot"),t.m_discountFreeGift=o.getChildByName("icon_free_gift"),t.m_discountSprite=o.getChildByName("IconName").getComponent(_),t.m_localeSpriteAtlas&&(t.m_discountSprite.spriteFrame=t.m_localeSpriteAtlas.getSpriteFrame("WinMore_IconName")),t.m_discountBtn&&(M(" this.m_discountBtn 1 ",t.m_discountBtn.interactable,t.m_discount),t.m_discountBtn.node.on(B.EventType.TOUCH_START,(function(e){M(" this.m_discountBtn 3 ",t.m_bottomBarManager.CurrentTouchName),e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_bottomBarManager.CurrentTouchName&&t.m_discountBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_iconBox||t.m_discountBtnRoot.getComponent(z).OnTouchStart(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),t.m_discountBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),t.m_discountBtn.node.on(B.EventType.TOUCH_MOVE,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_iconBox||t.m_discountBtnRoot.getComponent(z).OnTouchMove(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),t.m_discountBtn.node.on(B.EventType.TOUCH_END,(function(e){if(M(" this.m_discountBtn 4 ",t.m_bottomBarManager.CurrentTouchName),t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;var n=function(){M(" this.m_discountBtn 2 ",t.m_discountBtn.interactable,t.m_discount),t.m_discountBtn.interactable&&t.m_discount&&(t.m_bottomBarManager.CloseAllMenu(),t.m_discount.ShowDiscountView(),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.RECOMMEND_CLICK,F.PHASE_RESULT.SUCCESS,t.m_isLandscape)))};t.m_iconBox?n():t.m_discountBtnRoot.getComponent(z).OnTouchEnd(e.getUILocation(),n)}}))),t.SetDiscountBtnState(!F.IS_DEMO)}))},s.AppWebViewCheck=function(){var t=Number(F.API_ID);return window.top!=window.self&&t<=300&&t>=100},s.update=function(t){this.m_backpackExcTimer&&(this.m_backpackExcTimer.Update(1e3*t),this.m_backpackExcTimer.ToBool()&&(this.PlayBackpackBtnAni(),this.m_backpackExcTimer.Start(1500))),this.m_featuresDemoTimer.ToBool()&&(this.m_featuresDemoTimer.Clear(),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.FEATURES_DEMO_IDLE,"",this.m_isLandscape)),this.LeaveFeaturesDemoMsg()),this.m_discount&&this.m_discount.Process(t),Nt.Process(t),this.m_rankingView&&this.m_rankingView.UpdateActionTime_TADA()},s.SetOpenCloseBtnCb=function(t,e){this.m_openAllBtnCb=t,this.m_closeAllBtnCb=e},s.OnRotation=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.m_isLandscape=t,this.m_isSmall=e,this.m_isLow=n,Tt.OnRotation(t,e),vt.OnRotation(t),this.m_itemInfo&&this.m_itemInfo.OnRotation(this.m_isLandscape,e),this.m_featuresView&&this.m_featuresView.OnRotation(t),this.m_discount&&this.m_discount.OnRotation(t),this.m_rankingView&&this.m_rankingView.OnRotation(t,e),this.m_getItem&&(t?this.m_getItem.getComponent(k).play("Clip_Backpack_ItemCard_Get_Landscape"):this.m_getItem.getComponent(k).play("Clip_Backpack_ItemCard_Get_Portrait"));for(var i=0;i<this.m_topLeftNodes.length;i++){var a=110,r=this.m_topLeftNodes[i].getComponent(N);H.Line===F.LineSetting.americas||H.Line===F.LineSetting.americas_str||!this.m_lobbyBtn.node.active||H.Line!==F.LineSetting.street&&H.Line!==F.LineSetting.americas_str?t?(r.top=63+a*i,r.left=76):(r.top=60+a*i,r.left=68):(a=100,t?(r.top=135+a*i,r.left=76):(r.top=195+a*i,r.left=63))}this.m_topLeftIcon&&this.scheduleOnce((function(){o.m_topLeftIcon.Reorder()}),0);for(var m=0;m<this.m_topRightNodes.length;m++){var s=this.m_topRightNodes[m].getComponent(N);t?(s.top=60+110*m,s.right=76):(s.top=60+110*m,s.right=68)}this.m_topRightIcon&&this.scheduleOnce((function(){o.m_topRightIcon.Reorder()}),0);var u=this.m_bottomBarManager.FloatViewSize,l=(u.width-F.DEFAULT_LANDSCAPE_SIZE.width)/2;l=l>0?l:0;var _=(u.height-F.DEFAULT_LANDSCAPE_SIZE.width)/2;if(_=_>0?_:0,this.m_backpackBtn){var c=this.m_backpackBtn.node.getComponent(N);if(c)if(t){c.bottom=119,c.left=10.5;var p=this.GetCustomWidgetAmerica(F.WIDGET.BACKPAG_BOTTOM,t);p&&(c.bottom=p);var B=this.GetCustomWidgetAmerica(F.WIDGET.BACKPAG_LEFT,t);B&&(c.left=B)}else{c.bottom=177+F.BAR_DIFF_HEIGHT,c.left=24;var h=this.GetCustomWidgetAmerica(F.WIDGET.BACKPAG_BOTTOM,t);h&&(c.bottom=h);var d=this.GetCustomWidgetAmerica(F.WIDGET.BACKPAG_LEFT,t);d&&(c.left=d)}}!this.m_lobbyBtn||H.Line!==F.LineSetting.street&&H.Line!==F.LineSetting.americas_str||(t?this.m_lobbyBtn.node.setPosition(-495,275):this.m_lobbyBtn.node.setPosition(-257,527)),Dt.OnRotation(t),Nt.OnRotation(t),this.m_featuresDemoComp&&this.m_featuresDemoComp.OnRotation(t),this.m_floatBaseNode&&(this.m_floatBaseNode.getComponent(D).setContentSize(this.m_bottomBarManager.FloatViewSize),this.m_floatBaseNode.children.forEach((function(t){t.getComponent(z)&&t.getComponent(z).SetDiffPos()}))),this.m_rookieHintManager&&this.m_rookieHintManager.OnRotation(t)},s.GetDisplayValue=function(t){return this.m_bottomBarManager.GetDisplayValue(t)},s.CheckLineCode=function(){if(F.LINE_CODE>0&&"8"==F.API_ID)for(var t=0;t<ri.length;t++)if(ri[t]===F.LINE_CODE)return!0;return!1},s.SetTxt=function(){if(this.m_localeSpriteAtlas=this.m_localeSpriteAtlas?this.m_localeSpriteAtlas:G.GetInstance().GetCommonAtlas(),this.BetLabel&&(this.BetLabel.string=G.GetInstance().GetString(F.StringKey.BET)),this.m_localeSpriteAtlas){var t="",e=ni;if(this.m_betSprite&&(this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.Bet+t)),this.m_featuresView&&this.m_featuresView.SetTxt(),this.m_featuresSprite&&(this.m_featuresSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.FeaturesBtn+t)),this.m_demoModeTxt&&(this.m_demoModeTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.DemoMode+t)),this.m_featuresNum>0)for(var n=0;n<this.m_featuresNum;n++)if(this.m_featuresDemoBtns[n]){var o=this.m_featuresDemoBtns[n].getChildByName("Txt").getComponent(_),i="_"+G.CurrLang;o.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.FeaturesDemo_btn+(n+1)+i)}this.m_featuresDemoBtnTxt&&(this.m_featuresDemoBtnTxt.getComponent(_).spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.FeaturesDemoPlay+t)),this.m_featuresGoRealBtnTxt&&(this.m_featuresGoRealBtnTxt.getComponent(_).spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.FeaturesDemoReal+t)),this.m_bigWinReplayMask&&(this.m_replayBetSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.Bet+t),this.m_replayStartAniSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayStartSprite+t),this.m_replayEndAniSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayEndSprite+t),this.m_replayModeTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayMode+t),this.m_replayBetTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayBetSprite+t),this.m_replayWinTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayWinSprite+t),this.m_replayBalanceTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.ReplayBalanceSprite+t)),this.m_discount&&this.m_discount.SetTxt(this.m_localeSpriteAtlas),this.m_discountSprite&&(this.m_discountSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("WinMore_IconName")),this.m_mayLikeView&&this.m_mayLikeView.SetTxt(),vt.HasBuyBonus&&(vt.SetSpriteAtlas(this.m_localeSpriteAtlas),this.m_buyBonusTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("BuyBonus_IconName")),tt.GetInstance()&&tt.GetInstance().SetTxt()}Nt.SetTxt(),this.m_featuresDemoComp&&this.m_featuresDemoComp.SetTxt(),this.m_featuresDemoSelectComp&&this.m_featuresDemoSelectComp.SetTxt(),(S.isNative||O.LobbyData)&&this.m_lobbyLable&&("cn"==G.CurrLang?this.m_lobbyLable.string="返回大廳":this.m_lobbyLable.string="Back to lobby"),this.BuyBonusPriceTitle=G.GetInstance().GetString(F.StringKey.BUY_BONUS_DES_COST),this.BuyBonusPriceTitle.font||H.SetFont(this.BuyBonusPriceTitle),this.BuyBonusCumulativePriceTitle=G.GetInstance().GetString(F.StringKey.BUY_BONUS_DES_TOTAL_PAID),this.BuyBonusCumulativePriceTitle.font||H.SetFont(this.BuyBonusCumulativePriceTitle)},s.GetCommAtlas=function(){return this.m_commAtlas},s.SetNowBet=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.m_bottomBarManager.SetNowBet(t,e,n)},s.GetNowBetValue=function(){return this.m_bottomBarManager.GetNowBetValue()},s.SetEnterFree=function(t){this.m_bottomBarManager.SetEnterFree(t)},s.SetLeaveFree=function(t){this.m_bottomBarManager.SetLeaveFree(t)},s.PushClickToBuffer=function(t){this.m_bottomBarManager.PushClickToBuffer(t)},s.CloseAllMenu=function(){this.m_bottomBarManager.CloseAllMenu()},s.GetChips=function(){return this.m_bottomBarManager.GetChips()},s.SetTouchEvent=function(){var t=this;this.m_backpackBtn&&(this.m_backpackBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottomBarManager.CurrentTouchName&&t.m_backpackBtn.interactable||e.target&&0==e.target.active)&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_backpackBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_backpackBtn.node.on(B.EventType.TOUCH_END,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null,t.m_backpackBtn.interactable&&(t.m_bottomBarManager.CloseAllMenu(),t.ShowBackpack(),t.PushClickToBuffer(t.m_bottomBarManager.CLICK_BUFFER_TYPE.BACKPACK),V.getInstance().Play(F.AudioClips.COMMON_BTN)))}))),this.m_lobbyBtn&&(this.m_lobbyBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_bottomBarManager.CurrentTouchName&&t.m_lobbyBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_lobbyBtn.node.getComponent(z)&&t.m_lobbyBtn.node.getComponent(z).OnTouchStart(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_lobbyBtn.node.on(B.EventType.TOUCH_MOVE,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_lobbyBtn.node.getComponent(z)&&t.m_lobbyBtn.node.getComponent(z).OnTouchMove(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_lobbyBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_lobbyBtn.node.on(B.EventType.TOUCH_END,(function(e){if(t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;var n=function(){var t={contextKey:G.GetInstance().GetString(F.StringKey.CONFIRM_BACK_TO_LOBBY),titleKey:j.DEFAULT_TITLE_KEY,showCancelBtn:!1,showConfirmBtn:!0,showCloseBtn:!0,confirmCB:function(){O.LeaveGame(!0)}};j.getInstance().PushMessageBoxSetting(t)};t.m_lobbyBtn.node.getComponent(z)?t.m_lobbyBtn.node.getComponent(z).OnTouchEnd(e.getUILocation(),n):n()}}))),this.m_closeGameBtn&&(this.m_closeGameBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottomBarManager.CurrentTouchName&&t.m_closeGameBtn.interactable||e.target&&0==e.target.active)&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_closeGameBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_closeGameBtn.node.on(B.EventType.TOUCH_END,(function(e){if(t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;var n={contextKey:"Are you sure to leave the game?",titleKey:j.DEFAULT_TITLE_KEY,showCancelBtn:!0,showConfirmBtn:!0,showCloseBtn:!0,confirmCB:function(){H.CloseGameTab()}};j.getInstance().PushMessageBoxSetting(n),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.CLOSE_GAME,F.PHASE_RESULT.SUCCESS,t.m_isLandscape))}}))),this.m_discountBgCloseBtn&&(this.m_discountBgCloseBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottomBarManager.CurrentTouchName&&t.m_discountBgCloseBtn.interactable||e.target&&0==e.target.active)&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_discountBgCloseBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_discountBgCloseBtn.node.on(B.EventType.TOUCH_END,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null,t.m_discountBgCloseBtn.interactable&&t.m_discount&&(t.m_discount.CloseDiscountView(),ft.GetInstance().AutoShowNext()))}))),this.m_discountCloseBtn&&(this.m_discountCloseBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_bottomBarManager.CurrentTouchName&&t.m_discountCloseBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,C(t.m_discountCloseBtn.node).to(nt,{scale:u(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_discountCloseBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){C(t.m_discountCloseBtn.node).to(nt,{scale:u(1,1,1)}).start(),t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_discountCloseBtn.node.on(B.EventType.TOUCH_END,(function(e){C(t.m_discountCloseBtn.node).to(nt,{scale:u(1,1,1)}).start(),t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null,t.m_discountCloseBtn.interactable&&t.m_discount&&(t.m_discount.CloseDiscountView(),ft.GetInstance().AutoShowNext()))}))),this.m_favorBtn&&(this.m_favorBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_bottomBarManager.CurrentTouchName&&t.m_favorBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_favorBtn.node.getComponent(z).OnTouchStart(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_favorBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_favorBtn.node.on(B.EventType.TOUCH_MOVE,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_favorBtn.node.getComponent(z).OnTouchMove(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_favorBtn.node.on(B.EventType.TOUCH_END,(function(e){if(t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;t.m_favorBtn.node.getComponent(z).OnTouchEnd(e.getUILocation(),(function(){for(var e=0;e<ai.length;e++)if(ai[e]){switch(e){case ot.BigWin:t.m_favorBtn.interactable&&t.m_discount&&t.m_discount.AddFavor(Number(F.NOW_GAME_ID),F.BTN_CLICK_EVENT.BIG_FAVOR_ADD);break;case ot.MayLike:t.m_favorBtn.interactable&&t.m_mayLikeView&&t.m_mayLikeView.Show();break;default:t.m_favorBtn.node.active=!1}break}}))}})))},s.ShowUIButton=function(t){void 0===t&&(t=!0),t?(Tt.HasBackpack&&(this.m_backpackBtn.node.active=!0,this.m_backpackSprite.node.active=!0),this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1),this.m_featuresSprite&&(this.m_featuresSprite.node.active=!1)):(Tt.HasBackpack&&(this.m_backpackBtn.node.active=!1,this.m_backpackSprite.node.active=!1),this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1),this.m_featuresSprite&&(this.m_featuresSprite.node.active=!1))},s.OpenWebView=function(t,e){this.m_bottomBarManager.OpenWebView(t,e)},s.SendClickEvent=function(t,e){P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,t,e,this.m_isLandscape))},s.BackpackInit=function(t,n,o,i,a,r,m){var s=this;if(void 0===m&&(m=!1),!H.CheckSwitchOff(F.SwitchOffKeyDefine.CloseBackpack))if(F.IS_DEMO||this.CheckLineCode()||this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames)this.m_backpackBtn.node.active=!1;else{F.CAN_DROP_ITEM_CARD=!0,this.LoadGetItemEftRes(),this.LoadBackpackString((function(){Tt.AutoShow()}));var u=this.m_floatBaseNode.getChildByName(e.UIName.USINGCARD);this.m_isInTrial||(this.m_backpackBtn.node.active=!0,this.m_backpackSprite.node.active=!0);var l=H.GetFilePath(oi);F.CommonBundle.load(l,(function(e,l){e?I(e.message||e):(s.m_backpackNode=y(l),s.node.addChild(s.m_backpackNode),s.m_backpackNode.active=!1,H.SetZIndex(s.m_backpackNode,F.ZOrder.BACKPACK),Tt.Init(s,t,s.m_usingCardNode?s.m_usingCardNode:u,s.m_backpackRp,n,o,i,a,r),s.OnRotation(s.m_isLandscape,s.m_isSmall,s.m_isLow),s.m_isOpenBackpackOnLoading&&Tt.Show(s.m_isLandscape),Tt.SetLockNumControl(m),s.BottomBarManager.sendTestLog(3001))}))}},s.LoadBackpackString=function(t){void 0===t&&(t=null),G.GetInstance().LoadBackPackStringFile((function(){t&&t()})),W.GetInstance().LoadItemList()},s.IsBackpackStringLoaded=function(){return G.GetInstance().IsBackpackStringLoaded()},s.ShowBackpack=function(){this.m_backpackBtn.interactable&&(Tt.HasBackpack?Tt.Show(this.m_isLandscape):(this.m_isOpenBackpackOnLoading=!0,j.getInstance().ShowMessageBox(F.StringKey.MSGBOX_ONLOADING)))},s.ShowGetItemCard=function(t){var n=this;if(F.IS_DEMO||this.CheckLineCode())t&&t();else{var o=this.m_backpackBtn.node,i=o.getChildByName(e.UIName.IMG_BACKPACKNODE),a=i?i.getChildByName(e.UIName.IMG_BACKPACK):null;i||(i=o);var r,m,s=null;if(this.m_getItemEft)if((s=y(this.m_getItemEft)).position=H.DiffPos(this.node.getComponent(D).anchorPoint,this.m_isLandscape),this.node.addChild(s),this.m_getItem=s,H.SetZIndex(s,F.ZOrder.BACKPACK+1),s.getComponent(_t))s.getComponent(_t).Show(),s.setPosition(0,s.position.y);else{s.getComponent(k).play();var l=s.getChildByName("panel").getChildByName("label");l.getComponent(c).string=G.GetInstance().GetString(F.StringKey.BACKPACK_GET_ITEM),l.getComponent(c).font||(l.getComponent(c).font=F.DefaultFont)}this.m_getItemBall&&((r=y(this.m_getItemBall)).position=H.DiffPos(this.node.getComponent(D).anchorPoint,this.m_isLandscape),r.position=u(r.position.x,r.position.y+130),r.setScale(u(1,1)),r.active=!1,this.node.addChild(r),H.SetZIndex(r,F.ZOrder.BACKPACK+2),r.getComponent(ct)?(r.setPosition(0,r.position.y),m=r.getComponent(ct).IconSprite.node,H.UsingLogoSpriteFrame()&&this.m_jillCardSpriteFrame&&r.getComponent(ct).SetIcon(this.m_jillCardSpriteFrame)):(m=r.getChildByName("card"),H.UsingLogoSpriteFrame()&&this.m_jillCardSpriteFrame&&(m.getComponent(_).spriteFrame=this.m_jillCardSpriteFrame)));var p=i.parent.getComponent(D).convertToWorldSpaceAR(i.getPosition()),B=this.node.getComponent(D).convertToNodeSpaceAR(p);V.getInstance().Play(F.AudioClips.ITEM_CARD_USE),this.m_backpackBtn.interactable=!1,C(this.node).delay(.25).call((function(){r&&(r.active=!0)})).delay(.94).call((function(){r&&C(r).call((function(){C(m).to(.5,{scale:u(.33,.33,1)}).start()})).to(.5,{position:u(B.x,B.y)}).call((function(){r.getComponent(ct)||r.getChildByName("PP_TouchStar01").getComponent(v).stopSystem(),r.active=!1})).start()})).delay(.8).call((function(){a&&C(a).to(.1,{scale:u(1.5,1.5,1)}).delay(.2).to(.1,{scale:u(1,1,1)}).start(),C(o).to(.1,{scale:u(1.5,1.5,1)}).delay(.2).to(.1,{scale:u(1,1,1)}).start()})).delay(.5).call((function(){n.m_backpackBtn.interactable=!0,n.m_getItem&&(n.m_getItem.removeFromParent(),n.m_getItem.destroy(),n.m_getItem=null),r&&(r.removeFromParent(),r.destroy()),t&&t()})).start()}},s.ShowGetRedDiamond=function(t){return Dt.ShowGetRedDiamond(t)},s.ShowGetDailyMissionReward=function(){var t=r(m().mark((function t(e){var n=this;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!H.IsTadaCasino){t.next=2;break}return t.abrupt("return");case 2:if(!((e&F.DAILYMISSION_REWARD_TYPE.ItemCard)>0)){t.next=5;break}return t.next=5,new Promise((function(t){n.ShowGetItemCard((function(){t()}))}));case 5:if(!((e&F.DAILYMISSION_REWARD_TYPE.MallCoin)>0)){t.next=8;break}return t.next=8,this.ShowGetRedDiamond(10);case 8:(e&F.DAILYMISSION_REWARD_TYPE.Gift)>0&&console.error("DAILYMISSION_REWARD_TYPE.Gift"),(e&F.DAILYMISSION_REWARD_TYPE.GameCoin)>0&&console.error("DAILYMISSION_REWARD_TYPE.GameCoin");case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.SetItemBetSprite=function(t){void 0===t&&(t=0);var e="_"+G.CurrLang;if(this.m_betSprite)switch(t){case F.BetMode.Item:this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.ItemBet+e);break;case F.BetMode.FreeSpin:this.m_betSprite.spriteFrame=this.m_FreeSpinBetImgSpriteFrame;var n=G.GetInstance().GetFreeSpinAtlas();n&&n.getSpriteFrame(ni.FreeSpins_02)&&(this.m_betSprite.spriteFrame=n.getSpriteFrame(ni.FreeSpins_02));break;default:this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.Bet+e)}if(this.BetLabel)switch(t){case F.BetMode.Item:var o=G.GetInstance().GetString(F.StringKey.ITEM_BET);this.BetLabel.string=o.replace("{ITEM_NAME}",H.IsTada?G.GetInstance().GetString(F.StringKey.TADA_ITEM_NAME):G.GetInstance().GetString(F.StringKey.JILI_ITEM_NAME));break;default:this.BetLabel.string=G.GetInstance().GetString(F.StringKey.BET)}},s.IsShowBackpack=function(){return!!this.m_backpackNode&&this.m_backpackNode.active},s.IsShowItemAni=function(){return Tt.IsPlayingAni},s.IsShowRedPoint=function(){return!!Tt.HasBackpack&&this.m_backpackRp.active},s.SetBackpackBtnAniTimer=function(t){t||this.IsShowRedPoint()?(this.PlayBackpackBtnAni(),this.m_backpackExcTimer.Clear(),this.m_backpackExcTimer.Start(1500)):this.m_backpackExcTimer.Clear()},s.PlayBackpackBtnAni=function(){var t=this;this.IsShowItemAni()||this.m_isBackpackIconAni||(this.m_isBackpackIconAni=!0,this.m_backpackBtn.node.getComponent(k)?(this.m_backpackBtn.node.getComponent(k).play("Clip_BottomBar_BtnBackpack_New"),this.m_backpackBtn.node.getComponent(k).once(k.EventType.FINISHED,(function(){t.m_isBackpackIconAni=!1}))):(this.m_backpackSprite.node.getComponent(k).play(),this.m_backpackSprite.node.getComponent(k).once(k.EventType.FINISHED,(function(){t.m_isBackpackIconAni=!1}))))},s.LoadGetItemEftRes=function(){var t=this;this.m_getItemEft||this.m_getItemBall||(F.CommonBundle.load("Astt/framework/bottombar/Item_card_get",(function(e,n){e?I(e.message||e):t.m_getItemEft=n})),F.CommonBundle.load("Astt/framework/bottombar/Item_card_ball",(function(e,n){e?I(e.message||e):t.m_getItemBall=n})))},s.ShowItemInfo=function(t,e){var n=this;if(this.m_itemInfo)"string"==typeof t?this.m_itemInfo.showDesc(t,e):this.m_itemInfo.show(t);else{var o=function(){F.CommonBundle.load("Astt/framework/bottombar/ItemInfo",g,(function(o,i){if(!o){var a=y(i);n.node.addChild(a),H.SetZIndex(a,F.ZOrder.ITEMINFO),n.m_itemInfo=a.getComponent(st),n.m_itemInfo.init(n),n.m_itemInfo.OnRotation(n.m_isLandscape,n.m_isSmall),"string"==typeof t?n.m_itemInfo.showDesc(t,e):n.m_itemInfo.show(t)}}))};Tt.HasBackpack?o():this.LoadCommonItem(F.CbKey.ItemInfo,(function(t){W.GetInstance().SetCommonSpriteAtlas(t),o()}))}},s.DiffPos=function(){return H.DiffPos(this.node.getComponent(D).anchorPoint,this.m_isLandscape)},s.LoadCommonItem=function(t,e){for(var n=this,o=null,i=0;i<this.m_loadCommonItemCbs.length;i++)if(this.m_loadCommonItemCbs[i].key===t){(o=this.m_loadCommonItemCbs[i]).cb=e;break}null===o&&(o=new ei(t,e),this.m_loadCommonItemCbs.push(o));var a=H.GetFilePath("Astt/%s/backpack/Img/ItemEft");F.CommonBundle.load(a,p,(function(t,e){if(t)I(t.message||t);else for(var o=0;o<n.m_loadCommonItemCbs.length;o++)n.m_loadCommonItemCbs[o].cb(e)}))},s.FeaturesInit=function(t,e,n,o,i){var a=this;void 0===o&&(o=null),void 0===i&&(i=null);var r=!1;this.m_featuresView=new rt(this,t,e,n,o,i,(function(t){a.m_bottomBarManager.IsGLIGames||a.m_bottomBarManager.IsBMMGames||(a.m_discount.SetManager(a),a.m_discount.AddPageBtn(t,at.Features,"",(function(t){a.m_featuresView.OnRotation(t)}),(function(t){t!==at.Features||r||a.m_featuresView.SetCloseHint(!1),r=!1})))}),(function(){a.m_bottomBarManager.IsGLIGames||a.m_bottomBarManager.IsBMMGames||H.Line===F.LineSetting.americas||H.Line===F.LineSetting.americas_str||(r=!0,a.m_discount.ShowDiscountView(at.Features),a.FeaturesView.OnRotation(a.m_isLandscape))}))},s.AutoShowFeatures=function(){var t=r(m().mark((function t(){var e,n,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H.CheckSwitchOff(F.SwitchOffKeyDefine.FeaturedDisplay)){t.next=20;break}return t.next=3,this.StartFeaturesDemo(!0);case 3:if(t.sent){t.next=20;break}e=F.AID+":"+F.NOW_GAME_ID+"FDemo",n=0;case 7:if(!(n<this.m_featuresNum)){t.next=20;break}if(null!=(o=x.GetInt(e+n))){t.next=14;break}return this.SelectFeaturesDemo(n),t.abrupt("break",20);case 14:if(!(o<this.m_featuresDemoPlayLimit[n])){t.next=17;break}return this.SelectFeaturesDemo(n),t.abrupt("break",20);case 17:n++,t.next=7;break;case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.SetFeatruesDesc=function(t){this.m_featuresView&&this.m_featuresView.SetDesc(t)},s.SetFeaturePreferRound=function(t){this.m_featuresView&&this.m_featuresView.SetPreferRound(t)},s.FeaturesAlreadyInit=function(){return!!this.m_featuresView&&this.m_featuresView.AlreadyInit()},s.ShowFeatures=function(t){this.m_featuresView.Show(this.m_isLandscape,!1,t)},s.IsFeaturesPageOpen=function(){if(this.m_discount)return this.m_discount.IsDiscountViewOpen()},s.IsDiscountOpen=function(){if(this.m_discount)return this.m_discount.IsDiscountViewOpen()},s.CheckFirstFeatures=function(){if(this.m_featuresView){if(S.isNative||O.LobbyData){var t=O.BackPackInfo;if(t&&t.itemindex)return void this.m_featuresView.Show(this.m_isLandscape,!0)}if(window.location.search.split("itemIdx=")[1])this.m_featuresView.Show(this.m_isLandscape,!0);else{var e=F.AID+":"+F.NOW_GAME_ID+":FeatureTimes",n=x.GetInt(e),o=F.FEATURE_TIMES>=0?F.FEATURE_TIMES:3;null!=n?n<o?(x.SetInt(e,n+1),this.m_featuresView.Show(this.m_isLandscape,!1)):this.m_featuresView.Show(this.m_isLandscape,!0):(x.SetInt(e,1),this.m_featuresView&&this.m_featuresView.Show(this.m_isLandscape,!1))}}},s.FeaturesDemoInit=function(t,e,n,o,i){var a=this;if(void 0===i&&(i=!1),this.m_isInitFreaturesDemo=!0,this.CheckFeaturesDemo(e,i),this.m_featuresView.SetFeaturesDemoStatus(this.m_isFeaturesDemo),this.m_isFeaturesDemo)if(this.m_selectFDFunc=t,this.m_closeFDNotifyCb=o,this.m_featuresNum=e,n>=this.m_bottomBarManager.GetBetList().length||n<0?this.m_demoBetIdxError=!0:this.m_demoBetIdx=n,this.m_featuresMenu){this.m_featuresMenu.node.getComponent(D).height=(this.m_featuresMenu.node.getComponent(D).height-15)*this.m_featuresNum+15;for(var r=function(t){F.CommonBundle.load("Astt/framework/bottombar/Feature_list",(function(e,n){if(e)I(e.message||e);else{if(a.m_isFeaturesDemoBtnsLoaded[t]=!0,a.m_featuresDemoBtns[t]=y(n),a.m_featuresMenu.node.addChild(a.m_featuresDemoBtns[t]),a.m_featuresDemoBtns[t].position=ii[t],a.m_localeSpriteAtlas){var o=a.m_featuresDemoBtns[t].getChildByName("Txt").getComponent(_),i="_"+G.CurrLang;o.spriteFrame=a.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesDemo_btn+(t+1)+i)}var r=[F.BTN_CLICK_EVENT.FEATURES_DEMO_1,F.BTN_CLICK_EVENT.FEATURES_DEMO_2,F.BTN_CLICK_EVENT.FEATURES_DEMO_3,F.BTN_CLICK_EVENT.FEATURES_DEMO_4,F.BTN_CLICK_EVENT.FEATURES_DEMO_5];a.m_featuresDemoBtns[t].on("click",(function(){P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,r[t],"",a.m_isLandscape)),a.SelectFeaturesDemo(t)}))}}))},m=0;m<this.m_featuresNum;m++)r(m);this.m_featuresGoRealBtn.node.on("click",(function(){a.m_featuresDemoTimer.Clear(),a.LeaveFeaturesDemoMsg(),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.FEATURES_DEMO_BACK_REAL,"",a.m_isLandscape))})),this.m_isFeaturesDemoLoaded=!0}else this.m_featuresDemoSelectRootNode&&this.m_featuresDemoRootNode&&(this.LoadFeatruesDemoSelect(),this.LoadFeaturesDemo());else this.m_isFeaturesDemoLoaded=!0,this.m_bottomBarManager.ShowGameScene(!1)},s.SetFeaturesDemoBlock=function(){this.m_isFeaturesDemoLoaded=!0,this.m_bottomBarManager.ShowGameScene(!1)},s.LoadFeatruesDemoSelect=function(){var t=this,e=H.GetFilePath("Astt/%s/discount/Prefab/WinMore_FeatureList");F.CommonBundle.load(e,(function(e,n){if(e)return I(e.message||e),void t.LoadFeatruesDemoSelect();var o=y(n);o.active=!1,t.m_featuresDemoSelectRootNode.addChild(o),t.m_featuresDemoSelectComp=o.getComponent(pt);var i=[F.BTN_CLICK_EVENT.FEATURES_DEMO_1,F.BTN_CLICK_EVENT.FEATURES_DEMO_2,F.BTN_CLICK_EVENT.FEATURES_DEMO_3,F.BTN_CLICK_EVENT.FEATURES_DEMO_4,F.BTN_CLICK_EVENT.FEATURES_DEMO_5];t.m_featuresDemoSelectComp.CreateSelection(t.m_featuresNum,i,(function(e){P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,i[e],"",t.m_isLandscape)),t.SelectFeaturesDemo(e)})),t.m_featuresDemoSelectComp.SetTxt();for(var a=0;a<t.m_featuresNum;a++)t.m_isFeaturesDemoBtnsLoaded[a]=!0;t.m_featuresDemoComp&&(t.m_isFeaturesDemoLoaded=!0,t.m_bottomBarManager.ShowGameScene(!1))}))},s.LoadFeaturesDemo=function(){var t=this,e=H.GetFilePath("Astt/%s/discount/Prefab/WinMore_Features_DemoView");F.CommonBundle.load(e,(function(e,n){if(e)return I(e.message||e),void t.LoadFeaturesDemo();var o=y(n);o.active=!1,t.m_featuresDemoRootNode.addChild(o),t.m_featuresDemoComp=o.getComponent(Bt),t.m_featuresDemoComp.OnRotation(t.m_isLandscape),t.m_featuresDemoComp.SetEvent((function(){t.m_featuresDemoTimer.Clear(),t.LeaveFeaturesDemoMsg(),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.FEATURES_DEMO_BACK_REAL,"",t.m_isLandscape))})),t.m_featuresDemoComp.SetTxt(),t.m_featuresDemoSelectComp&&(t.m_isFeaturesDemoLoaded=!0,t.m_bottomBarManager.ShowGameScene(!1))}))},s.CheckFeaturesDemo=function(t,e){void 0===e&&(e=!1);for(var n=F.AID+":"+F.NOW_GAME_ID+"FDemo",o=[],i=!1,a=0;a<t;a++)o.push(x.GetInt(n+a));for(var r=0;r<t;r++)if(null==o[r])x.SetInt(n+r,0),o[r]=x.GetInt(n+r),i=!0;else if(o[r]<this.m_featuresDemoPlayLimit[r]){i=!0;break}for(var m=0;m<t;m++)this.m_featuresDemoIsPlay[m]=o[m];this.m_isFeaturesDemo=i&&!this.m_demoBetIdxError&&!H.CheckSwitchOff(F.SwitchOffKeyDefine.FeaturedDisplay),!this.m_isFeaturesDemo||e||this.m_hasUnshow||null==H.NotifyFeaturesDemoOpen||H.NotifyFeaturesDemoOpen()},s.FeaturesDemoPlayEnd=function(){if(this.m_featuresDemoTimer.Start(6e4),this.CheckFeaturesDemo(this.m_featuresNum),this.m_featuresView.SetFeaturesDemoStatus(this.m_isFeaturesDemo),this.m_featuresDemoView?this.m_featuresDemoView.active=!0:this.m_featuresDemoSelectComp&&(this.m_featuresDemoSelectComp.node.active=!0),this.m_featuresDemoComp&&this.m_featuresDemoComp.EndFeaturesDemo(),this.m_isFirstFeaturesDemo){var t="_"+G.CurrLang;this.m_featuresGoRealDes&&(this.m_featuresGoRealDes.getChildByName("img_Trial_txt2_cn").getComponent(_).spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesGoRealDes+t),this.m_featuresGoRealDes.active=!0,this.m_featuresGoRealDes.getComponent(k).play()),this.m_featuresMenuDes&&(this.m_featuresMenuDes.getChildByName("img_try_real_mode").getComponent(_).spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesMenuDes+t),this.m_featuresMenuDes.active=!0,this.m_featuresMenuDes.getComponent(k).play()),this.m_isFirstFeaturesDemo=!1,this.m_featuresDemoBtns.length>=2&&this.m_featuresDemoBtns[1]&&(this.m_featuresDemoBtns[1].getChildByName("ButtonFX01_00_2").active=!0,this.m_featuresDemoBtns[1].getComponent(k).play()),this.m_featuresDemoSelectComp&&this.m_featuresDemoSelectComp.SetLightNode(1)}this.m_bottomBarManager.SetWinValue(0),this.m_bottomBarManager.SpinSprite.node.active=!1,this.m_isNowInDemoMenu=!0,this.m_lockAutoEnableByFeatures=!0,this.m_bottomBarManager.AutoBtn.interactable=!1,this.m_bottomBarManager.AutoBtn.node.getComponent(E).color=A(150,150,150);for(var e=!0,n=0;n<this.m_featuresDemoPlayLimit.length;n++)if(this.m_featuresDemoIsPlay[n]<this.m_featuresDemoPlayLimit[n]){e=!1;break}e&&this.EndFeaturesDemo()},s.LeaveFeaturesDemoMsg=function(){var t=this;j.getInstance().ShowMessageBox(F.StringKey.FEATURES_DEMO_GO_BACK_REAL,F.StringKey.MSGBOX_TITLE_SYSTEM_INFO,(function(){t.EndFeaturesDemo()}))},s.IsFeaturesDemoBtnsLoaded=function(){for(var t=!0,e=0;e<this.m_featuresNum;e++)if(!this.m_isFeaturesDemoBtnsLoaded[e]){t=!1;break}return t},s.CanPlayFeaturesDemo=function(t){this.m_canPlayFeaturesDemo=t},s.IsPlayingRealGame=function(){return Tt.HasBackpack?this.m_canPlayFeaturesDemo&&null==Tt.OnUseItemID:this.m_canPlayFeaturesDemo},s.SelectFeaturesDemo=function(t){this.m_featuresGoRealDes&&(this.m_featuresGoRealDes.active=!1),this.m_featuresMenuDes&&(this.m_featuresMenuDes.active=!1);var e=F.AID+":"+F.NOW_GAME_ID+"FDemo";this.m_featuresDemoIsPlay[t]<this.m_featuresDemoPlayLimit[t]&&(this.m_featuresDemoIsPlay[t]++,x.SetInt(e+t,this.m_featuresDemoIsPlay[t])),this.m_featuresDemoSelectComp.SetSelected(t),this.m_featuresDemoSelectComp.SetLightNode(-1),this.m_featuresDemoSelectComp.node.active=!1,this.m_featuresDemoComp.StartFeaturesDemo(!0,this.m_isLandscape),this.m_bottomBarManager.SpinSprite.node.active=!0,this.m_isNowInDemoMenu=!1,this.m_featuresDemoTimer.Clear(),this.m_selectFDFunc(t),this.m_lockAutoEnableByFeatures=!1,this.m_bottomBarManager.AutoBtn.interactable=!1,this.m_bottomBarManager.AutoBtn.node.getComponent(E).color=A(150,150,150)},s.StartFeaturesDemo=function(){var t=r(m().mark((function t(e){var n,o,i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!this.m_isFeaturesDemoLoaded||!this.IsFeaturesDemoBtnsLoaded()){t.next=37;break}if(this.m_isFeaturesDemoMode=!0,ft.GetInstance().SetIsFeaturesDemoMode(!0),O.canSendNovice=!1,this.m_featuresHint&&(this.m_featuresHint.active=!0),this.m_featuresSprite&&(this.m_featuresSprite.node.active=!1),this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1),this.m_oriBet=this.GetNowBetValue(),n="_"+G.CurrLang,this.m_bottomBarManager.SetBalanceSprite(!1),this.m_bottomBarManager.BalanceLabel.node.active=!1,this.m_featuresDemoModeTxt&&(this.m_featuresDemoModeTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesDemoMode+n),this.m_featuresDemoModeTxt.node.active=!0),this.m_betSprite?this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesDemo_bet+n):this.BetLabel&&(this.BetLabel.string=G.GetInstance().GetString(F.StringKey.DEMO_BET)),this.m_bottomBarManager.SetEnableBetButtons(!1),this.m_bottomBarManager.SetLockBetEnable(!0),this.SetNowBet(this.m_bottomBarManager.GetBetList()[this.m_demoBetIdx]),this.m_bottomBarManager.CommBtn.node.active=!1,this.m_bottomBarManager.CommSprite.node.active=!1,this.m_bottomBarManager.WinSprite&&(this.m_bottomBarManager.WinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.FeaturesDemo_Win+n)),this.m_bottomBarManager.BarWinLabel&&(this.m_bottomBarManager.BarWinLabel.string=G.GetInstance().GetString(F.StringKey.DEMO_WIN)),T.instance.ActionManager.removeAllActionsFromTarget(this.m_floatBaseNode),this.m_floatBaseNode.active=!1,this.m_backpackBtn&&(this.m_backpackBtn.node.active=!1),this.m_discount&&this.m_discount.CloseDiscountView(),dt.GetInstance().SetState(!1),this.m_closeAllBtnCb&&this.m_closeAllBtnCb(),!this.m_featuresDemoComp){t.next=33;break}return this.m_featuresDemoComp.node.active=!0,this.m_featuresDemoComp.StartFeaturesDemo(0==this.m_featuresDemoIsPlay[0]||e,this.m_isLandscape),t.next=33,this.m_featuresDemoComp.ShowHint();case 33:if(o=!1,0==this.m_featuresDemoIsPlay[0])o=!0,this.m_isFirstFeaturesDemo=!0,this.m_selectFDFunc(0),this.m_lockAutoEnableByFeatures=!1,this.m_bottomBarManager.AutoBtn.interactable=!1,this.m_bottomBarManager.AutoBtn.node.getComponent(E).color=A(150,150,150),this.m_featuresDemoView&&(this.m_featuresDemoView.active=!1),this.m_featuresDemoSelectComp&&(this.m_featuresDemoSelectComp.node.active=!1),i=F.AID+":"+F.NOW_GAME_ID+"FDemo",this.m_featuresDemoIsPlay[0]<this.m_featuresDemoPlayLimit[0]&&(this.m_featuresDemoIsPlay[0]++,x.SetInt(i+0,this.m_featuresDemoIsPlay[0])),this.m_featuresDemoIsPlay[0]==this.m_featuresDemoPlayLimit[0]&&(this.m_featuresDemoBtns[0]?(this.m_featuresDemoBtns[0].getComponent(h).interactable=!1,this.m_featuresDemoBtns[0].getChildByName("Txt").getComponent(E).color=A(100,100,100)):this.m_featuresDemoSelectComp&&this.m_featuresDemoSelectComp.SetSelected(0));else{for(this.m_featuresDemoTimer.Start(6e4),a=0;a<this.m_featuresNum;a++)this.m_featuresDemoIsPlay[a]==this.m_featuresDemoPlayLimit[a]&&(this.m_featuresDemoBtns[a]&&(this.m_featuresDemoBtns[a].getComponent(h).interactable=!1,this.m_featuresDemoBtns[a].getChildByName("Txt").getComponent(E).color=A(100,100,100)),this.m_featuresDemoSelectComp&&this.m_featuresDemoSelectComp.SetSelected(a));this.m_featuresDemoView&&(this.m_featuresDemoView.active=!0),this.m_featuresDemoSelectComp&&(this.m_featuresDemoSelectComp.node.active=!0),this.m_bottomBarManager.SpinSprite.node.active=!1,this.m_isNowInDemoMenu=!0}return P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.FEATURES_DEMO_NOW_PLAY,"",this.m_isLandscape)),t.abrupt("return",o);case 37:return t.abrupt("return",!1);case 38:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.EndFeaturesDemo=function(){this.m_featuresDemoTimer.Clear(),this.m_featuresSprite&&(this.m_featuresSprite.node.active=!1),this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1),this.m_featuresDemoView&&(this.m_featuresDemoView.active=!1),this.m_featuresDemoComp&&this.m_featuresDemoSelectComp&&(this.m_featuresDemoComp.node.active=!1,this.m_featuresDemoSelectComp.node.active=!1),this.m_isFeaturesDemoMode=!1,ft.GetInstance().SetIsFeaturesDemoMode(!1),O.canSendNovice=!0;var t="_"+G.CurrLang;if(this.m_bottomBarManager.SetBalanceSprite(!0),this.m_bottomBarManager.BalanceLabel.node.active=!0,this.m_featuresDemoModeTxt&&(this.m_featuresDemoModeTxt.node.active=!1),this.m_betSprite&&(this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.Bet+t)),this.BetLabel&&(this.BetLabel.string=G.GetInstance().GetString(F.StringKey.BET)),this.m_lockAutoEnableByFeatures=!1,this.m_bottomBarManager.AutoBtn.interactable=!0,this.m_bottomBarManager.AutoBtn.node.getComponent(E).color=A(255,255,255),this.m_bottomBarManager.SetLockBetEnable(!1),this.m_bottomBarManager.SetEnableBetButtons(!0),this.SetNowBet(this.m_oriBet),this.m_bottomBarManager.CommBtn.node.active=!0,this.m_bottomBarManager.CommSprite.node.active=!0,this.m_bottomBarManager.WinSprite&&(this.m_bottomBarManager.WinSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(ni.Win+t)),this.m_bottomBarManager.BarWinLabel&&(this.m_bottomBarManager.BarWinLabel.string=G.GetInstance().GetString(F.StringKey.WIN)),this.m_featuresHint&&(this.m_featuresHint.active=!1),this.m_bottomBarManager.SpinSprite.node.active=!0,this.m_isNowInDemoMenu=!1,this.m_featuresView.Show(this.m_isLandscape,!1),T.instance.ActionManager.removeAllActionsFromTarget(this.m_floatBaseNode),this.m_floatBaseNode.active=!0,Tt.HasBackpack&&this.m_backpackBtn&&(this.m_backpackBtn.node.active=!0),dt.GetInstance().SetState(!0),this.m_bottomBarManager.IsOpenMall>F.BuyBonusTag.None&&!S.isNative&&this.SetBuyMall(!0),this.m_openAllBtnCb&&this.m_openAllBtnCb(),this.m_closeFDNotifyCb&&this.m_closeFDNotifyCb(),!this.m_bottomBarManager.PlayReadyNode){I("featurend ShowSkyBar");var e=this.node.parent.parent;O.ShowSkyBar(e,!0)}ft.GetInstance().AutoShowNext()},s.HaveFeaturesDemoMode=function(){return this.m_haveFeaturesDemoMode},s.IsFeaturesDemoMode=function(){return this.m_isFeaturesDemoMode},s.RankingInit=function(t,e,n,o,i,a){var r=this;if(!(F.IS_DEMO||this.CheckLineCode()||H.CheckSwitchOff(F.SwitchOffKeyDefine.CloseBackpack))){this.m_bottomBarManager.LockWebViewEnable(!0),this.LoadBackpackString(),X.ReqMail=a;var m=H.GetFilePath("Astt/%s/rankboard/Prefab/Ranking_IconBtn");F.CommonBundle.load(m,g,(function(a,m){if(a)return I(a.message||a),void(i&&i());var s=y(m);s.active=!1,r.m_iconBox?(r.m_iconBox.SetBtnSeat(s,Lt.RankBoard),r.OnRotation(r.m_isLandscape),r.m_rankingBtnRoot.active=!1):r.m_rankingBtnRoot.addChild(s),r.m_rankingBtn=s.getComponent(h),r.m_rankingAnim=s,r.m_rankingLabel=s.getChildByName("Data").getChildByName("Text_Time").getComponent(c),r.m_rankingBtn&&(r.m_rankingBtn.node.on(B.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==r.m_bottomBarManager.CurrentTouchName&&r.m_rankingBtn.interactable?(r.m_bottomBarManager.CurrentTouchName=t.target.name,r.m_iconBox||r.m_rankingBtnRoot.getComponent(z).OnTouchStart(t.getUILocation())):t.target&&0==t.target.active&&(r.m_bottomBarManager.CurrentTouchName=t.target.name)})),r.m_rankingBtn.node.on(B.EventType.TOUCH_MOVE,(function(t){r.m_bottomBarManager.CurrentTouchName==t.target.name&&(r.m_bottomBarManager.CurrentTouchName=t.target.name,r.m_iconBox||r.m_rankingBtnRoot.getComponent(z).OnTouchMove(t.getUILocation()))})),r.m_rankingBtn.node.on(B.EventType.TOUCH_CANCEL,(function(t){r.m_bottomBarManager.CurrentTouchName==t.target.name&&(r.m_bottomBarManager.CurrentTouchName=null)})),r.m_rankingBtn.node.on(B.EventType.TOUCH_END,(function(t){if(r.m_bottomBarManager.CurrentTouchName==t.target.name){r.m_bottomBarManager.CurrentTouchName=null;var e=function(){r.m_rankingBtn.interactable&&r.m_rankingView&&(M("Extra RankBoard this.m_rankingView:",r.m_rankingView),r.m_rankingView.openUI(),r.PushClickToBuffer(r.m_bottomBarManager.CLICK_BUFFER_TYPE.RANKING),V.getInstance().Play(F.AudioClips.COMMON_BTN))};r.m_iconBox?e():r.m_rankingBtnRoot.getComponent(z).OnTouchEnd(t.getUILocation(),e)}}))),r.RankboardInit(t,e,n,o,i)}))}},s.RankboardInit=function(t,e,n,o,i){var a=this;X.init(F.AID,F.API_ID,F.NOW_GAME_ID,F.SITE_ID,(function(r){0==r&&a.m_bottomBarManager.LockWebViewEnable(!1),a.m_rankingAnim&&a.m_rankingAnim.getComponent(k).play();var m=H.GetFilePath("Astt/%s/rankboard/Prefab/Ranking");M("Rankboard RankingInit path:",m),F.CommonBundle.load(m,g,(function(m,s){if(m)return I(m.message||m),void(i&&i());var u;u="string"==typeof t?[t,t]:t;var l=y(s);l.active=!1,l.setPosition(0,350),a.node.addChild(l),H.SetZIndex(l,F.ZOrder.RANKING),a.m_rankingView=l.getComponent(X),a.m_rankingView.initUI(a,e,n,u,[a.m_rankingBtn.node,a.m_rankingAnim],a.m_rankingLabel,a.m_isLandscape,(function(){a.m_isInTrial||(a.m_rankingBtn.node.active=!0,a.m_iconBox&&a.m_iconBox.OpenBtnSeat(Lt.RankBoard,!0)),a.m_iconBox||(a.m_topLeftIcon.AddIcon("ranking",[a.m_rankingBtnRoot]).Sort().Reorder(),a.m_rankingBtnRoot.getComponent(z).ResetPosition(),a.m_dailyBtn&&a.m_dailyBtn.node.getComponent(z).ResetPosition(),a.m_lobbyBtn&&a.m_lobbyBtn.node.getComponent(z)&&a.m_lobbyBtn.node.getComponent(z).ResetPosition(),Y.GetInstance().ResetPosition(),Z.GetInstance().ResetPosition()),a.m_bottomBarManager.LockWebViewEnable(!1),r?o&&o():(a.m_rankingView.CloseIcon(),a.m_iconBox&&a.m_iconBox.OpenBtnSeat(Lt.RankBoard,!1),i&&i()),a.m_setCanAutoShowRankboardUI&&a.SetCanAutoShowRankboardUI()}))}))}))},s.SetCanAutoShowRankboardUI=function(){this.m_rankingView?this.m_rankingView.canAutoShowUI=!0:this.m_setCanAutoShowRankboardUI=!0},s.SetRankingIconVisible=function(t){this.m_isInTrial||this.m_rankingBtn&&(t?(this.m_rankingBtn.node.getComponent(L).opacity=255,this.m_rankingBtn.interactable=!0,this.m_rankingAnim.getComponent(k).resume(),this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.RankBoard,!0)):(this.m_rankingBtn.node.getComponent(L).opacity=0,this.m_rankingBtn.interactable=!1,this.m_rankingAnim.getComponent(k).pause(),this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.RankBoard,!1)))},s.DailyMissionInit=function(t,e,n){var o=this;if(!(F.IS_DEMO||this.CheckLineCode()||H.CheckSwitchOff(F.SwitchOffKeyDefine.CloseBackpack))){this.LoadBackpackString();var i=function(){o.m_dailyBtn.node.on(B.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==o.m_bottomBarManager.CurrentTouchName&&o.m_dailyBtn.interactable?(o.m_bottomBarManager.CurrentTouchName=t.target.name,o.m_dailyBtn.node.getComponent(z).OnTouchStart(t.getUILocation())):t.target&&0==t.target.active&&(o.m_bottomBarManager.CurrentTouchName=t.target.name)})),o.m_dailyBtn.node.on(B.EventType.TOUCH_MOVE,(function(t){o.m_bottomBarManager.CurrentTouchName==t.target.name?(o.m_bottomBarManager.CurrentTouchName=t.target.name,o.m_dailyBtn.node.getComponent(z).OnTouchMove(t.getUILocation())):t.target&&0==t.target.active&&(o.m_bottomBarManager.CurrentTouchName=t.target.name)})),o.m_dailyBtn.node.on(B.EventType.TOUCH_CANCEL,(function(t){o.m_bottomBarManager.CurrentTouchName==t.target.name&&(o.m_bottomBarManager.CurrentTouchName=null)})),o.m_dailyBtn.node.on(B.EventType.TOUCH_END,(function(t){if(o.m_bottomBarManager.CurrentTouchName==t.target.name){o.m_bottomBarManager.CurrentTouchName=null;H.IsTadaCasino&&o.m_rookieHintManager&&o.m_rookieHintManager.CloseHint(F.RookieHintType.MISSION_BTN),o.m_dailyBtn.node.getComponent(z).OnTouchEnd(t.getUILocation(),(function(){o.m_dailyBtn.interactable&&Dt.HasMission&&(o.m_bottomBarManager.CloseAllMenu(),Dt.OpenUI(),o.PushClickToBuffer(o.m_bottomBarManager.CLICK_BUFFER_TYPE.DAILY_MISSION),V.getInstance().Play(F.AudioClips.COMMON_BTN))}))}}))};if(this.m_dailyBtn)i(),this.CreateDailyMissionView(e,n);else{var a=H.GetFilePath(H.IsTadaCasino?F.NewDailyMissionBtn:F.DailyMissionBtn);F.CommonBundle.load(a,g,(function(a,r){if(a)o.DailyMissionInit(t,e,n);else{var m=y(r);m.getComponent(L).opacity=.1,!H.IsTadaCasino&&o.m_iconBox?(o.m_iconBox.SetBtnSeat(m,Lt.DailyMission),o.OnRotation(o.m_isLandscape)):(o.m_floatBaseNode.addChild(m),o.m_iconBox&&H.SetZIndex(o.m_iconBox.node,F.BtnZOrder.MISSION),o.m_topLeftIcon.AddIcon("mission",[m]).Sort().Reorder(),m.getComponent(z).ResetPosition(),o.m_rankingBtn&&o.m_rankingBtnRoot.getComponent(z).ResetPosition(),o.m_lobbyBtn&&o.m_lobbyBtn.node.getComponent(z)&&o.m_lobbyBtn.node.getComponent(z).ResetPosition(),Y.GetInstance().ResetPosition(),Z.GetInstance().ResetPosition()),m.getComponent(L).opacity=255,m.active=!1;var s=m.getComponent(ht);if(o.m_dailyBtn=s.Btn,o.m_dailyAnim=s.AnimNode,o.m_dailyLabel=s.TimeLabel,i(),o.CreateDailyMissionView(e,n),H.IsTadaCasino&&o.m_rookieHintManager)Pt.GetInstance().LevelInfo.level<wt.Mission&&o.SetDailyMissionIconVisible(!1),o.m_rookieHintManager.SetTargetPosNode(o.m_dailyBtn.node)}}))}}},s.CreateDailyMissionView=function(t,e){var n=this;F.CommonBundle.load(H.GetFilePathApiId("Astt/%s/dailyMission/Prefab/DailyMission"),g,(function(o,i){if(o)I(o.message||o);else{var a=y(i);n.node.addChild(a),H.SetZIndex(a,F.ZOrder.RANKING),Dt.init(n,t,{Pic:n.m_dailyBtn.node,Ani:n.m_dailyAnim.getComponent(k),Label:n.m_dailyLabel.node,Mode:n.m_dailyBtn.node.getComponent(ht)?n.m_dailyBtn.node.getComponent(ht).NewNode:R("btn_dailymissionNode/Node_00/Mode",n.m_dailyBtn.node)},n.m_dailyLabel,n.m_isLandscape,(function(){e&&e()})),Dt.EventCb=function(t){switch(t){case K.Active:n.m_topLeftIcon.AddIcon("mission",[n.m_dailyBtn.node]).Sort().Reorder(),n.m_dailyBtn.node.active=!0,n.m_dailyBtn.node.getComponent(z).ResetPosition(),n.m_rankingBtn&&n.m_rankingBtnRoot.getComponent(z).ResetPosition(),n.m_dailyBtn.node.getComponent(z).ResetPosition(),n.m_lobbyBtn&&n.m_lobbyBtn.node.getComponent(z)&&n.m_lobbyBtn.node.getComponent(z).ResetPosition(),Y.GetInstance().ResetPosition(),Z.GetInstance().ResetPosition();break;case K.Inactive:n.m_topLeftIcon.RemoveIcon("mission").Sort().Reorder()}},n.m_bottomBarManager.sendTestLog(3002)}}))},s.SetDailyMissionIconVisible=function(t){this.m_isInTrial||this.m_dailyBtn&&this.m_dailyAnim&&(console.error("☐☐☐☐☐SetDailyMissionIconVisible",this.m_isInTrial,t),t?(this.m_dailyBtn.node.getComponent(L).opacity=255,this.m_dailyBtn.interactable=!0,Dt.LockDailyEnable(!1),this.m_dailyAnim.getComponent(k).resume(),!H.IsTadaCasino&&this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.DailyMission,!0)):(this.m_dailyBtn.node.getComponent(L).opacity=1,this.m_dailyBtn.interactable=!1,Dt.LockDailyEnable(!0),this.m_dailyAnim.getComponent(k).pause(),!H.IsTadaCasino&&this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.DailyMission,!1)))},s.RecommendInit=function(t,e,n,o){void 0===o&&(o=!0),M("RecommendInit",F.IS_DEMO,this.CheckLineCode(),H.CheckSwitchOff(F.SwitchOffKeyDefine.TreasureChest));var i=this.m_bottomBarManager.VipSpriteFrames,a=this.m_bottomBarManager.AppVipSpriteFrames;F.IS_DEMO||this.CheckLineCode()||H.CheckSwitchOff(F.SwitchOffKeyDefine.TreasureChest)?this.m_discount.SetLogoIcon():(this.m_discount.Init(this,i,a,t,e,n),this.m_mayLikeView&&this.m_mayLikeView.Init(this,this.m_discount),this.needSortBtn=o)},s.RecommendNewInit=function(){var t=this;this.RecommendInit((function(){var e=new Ot.gaiaProto.VipSignInfoReq;e.aid=Number(F.APP.GetAID()),e.token=F.APP.GetAToken(),It.HasWallet&&(e.currencynumber=It.CurencyID);var n=new Mt.SignInInfoReq;n.reqData=Ot.gaiaProto.VipSignInfoReq.encode(e).finish(),bt.GetInstance().SendCommand(n,(function(e){kt.CheckAck(e,(function(e,n){var o=Ot.gaiaProto.VipSignInfoAck.decode(n),i={ack:{Info:{TreasureList:null,ExpiredTime:o.info.expiredtime?o.info.expiredtime:0,Error:o.info.error?o.info.error:0},Result:o.result?o.result:0},ret:0};if(o.info.treasurelist){i.ack.Info.TreasureList=[];for(var a=0;a<o.info.treasurelist.length;a++){var r={Index:o.info.treasurelist[a].index?o.info.treasurelist[a].index:"0",MinVip:o.info.treasurelist[a].minvip?o.info.treasurelist[a].minvip:0,Exp:o.info.treasurelist[a].exp?o.info.treasurelist[a].exp:0,IsOpen:!!o.info.treasurelist[a].isopen&&o.info.treasurelist[a].isopen};i.ack.Info.TreasureList.push(r)}}t.m_discount.OnRecvSignInState(i)}))}),!1,!0)}),(function(e){var n=new Ot.gaiaProto.VipSignRewardReq;n.aid=Number(F.APP.GetAID()),n.token=F.APP.GetAToken(),n.index=e,It.HasWallet&&(n.currencynumber=It.CurencyID);var o=new Mt.SignInReq;o.reqData=Ot.gaiaProto.VipSignRewardReq.encode(n).finish(),bt.GetInstance().SendCommand(o,(function(e){kt.CheckAck(e,(function(e,n){var o=Ot.gaiaProto.VipSignRewardAck.decode(n),i={ack:{Info:{ItemID:o.info.itemid?o.info.itemid:0,Count:o.info.count?o.info.count:0,Error:o.info.error?o.info.error:0,Icon:o.info.icon?o.info.icon:0},Result:o.result?o.result:0},ret:0};t.m_discount.OnRecvSignIn(i)}))}),!1,!0)}))},s.SetDiscountBtnState=function(t){this.m_discountBtn&&(t?this.needSortBtn&&
/*!Tools.IsTadaCasino*/
!this.m_iconBox&&(this.m_topRightIcon.AddIcon(F.CbKey.Discount,[this.m_discountBtnRoot]).Sort().Reorder(),this.m_discountBtnRoot.getComponent(z).ResetPosition(),this.m_favorBtn&&this.m_favorBtn.node.getComponent(z).ResetPosition(),this.m_debrisNode&&this.m_debrisNode.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition(),this.m_buyBonusRoot&&this.m_buyBonusRoot.getComponent(z).ResetPosition(),this.m_depositBtn&&this.m_depositBtn.getComponent(z).ResetPosition()):this.m_topRightIcon.RemoveIcon(F.CbKey.Discount),this.m_discountBtn.node.active=t)},s.SetFavorBtnVisible=function(t,e){if(ai[e]=t,this.m_favorBtn)if(t)this.m_iconBox||(this.m_topRightIcon.AddIcon(F.CbKey.Favor,[this.m_favorBtn.node]).Sort().Reorder(),this.m_discountBtnRoot.getComponent(z).ResetPosition(),this.m_favorBtn.node.getComponent(z).ResetPosition(),this.m_favorBtn.node.active=t,this.m_debrisNode&&this.m_debrisNode.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition(),this.m_buyBonusRoot&&this.m_buyBonusRoot.getComponent(z).ResetPosition(),this.m_depositBtn&&this.m_depositBtn.getComponent(z).ResetPosition());else{for(var n=!1,o=0;o<ai.length;o++)if(ai[o]){n=!0;break}this.m_favorBtn.node.active=n,n||this.m_topRightIcon.RemoveIcon(F.CbKey.Favor)}},s.AddDiscountPage=function(t,e,n,o,i){void 0===n&&(n=""),this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames||(this.m_discount.SetManager(this),this.m_discount.AddPageBtn(t,e,n,o,i))},s.RemoveDiscountPage=function(t){this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames||this.m_discount.RemoveBtn(t)},s.SetBigWinReplayMask=function(t){this.m_bigWinReplayMask.active=t},s.ReplayAndChangeTxt=function(t){this.m_bottomBarManager.BetBtn.node.active=t,this.m_bottomBarManager.NowBetLabel.node.active=t,this.m_betSprite.node.active=t,this.m_bottomBarManager.SetBalanceSprite(t),this.m_bottomBarManager.BalanceLabel.node.active=t,this.m_betSprite.node.active=t,this.m_bottomBarManager.WinSprite&&(this.m_bottomBarManager.WinSprite.node.active=t),this.m_bottomBarManager.BarWinLabel&&(this.m_bottomBarManager.BarWinLabel.node.active=t)},s.ReplayAndChangeDollarSign=function(t){H.CheckSwitchOff(F.SwitchOffKeyDefine.CurrencySymbol),F.DollarSymbol="",this.m_originalDollarSymbol=F.DollarSymbol,F.DollarSymbol="",F.DollarFontFamily=It.GetDollarFontFamily(F.DollarSymbol)},s.ReplayAndChangeUnit=function(t){this.m_replayUnit=t},s.PlayReplayStartAni=function(t,e){var n=this;C(this.node).call((function(){n.SetReplayStart(t),n.ReplayAndChangeTxt(!1),n.m_backpackBtn&&(n.ReplayAndChangeTxt(!1),n.m_backpackBtn&&(n.m_backpackBtn.node.getComponent(L).opacity=0,n.m_backpackBtn.interactable=!1),n.m_backpackSprite&&(n.m_backpackSprite.node.getComponent(L).opacity=0),n.SetBigWinReplayMask(!0),n.m_bottomBarManager.SetWinValue(0),n.m_bigWinReplayAni.getComponent(k).play("replayer_flayin"))})).delay(F.REPLAY_ANI_DELAY_TIME).call((function(){e()})).start()},s.PlayReplayEndAni=function(){var t=this;C(this.node).call((function(){t.m_bigWinReplayAni.getComponent(k).play("replayer_flayout")})).delay(F.REPLAY_ANI_DELAY_TIME).call((function(){t.SetBigWinReplayMask(!1),t.ReplayAndChangeTxt(!0),t.m_backpackBtn&&(t.m_backpackBtn.node.getComponent(L).opacity=255,t.m_backpackBtn.interactable=!0),t.m_backpackSprite&&(t.m_backpackSprite.node.getComponent(L).opacity=255)})).start()},s.SetReplayStart=function(t){this.m_replayBetValue.string=String(t),this.m_bottomBarManager.LogIndex.string="",this.m_isNowReplay=!0},s.SetReplayEnd=function(){this.m_isNowReplay=!1,F.DollarSymbol=this.m_originalDollarSymbol,F.DollarFontFamily=It.GetDollarFontFamily(F.DollarSymbol),this.m_bottomBarManager.SetChips(this.m_bottomBarManager.GetChips()),this.m_bottomBarManager.SetWinValue(0),this.PlayReplayEndAni()},s.GetTrailBetList=function(){return Et.GetTrailBetList},s.SetBuyBonusBtnShow=function(t){t?this.m_bottomBarManager.IsOpenMall>F.BuyBonusTag.None&&this.SetBuyMall(t):(this.m_buyBonusRoot&&(this.m_buyBonusRoot.active=t),this.m_buyBonusBtn&&(this.m_buyBonusBtn.node.active=t),this.m_buyBonusSprite&&(this.m_buyBonusSprite.node.active=t)),this.OnRotation(this.m_isLandscape,this.m_isSmall,this.m_isLow)},s.SetTrialBtnTouch=function(){var t=this;this.m_trialBtn?(this.m_trialBtn.node.on(B.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,M("this.m_trialBtn TOUCH_START"),null==t.m_bottomBarManager.CurrentTouchName&&t.m_trialBtn.interactable?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_iconBox||t.m_trialBtn.node.getComponent(z).OnTouchStart(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_trialBtn.node.on(B.EventType.TOUCH_MOVE,(function(e){M("this.m_trialBtn TOUCH_MOVE"),t.m_bottomBarManager.CurrentTouchName==e.target.name?(t.m_bottomBarManager.CurrentTouchName=e.target.name,t.m_iconBox||t.m_trialBtn.node.getComponent(z).OnTouchMove(e.getUILocation())):e.target&&0==e.target.active&&(t.m_bottomBarManager.CurrentTouchName=e.target.name)})),this.m_trialBtn.node.on(B.EventType.TOUCH_CANCEL,(function(e){t.m_bottomBarManager.CurrentTouchName==e.target.name&&(t.m_bottomBarManager.CurrentTouchName=null)})),this.m_trialBtn.node.on(B.EventType.TOUCH_END,(function(e){if(M("this.m_trialBtn TOUCH_END"),t.m_bottomBarManager.CurrentTouchName==e.target.name){t.m_bottomBarManager.CurrentTouchName=null;var n=function(){M("this.m_trialBtn TOUCH_END : ",t.m_trialBtn.interactable,t.m_trial),t.m_trialBtn.interactable&&Et.HasTrial&&Et.ShowTrialView(),P.getInstance().SendBtnClickEvent(P.FormBtnClickParams(Number(F.AID),Number(F.API_ID),Number(F.NOW_GAME_ID),F.GAME_VERSION,F.BTN_CLICK_EVENT.TRIAL_CLICK,F.PHASE_RESULT.SUCCESS,t.m_isLandscape))};t.m_iconBox?n():t.m_trialBtn.node.getComponent(z).OnTouchEnd(e.getUILocation(),n)}}))):Ct.ENV_TYPE===F.EVN.TEST&&M("TriProhibit")},s.LoadTrialBtn=function(t,e,n,o,i,a){var r=this;if(!(F.IS_DEMO||this.CheckLineCode()||this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames||H.CheckSwitchOff(F.SwitchOffKeyDefine.Trail))){var m=F.TrialBtnPath.ORG,s=H.GetFilePath(m);F.CommonBundle.load(s,g,(function(m,s){if(m)r.LoadTrialBtn(t,e,n,o,i,a);else{var u=y(s);r.m_trialBtn=u.getComponent(h),r.m_trialSprite=u.getChildByName("Data").getChildByName("Img_IconName").getComponent(_),u.active=!1,r.m_iconBox?(r.m_iconBox.SetBtnSeat(u,Lt.Trial),r.OnRotation(r.m_isLandscape),r.m_iconBox.OpenBtnSeat(Lt.Trial,!1)):(r.m_floatBaseNode.addChild(u),r.SetTrialBtnState(!1)),r.SetTrialBtnTouch(),r.TrialViewInit(t,e,n,o,i,a)}}))}},s.TrialViewInit=function(t,e,n,o,i,a){var r=this;if(this.m_trial){var m=F.TrialPath.ORG,s=H.GetFilePath(m);F.CommonBundle.load(s,g,(function(m,s){if(m)r.TrialViewInit(t,e,n,o,i,a);else{var u=y(s);r.m_trial.active=!0,r.m_trial.addChild(u),u.getComponent(q).BtnTitleSprite=r.m_trialSprite;var l=r.m_trialProgressBar.node.getComponentInChildren(St);l&&l.ForceInit();Et.Init(r,o||function(t){var e=new J;if(Ct.ENV_TYPE===F.EVN.TEST){e.info.aid=-1;var n=H.GetLinkParameterByName("search","token=")||"test"+Date.now().toString();e.info.token=n}else e.info.aid=Number(F.APP.GetAID()),e.info.token=F.APP.GetAToken();if(e.info.lang=gt.Language[G.CurrLang],e.info.vip=yt.GetInstance().VipInfo.Lv,Ct.ENV_TYPE===F.EVN.TEST){t({info:{acktype:0,nowactno:22101301,targettype:0,awarddesc:[{award:1,type:0,gate:30,gameid:184,itemid:1184301,amount:1,data:{star:1,icon:31184,type:3,bet:.06,gamename:"免費遊戲"},money:100},{award:2,type:1,gate:60,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:200},{award:3,type:2,gate:90,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:300}],pstate:5,trialinfo:{apiid:6,gameid:184,sac:0,activityno:22101301,totalbet:9,totalwin:0,property:996},bet:[1.2],remind:!1,remindinfo:{award:0,type:0,gate:0,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:0},start:1665594e3,end:1667581200},ret:0})}else bt.GetInstance().SendCommand(e,(function(e){t&&t(e)}),!1)},i||function(t,e){var n=new Q;if(Ct.ENV_TYPE===F.EVN.TEST){n.info.aid=-1;var o=H.GetLinkParameterByName("search","token=")||"test"+Date.now().toString();n.info.token=o}else n.info.aid=Number(F.APP.GetAID()),n.info.token=F.APP.GetAToken();if(n.info.vip=yt.GetInstance().VipInfo.Lv,n.info.actno=e,Ct.ENV_TYPE===F.EVN.TEST){t({info:{acktype:0,trialinfo:{apiid:6,gameid:184,sac:0,activityno:22101301,totalbet:0,totalwin:0,property:1e3}},ret:0})}else bt.GetInstance().SendCommand(n,(function(e){t&&t(e)}),!1)},a||function(t,e){var n=new $;if(Ct.ENV_TYPE===F.EVN.TEST){n.info.aid=-1;var o=H.GetLinkParameterByName("search","token=")||"test"+Date.now().toString();n.info.token=o}else n.info.aid=Number(F.APP.GetAID()),n.info.token=F.APP.GetAToken();if(n.info.actno=e,Ct.ENV_TYPE===F.EVN.TEST){t({info:{acktype:0,award:0},ret:0})}else bt.GetInstance().SendCommand(n,(function(e){t&&t(e)}),!1)},(function(e,o,i,a){r.m_isInTrial=!0,ft.GetInstance().SetIsInTrial(!0),t&&t(),r.m_backpackBtn.node.active=!1,r.m_backpackSprite.node.active=!1,Dt.HasMission?(Dt.CloseIcon(),!H.IsTadaCasino&&r.m_iconBox&&r.m_iconBox.OpenBtnSeat(Lt.DailyMission,!1)):r.m_dailyBtn&&(r.m_dailyBtn.node.active=!1,!H.IsTadaCasino&&r.m_iconBox&&r.m_iconBox.OpenBtnSeat(Lt.DailyMission,!1)),r.m_rankingView?(r.m_rankingView.CloseIcon(),r.m_iconBox&&r.m_iconBox.OpenBtnSeat(Lt.RankBoard,!1)):r.m_rankingBtn&&(r.m_rankingBtn.node.active=!1,r.m_iconBox&&r.m_iconBox.OpenBtnSeat(Lt.RankBoard,!1)),r.SetBuyBonusBtnShow(!1),r.m_discount?(r.m_discount.CloseIcon(),r.m_iconBox&&r.m_iconBox.OpenBtnSeat(Lt.WinMore,!1)):r.m_discountBtn&&(r.m_discountBtn.node.active=!1),r.m_isFeaturesDemo&&r.m_featuresView.SetFeaturesDemoStatus(!1),r.m_closeAllBtnCb&&r.m_closeAllBtnCb(),r.m_trialCoins=e,r.m_nowTrialTotalWin=o,r.m_nowTrialTotalBet=i,r.m_bottomBarManager.WinLabel.node.active=!1,r.m_bottomBarManager.WinSprite&&(r.m_bottomBarManager.WinSprite.node.active=!1),r.m_bottomBarManager.BalanceLabel.node.active=!1,r.m_bottomBarManager.SetBalanceSprite(!1),r.m_bottomBarManager.SetTrailBalanceSprite(!0),r.m_bottomBarManager.LogIndex.node.active=!1,M(" trialCoin : ",e),r.m_trialCoinLabel.string=H.FormatNumberThousands(r.GetDisplayValue(e),H.FORMAT_NUMBER_TYPE.PERMANENT_DOT),r.m_trialCoinLabel.node.active=!0,r.m_trialProgressHintNode.active=!0;var m=H.FormatNumberThousands(H.strip(r.GetDisplayValue(a.Progress)),H.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO).toString()+" / "+H.strip(r.GetDisplayValue(a.Gate)).toString();r.UpdateTrialTotalWinLabel(m),r.m_trialProgressLvlLabel.node.active=!0,r.m_trialProgressLvlLabel.string=Et.GetTrialLvlHint();var s=a.Progress/a.Gate;s>1&&(s=1),r.m_trialProgressBar.progress=s,r.m_bottomBarManager.ResetBetBtns(),n&&n()}),(function(){M("TrialViewInit  End"),r.m_isInTrial=!1,e&&e(),Tt.HasBackpack&&r.m_backpackBtn&&(r.m_backpackBtn.node.active=!0),r.m_backpackSprite.node.active=!0,r.m_rankingView&&r.m_rankingView.ReloadData(),r.m_isFeaturesDemo&&r.m_featuresView.SetFeaturesDemoStatus(!0),r.SetBuyBonusBtnShow(!0),r.m_openAllBtnCb&&r.m_openAllBtnCb(),r.OnRotation(r.m_isLandscape,r.m_isSmall,r.m_isLow),r.m_bottomBarManager.WinLabel.node.active=!0,r.m_bottomBarManager.WinSprite&&(r.m_bottomBarManager.WinSprite.node.active=!0),r.m_bottomBarManager.BalanceLabel.node.active=!0,r.m_bottomBarManager.SetBalanceSprite(!0),r.m_bottomBarManager.SetTrailBalanceSprite(!1),r.m_bottomBarManager.LogIndex.string="",r.m_bottomBarManager.LogIndex.node.active=!0,r.m_trialProgressLvlLabel.node.active=!1,r.m_trialCoinLabel.node.active=!1,r.m_trialProgressHintNode.active=!1,r.m_bottomBarManager.LockHistoryEnable(!1),r.m_bottomBarManager.ResetBetBtns()}),null)}}))}},s.UpdateTrialTotalWinLabel=function(t){this.m_trialTotalWinLabel.string=t,this.m_trialTotalWinLabel_Under.string=t},s.SetTrialBtnState=function(t){this.m_iconBox||(t?(this.m_topRightIcon.AddIcon(F.CbKey.Trial,[this.m_trialBtn.node]).Sort().Reorder(),this.m_discountBtn&&this.m_discountBtnRoot.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition(),this.m_favorBtn&&this.m_favorBtn.node.getComponent(z).ResetPosition(),this.m_buyBonusRoot&&this.m_buyBonusRoot.getComponent(z).ResetPosition(),this.m_depositBtn&&this.m_depositBtn.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition()):this.m_topRightIcon.RemoveIcon(F.CbKey.Trial)),this.m_trialBtn.node.active=t,this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.Trial,t)},s.GetTrialBtnState=function(){return!!this.m_trialBtn&&this.m_trialBtn.node.active},s.SetTrialEndCb=function(t){Et.AddEndCb(t)},s.GetTrialTotalWin=function(){return this.m_nowTrialTotalWin},s.GetTrialTotalBet=function(){return this.m_nowTrialTotalBet},s.setTrialCoins=function(t){this.m_trialCoins=t,this.m_trialCoinLabel.string=H.FormatNumberThousands(this.GetDisplayValue(this.m_trialCoins),H.FORMAT_NUMBER_TYPE.PERMANENT_DOT)},s.SetChips=function(t){this.m_bottomBarManager.SetChips(t)},s.SetTrialData=function(t,e){if(Et.HasTrial&&this.IsInTrial){this.m_nowTrialTotalWin=H.strip(this.m_nowTrialTotalWin+t),this.m_nowTrialTotalBet=H.strip(this.m_nowTrialTotalBet+e),Et.SetProgess(this.m_nowTrialTotalWin,this.m_nowTrialTotalBet);var n=Et.GetCurrentLevelInfo(),o=H.FormatNumberThousands(H.strip(this.GetDisplayValue(n.Progress)),H.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO).toString()+" / "+H.strip(this.GetDisplayValue(n.Gate)).toString();this.UpdateTrialTotalWinLabel(o),this.m_trialProgressLvlLabel.string=Et.GetTrialLvlHint();var i=n.Progress/n.Gate;i>1&&(i=1),this.m_trialProgressBar.progress=i}},s.BuyBonusInit=function(t,e,n){var o=this;if(!F.IS_DEMO&&!H.CheckSwitchOff(F.SwitchOffKeyDefine.ShopingMall)){var i=H.GetFilePath(F.BuyBonusPath.BTN);F.CommonBundle.load(i,g,(function(i,a){if(i)o.BuyBonusInit(t,e,n);else{var r=y(a);o.m_buyBonusRoot.addChild(r),o.m_buyBonusBtn=r.getChildByName("Btn_Main").getComponent(h),o.m_buyBonusSprite=r.getChildByName("IconName").getComponent(_),o.m_buyBonusTxt=r.getChildByName("IconName").getComponent(_);var m=r.getComponent(Ft);m&&m.SetTxt(G.GetInstance().GetCommonAtlas()),o.m_buyBonusBtn.node.on(B.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==o.m_bottomBarManager.CurrentTouchName&&o.m_buyBonusBtn.interactable?(o.m_bottomBarManager.CurrentTouchName=t.target.name,C(o.m_buyBonusBtn.node).to(nt,{scale:u(.9,.9,1)}).start()):t.target&&0==t.target.active&&(o.m_bottomBarManager.CurrentTouchName=t.target.name)})),o.m_buyBonusBtn.node.on(B.EventType.TOUCH_CANCEL,(function(t){C(o.m_buyBonusBtn.node).to(nt,{scale:u(1,1,1)}).start(),o.m_bottomBarManager.CurrentTouchName==t.target.name&&(o.m_bottomBarManager.CurrentTouchName=null)})),o.m_buyBonusBtn.node.on(B.EventType.TOUCH_END,(function(t){C(o.m_buyBonusBtn.node).to(nt,{scale:u(1,1,1)}).start(),o.m_bottomBarManager.CurrentTouchName==t.target.name&&(o.m_bottomBarManager.CurrentTouchName=null,o.m_buyBonusBtn.interactable&&(o.CloseAllMenu(),o.m_isBuyBonusOpen&&vt.Show(),V.getInstance().Play(F.AudioClips.COMMON_BTN)),o.PushClickToBuffer(o.m_bottomBarManager.CLICK_BUFFER_TYPE.FEATURES))})),o.LoadBuyBonusView(t,e,n)}}))}},s.LoadBuyBonusView=function(t,e,n){var o=this,i=H.GetFilePath(F.BuyBonusPath.ORG);F.CommonBundle.load(i,g,(function(i,a){if(i)o.LoadBuyBonusView(t,e,n);else{var r=y(a);o.m_buyBonusView.active=!0,o.m_buyBonusView.addChild(r),vt.NeedButBonus=1,o.SetBuyMall(!0),vt.Init(o,t,e,n,G.GetInstance().GetCommonAtlas()),o.m_isBuyBonusOpen=!0}}))},s.SetBetDescribe=function(t){var e=ni;t?this.m_betSprite&&this.m_localeSpriteAtlas.getSpriteFrame("Buy_FG_Txt02")&&(this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("Buy_FG_Txt02")):this.m_betSprite&&(this.m_betSprite.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame(e.Bet+""))},s.SetUsingBuyBonus=function(t,e){this.m_localeSpriteAtlas=this.m_localeSpriteAtlas?this.m_localeSpriteAtlas:G.GetInstance().GetCommonAtlas(),this.m_buyBonusUsed.active=t,this.m_buyBonusBtn&&(this.m_buyBonusBtn.node.parent.active=!t),this.m_localeSpriteAtlas.getSpriteFrame("Buy_FG_Icon0"+(e+1))?this.m_buyBonusIcon.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("Buy_FG_Icon0"+(e+1)):this.m_buyBonusIconTxt.spriteFrame=this.m_localeSpriteAtlas.getSpriteFrame("Txt_FG"),t?(Et.HasTrial&&(this.m_trialBtn.node.getComponent(L).opacity=0,this.m_trialBtn.interactable=!1),this.m_backpackBtn&&(this.m_backpackBtn.node.getComponent(L).opacity=0,this.m_backpackBtn.interactable=!1),this.m_backpackSprite&&(this.m_backpackSprite.node.getComponent(L).opacity=0),this.m_bottomBarManager.SetEnableBetButtons(!1)):(Et.HasTrial&&(this.m_trialBtn.node.getComponent(L).opacity=255,this.m_trialBtn.interactable=!0),this.m_backpackBtn&&(this.m_backpackBtn.node.getComponent(L).opacity=255,this.m_backpackBtn.interactable=!0),this.m_backpackSprite&&(this.m_backpackSprite.node.getComponent(L).opacity=255),this.m_bottomBarManager.SetEnableBetButtons(!0)),this.m_bottomBarManager.SetLockBetEnable(t)},s.SetBuyMall=function(t){if(!this.IsInTrial||!t){if(this.m_buyBonusBtn&&(this.m_buyBonusBtn.node.active=t),this.m_buyBonusSprite&&(this.m_buyBonusSprite.node.active=t),this.m_buyBonusRoot&&(this.m_buyBonusRoot.active=t),this.m_featuresBtn&&(this.m_featuresBtn.node.active=!1),this.m_featuresSprite&&(this.m_featuresSprite.node.active=!t),this.m_buyBonusTag){var e=this.m_bottomBarManager.GetCommAtlas();e&&this.m_bottomBarManager.IsOpenMall==F.BuyBonusTag.Event&&(this.m_buyBonusTag.spriteFrame=e.getSpriteFrame("Buy_FG_EVENT"))}t?(this.m_topRightIcon.AddIcon(F.CbKey.BuyBonus,[this.m_buyBonusRoot]).Sort().Reorder(),this.m_buyBonusRoot.getComponent(z).ResetPosition(),this.m_discountBtn&&this.m_discountBtnRoot.getComponent(z).ResetPosition(),this.m_debrisNode&&this.m_debrisNode.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition(),this.m_favorBtn&&this.m_favorBtn.node.getComponent(z).ResetPosition(),this.m_depositBtn&&this.m_depositBtn.getComponent(z).ResetPosition(),this.OnRotation(this.m_isLandscape,this.m_isSmall,this.m_isLow)):(this.m_topRightIcon.RemoveIcon(F.CbKey.BuyBonus),vt.CloseMall())}},s.CloseMall=function(){vt.HasBuyBonus&&vt.CloseMall()},s.SetBuyBonusState=function(t){t&&vt.HasBuyBonus&&vt.IsBuyBonus||vt.HasBuyBonus&&(vt.CanBuyBonus=t)},s.CheckBuyBonusOverAni=function(){vt.HasBuyBonus&&vt.IsBuyBonus&&vt.CheckOverAni()},s.SetBuyBonusRemainTimes=function(){vt.HasBuyBonus&&vt.IsBuyBonus&&vt.SetRemainTimes()},s.GetBuyBonusInfo=function(){return vt.HasBuyBonus&&vt.IsBuyBonus?{MallId:vt.MallId,MallBet:vt.MallBet}:null},s.SetFeaturesVolatility=function(){this.m_featuresView.SetFeaturesVolatility()},s.SetAddIcon=function(t,e){this.m_iconBox||(this.m_topLeftIcon.AddIcon(t,[e]).Sort().Reorder(),this.m_rankingBtn&&this.m_rankingBtnRoot.getComponent(z).ResetPosition(),this.m_dailyBtn&&this.m_dailyBtn.node.getComponent(z).ResetPosition(),this.m_lobbyBtn&&this.m_lobbyBtn.node.getComponent(z)&&this.m_lobbyBtn.node.getComponent(z).ResetPosition())},s.SetIconBoxSeat=function(t,e,n){if(void 0===n&&(n=!0),this.m_iconBox)switch(e){case"jp":this.m_iconBox.SetBtnSeat(t,Lt.JackPot),this.OnRotation(this.m_isLandscape),n||this.m_iconBox.OpenBtnSeat(Lt.JackPot,!1);break;case"mhb":this.m_iconBox.SetBtnSeat(t,Lt.MustHitBy),this.OnRotation(this.m_isLandscape),n||this.m_iconBox.OpenBtnSeat(Lt.MustHitBy,!1)}},s.RemoveAddIcon=function(t){this.m_topLeftIcon.RemoveIcon(t).Sort().Reorder()},s.ShowDiscountView=function(t){void 0===t&&(t=at.SignIn),this.m_discount&&this.m_discount.ShowDiscountView(t)},s.DebrisInit=function(t,e,n,o){var i=this;if(!(F.IS_DEMO||this.m_bottomBarManager.IsGLIGames||this.m_bottomBarManager.IsBMMGames)){var a=F.DebrisBtnPath.ORG,r=H.GetFilePath(a);F.CommonBundle.load(r,g,(function(a,r){if(a)i.DebrisInit(t,e,n,o);else{i.m_debrisNode=y(r),i.m_debrisNode.active=!1,i.m_iconBox?(i.m_iconBox.SetBtnSeat(i.m_debrisNode,Lt.Debris),i.OnRotation(i.m_isLandscape),i.m_iconBox.OpenBtnSeat(Lt.Debris,!1)):i.m_floatBaseNode.addChild(i.m_debrisNode),i.m_debrisBtn=i.m_debrisNode.getComponent(lt);var m=i.m_debrisNode.getComponent(h);i.m_debrisBtn&&(m=i.m_debrisBtn.Btn),m.node.on(B.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==i.m_bottomBarManager.CurrentTouchName&&m.interactable?(i.m_bottomBarManager.CurrentTouchName=t.target.name,C(m.node).to(nt,{scale:u(.9,.9,1)}).start(),i.m_iconBox||i.m_debrisNode.getComponent(z).OnTouchStart(t.getUILocation())):t.target&&0==t.target.active&&(i.m_bottomBarManager.CurrentTouchName=t.target.name)})),m.node.on(B.EventType.TOUCH_CANCEL,(function(t){C(m.node).to(nt,{scale:u(1,1,1)}).start(),i.m_bottomBarManager.CurrentTouchName==t.target.name&&(i.m_bottomBarManager.CurrentTouchName=null)})),m.node.on(B.EventType.TOUCH_MOVE,(function(t){i.m_bottomBarManager.CurrentTouchName==t.target.name?(i.m_bottomBarManager.CurrentTouchName=t.target.name,i.m_iconBox||i.m_debrisNode.getComponent(z).OnTouchMove(t.getUILocation())):t.target&&0==t.target.active&&(i.m_bottomBarManager.CurrentTouchName=t.target.name)})),m.node.on(B.EventType.TOUCH_END,(function(t){C(m.node).to(nt,{scale:u(1,1,1)}).start(),i.m_bottomBarManager.CurrentTouchName==t.target.name&&(i.m_bottomBarManager.CurrentTouchName=null,m.interactable&&(i.m_bottomBarManager.CloseAllMenu(),m.interactable&&Nt.Show(i.m_isLandscape),i.PushClickToBuffer(i.m_bottomBarManager.CLICK_BUFFER_TYPE.DEBRIS),V.getInstance().Play(F.AudioClips.COMMON_BTN)))})),i.CreateDebrisView(t,e,n,o)}}))}},s.CreateDebrisView=function(t,e,n,o){var i=this,a=F.DebrisViewPath.ORG,r=H.GetFilePath(a);F.CommonBundle.load(r,g,(function(a,r){if(a)i.CreateDebrisView(t,e,n,o);else{var m=y(r);i.node.addChild(m),m.active=!1,H.SetZIndex(m,F.ZOrder.DEBRIS),Nt.Init(i,t,e,n,o,(function(t){i.SetDebrisBtnState(t)}))}}))},s.SetDebrisBtnTitle=function(t){if(this.m_debrisNode){var e=this.m_debrisNode.getChildByName("img_discount");this.m_debrisBtn&&(e=this.m_debrisBtn.TitleSprite.node),e.getComponent(_).spriteFrame=t}},s.SetDebrisBtnState=function(t){this.m_iconBox||(t?this.needSortBtn&&(this.m_topRightIcon.AddIcon(F.CbKey.Debris,[this.m_debrisNode]).Sort().Reorder(),this.m_discountBtn&&this.m_discountBtnRoot.getComponent(z).ResetPosition(),this.m_debrisNode.getComponent(z).ResetPosition(),this.m_favorBtn&&this.m_favorBtn.node.getComponent(z).ResetPosition(),this.m_trialBtn&&this.m_trialBtn.node.getComponent(z).ResetPosition(),this.m_depositBtn&&this.m_depositBtn.getComponent(z).ResetPosition()):this.m_topRightIcon.RemoveIcon(F.CbKey.Debris)),this.m_debrisNode.active=t,this.m_iconBox&&this.m_iconBox.OpenBtnSeat(Lt.Debris,t),t&&this.m_isFeaturesDemoMode&&(this.m_debrisBtn.node.getComponent(L).opacity=0,this.m_debrisBtn.Btn.interactable=!1)},s.SetDebrisBtnRedPoint=function(t){if(this.m_debrisNode){var e=this.m_debrisNode.getChildByName("RedPoint");this.m_debrisBtn&&(e=this.m_debrisBtn.RedPointNode),e&&(e.active=t)}},s.CheckLevelHint=function(t){return H.IsTadaCasino&&this.m_rookieHintManager?(t==wt.Mission&&this.SetDailyMissionIconVisible(!0),this.m_rookieHintManager.CheckLevelHint(t,this.m_isLandscape)):-1},s.SetBarNodeVisiable=function(t,e){void 0===e&&(e=0);var n=0;t&&(n=255),this.m_floatBaseNode.active=t,C(this.m_floatBaseNode.getComponent(L)).to(e,{opacity:n}).start(),(O.LobbyData&&O.LobbyData.isHideMember||F.IS_DEMO)&&(this.m_backpackBtn&&(this.m_backpackBtn.node.active=!1),H.Line!==F.LineSetting.americas&&H.Line!==F.LineSetting.americas_str)?T.instance.ActionManager.removeAllActionsFromTarget(this.m_floatBaseNode):this.m_backpackBtn&&C(this.m_backpackBtn.node.getComponent(L)).to(e,{opacity:n}).start()},s.sendTestLog=function(t){return this.m_bottomBarManager.sendTestLog(t)},a(e,[{key:"BetLabel",get:function(){return H.IsTadaCasino&&this.m_APPbetLabel?this.m_APPbetLabel:this.IsBMMGames&&this.m_BMMbetLabel?this.m_BMMbetLabel:this.m_betLabel},set:function(t){this.m_betLabel=t}},{key:"FloatBaseNode",get:function(){return this.m_floatBaseNode}},{key:"BackPackBtn",set:function(t){this.m_backpackBtn=t}},{key:"BackPackBtnNode",get:function(){return this.m_backpackBtn.node}},{key:"BackpackRp",set:function(t){this.m_backpackRp=t}},{key:"BackpackSprite",set:function(t){this.m_backpackSprite=t}},{key:"FeaturesDemoRootNode",get:function(){return this.m_featuresDemoRootNode}},{key:"LobbyBtn",get:function(){return this.m_lobbyBtn}},{key:"Recommend",get:function(){return this.m_discount}},{key:"DiscountBtn",get:function(){return this.m_discountBtn}},{key:"DiscountRedPointNode",get:function(){return this.m_discountRedPointNode}},{key:"DiscountFreeGift",get:function(){return this.m_discountFreeGift}},{key:"BuyBonusRemainTimes",set:function(t){this.m_buyBonusRemainTimes.string=String(t)}},{key:"BuyBonusAnimNode",get:function(){return this.m_buyBonusAnimNode}},{key:"BuyBonusNumPrice",set:function(t){this.m_buyBonusNumPrice.string=H.FormatNumberThousands(t,H.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO,!0,2),H.CheckSwitchOff(F.SwitchOffKeyDefine.CurrencySymbol)&&Number(F.API_ID)!=F.MGAApi||""==F.DollarSymbol||(this.m_buyBonusNumPrice.string=F.DollarSymbol+String(t))}},{key:"BuyBonusCumulativePrice",set:function(t){this.m_buyBonusCumulativePrice&&(this.m_buyBonusCumulativePrice.string=H.FormatNumberThousands(t,H.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO,!0,2),H.CheckSwitchOff(F.SwitchOffKeyDefine.CurrencySymbol)&&Number(F.API_ID)!=F.MGAApi||""==F.DollarSymbol||(this.m_buyBonusCumulativePrice.string=F.DollarSymbol+String(t)))}},{key:"BuyBonusPriceTitle",get:function(){return this.m_buyBonusPriceTitle},set:function(t){this.m_buyBonusPriceTitle&&(this.m_buyBonusPriceTitle.string=t)}},{key:"BuyBonusCumulativePriceTitle",get:function(){return this.m_buyBonusCumulativePriceTitle},set:function(t){this.m_buyBonusCumulativePriceTitle.string=t}},{key:"BuyBonusPriceRoot",get:function(){return this.m_buyBonusPriceRoot}},{key:"BuyBonusBtn",get:function(){return this.m_buyBonusBtn}},{key:"IconBox",get:function(){return this.m_iconBox}},{key:"RookieHintManager",get:function(){return this.m_rookieHintManager}},{key:"IsLandscape",get:function(){return this.m_isLandscape}},{key:"IsSmall",get:function(){return this.m_isSmall}},{key:"IsLow",get:function(){return this.m_isLow}},{key:"View",get:function(){return this.m_bottomBarManager.m_view}},{key:"BottomBarManager",get:function(){return this.m_bottomBarManager}},{key:"SpinBtn",get:function(){return this.m_bottomBarManager.SpinBtn}},{key:"BetBtn",get:function(){return this.m_bottomBarManager.BetBtn}},{key:"FeaturesView",get:function(){return this.m_featuresView}},{key:"FeaturesBtnPos",get:function(){return this.m_featuresBtn?this.m_featuresBtn.node.position:null}},{key:"HasUnshow",get:function(){return this.m_hasUnshow},set:function(t){this.m_hasUnshow=t}},{key:"IsFeaturesDemo",get:function(){return this.m_isFeaturesDemo}},{key:"IsFeaturesDemoLoaded",get:function(){return this.m_isFeaturesDemoLoaded}},{key:"IsInitFreaturesDemo",get:function(){return this.m_isInitFreaturesDemo}},{key:"IsNowInDemoMenu",get:function(){return this.m_isNowInDemoMenu}},{key:"LockAutoEnableByFeatures",get:function(){return this.m_lockAutoEnableByFeatures}},{key:"Rankboard",get:function(){return this.m_rankingView}},{key:"MemberUrl",get:function(){return this.m_bottomBarManager.MemberUrl}},{key:"CanShowReplay",get:function(){return this.m_canShowReplay},set:function(t){this.m_canShowReplay=t}},{key:"IsNowReplay",get:function(){return this.m_isNowReplay}},{key:"ReplayBetValue",get:function(){return Number(this.m_replayBetValue.string)}},{key:"IsInTrial",get:function(){return this.m_isInTrial}},{key:"Trial",get:function(){return Et.HasTrial}},{key:"IsTrialViewOpen",get:function(){return Et.HasTrial&&Et.IsTrialViewOpen}},{key:"TrialCoins",get:function(){return this.m_trialCoins}},{key:"WebView",get:function(){return this.m_bottomBarManager.WebView}},{key:"CumulativePaid",get:function(){return this.m_cumulativePaid},set:function(t){this.m_cumulativePaid=t}},{key:"IsGLIGames",get:function(){return!!this.m_bottomBarManager&&this.m_bottomBarManager.IsGLIGames}},{key:"IsBMMGames",get:function(){return!!this.m_bottomBarManager&&this.m_bottomBarManager.IsBMMGames}},{key:"GetNowActNo",get:function(){return this.m_isInTrial?Et.GetNowActNo:0}}]),e}(w)).UIName={IMG_BAR_DN:"img_bar_dn",IMG_WIN:"img_win",IMG_BLANCE:"img_blance",TXT_BLANCE:"txt_blance",COMM_MENU:"comm_menu",BTN_INFO:"btn_info",BTN_SOUND:"btn_sound",BTN_WISEAUTOPLAY:"btn_wiseautoplay",BTN_HISTORY:"btn_history",BTN_COMM:"btn_comm",IMG_BTN_COMM:"img_btn_comm",TXT_WIN:"txt_win",BETVIEW:"betView",BET_MENU:"bet_menu",BTN_BETS:"btn_bet",BET_VALUE:"bet_value",SELECTED:"selected",BTN_BET:"btn_bet",IMG_BET:"img_bet",TXT_BET_VALUE:"txt_bet_value",BTN_FEATURES:"btn_features",IMG_SPEED:"img_speed",BTN_SPEED:"btn_speed",BTN_BACKPACK:"btn_backpack",IMG_BACKPACKNODE:"img_backpackNode",IMG_BACKPACK:"img_backpack",USINGCARD:"usingCard",USINGCARDNUM:"usingCardNum",BTN_AUTOSTOP_C:"btn_autostop_c",IMG_AUTOTOP:"img_autotop",TXT_AUTO_COUNT:"txt_auto_count",BTN_AUTOSTOP:"btn_autostop",IMG_AUTOTOP_1:"img_autotop_1",BTN_AUTOPLAY:"btn_autoplay",IMG_AUTOPLAY:"img_autoplay",BTN_SPINSTOP:"btn_spinstop",IMG_STOP_LABEL:"img_stop_label",BTN_SPIN:"btn_spin",IMG_SPIN_LABEL:"img_spin_label",AUTOPLAY:"Autoplay",IMG_BAR_SUB_BG:"img_bar_sub_bg",WEBVIEW:"webview",BTN_CLOSE:"btn_close",BTN_TRIAL:"btn_Trial",TRAILWINPROGRESSBAR:"TrailWinProgressBar",BTN_HOLD_SPIN:"btn_hold_spin",BTN_RELEASE_SPIN:"btn_release_spin"},Cn=e((fn=ti).prototype,"m_betSprite",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=e(fn.prototype,"m_betLabel",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sn=e(fn.prototype,"m_BMMbetLabel",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tn=e(fn.prototype,"m_APPbetLabel",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),In=e(fn.prototype,"m_commAtlas",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mn=e(fn.prototype,"m_topLeftNodes",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kn=e(fn.prototype,"m_topRightNodes",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nn=e(fn.prototype,"m_floatBaseNode",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dn=e(fn.prototype,"m_backpackBtn",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vn=e(fn.prototype,"m_backpackRp",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),En=e(fn.prototype,"m_backpackSprite",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),An=e(fn.prototype,"m_usingCardNode",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln=e(fn.prototype,"m_jillCardSpriteFrame",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=e(fn.prototype,"m_getItemEft",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=e(fn.prototype,"m_getItemBall",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pn=e(fn.prototype,"m_featuresBtn",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fn=e(fn.prototype,"m_featuresDemoBtnTxt",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),On=e(fn.prototype,"m_featuresGoRealBtn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gn=e(fn.prototype,"m_featuresGoRealBtnTxt",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xn=e(fn.prototype,"m_featuresMenu",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vn=e(fn.prototype,"m_featuresDemoView",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Un=e(fn.prototype,"m_featuresGoRealDes",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hn=e(fn.prototype,"m_featuresMenuDes",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wn=e(fn.prototype,"m_featuresHint",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kn=e(fn.prototype,"m_featuresDemoModeTxt",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn=e(fn.prototype,"m_demoModeTxt",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yn=e(fn.prototype,"m_featuresSprite",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zn=e(fn.prototype,"m_featuresDemoRootNode",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jn=e(fn.prototype,"m_featuresDemoSelectRootNode",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xn=e(fn.prototype,"m_rankingBtnRoot",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qn=e(fn.prototype,"m_rankingBtn",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jn=e(fn.prototype,"m_rankingAnim",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qn=e(fn.prototype,"m_rankingLabel",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$n=e(fn.prototype,"m_dailyBtn",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),to=e(fn.prototype,"m_dailyAnim",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eo=e(fn.prototype,"m_dailyLabel",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),no=e(fn.prototype,"m_lobbyBtn",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oo=e(fn.prototype,"m_lobbyLable",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),io=e(fn.prototype,"m_closeGameBtn",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ao=e(fn.prototype,"m_discount",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ro=e(fn.prototype,"m_discountBtnRoot",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mo=e(fn.prototype,"m_discountBtn",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),so=e(fn.prototype,"m_discountRedPointNode",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uo=e(fn.prototype,"m_discountFreeGift",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lo=e(fn.prototype,"m_discountBgCloseBtn",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_o=e(fn.prototype,"m_discountCloseBtn",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),co=e(fn.prototype,"m_favorBtn",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),po=e(fn.prototype,"m_mayLikeView",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bo=e(fn.prototype,"m_bigWinReplayMask",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ho=e(fn.prototype,"m_bigWinReplayAni",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),go=e(fn.prototype,"m_replayBetSprite",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bo=e(fn.prototype,"m_replayBetValue",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fo=e(fn.prototype,"m_replayStartAniSprite",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Co=e(fn.prototype,"m_replayEndAniSprite",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yo=e(fn.prototype,"m_replayModeTxt",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),So=e(fn.prototype,"m_replayBetTxt",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),To=e(fn.prototype,"m_replayWinTxt",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Io=e(fn.prototype,"m_replayBalanceTxt",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mo=e(fn.prototype,"m_trial",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ko=e(fn.prototype,"m_trialSprite",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),No=e(fn.prototype,"m_trialBtn",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Do=e(fn.prototype,"m_trialProgressBar",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vo=e(fn.prototype,"m_trialProgressHintNode",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Eo=e(fn.prototype,"m_trialTotalWinLabel",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ao=e(fn.prototype,"m_trialTotalWinLabel_Under",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lo=e(fn.prototype,"m_trialProgressLvlLabel",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ro=e(fn.prototype,"m_trialCoinLabel",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wo=e(fn.prototype,"m_buyBonusRoot",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Po=e(fn.prototype,"m_buyBonusView",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fo=e(fn.prototype,"m_buyBonusUsed",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oo=e(fn.prototype,"m_buyBonusRemainTimes",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Go=e(fn.prototype,"m_buyBonusIcon",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xo=e(fn.prototype,"m_buyBonusIconTxt",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vo=e(fn.prototype,"m_buyBonusAnimNode",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Uo=e(fn.prototype,"m_buyBonusNumPrice",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ho=e(fn.prototype,"m_buyBonusCumulativePrice",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wo=e(fn.prototype,"m_buyBonusPriceTitle",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ko=e(fn.prototype,"m_buyBonusCumulativePriceTitle",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zo=e(fn.prototype,"m_buyBonusPriceRoot",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yo=e(fn.prototype,"m_buyBonusBtn",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zo=e(fn.prototype,"m_buyBonusSprite",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jo=e(fn.prototype,"m_buyBonusTag",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xo=e(fn.prototype,"m_buyBonusTagNode",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qo=e(fn.prototype,"m_buyBonusTxt",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jo=e(fn.prototype,"m_FreeSpinBetImgSpriteFrame",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qo=e(fn.prototype,"m_iconBox",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$o=e(fn.prototype,"m_rookieHintManager",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=fn))||bn));s._RF.pop()}}}));

System.register("chunks:///_virtual/Favor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./ViewTemplate.ts","./Discount.ts","./IconTemplate.ts","./MsgBox.ts","./Define.ts","./Tools.ts","./ConnectionManager.ts","./EnvironmentConfig.ts","./BottombarManager.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,m,u,_,l,f,d,h,v,p,I,g,C,E,F,T;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.Prefab,m=t.Sprite,u=t.Button,_=t.Label,l=t.Animation,f=t.instantiate},function(t){d=t.default},function(t){h=t.default},function(t){v=t.PageName},function(t){p=t.default},function(t){I=t.default},function(t){g=t.default},function(t){C=t.default},function(t){E=t.default},function(t){F=t.default},function(t){T=t.default}],execute:function(){var A,S,b,L,N,O,R,y,V,D,G,B,H,w,M,P,k,K,z,U,W,x,Y,q,X,j,J,Q,Z,$,tt,nt;a._RF.push({},"4afe8XPektGV7Ftl1hvV3T/","Favor",void 0);var et=r.ccclass,it=r.property;t("default",(A=it({type:s,tooltip:"橫版節點"}),S=it({type:s,tooltip:"直版節點"}),b=it({type:s,tooltip:"橫版ScrollView的content節點"}),L=it({type:s,tooltip:"值版ScrollView的content節點"}),N=it({type:c,tooltip:"icon樣版"}),O=it({type:s,tooltip:"ScrollView節點"}),R=it({type:s,tooltip:"說明主節點"}),y=it({type:m,tooltip:"說明標題"}),V=it({type:u,tooltip:"說明關閉按鈕"}),D=it({type:_,tooltip:"說明文字"}),G=it({type:_,tooltip:"說明確定文字"}),B=it({type:p,tooltip:"說明內icon"}),H=it({type:u,tooltip:"收藏說明按鈕"}),w=it({type:_,tooltip:"點擊提示"}),M=it({type:_,tooltip:"無收藏提示"}),et((K=n((k=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"m_nodeL",K,o(n)),i(n,"m_nodeS",z,o(n)),i(n,"m_favorNodeL",U,o(n)),i(n,"m_favorNodeS",W,o(n)),i(n,"m_iconPrefab",x,o(n)),i(n,"m_scrollViewNodes",Y,o(n)),i(n,"m_descNodes",q,o(n)),i(n,"m_descTitleSprites",X,o(n)),i(n,"m_descCloseBtns",j,o(n)),i(n,"m_descLabels",J,o(n)),i(n,"m_descConfirmLabels",Q,o(n)),i(n,"m_infoIcons",Z,o(n)),i(n,"m_favorInfoBtns",$,o(n)),i(n,"m_clickHintLabels",tt,o(n)),i(n,"m_noFavorHintLabels",nt,o(n)),n.m_bottomBar=null,n.m_dauList=null,n.m_favorList=null,n.m_favorIcons=new Array,n.m_discount=null,n.m_isChange=!1,n.m_isAddFavor=!1,n.m_isRemoveFavor=!1,n.m_changeGameId=0,n.m_initEndCb=null,n.m_isInitEnd=!1,n.m_isAddFavorByBig=!1,n.m_isLandscape=!1,n.m_isAddByInfo=!1,n}e(n,t);var a=n.prototype;return a.start=function(){var t=this;this.m_descCloseBtns&&this.m_descCloseBtns.forEach((function(n){n.node.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.CurrentTouchName&&n.node.active||e.target&&0==e.target.active)&&(t.CurrentTouchName=e.target.name)})),n.node.on(s.EventType.TOUCH_CANCEL,(function(n){t.CurrentTouchName==n.target.name&&(t.CurrentTouchName=null)})),n.node.on(s.EventType.TOUCH_END,(function(n){t.CurrentTouchName==n.target.name&&(t.CurrentTouchName=null)}))})),this.m_favorInfoBtns&&this.m_favorInfoBtns.forEach((function(n){n.node.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.CurrentTouchName&&n.node.active||e.target&&0==e.target.active)&&(t.CurrentTouchName=e.target.name)})),n.node.on(s.EventType.TOUCH_CANCEL,(function(n){t.CurrentTouchName==n.target.name&&(t.CurrentTouchName=null)})),n.node.on(s.EventType.TOUCH_END,(function(n){if(t.CurrentTouchName==n.target.name){t.CurrentTouchName=null;var e=d.GetInstance().GetString(g.StringKey.FAVOR_INFO),i=0;t.m_isLandscape||(i=1);var o=d.GetInstance().GetString(g.StringKey.FAVOR_DESC+i.toString());t.m_bottomBar.OpenCommonText(e,o,null,null,null,g.CommonTextType.FAVOR)}}))})),this.m_noFavorHintLabels&&this.m_noFavorHintLabels.forEach((function(n){n.node.on(s.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.CurrentTouchName&&n.node.active||e.target&&0==e.target.active)&&(t.CurrentTouchName=e.target.name)})),n.node.on(s.EventType.TOUCH_CANCEL,(function(n){t.CurrentTouchName==n.target.name&&(t.CurrentTouchName=null)})),n.node.on(s.EventType.TOUCH_END,(function(n){t.CurrentTouchName==n.target.name&&(t.CurrentTouchName=null,t.m_discount.ShowDiscountView(v.Recommand))}))})),this.m_infoIcons.forEach((function(n){n.Init(t,t.m_discount.GameId),n.SetCb(g.BTN_CLICK_EVENT.FAVOR_CHANGE_GAME,(function(n){t.m_isAddByInfo=!0,t.m_discount.AddFavor(n,g.BTN_CLICK_EVENT.FAVOR_FAVOR_ADD)}),(function(n){t.m_discount.RemoveFavor(n,g.BTN_CLICK_EVENT.FAVOR_FAVOR_REMOVE)}))}))},a.TimeOutHandle=function(){this.m_isAddFavor=!1,this.m_isRemoveFavor=!1},a.SetTxt=function(t){if(this.m_descTitleSprites&&this.m_descTitleSprites.forEach((function(n){n.spriteFrame=t.getSpriteFrame("favor_info_"+d.CurrLang)})),this.m_descLabels)for(var n=0;n<this.m_descLabels.length;n++)this.m_descLabels[n].string=d.GetInstance().GetString(g.StringKey.FAVOR_DESC+n.toString()),this.m_descLabels[n].font||(this.m_descLabels[n].font=g.DefaultFont);this.m_descConfirmLabels&&this.m_descConfirmLabels.forEach((function(t){t.string=d.GetInstance().GetString(g.StringKey.MSGBOX_CONFIRM),t.font||(t.font=g.DefaultFont)})),this.m_clickHintLabels&&this.m_clickHintLabels.forEach((function(t){t.string=d.GetInstance().GetString(g.StringKey.RECOMMEND_HINT),t.font||(t.font=g.DefaultFont)})),this.m_noFavorHintLabels&&this.m_noFavorHintLabels.forEach((function(t){t.string=d.GetInstance().GetString(g.StringKey.FAVOR_NOTHING_DESC),C.SetFont(t)}))},a.OnRotation=function(t){this.m_isLandscape=t,this.m_isLandscape?this.node.getComponent(l).play("Clip_WinMore_Popular_Landscape"):this.node.getComponent(l).play("Clip_WinMore_Popular_Portrait")},a.FavorInit=function(t,n,e,i,o,a){var r=this;if(this.m_bottomBar=o.node.getComponent(T),this.m_discount=t,this.m_initEndCb=a,this.m_isLandscape=n,this.m_isAddFavorByBig=!!i,null!==this.m_favorList){var s=e.Favorites;null===s?this.m_favorList.length>0&&(this.m_isChange=!0):this.m_favorList.length!==s.length&&(this.m_isChange=!0),s&&s.length>this.m_favorList.length&&this.m_discount.ShowFavorHint()}else e.Favorites&&e.Favorites.length>0&&this.m_discount.ShowFavorHint();if(this.m_noFavorHintLabels&&(e.Favorites&&e.Favorites.length>0?(this.m_noFavorHintLabels.forEach((function(t){t.node.active=!1})),this.m_scrollViewNodes.forEach((function(t){t.active=!0}))):(this.m_noFavorHintLabels.forEach((function(t){t.node.active=!0})),this.m_scrollViewNodes.forEach((function(t){t.active=!1})))),this.m_favorList=new Array,this.m_dauList=new Array,null!==e.Favorites)for(var c=e.Favorites.length,m=0;m<c;m++)this.m_favorList.push(e.Favorites[m]),this.m_dauList.push(e.DAU[m]?e.DAU[m]:0);for(var u=0;u<this.m_favorList.length;u++)C.Icons[this.m_favorList[u]]||C.LoadIcon(d.CurrLang,this.m_favorList[u],(function(){r.CheckRes()&&r.CreateBtn()}));this.CheckRes()&&this.CreateBtn();var _=function(){r.m_infoIcons.forEach((function(t){t.SetIconSpriteFrame(C.Icons[r.m_discount.GameId],r.m_discount.GameId)}))};C.Icons[Number(g.NOW_GAME_ID)]?_():C.LoadIcon(d.CurrLang,Number(g.NOW_GAME_ID),(function(){_()})),this.m_favorInfoBtns.forEach((function(t){t.node.active=!0}));this.m_bottomBar.InitFavorIcon((function(t){t.Init(r,r.m_discount.GameId);var n=function(){t.SetIconSpriteFrame(C.Icons[r.m_discount.GameId],r.m_discount.GameId)};C.Icons[Number(g.NOW_GAME_ID)]?n():C.LoadIcon(d.CurrLang,Number(g.NOW_GAME_ID),(function(){n()})),t.SetIsFavor(!1),t.ShowFavorHint(!1);for(var e=0;e<r.m_favorList.length;e++)if(r.m_favorList[e].toString()===g.NOW_GAME_ID){t.SetIsFavor(!0),t.ShowFavorHint(!0);break}t.SetCb(g.BTN_CLICK_EVENT.FAVOR_CHANGE_GAME,(function(t){r.m_isAddByInfo=!0,r.m_discount.AddFavor(t,g.BTN_CLICK_EVENT.FAVOR_FAVOR_ADD)}),(function(t){r.m_discount.RemoveFavor(t,g.BTN_CLICK_EVENT.FAVOR_FAVOR_REMOVE)}))}))},a.AddFavor=function(t,n){this.m_isAddFavor||(this.m_discount.ShowMask(),this.m_isAddFavor=!0,this.m_changeGameId=t,this.ReqAddFavor(t,n),this.m_descNodes&&this.m_descNodes.forEach((function(t){t.active=!1})))},a.RemoveFavor=function(t,n){this.m_isRemoveFavor||(this.m_discount.ShowMask(),this.m_isRemoveFavor=!0,this.ReqRemoveFavor(t,n),this.m_descNodes&&this.m_descNodes.forEach((function(t){t.active=!1})))},a.AutoShowHint=function(){if(this.m_descNodes&&0===this.m_favorIcons.length){var t=d.GetInstance().GetString(g.StringKey.FAVOR_INFO),n=0;this.m_isLandscape||(n=1);var e=d.GetInstance().GetString(g.StringKey.FAVOR_DESC+n.toString());this.m_bottomBar.OpenCommonText(t,e,null,null,null,g.CommonTextType.FAVOR)}},a.CheckRes=function(){for(var t=0;t<this.m_favorList.length;t++)if(!C.Icons[this.m_favorList[t]])return!1;return!0},a.CreateBtn=function(){for(var t=this;this.m_favorIcons.length>this.m_favorList.length;){var n=this.m_favorIcons.pop();n.node.removeFromParent(),n.node.destroy()}for(;this.m_favorIcons.length<this.m_favorList.length;){var e=f(this.m_iconPrefab),i=e.getComponent(p);this.m_favorIcons.push(i),this.m_favorNodeL.addChild(e),i.Init(this,this.m_discount.GameId),i.SetCb(g.BTN_CLICK_EVENT.FAVOR_CHANGE_GAME,(function(n){t.m_discount.AddFavor(n,g.BTN_CLICK_EVENT.FAVOR_FAVOR_ADD)}),(function(n){t.m_discount.RemoveFavor(n,g.BTN_CLICK_EVENT.FAVOR_FAVOR_REMOVE)}))}for(var o=!1,a=0;a<this.m_favorIcons.length;a++){var r=this.m_favorIcons[a];r.SetIconSpriteFrame(C.Icons[this.m_favorList[a]],this.m_favorList[a]),r.SetIsFavor(!0),r.SetTagSpriteFrame(null),r.SetDau(this.m_dauList[a]),0===a&&r.ShowIconHint(),this.m_favorList[a].toString()===g.NOW_GAME_ID&&(this.m_infoIcons.forEach((function(t){t.SetIsFavor(!0),t.ShowFavorHint()})),o=!0)}if(o||this.m_infoIcons.forEach((function(t){t.SetIsFavor(!1),t.ShowIconHint()})),this.m_isInitEnd||(this.m_isInitEnd=!1,this.m_initEndCb&&this.m_initEndCb()),this.m_discount.UpdateFavorState(this.m_favorList),this.m_isChange){if(this.m_isChange=!1,this.m_isAddFavor&&0!==this.m_changeGameId){if(this.m_isAddFavor=!1,this.m_discount.HideMask(),!this.m_isAddFavorByBig){var s=this.m_changeGameId===this.m_discount.GameId;I.getInstance().ShowMessageBoxFormat(g.StringKey.FAVOR_ADD_HINT,g.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[d.GetInstance().GetGameName(this.m_changeGameId)],(function(){t.m_isAddByInfo&&s&&(t.m_isAddByInfo=!1)}))}this.m_changeGameId=0}this.m_isRemoveFavor&&(this.m_isRemoveFavor=!1,this.m_discount.HideMask())}this.m_isAddFavorByBig=!1,this.OnRotation(this.m_isLandscape)},a.UpdateArrowState=function(){this.m_favorIcons.length>0&&this.m_favorIcons[0].ShowIconHint()},a.SendClickEvent=function(t,n){E.getInstance().SendBtnClickEvent(E.FormBtnClickParams(Number(g.AID),Number(g.API_ID),Number(g.NOW_GAME_ID),g.GAME_VERSION,t,n))},a.ReqAddFavor=function(t,n){var e=this;E.getInstance().CheckSetting(g.PROTOCOL.FAVORITE_ADD)||"-1"==g.AID||"0"==g.API_ID||E.getInstance().AddSetting(g.PROTOCOL.FAVORITE_ADD,E.CONNECT_TYPE.TYPE_HTTP,null,null,F.SERVICE_URL+"favoriteservice/AddFavorite?apiId="+g.API_ID+"&accountId="+g.AID+"&alterId=0"),E.getInstance().SendCommand(g.PROTOCOL.FAVORITE_ADD,"&gameId="+t,null,null,(function(t){e.m_discount.OnRecvAckFavorite(t)})),this.SendClickEvent(n,t)},a.ReqRemoveFavor=function(t,n){var e=this;E.getInstance().CheckSetting(g.PROTOCOL.FAVORITE_REMOVE)||"-1"==g.AID||"0"==g.API_ID||E.getInstance().AddSetting(g.PROTOCOL.FAVORITE_REMOVE,E.CONNECT_TYPE.TYPE_HTTP,null,null,F.SERVICE_URL+"favoriteservice/RemoveFavorite?apiId="+g.API_ID+"&accountId="+g.AID+"&alterId=0"),E.getInstance().SendCommand(g.PROTOCOL.FAVORITE_REMOVE,"&gameId="+t,null,null,(function(t){e.m_discount.OnRecvAckFavorite(t)})),this.SendClickEvent(n,t)},n}(h)).prototype,"m_nodeL",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(k.prototype,"m_nodeS",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(k.prototype,"m_favorNodeL",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(k.prototype,"m_favorNodeS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(k.prototype,"m_iconPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(k.prototype,"m_scrollViewNodes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(k.prototype,"m_descNodes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(k.prototype,"m_descTitleSprites",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(k.prototype,"m_descCloseBtns",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(k.prototype,"m_descLabels",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(k.prototype,"m_descConfirmLabels",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(k.prototype,"m_infoIcons",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(k.prototype,"m_favorInfoBtns",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=n(k.prototype,"m_clickHintLabels",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=n(k.prototype,"m_noFavorHintLabels",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=k))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturePageComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts"],(function(e){"use strict";var t,r,i,n,a,o,u,p,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,u=e._decorator,p=e.Sprite,c=e.Component},function(e){l=e.default}],execute:function(){var s,m,f,g,h,S;o._RF.push({},"5cf68x6BTZHP5QWXU3HRb/c","FeaturePageComponent",void 0);var _=u.ccclass,y=u.property;e("default",(s=y({type:p,tooltip:"特色圖"}),m=y({type:p,tooltip:"說明文字"}),_((h=t((g=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_featureSprite",h,n(t)),i(t,"m_hintSprite",S,n(t)),t.m_imgName="",t}r(t,e);var o=t.prototype;return o.SetTxt=function(){var e=l.GetInstance().GetGameAtlas();this.m_hintSprite.spriteFrame=e.getSpriteFrame(this.m_imgName)},o.SetFeatureSpriteFrame=function(e){this.m_featureSprite&&(this.m_featureSprite.spriteFrame=e)},a(t,[{key:"ImgName",set:function(e){this.m_imgName=e}}]),t}(c)).prototype,"m_featureSprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(g.prototype,"m_hintSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Features.ts",["cc","./Define.ts","./Tools.ts","./LocaleStringManager.ts","./MsgBox.ts","./LocalStorageManager.ts","./VolatilityManager.ts","./FeaturesComponent.ts","./StyleChangeManager.ts"],(function(t){"use strict";var e,i,m,s,_,n,o,a,r,l,h,g,d,c,u,f,I,S,p,T,v;return{setters:[function(t){e=t.cclegacy,i=t.v3,m=t.UITransform,s=t.tween,_=t.error,n=t.instantiate,o=t.SpriteFrame,a=t.Button,r=t.Label,l=t.Sprite,h=t.ProgressBar,g=t.Size,d=t.Animation},function(t){c=t.default},function(t){u=t.default},function(t){f=t.default},function(t){I=t.default},function(t){S=t.default},function(t){p=t.default},function(t){T=t.default},function(t){v=t.styleChangeManager}],execute:function(){var M;t("SpecialFlag",void 0),e._RF.push({},"49cc1BkxbxDRKcV6hDXCMrJ","Features",void 0),function(t){t[t.NONE=0]="NONE",t[t.XP=1]="XP",t[t.CRAZY=2]="CRAZY",t[t.HOT=3]="HOT",t[t.SUPER=4]="SUPER"}(M||(M=t("SpecialFlag",{})));var F="/Astt/%s/discount/Prefab/WinMore_Features_Page",N="features_L",C="features_S",L=0,y=1,w=t("TitleHeight",55);t("default",function(){var t=e.prototype;function e(t,e,i,m,s,_,n,o){this.m_closeBtn=null,this.m_fireLabel=null,this.m_infoLabel=null,this.m_leftLabel=null,this.m_rightLabel=null,this.m_leftImg=null,this.m_rightImg=null,this.m_img_tittle=null,this.m_img_xp_hint=null,this.m_img_crazy_hint=null,this.m_img_hot_hint=null,this.m_img_super_hint=null,this.m_img_logo=null,this.m_img_mask=null,this.m_progressBar=null,this.m_view=null,this.m_controller=void 0,this.m_imgPath=void 0,this.m_txt=void 0,this.m_fireNum=0,this.m_infoTxt=c.StringKey.FEATURES_FIRE_INFO_L,this.m_isLandscape=void 0,this.m_specialFlag=M.NONE,this.m_isOnLoad=!1,this.m_isShowOverTimes=!1,this.m_closeCb=null,this.m_demoBtnNode=null,this.m_demoBtnTxt=null,this.m_img_volatility=null,this.m_txt_volatility=null,this.m_firstMaskTxt1=null,this.m_firstMaskTxt2=null,this.m_secondMaskTxt=null,this.m_isFeaturesDemoInit=!1,this.m_demoModeMaskFirst=null,this.m_demoModeMask=null,this.m_isShowAndHideAni=!1,this.m_isFirst=!0,this.m_checkLoadedArray=[!1,!1],this.m_txtSpriteFrames=null,this.m_titleSpriteAtlas=null,this.m_titleTempName="logo_",this.m_preferRound=0,this.m_component=null,this.m_addPageCb=null,this.m_showCb=null,this.m_controller=t,this.m_imgPath=e,this.m_txt=i,this.m_fireNum=m,this.m_titleSpriteAtlas=s,_&&(this.m_titleTempName=_),this.m_addPageCb=n,this.m_showCb=o}return t.onLoad=function(){},t.Show=function(t,e,i){if(this.m_isShowOverTimes=e,this.m_closeCb=i,!this.m_isOnLoad){if(this.m_view){var m=c.AID+":"+c.NOW_GAME_ID+":IsFirstDemoMode",s=S.GetBool(m);this.m_isFeaturesDemoInit&&(this.m_component||(s?u.CheckSwitchOff(c.SwitchOffKeyDefine.FeaturedDisplay)?this.m_demoModeMask.active=!1:this.m_demoModeMask.active=this.m_isFeaturesDemoInit:u.CheckSwitchOff(c.SwitchOffKeyDefine.FeaturedDisplay)?this.m_demoModeMaskFirst.active=!1:this.m_demoModeMaskFirst.active=this.m_isFeaturesDemoInit))}else this.CreateView();this.m_isShowAndHideAni||this.OnRotation(t),this.m_isFirst||(this.m_component?(this.m_component.SetCloseHint(!1),this.m_showCb()):this.ShowAni()),this.m_isFirst=!1}},t.SetCloseHint=function(t){this.m_component&&this.m_component.SetCloseHint(t)},t.SetPreferRound=function(t){this.m_preferRound=t,this.m_infoLabel&&(this.m_preferRound>0?this.m_infoLabel.string=f.GetInstance().GetString(c.StringKey.FEATURES_HISTORY_ROUND)+this.m_preferRound.toString():this.m_infoLabel.string="")},t.SetDesc=function(t){this.m_txtSpriteFrames=t,this.m_component&&this.m_component.SetDesc(t)},t.ShowAni=function(){var t=this;if(!this.m_isShowAndHideAni)if(this.m_isShowAndHideAni=!0,this.m_controller.FeaturesBtnPos){this.m_view.position=this.m_controller.FeaturesBtnPos,this.m_view.setScale(i(.1,.1,.1)),this.m_view.getChildByName("img_mask").active=!1,this.m_view.active=!0;var e=u.DiffPos(this.m_controller.View.getComponent(m).anchorPoint,this.m_isLandscape),_=i(e.x,e.y);s(this.m_view).parallel(s().to(.2,{position:_}),s().to(.2,{scale:i(1,1,1)})).call((function(){t.m_view.getChildByName("img_mask").active=!0})).delay(.1).call((function(){t.m_isShowAndHideAni=!1})).start()}else this.m_view.active=!0,this.m_isShowAndHideAni=!1},t.HideAni=function(){var t=this;if(!this.m_isShowAndHideAni){this.m_isShowAndHideAni=!0;var e=this.m_controller.FeaturesBtnPos,m=i(e.x,e.y,e.z);this.m_view.getChildByName("img_mask").active=!1,s(this.m_view).parallel(s().to(.3,{position:m}),s().to(.3,{scale:i(.1,.1,.1)})).call((function(){t.m_view.getChildByName("img_mask").active=!0,t.m_view.active=!1,t.m_isShowAndHideAni=!1})).start(),this.m_closeCb&&(this.m_closeCb(),this.m_closeCb=null)}},t.CreateView=function(){var t=this;this.m_isOnLoad=!0;var i=u.GetFilePath(F);c.CommonBundle.load(i,(function(i,m){if(t.m_isOnLoad=!1,i)_(i.message||i);else if(t.m_view=n(m),t.m_view.getComponent(T)){if(t.m_addPageCb(t.m_view),t.m_component=t.m_view.getComponent(T),t.m_txtSpriteFrames&&t.m_component.SetDesc(t.m_txtSpriteFrames),p.GetInstance().IsOpen()){var s=p.GetInstance().GetVolatilityChili();t.m_fireNum=s>0?s:t.m_fireNum,t.m_component.SetFeaturesVolatility()}if(u.CheckSwitchOff(c.SwitchOffKeyDefine.FeaturedDisplay)||t.m_component.SetDemo(t.m_isFeaturesDemoInit,(function(){t.m_controller.IsPlayingRealGame()?(t.m_controller.StartFeaturesDemo(),t.Hide()):I.getInstance().ShowMessageBox(c.StringKey.TRIAL_REFUSED_REASON+"1",c.StringKey.MSGBOX_TITLE_SYSTEM_INFO)})),null!=t.m_imgPath[0]&&"string"==typeof t.m_imgPath[0]&&""!=t.m_imgPath[0]){var g=(v.NeedChange?"/"+v.FolderName+"/":"")+t.m_imgPath[0];c.GameBundle.load(g,o,(function(e,i){e?_(e.message||e):(t.m_component.LeftSprie.spriteFrame=i,t.m_checkLoadedArray[L]=!0)}))}if(null!=t.m_imgPath[1]&&"string"==typeof t.m_imgPath[1]&&""!=t.m_imgPath[1]){var d=(v.NeedChange?"/"+v.FolderName+"/":"")+t.m_imgPath[1];c.GameBundle.load(d,o,(function(e,i){e?_(e.message||e):(t.m_component.RightSprie.spriteFrame=i,t.m_checkLoadedArray[y]=!0)}))}t.SetTxt(),t.m_isShowOverTimes||(t.m_controller.IsGLIGames||t.m_controller.IsBMMGames||t.m_component.SetCloseHint(!t.m_isShowOverTimes),t.m_showCb()),t.OnRotation(t.m_isLandscape)}else{t.m_controller.View.addChild(t.m_view),u.SetZIndex(t.m_view,c.ZOrder.FEATURES),t.m_closeBtn=t.m_view.getChildByName(e.UIName.BTN_CLOSE).getComponent(a),t.m_fireLabel=t.m_view.getChildByName(e.UIName.TXT_FIREBALL).getComponent(r),t.m_infoLabel=t.m_fireLabel.node.getChildByName(e.UIName.TXT_INFO).getComponent(r),t.m_leftImg=t.m_view.getChildByName(e.UIName.IMG_LEFT).getComponent(l),t.m_rightImg=t.m_view.getChildByName(e.UIName.IMG_RIGHT).getComponent(l),t.m_leftLabel=t.m_view.getChildByName(e.UIName.TXT_LEFT).getComponent(r),t.m_rightLabel=t.m_view.getChildByName(e.UIName.TXT_RIGHT).getComponent(r),t.m_progressBar=t.m_view.getChildByName(e.UIName.PROGRESSBAR).getComponent(h),t.m_img_tittle=t.m_view.getChildByName(e.UIName.IMG_TITLE).getComponent(l),t.m_img_xp_hint=t.m_view.getChildByName(e.UIName.IMG_XP_HINT).getComponent(l),t.m_img_crazy_hint=t.m_view.getChildByName(e.UIName.IMG_CRAZY_HINT).getComponent(l),t.m_img_hot_hint=t.m_view.getChildByName(e.UIName.IMG_HOT_HINT).getComponent(l),t.m_img_super_hint=t.m_view.getChildByName(e.UIName.IMG_SUPER_HINT).getComponent(l),t.m_img_mask=t.m_view.getChildByName(e.UIName.IMG_MASK).getComponent(l),t.m_view.getChildByName(e.UIName.IMG_VOLATILITY)&&(t.m_img_volatility=t.m_view.getChildByName(e.UIName.IMG_VOLATILITY).getComponent(l)),t.m_view.getChildByName(e.UIName.TXT_VOLATILITY)&&(t.m_txt_volatility=t.m_view.getChildByName(e.UIName.TXT_VOLATILITY).getComponent(r)),p.GetInstance().IsOpen()&&t.SetFeaturesVolatility(),t.m_demoModeMaskFirst=t.m_view.getChildByName(e.UIName.DEMO_MODE_MASK_FIRST),t.m_demoModeMaskFirst&&(t.m_firstMaskTxt1=t.m_demoModeMaskFirst.getChildByName(e.UIName.TXT_INFO),t.m_firstMaskTxt2=t.m_demoModeMaskFirst.getChildByName(e.UIName.TXT_IBTN)),t.m_demoModeMask=t.m_view.getChildByName(e.UIName.DEMO_MODE_MASK),t.m_demoModeMask&&(t.m_secondMaskTxt=t.m_demoModeMask.getChildByName(e.UIName.TXT_IBTN));var f=t.m_view.getChildByName(e.UIName.IMG_LOGO);if(f){t.m_img_logo=f.getComponent(l);var M=u.UsingLogoSpriteFrame();M?(t.m_img_logo.node.active=!0,t.m_img_logo.spriteFrame=M):t.m_img_logo.node.active=!1}if(t.m_img_mask=t.m_view.getChildByName(e.UIName.IMG_MASK).getComponent(l),t.m_demoBtnNode=t.m_view.getChildByName(e.UIName.BTN_DEMO),t.m_demoModeMaskFirst&&t.m_demoModeMaskFirst.getChildByName("mask").on("click",(function(){if(t.Hide(),t.m_demoModeMaskFirst.active&&!t.m_controller.IsInTrial){var e=c.AID+":"+c.NOW_GAME_ID+":IsFirstDemoMode";t.m_demoModeMaskFirst.active=!1,S.SetBool(e,!0)}})),t.m_demoBtnNode){if(t.m_demoBtnTxt=t.m_demoBtnNode.getChildByName(e.UIName.BTN_DEMO_TXT).getComponent(l),t.m_isFeaturesDemoInit&&!u.CheckSwitchOff(c.SwitchOffKeyDefine.FeaturedDisplay)){t.m_demoBtnNode.active=t.m_isFeaturesDemoInit;var F=c.AID+":"+c.NOW_GAME_ID+":IsFirstDemoMode";S.GetBool(F)?t.m_demoModeMask.active=t.m_isFeaturesDemoInit:t.m_demoModeMaskFirst.active=t.m_isFeaturesDemoInit}t.m_demoBtnNode.on("click",(function(){t.m_controller.IsPlayingRealGame()?(t.m_controller.StartFeaturesDemo(),t.Hide()):I.getInstance().ShowMessageBox(c.StringKey.TRIAL_REFUSED_REASON+"1",c.StringKey.MSGBOX_TITLE_SYSTEM_INFO)}))}t.m_closeBtn.node.on("click",(function(){t.HideAni()})),t.m_img_mask.node.on("click",(function(){t.HideAni()})),""!=t.m_imgPath[0]&&null!=t.m_imgPath[0]&&c.GameBundle.load(t.m_imgPath[0],o,(function(e,i){e?_(e.message||e):(t.m_leftImg.spriteFrame=i,t.m_checkLoadedArray[L]=!0)})),""!=t.m_imgPath[1]&&null!=t.m_imgPath[1]&&c.GameBundle.load(t.m_imgPath[1],o,(function(e,i){e?_(e.message||e):(t.m_rightImg.spriteFrame=i,t.m_checkLoadedArray[y]=!0)})),t.SetTxt(),t.OnRotation(t.m_isLandscape),t.m_isShowOverTimes&&(t.m_view.active=!1)}}))},t.SetTxt=function(){var t=f.GetInstance().GetCommonAtlas();if(this.m_view&&null!=t){if(this.m_titleSpriteAtlas){var e=this.m_titleSpriteAtlas.getSpriteFrame(this.m_titleTempName+f.CurrLang);if(e||(e=this.m_titleSpriteAtlas.getSpriteFrame(this.m_titleTempName+c.Lang.EN)),this.m_component)this.m_component.SetTitle(e);else if(this.m_img_tittle.spriteFrame=e,e){var i=e.getRect(),s=u.divide(w,i.height),_=new g(u.times(i.width,s),u.times(i.height,s));this.m_img_tittle.node.getComponent(m).setContentSize(_)}}var n=t.getSpriteFrame("speed_"+f.CurrLang);n&&(this.m_img_xp_hint.spriteFrame=n);var o=t.getSpriteFrame("crazy_"+f.CurrLang);o&&(this.m_img_crazy_hint.spriteFrame=o);var a=t.getSpriteFrame("hot_"+f.CurrLang);a&&(this.m_img_hot_hint.spriteFrame=a);var r=t.getSpriteFrame("super_"+f.CurrLang);r&&(this.m_img_super_hint.spriteFrame=r),this.m_component?(this.m_component.SetFire(.2*this.m_fireNum),this.m_component.SetTxt(this.m_preferRound)):(this.m_progressBar.progress=.2*this.m_fireNum,this.m_fireLabel.string=f.GetInstance().GetString(c.StringKey.FEATURES_FIRE_NUN),f.CurrLang===c.Lang.MM&&(this.m_fireLabel.font=c.DefaultFont),this.m_preferRound>0?this.m_infoLabel.string=f.GetInstance().GetString(c.StringKey.FEATURES_HISTORY_ROUND)+this.m_preferRound.toString():this.m_infoLabel.string="",f.CurrLang===c.Lang.MM&&(this.m_infoLabel.font=c.DefaultFont),""!=this.m_txt[0]&&null!=this.m_txt[0]&&(this.m_leftLabel.string=f.GetInstance().GetString(this.m_txt[0]),f.CurrLang===c.Lang.MM&&(this.m_leftLabel.font=c.DefaultFont)),""!=this.m_txt[1]&&null!=this.m_txt[1]&&(this.m_rightLabel.string=f.GetInstance().GetString(this.m_txt[1]),f.CurrLang===c.Lang.MM&&(this.m_rightLabel.font=c.DefaultFont)),this.m_demoBtnTxt&&(this.m_demoBtnTxt.spriteFrame=t.getSpriteFrame("img_try_real_mode_"+f.CurrLang)),this.m_firstMaskTxt1&&(this.m_firstMaskTxt1.getComponent(l).spriteFrame=t.getSpriteFrame("img_featureclose_"+f.CurrLang)),this.m_firstMaskTxt2&&(this.m_firstMaskTxt2.getComponent(l).spriteFrame=t.getSpriteFrame("img_featureinto_"+f.CurrLang)),this.m_secondMaskTxt&&(this.m_secondMaskTxt.getComponent(l).spriteFrame=t.getSpriteFrame("img_featureinto_"+f.CurrLang)))}},t.OnRotation=function(t){this.m_isLandscape=t,this.m_component?(this.m_view.setPosition(i(0,0,1)),this.m_component.OnRotation(t)):this.m_isLandscape?(this.m_infoTxt=c.StringKey.FEATURES_FIRE_INFO_L,this.m_view&&(this.m_view.setPosition(u.DiffPos(this.m_controller.View.getComponent(m).anchorPoint,this.m_isLandscape)),this.m_view.getComponent(d).play(N))):(this.m_infoTxt=c.StringKey.FEATURES_FIRE_INFO_S,this.m_view&&(this.m_view.setPosition(u.DiffPos(this.m_controller.View.getComponent(m).anchorPoint,this.m_isLandscape)),this.m_view.getComponent(d).play(C)))},t.AlreadyInit=function(){for(var t=!1,e=0;e<this.m_checkLoadedArray.length&&(t=this.m_checkLoadedArray[e]);e++);return t},t.Hide=function(){this.m_view.active=!1},t.SetFeaturesDemoStatus=function(t){var e=this;if(this.m_isFeaturesDemoInit=t,!u.CheckSwitchOff(c.SwitchOffKeyDefine.FeaturedDisplay)){if(this.m_demoBtnNode){this.m_demoBtnNode.active=this.m_isFeaturesDemoInit;var i=c.AID+":"+c.NOW_GAME_ID+":IsFirstDemoMode";S.GetBool(i)?this.m_demoModeMask.active=this.m_isFeaturesDemoInit:this.m_demoModeMaskFirst.active=this.m_isFeaturesDemoInit}this.m_component&&this.m_component.SetDemo(this.m_isFeaturesDemoInit,(function(){e.m_controller.IsPlayingRealGame()?(e.m_controller.StartFeaturesDemo(),e.Hide()):I.getInstance().ShowMessageBox(c.StringKey.TRIAL_REFUSED_REASON+"1",c.StringKey.MSGBOX_TITLE_SYSTEM_INFO)}))}},t.SetFeaturesVolatility=function(){if(this.m_progressBar&&(this.m_progressBar.node.active=!1),this.m_fireLabel&&(this.m_fireLabel.node.active=!1),this.m_img_volatility&&(this.m_img_volatility.node.active=!0),this.m_txt_volatility&&(this.m_txt_volatility.node.active=!0,this.m_txt_volatility.string=f.GetInstance().GetString(c.StringKey.FEATURES_VOLATILITY_TEXT)),this.m_progressBar){var t=p.GetInstance().GetVolatilityChili();this.m_fireNum=t>0?t:this.m_fireNum,this.m_progressBar.progress=.2*this.m_fireNum}this.m_component&&this.m_component.SetFeaturesVolatility()},t.IsViewOpen=function(){return!!this.m_view&&this.m_view.active},e}()).UIName={IMG_MASK:"img_mask",IMG_BG:"img_bg",IMG_TITLE_BG_L:"img_title_bg_L",IMG_TITLE_BG_S:"img_title_bg_S",IMG_TITLE:"img_title",IMG_XP_HINT:"img_XP_Hint",IMG_CRAZY_HINT:"img_Crazy_Hint",IMG_HOT_HINT:"img_Hot_Hint",IMG_SUPER_HINT:"img_Super_Hint",IMG_LOGO:"img_logo",BTN_CLOSE:"btn_close",TXT_FIREBALL:"txt_fireBall",PROGRESSBAR:"progressBar",BAR:"bar",TXT_INFO:"txt_info",IMG_LEFT:"img_left",IMG_RIGHT:"img_right",TXT_LEFT:"txt_left",TXT_RIGHT:"txt_right",BTN_DEMO:"feature_btn_shine",BTN_DEMO_TXT:"img_try_real_mode_cn",DEMO_MODE_MASK_FIRST:"feature_btn_mask1",TXT_IBTN:"txt_ibtn",DEMO_MODE_MASK:"feature_btn_mask2",TXT_VOLATILITY:"txt_volatility",IMG_VOLATILITY:"icon_volatility"},e._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturesComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./Features.ts"],(function(t){"use strict";var e,i,n,o,r,l,a,u,m,p,c,f,s,_,b,g,y,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,a=t._decorator,u=t.Sprite,m=t.ProgressBar,p=t.Label,c=t.Node,f=t.Size,s=t.UITransform,_=t.Animation,b=t.Component},function(t){g=t.default},function(t){y=t.default},function(t){d=t.default},function(t){h=t.TitleHeight}],execute:function(){var S,L,N,F,w,z,v,H,I,T,E,B,D,C,R,G,O,V,U,A,k,K,M,P,x,X,j,W,Y,Z,q,J,Q,$,tt,et,it,nt,ot,rt,lt,at,ut,mt;l._RF.push({},"0528eZPCDFID5xULjXokz3r","FeaturesComponent",void 0);var pt=a.ccclass,ct=a.property;t("default",(S=ct({type:u,tooltip:"左圖說明"}),L=ct({type:u,tooltip:"右圖說明"}),N=ct({type:u,tooltip:"左圖"}),F=ct({type:u,tooltip:"右圖"}),w=ct({type:u,tooltip:"標題"}),z=ct({type:m,tooltip:"辣椒度"}),v=ct({type:p,tooltip:"歷史局數"}),H=ct({type:u,tooltip:"起伏圖片"}),I=ct({type:p,tooltip:"起伏說明"}),T=ct({type:c,tooltip:"特色遊玩按鈕"}),E=ct({type:c,tooltip:"特色遊玩提示1"}),B=ct({type:c,tooltip:"特效1"}),D=ct({type:c,tooltip:"特色遊玩提示2"}),C=ct({type:c,tooltip:"特效2"}),R=ct({type:c,tooltip:"起伏固定"}),G=ct({type:c,tooltip:"起伏可調"}),O=ct({type:p,tooltip:"辣椒度"}),V=ct({type:p,tooltip:"特色遊玩按鈕文字"}),U=ct({type:p,tooltip:"特色遊玩提示1"}),A=ct({type:p,tooltip:"特色遊玩提示2"}),k=ct({type:p,tooltip:"起伏調整描述"}),pt((P=e((M=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_leftInfoSprite",P,o(e)),n(e,"m_rightInfoSprite",x,o(e)),n(e,"m_leftSprite",X,o(e)),n(e,"m_rightSprite",j,o(e)),n(e,"m_tittleSprite",W,o(e)),n(e,"m_progressBar",Y,o(e)),n(e,"m_infoLabel",Z,o(e)),n(e,"m_img_volatilitySprite",q,o(e)),n(e,"m_txt_volatilityLabel",J,o(e)),n(e,"m_demoBtnNode",Q,o(e)),n(e,"m_demoHintNode1",$,o(e)),n(e,"m_eftNode1",tt,o(e)),n(e,"m_demoHintNode2",et,o(e)),n(e,"m_eftNode2",it,o(e)),n(e,"m_staticVolatilityNode",nt,o(e)),n(e,"m_changeVolatilityNode",ot,o(e)),n(e,"m_fireLabel",rt,o(e)),n(e,"m_demoBtnLabel",lt,o(e)),n(e,"m_demoHintLabel1",at,o(e)),n(e,"m_demoHintLabel2",ut,o(e)),n(e,"m_changeVolatitlityLabel",mt,o(e)),e}i(e,t);var l=e.prototype;return l.OnClose=function(){this.node.active=!1},l.SetTxt=function(t){this.m_fireLabel.string=y.GetInstance().GetString(g.StringKey.FEATURES_FIRE_NUN),d.SetFont(this.m_fireLabel),this.m_infoLabel&&(this.m_infoLabel.string=t>0?y.GetInstance().GetString(g.StringKey.FEATURES_HISTORY_ROUND)+t.toString():"",d.SetFont(this.m_infoLabel)),this.m_demoBtnLabel&&(d.SetFont(this.m_demoBtnLabel),this.m_demoBtnLabel.string=y.GetInstance().GetString(g.StringKey.FEATURES_DEMO_BTN_TXT)),this.m_demoHintLabel1&&(this.m_demoHintLabel1.string=y.GetInstance().GetString(g.StringKey.FEATURES_DEMO_INFO_1),this.m_demoHintLabel1.font||(this.m_demoHintLabel1.font=g.DefaultFont)),this.m_demoHintLabel2&&(this.m_demoHintLabel2.string=y.GetInstance().GetString(g.StringKey.FEATURES_DEMO_INFO_2),this.m_demoHintLabel2.font||(this.m_demoHintLabel2.font=g.DefaultFont)),this.m_changeVolatitlityLabel.string=y.GetInstance().GetString(g.StringKey.FEATURES_VOLATILITY_TEXT),d.SetFont(this.m_changeVolatitlityLabel)},l.SetDesc=function(t){2===t.length&&(this.m_leftInfoSprite.spriteFrame=t[0],this.m_rightInfoSprite.spriteFrame=t[1])},l.SetTitle=function(t){if(this.m_tittleSprite.spriteFrame=t,t){var e=t.getRect(),i=d.divide(h,e.height),n=new f(d.times(e.width,i),d.times(e.height,i));this.m_tittleSprite.node.getComponent(s).setContentSize(n)}},l.SetFire=function(t){this.m_progressBar.progress=t},l.SetCloseHint=function(t){this.m_demoHintNode2.active=t,this.m_eftNode2.active=t},l.SetFeaturesVolatility=function(){this.m_staticVolatilityNode.active=!1,this.m_changeVolatilityNode.active=!0},l.SetDemo=function(t,e){d.CheckSwitchOff(g.SwitchOffKeyDefine.FeaturedDisplay)?(this.m_demoBtnNode.active=!1,this.m_demoHintNode1.active=!1,this.m_eftNode1.active=!1):(this.m_demoBtnNode.active=t,this.m_demoHintNode1.active=t,this.m_eftNode1.active=t,this.m_demoBtnNode.hasEventListener("click")||this.m_demoBtnNode.on("click",(function(){e&&e()})))},l.OnRotation=function(t){t?this.node.getComponent(_).play("Clip_WinMore_FeaturePage_Landscape"):this.node.getComponent(_).play("Clip_WinMore_FeaturePage_Portrait")},r(e,[{key:"LeftSprie",get:function(){return this.m_leftSprite}},{key:"RightSprie",get:function(){return this.m_rightSprite}}]),e}(b)).prototype,"m_leftInfoSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(M.prototype,"m_rightInfoSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(M.prototype,"m_leftSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(M.prototype,"m_rightSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(M.prototype,"m_tittleSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(M.prototype,"m_progressBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(M.prototype,"m_infoLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(M.prototype,"m_img_volatilitySprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(M.prototype,"m_txt_volatilityLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(M.prototype,"m_demoBtnNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(M.prototype,"m_demoHintNode1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(M.prototype,"m_eftNode1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(M.prototype,"m_demoHintNode2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(M.prototype,"m_eftNode2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(M.prototype,"m_staticVolatilityNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(M.prototype,"m_changeVolatilityNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(M.prototype,"m_fireLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(M.prototype,"m_demoBtnLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(M.prototype,"m_demoHintLabel1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(M.prototype,"m_demoHintLabel2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(M.prototype,"m_changeVolatitlityLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=M))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturesDemoComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./FeaturesDemoHintComponent.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,u,m,p,c,s,_,f,g,d,h,b,y,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,m=e.Button,p=e.Node,c=e.Prefab,s=e.Sprite,_=e.Label,f=e.Animation,g=e.Component,d=e.instantiate},function(e){h=e.default},function(e){b=e.default},function(e){y=e.default},function(e){R=e.default}],execute:function(){var S,v,w,H,B,D,M,C,F,z,L,N,E,k,T,A,G,P,W,O,x,I;l._RF.push({},"277a9JbHCdBuacMbD2wWHGE","FeaturesDemoComponent",void 0);var V=u.ccclass,K=u.property;e("default",(S=K({type:m,tooltip:"返回真錢"}),v=K({type:m,tooltip:"返回真錢-街機"}),w=K({type:p,tooltip:"特色遊玩遮罩"}),H=K({type:p,tooltip:"反回真錢提示"}),B=K({type:p,tooltip:"宣告跟節點"}),D=K({type:c,tooltip:"DEMO宣告"}),M=K({type:s,tooltip:"返回真錢文字"}),C=K({type:s,tooltip:"特色模式文字-財產"}),F=K({type:s,tooltip:"特色模式狀態提示"}),z=K({type:_,tooltip:"返回真錢提示"}),V((E=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_goRealBtn",E,o(t)),i(t,"m_goRealBtn_arc",k,o(t)),i(t,"m_maskNode",T,o(t)),i(t,"m_goRealHintNode",A,o(t)),i(t,"m_hintRootNode",G,o(t)),i(t,"m_demoHintPrefab",P,o(t)),i(t,"m_goRealBtnSprites",W,o(t)),i(t,"m_demoModeSprite",O,o(t)),i(t,"m_featuresHintSprite",x,o(t)),i(t,"m_goRealHintLabel",I,o(t)),t.m_hint=null,t}n(t,e);var l=t.prototype;return l.SetTxt=function(){for(var e=b.GetInstance().GetCommonAtlas(),t=0;t<this.m_goRealBtnSprites.length;t++)this.m_goRealBtnSprites[t].spriteFrame=e.getSpriteFrame("WinMore_TryRealMODE");this.m_demoModeSprite.spriteFrame=e.getSpriteFrame("WinMore_DemoMode"),this.m_featuresHintSprite.spriteFrame=e.getSpriteFrame("WinMore_DemoMode_Title"),y.SetFont(this.m_goRealHintLabel),this.m_goRealHintLabel.string=b.GetInstance().GetString(h.StringKey.FEATURES_DEMO_GO_BACK_REAL)},l.OnRotation=function(e){e?this.node.getComponent(f).play("Clip_WinMore_DemoView_Landscape"):y.Line===h.LineSetting.americas_str?this.node.getComponent(f).play("Clip_WinMore_DemoView_Arcade"):this.node.getComponent(f).play("Clip_WinMore_DemoView_Portrait")},l.SetEvent=function(e){this.m_goRealBtn.node.on("click",(function(){e&&e()})),this.m_goRealBtn_arc.node.on("click",(function(){e&&e()}))},l.StartFeaturesDemo=function(e,t){this.m_maskNode.active=!e,this.m_goRealHintNode.active=!e,this.m_goRealBtn.node.active=!e,this.m_goRealBtn_arc.node.active=!e,this.OnRotation(t)},l.EndFeaturesDemo=function(){this.m_maskNode.active=!0,this.m_goRealHintNode.active=!0,this.m_goRealBtn.node.active=!0,this.m_goRealBtn_arc.node.active=!0},l.ShowHint=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.m_hint||(t=d(this.m_demoHintPrefab),this.m_hintRootNode.addChild(t),this.m_hint=t.getComponent(R),this.m_hint.SetTxt()),e.next=3,this.m_hint.Show();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(g)).prototype,"m_goRealBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"m_goRealBtn_arc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"m_maskNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"m_goRealHintNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"m_hintRootNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"m_demoHintPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(N.prototype,"m_goRealBtnSprites",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(N.prototype,"m_demoModeSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"m_featuresHintSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"m_goRealHintLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=N))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturesDemoHintComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,u,c,s,p,f,m,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,o=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,s=t.Animation,p=t.Label,f=t.Component},function(t){m=t.default},function(t){h=t.default}],execute:function(){var y,_,g,b,d,L;u._RF.push({},"6bfadH4LH9HWrFV03yqn7ls","FeaturesDemoHintComponent",void 0);var v=c.ccclass,D=c.property;t("default",(y=D({type:s,tooltip:"動畫"}),_=D({type:p,tooltip:"文字"}),v((d=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_anim",d,r(e)),i(e,"m_hintLabel",L,r(e)),e}n(e,t);var u=e.prototype;return u.Show=function(){var t=o(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.m_anim.play("Clip_WinMore_DemoPlaying"),e=this.m_anim.getState("Clip_WinMore_DemoPlaying"),t.next=4,m.Wait(this,e.duration);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.SetTxt=function(){this.m_hintLabel.string=h.GetInstance().GetString(m.StringKey.FEATURES_DEMO_PLAYING)},a(e,[{key:"HintLabel",get:function(){return this.m_hintLabel}}]),e}(f)).prototype,"m_anim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(b.prototype,"m_hintLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));u._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturesDemoSelectComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./SelectBtn.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,u,s,c,m,f,p,b,_,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.Prefab,s=e.Sprite,c=e.Label,m=e.Button,f=e.Component,p=e.instantiate},function(e){b=e.default},function(e){_=e.default},function(e){g=e.default},function(e){S=e.default}],execute:function(){var d,h,y,D,L,v,B,C,F,N,T,z;r._RF.push({},"08a01L0XOhCbbQjqSlx3aLy","FeaturesDemoSelectComponent",void 0);var E=a.ccclass,w=a.property;e("default",(d=w({type:l,tooltip:"選項"}),h=w({type:u,tooltip:"選項按鈕"}),y=w({type:l,tooltip:"提示節點"}),D=w({type:s,tooltip:"選單文字"}),L=w({type:c,tooltip:"表演提示文字"}),E((C=t((B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_menuNode",C,o(t)),i(t,"m_selectionPrefab",F,o(t)),i(t,"m_hintNode",N,o(t)),i(t,"m_btnSprite",T,o(t)),i(t,"m_selectHintLabel",z,o(t)),t.m_featuresDemoBtns=[],t}n(t,e);var r=t.prototype;return r.SetTxt=function(){var e=_.GetInstance().GetCommonAtlas();this.m_btnSprite.spriteFrame=e.getSpriteFrame("WinMore_FeatureList"),g.SetFont(this.m_selectHintLabel),this.m_selectHintLabel.string=_.GetInstance().GetString(b.StringKey.FEATURES_DEMO_SELECTION)},r.CreateSelection=function(e,t,n){for(var i=this,o=function(e){i.m_featuresDemoBtns[e]=p(i.m_selectionPrefab),i.m_menuNode.addChild(i.m_featuresDemoBtns[e]);var t=i.m_featuresDemoBtns[e].getComponent(S);g.SetFont(t.TxtLabel),t.TxtLabel.string=_.GetInstance().GetString(b.StringKey.FEATURES_BTN)+(e+1).toString(),i.m_featuresDemoBtns[e].on("click",(function(){i.m_featuresDemoBtns[e].getComponent(m).interactable=!1,n&&n(e)}))},r=0;r<e;r++)o(r)},r.SetSelected=function(e){this.m_featuresDemoBtns[e].getComponent(m).interactable=!1,0!==e&&(this.m_hintNode.active=!1)},r.SetLightNode=function(e){for(var t=0;t<this.m_featuresDemoBtns.length;t++)this.m_featuresDemoBtns[t].getComponent(S).LightNode.active=t===e},t}(f)).prototype,"m_menuNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"m_selectionPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(B.prototype,"m_hintNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"m_btnSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"m_selectHintLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/FeatureViewComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameAppA.ts","./ConnectionManager.ts","./LifeSocket.ts","./Define.ts","./EnvironmentConfig.ts","./MsgBox.ts","./AppManager.ts","./AutoShowManager.ts","./FiniteState.ts","./LocaleStringManager.ts","./LocalStorageManager.ts","./Tools.ts","./FeaturePageComponent.ts","./SoundManager.ts","./EventManager.ts","./StyleChangeManager.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,m,l,g,_,h,c,d,u,S,E,p,I,f,P,N,L,C,T,v,A,y,b,G,w,O,B,R,D,F,H,k,x,z,V,M,U,W,K,J,X,Y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Sprite,m=e.Animation,l=e.Node,g=e.Button,_=e.ProgressBar,h=e.Toggle,c=e.PageView,d=e.Label,u=e.tween,S=e.sys,E=e.screen,p=e.view,I=e.macro,f=e.size,P=e.ResolutionPolicy,N=e.input,L=e.Vec2,C=e.instantiate,T=e.UITransform,v=e.log,A=e.SpriteFrame,y=e.Size,b=e.error,G=e.Prefab,w=e.Component},function(e){O=e.default},function(e){B=e.default},function(e){R=e.default},function(e){D=e.default},function(e){F=e.default},function(e){H=e.default},function(e){k=e.default},function(e){x=e.default},function(e){z=e.default},function(e){V=e.default},function(e){M=e.default},function(e){U=e.default},function(e){W=e.default},function(e){K=e.default},function(e){J=e.default,X=e.CommonEventName},function(e){Y=e.styleChangeManager}],execute:function(){var j,q,Z,Q,$,ee,te,ie,ne,ae,re,oe,se,me,le,ge,_e,he,ce,de,ue,Se,Ee,pe,Ie,fe,Pe,Ne,Le,Ce,Te,ve,Ae,ye,be,Ge,we,Oe,Be,Re,De,Fe,He,ke;r._RF.push({},"af517ezHOVFpp2YPWZ9k4h3","FeatureViewComponent",void 0);var xe,ze="Clip_Intro_Landscape_Figure",Ve="Clip_Intro_Landscape_NoFigure",Me="Clip_Intro_Portrait",Ue=1136,We=640;!function(e){e[e.NONE=0]="NONE",e[e.LOAD_BUNDLE=1]="LOAD_BUNDLE",e[e.ASTT_LOCALE_STRING=2]="ASTT_LOCALE_STRING",e[e.LOCALE_STRING=3]="LOCALE_STRING",e[e.GAP_LOGIN=4]="GAP_LOGIN",e[e.CHECK_STYLE=5]="CHECK_STYLE",e[e.LOAD_SCENE=6]="LOAD_SCENE",e[e.IDLE=7]="IDLE"}(xe||(xe={}));var Ke=o.ccclass,Je=o.property;e("default",(j=Je({type:s,tooltip:"底圖,0:直,1:橫"}),q=Je({type:s,tooltip:"腳色"}),Z=Je({type:m,tooltip:"直橫轉換動畫"}),Q=Je({type:m,tooltip:"bar to btn"}),$=Je({type:l,tooltip:"展示遮罩"}),ee=Je({type:g,tooltip:"開始按鈕"}),te=Je({type:_,tooltip:"載入進度"}),ie=Je({type:h,tooltip:"是否再次顯示"}),ne=Je({type:s,tooltip:"角色"}),ae=Je({type:c,tooltip:"PageView"}),re=Je({type:g,tooltip:"左邊按鈕"}),oe=Je({type:l,tooltip:"特色按鈕"}),se=Je({type:g,tooltip:"右邊按鈕"}),me=Je({type:_,tooltip:"辣椒度"}),le=Je({type:l,tooltip:"頁簽提示背景"}),ge=Je({type:s,tooltip:"遊戲Logo"}),_e=Je({type:s,tooltip:"辣椒度"}),he=Je({type:s,tooltip:"不在顯示"}),ce=Je({type:d,tooltip:"確認按鈕"}),de=Je({type:d,tooltip:"載入進度"}),ue=Je({type:s,tooltip:"特色按鈕說明"}),Ke((pe=t((Ee=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"m_bgSprites",pe,a(t)),n(t,"m_characterSprite",Ie,a(t)),n(t,"m_changeAnim",fe,a(t)),n(t,"m_barChangeAnim",Pe,a(t)),n(t,"m_introNode",Ne,a(t)),n(t,"m_startBtn",Le,a(t)),n(t,"m_loadingProgressBar",Ce,a(t)),n(t,"m_closeToggle",Te,a(t)),n(t,"m_charaterSprite",ve,a(t)),n(t,"m_pageView",Ae,a(t)),n(t,"m_leftBtn",ye,a(t)),n(t,"m_featursNode",be,a(t)),n(t,"m_rightBtn",Ge,a(t)),n(t,"m_chilliProgressBar",we,a(t)),n(t,"m_indicatorBgNode",Oe,a(t)),n(t,"m_logoSprite",Be,a(t)),n(t,"m_chilliSprite",Re,a(t)),n(t,"m_showHintSprite",De,a(t)),n(t,"m_confirmLabel",Fe,a(t)),n(t,"m_loadingLabel",He,a(t)),n(t,"m_featuresSprite",ke,a(t)),t.m_state=new z(xe.NONE),t.m_sceneNode=null,t.m_isTada=!1,t.m_isClosed=!1,t.m_pageIdx=0,t.m_indexProgressBar=null,t.m_indexProgressBar_Jili=null,t.m_progressRunEnd=!1,t.m_isShowFeatures=!1,t.m_initSetting=null,t.m_scenePrefabPath="",t.m_gameImgPath="",t.m_gameId="",t.m_logoName="",t.m_pageComponents=[],t.m_isLockLandScope=!1,t.m_isLockPortrait=!1,t.m_logoSpriteAtlas=null,t.m_isCheckingLang=!1,t.m_checkLangTimes=0,t.m_jiliProgressRate=0,t.m_singleLogo=null,t.m_isCheckPass=!1,t.m_isConfigPass=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){J.GetInstance().Register(X.FeatureViewComponentInit,this)},r.OnEvent=function(e){switch(e){case X.FeatureViewComponentInit:this.m_initSetting=arguments.length<=1?void 0:arguments[1],D.OtherBundle=this.m_initSetting.OtherBundle,D.CommonBundle=this.m_initSetting.CommonBundle,D.GameBundle=this.m_initSetting.GameBundle,D.API_ID=this.m_initSetting.ApiID,U.SetTaDa(this.m_initSetting.IsTaDa),this.Init()}},r.Init=function(){var e=this;this.m_initSetting.IsStreet&&U.SetLine(D.LineSetting.street),D.StartSceneTime=this.m_initSetting.StartSceneTime,this.m_singleLogo=this.m_initSetting.SingleLogo,this.m_scenePrefabPath=this.m_initSetting.ScenePrefabPath,this.m_gameImgPath=this.m_initSetting.GameImgPath,this.m_gameId=this.m_initSetting.GameId,this.m_logoName=this.m_initSetting.LogoName,this.m_isLockLandScope=this.m_initSetting.IsLockLandScope,this.m_isLockPortrait=this.m_initSetting.IsLockPortrait,this.m_logoSpriteAtlas=this.m_initSetting.LogoSpriteAtlas,this.m_characterSprite.spriteFrame=this.m_initSetting.CharacterSpriteFrame;for(var t=0;t<this.m_initSetting.BgSpriteFrames.length;t++)this.m_bgSprites[t]&&(this.m_bgSprites[t].spriteFrame=this.m_initSetting.BgSpriteFrames[t]);this.m_chilliProgressBar.progress=U.divide(Math.floor(U.times(this.m_initSetting.ChilliNum/5,100)),100),this.m_indexProgressBar=document.getElementById("progressBar_TaDa_IN"),this.m_indexProgressBar_Jili=document.getElementById("progressBar_JiliNew_IN"),D.NOW_GAME_ID=this.m_gameId;var i=-1!=D.GLI_GAME_ID.indexOf(Number(D.NOW_GAME_ID)),n=-1!=D.BMM_GAME_ID.indexOf(Number(D.NOW_GAME_ID));if(this.m_isConfigPass=O.SetBaseConfig("",i||n),this.m_isTada=U.IsTada,U.AddReadyCb((function(){return e.IsDataReady()&&(e.m_isClosed||k.LobbyData&&k.LobbyData.skipFeature?(U.CloseIntroLoading.forEach((function(e){e()})),U.TriggerUnshow&&U.TriggerUnshow(),e.m_sceneNode.active=!0,e.m_introNode.active=!1,D.IsIntroNodeActive=e.m_introNode.active,B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.CLOSE_INTRO,D.PHASE_RESULT.SUCCESS)),x.GetInstance().CheckIntroViewClose(),e.ShowScene()):u(e.m_loadingProgressBar).to(.1,{progress:1}).call((function(){e.m_loadingProgressBar.progress=1,e.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" 100%",e.m_barChangeAnim.play("Clip_Intro_LoadingToButton"),e.m_featursNode.active=!U.CheckSwitchOff(D.SwitchOffKeyDefine.FeaturedDisplay)&&e.m_isShowFeatures,B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.OPEN_INTRO,D.PHASE_RESULT.SUCCESS))})).start()),e.m_isClosed})),U.NotifyFeaturesDemoOpen=function(){e.m_isShowFeatures=!0},U.AddProgressCb((function(t){u(e.m_loadingProgressBar).to(.2,{progress:t}).call((function(){var i=100*t;e.m_loadingProgressBar.progress=t,e.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" "+i.toString()+"%"})).start()})),this.m_startBtn.node.active=!1,this.m_loadingProgressBar.progress=0,this.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" 0%",this.m_closeToggle.node.on("toggle",(function(){if(e.IsDataReady()){var t=D.AID+":"+D.NOW_GAME_ID+":"+D.CloseIntroKey;M.SetBool(t,e.m_closeToggle.isChecked)}})),this.SetBtnState(),this.m_pageView.node.on("page-turning",(function(){e.m_pageIdx=e.m_pageView.getCurrentPageIndex(),e.SetBtnState()})),this.OnRotation(),U.AddOnRotationCb((function(){e.OnRotation()})),B.getInstance().AddSetting(D.PROTOCOL.PHASE_EVENT,B.CONNECT_TYPE.TYPE_HTTP,null,null,F.PHASE_URL),B.getInstance().SendPhaseEnteringEvent(this.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.FEATURE_VIEW_INIT,D.PHASE_RESULT.SUCCESS)),this.m_state.NextState(xe.LOAD_BUNDLE),(!S.isNative||!1==!!globalThis.LobbyData&&U.GetLinkParameterByName("LobbyData").length<=0)&&this.m_isLockPortrait){var a=E.windowSize;p.setOrientation(I.ORIENTATION_PORTRAIT),a.width>a.height&&(E.windowSize=f(a.height,a.width)),p.setDesignResolutionSize(We,Ue,P.SHOW_ALL),window.dispatchEvent(new Event("resize")),N._touchInput._getLocation=function(e,t){var i="rotate(90deg)"==document.getElementById("GameDiv").style.transform,n=e.clientX-t.x,a=t.y+t.height-e.clientY;if(i)if(-90!=window.orientation){var r=n;n=a,a=t.width-r}else{var o=n;n=t.height-a,a=o}var s=E.devicePixelRatio;return new L(n*=s,a*=s)}}K.getInstance().Init(this.node.parent)},r.CreateIntroPages=function(){if(this.m_pageView.getPages().length!==this.m_initSetting.PagePrefabs.length)for(var e=0;e<this.m_initSetting.PagePrefabs.length;e++){var t=C(this.m_initSetting.PagePrefabs[e]);this.m_pageView.addPage(t);var i=t.getComponent(W);if(this.m_pageComponents.push(i),i.SetFeatureSpriteFrame(this.m_initSetting.FeatureSpriteFrames[e]),i.ImgName=this.m_initSetting.InfoNames[e],e>=this.m_indicatorBgNode.children.length){var n=C(this.m_indicatorBgNode.children[0]);this.m_indicatorBgNode.addChild(n)}}},r.ReactiveCanvas=function(){var e=this;this.node.parent.active=!1,this.node.parent.active=!0,u(this.node).call((function(){e.OnRotation(!0)})).delay(1).call((function(){e.node.parent.active=!1,e.node.parent.active=!0})).start()},r.update=function(){var e=this;(!this.node.parent.getComponent(T).contentSize||this.node.parent.getComponent(T).contentSize&&(Number.isNaN(this.node.parent.getComponent(T).contentSize.width)||Number.isNaN(this.node.parent.getComponent(T).contentSize.height)))&&(!this.node.parent.getComponent(T).contentSize||Number.isNaN(this.node.parent.getComponent(T).contentSize.width)||Number.isNaN(this.node.parent.getComponent(T).contentSize.height)||this.ReactiveCanvas());try{switch(this.m_state.Tick()){case xe.LOAD_BUNDLE:if(this.m_state.IsEntering()){var t;v("LOAD_BUNDLE"),k.LoadVersion("game");var i="true"===(null==(t=U.GetLinkParameterByName("legalLang"))||null==t.toLowerCase?void 0:t.toLowerCase());S.isNative||i||F.ENV_TYPE==D.EVN.TEST||(this.m_isCheckingLang=!0,this.CheckLang(navigator.language),B.getInstance().SendPhaseEnteringEvent(this.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.CHECK_LANG,D.PHASE_RESULT.SUCCESS)))}D.OtherBundle&&D.CommonBundle&&D.GameBundle&&!this.m_isCheckingLang&&(this.m_indexProgressBar&&(this.m_indexProgressBar.style.width="92%"),this.m_indexProgressBar_Jili&&(this.m_indexProgressBar_Jili.style.width="92%"),H.getInstance().Init(this.node.parent,(function(e){return V.GetInstance().GetString(e)})),this.m_state.NextState(xe.ASTT_LOCALE_STRING));break;case xe.ASTT_LOCALE_STRING:this.m_state.IsEntering()&&(v("ASTT_LOCALE_STRING"),V.GetInstance().LoadStringFile()),V.GetInstance().IsLoaded()&&this.m_state.NextState(xe.GAP_LOGIN);break;case xe.GAP_LOGIN:this.m_state.IsEntering()&&(v("GAP_LOGIN"),this.m_isConfigPass?this.GameAppInit():H.getInstance().ShowMessageBox(D.StringKey.MSGBOX_LOGIN_FAIL,null,U.CloseGameTab,U.GetErrorCode(D.ErrorStatus.PlatForm,99.5)));break;case xe.LOCALE_STRING:this.m_state.IsEntering()&&(v("LOCALE_STRING"),Y.CheckSetting(this.m_initSetting.StyleSetting),V.GetInstance().LoadGameAtlasFile(this.m_gameImgPath)),V.GetInstance().IsGameLoaded()&&(this.m_indexProgressBar&&(this.m_indexProgressBar.style.width="93%"),this.m_indexProgressBar_Jili&&(this.m_indexProgressBar_Jili.style.width="93%"),this.m_state.NextState(xe.CHECK_STYLE));break;case xe.CHECK_STYLE:if(this.m_state.IsEntering())if(v("CHECK_STYLE"),Y.NeedChange){var n=[],a=function(){n.push(!0);var t=(5*n.length).toString();e.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" "+t,e.m_isCheckPass=n[0]&&n[1]};Y.LoadNewIntro(this.m_initSetting.PagePrefabs.length,(function(t){e.m_initSetting.PagePrefabs=t,e.CreateIntroPages(),a()})),Y.LoadNewLogo(!!this.m_singleLogo,(function(t){t instanceof A?e.m_singleLogo=t:e.m_logoSpriteAtlas=t,a()}))}else this.CreateIntroPages(),this.m_isCheckPass=!0;this.m_isCheckPass&&(this.SetTxt(),this.m_state.NextState(xe.LOAD_SCENE));break;case xe.LOAD_SCENE:this.m_state.IsEntering()&&(v("LOAD_SCENE"),this.LoadScenePrefab()),this.m_sceneNode&&this.ToIdle();break;case xe.IDLE:this.m_state.IsEntering()&&v("IDLE")}}catch(e){console.error("state error",e,this.m_state.Current())}},r.ToIdle=function(){var e=D.AID+":"+D.NOW_GAME_ID+":"+D.CloseIntroKey;this.m_isClosed=M.GetBool(e),this.m_isClosed?(this.m_indexProgressBar&&(this.m_indexProgressBar.style.width="95%"),this.m_indexProgressBar_Jili&&(this.m_indexProgressBar_Jili.style.width="95%")):(this.m_indexProgressBar&&(this.m_indexProgressBar.style.width="100%"),this.m_indexProgressBar_Jili&&(this.m_indexProgressBar_Jili.style.width="100%"),this.ShowScene()),this.m_state.NextState(xe.IDLE)},r.CheckLang=function(e){var t=this;if(this.m_checkLangTimes++,this.m_checkLangTimes>2)return this.m_isCheckingLang=!1,void B.getInstance().SendPhaseEnteringEvent(this.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.GET_LANG,D.PHASE_RESULT.UNKNOWN));var i=new XMLHttpRequest;i.open("POST",F.WEBAPI_URL+"CheckLang",!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=1e4,i.onload=function(){if(4==i.readyState)if(i.status>=200&&i.status<300||304==i.status)if(i.responseText){var n=JSON.parse(i.responseText),a=V.FormatLang(n.lang);""!==a&&V.SetCurrLang(a),t.m_isCheckingLang=!1,B.getInstance().SendPhaseEnteringEvent(t.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.GET_LANG,D.PHASE_RESULT.SUCCESS))}else t.CheckLang(e);else t.CheckLang(e)},i.ontimeout=function(){t.CheckLang(e)},i.onerror=function(){t.CheckLang(e)},i.send(JSON.stringify({lang:e}))},r.ProgressRun=function(){var e=this,t=U.divide(2,.02),i=5,n=U.divide(U.strip(100-i),t);u(this.node).repeat(t,u().sequence(u().call((function(){(i+=n)>=100&&(i=100);var t=i.toString()+"%";e.m_indexProgressBar&&(e.m_indexProgressBar.style.width=t),e.m_indexProgressBar_Jili&&(e.m_indexProgressBar_Jili.style.width=t)})),u().delay(.02))).call((function(){e.m_progressRunEnd=!0})).start()},r.OnClickStartBtn=function(){var e=this;if(this.IsDataReady()){if(!this.m_isClosed){var t=D.AID+":"+D.NOW_GAME_ID+":"+D.CloseIntroKey;M.SetBool(t,this.m_closeToggle.isChecked)}U.CloseIntroLoading.forEach((function(e){e()})),this.m_sceneNode.active=!0;var i=this.node.getComponent(m);i.play("Clip_Intro_Transition");var n=i.getState("Clip_Intro_Transition");u(this.node).delay(n.duration).call((function(){e.m_introNode.active=!1,D.IsIntroNodeActive=e.m_introNode.active,B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.CLOSE_INTRO,D.PHASE_RESULT.SUCCESS)),x.GetInstance().CheckIntroViewClose()})).start()}},r.OnClickFeaturesBtn=function(){var e=this;if(this.IsDataReady()){if(!this.m_isClosed){var t=D.AID+":"+D.NOW_GAME_ID+":"+D.CloseIntroKey;M.SetBool(t,this.m_closeToggle.isChecked)}U.TriggerFeaturesShow&&U.TriggerFeaturesShow(),this.m_sceneNode.active=!0;var i=this.node.getComponent(m);i.play("Clip_Intro_Transition");var n=i.getState("Clip_Intro_Transition");u(this.node).delay(n.duration).call((function(){e.m_introNode.active=!1,D.IsIntroNodeActive=e.m_introNode.active,B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.CLOSE_INTRO,D.PHASE_RESULT.SUCCESS)),x.GetInstance().CheckIntroViewClose()})).start()}},r.OnChangePage=function(e,t){Boolean(Number(t))?(this.m_pageIdx++,this.m_pageIdx>=this.m_pageView.getPages().length&&(this.m_pageIdx=this.m_pageView.getPages().length-1)):(this.m_pageIdx--,this.m_pageIdx<0&&(this.m_pageIdx=0)),this.m_pageView.setCurrentPageIndex(this.m_pageIdx),this.SetBtnState()},r.SetBtnState=function(){this.m_leftBtn.node.active=!0,this.m_rightBtn.node.active=!0,0===this.m_pageIdx?this.m_leftBtn.node.active=!1:this.m_pageIdx+1===this.m_pageView.getPages().length&&(this.m_rightBtn.node.active=!1)},r.SetTxt=function(){if(V.CurrLang!==D.Lang.EN){var e=V.GetInstance().GetCommonAtlas();this.m_chilliSprite.spriteFrame=e.getSpriteFrame("Intro_Volatility"),this.m_showHintSprite.spriteFrame=e.getSpriteFrame("Intro_Show"),this.m_featuresSprite.spriteFrame=e.getSpriteFrame("Intro_Playing")}if(this.m_singleLogo)this.m_logoSprite.spriteFrame=this.m_singleLogo;else if(this.m_logoSpriteAtlas){var t=this.m_logoSpriteAtlas.getSpriteFrame(this.m_logoName+"_"+V.CurrLang);this.m_logoSprite.spriteFrame=t||this.m_logoSpriteAtlas.getSpriteFrame(this.m_logoName+"_en")}U.SetFont(this.m_confirmLabel),U.SetFont(this.m_loadingLabel),this.m_confirmLabel.string=V.GetInstance().GetString(D.StringKey.INTRO_CONTINUE),this.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" 0%";for(var i=0;i<this.m_pageComponents.length;i++)this.m_pageComponents[i].SetTxt()},r.OnRotation=function(e){void 0===e&&(e=!1),"rotate(90deg)"==document.getElementById("GameDiv").style.transform&&-90!=window.orientation&&!this.m_isLockLandScope?(document.getElementById("Cocos3dGameContainer").style["-webkit-transform"]="rotate(180deg)",document.getElementById("Cocos3dGameContainer").style.transform="rotate(180deg)"):(document.getElementById("Cocos3dGameContainer").style["-webkit-transform"]="rotate(0deg)",document.getElementById("Cocos3dGameContainer").style.transform="rotate(0deg)");var t=E.windowSize.width/E.devicePixelRatio,i=E.windowSize.height/E.devicePixelRatio,n=new y(t,i),a=n.width>n.height;if(this.m_isLockLandScope||this.m_isLockPortrait?(this.m_isLockLandScope&&(e&&(n.width/n.height<=1.775?p.setDesignResolutionSize(Ue,We,P.FIXED_WIDTH):p.setDesignResolutionSize(Ue,We,P.FIXED_HEIGHT)),this.m_charaterSprite.spriteFrame?this.m_changeAnim.play(ze):this.m_changeAnim.play(Ve)),this.m_isLockPortrait&&(e&&(n.height/n.width<=1.775?p.setDesignResolutionSize(We,Ue,P.FIXED_HEIGHT):p.setDesignResolutionSize(We,Ue,P.FIXED_WIDTH)),this.m_changeAnim.play(Me))):a?(n.width/n.height<=1.775?p.setDesignResolutionSize(Ue,We,P.FIXED_WIDTH):p.setDesignResolutionSize(Ue,We,P.FIXED_HEIGHT),this.m_charaterSprite.spriteFrame?this.m_changeAnim.play(ze):this.m_changeAnim.play(Ve)):(n.height/n.width<=1.775?p.setDesignResolutionSize(We,Ue,P.FIXED_HEIGHT):p.setDesignResolutionSize(We,Ue,P.FIXED_WIDTH),this.m_changeAnim.play(Me)),S.os===S.OS.IOS&&S.browserType==S.BrowserType.SAFARI){var r=window.innerWidth;if(r>window.innerHeight!=document.documentElement.clientWidth>document.documentElement.clientHeight)return window.innerWidth=document.documentElement.clientWidth,window.innerHeight=document.documentElement.clientHeight,void window.dispatchEvent(new Event("orientationchange"));if(Math.abs(r-document.documentElement.clientWidth)>100)return window.innerWidth=document.documentElement.clientWidth,window.innerHeight=document.documentElement.clientHeight,void window.dispatchEvent(new Event("resize"))}},r.ShowScene=function(){var e=document.getElementById("splash");e&&(e.style.display="none")},r.SetJiliProgress=function(){this.m_jiliProgressRate+=.5,b("SetJiliProgress",this.m_jiliProgressRate),U.SetJiliProgressBar(this.m_jiliProgressRate)},r.LoadScenePrefab=function(){var e=this;D.GameBundle.load(Y.CheckScenePath(this.m_scenePrefabPath),G,(function(t,i){var n=.1+U.divide(t,i)-.2;if(n>e.m_loadingProgressBar.progress){e.m_loadingProgressBar.progress=n;var a=Math.floor(U.times(n,100))+"%";e.m_loadingLabel.string=V.GetInstance().GetString(D.StringKey.MSGBOX_ONLOADING)+" "+a}}),(function(t,i){if(t)return console.error("LoadScenePrefab err",t.message||t),void e.LoadScenePrefab();B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.LOADING_GAME_VEIEW_END,D.PHASE_RESULT.SUCCESS)),e.m_sceneNode=C(i),e.m_introNode.parent.addChild(e.m_sceneNode),U.SetZIndex(e.m_sceneNode,-1)}))},r.IsDataReady=function(){return D.AID!==D.DEFAULT_AID&&"0"!==D.NOW_GAME_ID},r.GameAppInit=function(){var e=this;R.GetInstance().CountCb=function(t){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.SOCKET_CONNECTION_TIME,t))},R.GetInstance().OnErrorCb=function(){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.SOCKET_CONNECTION_ERROR,1))},R.GetInstance().ServiceCb=function(t){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.SOCKET_RESULT,t))};var t=U.GetLinkParameterByName("ssoKey");!U.GetLinkParameterByName("env")&&t?D.APP=new O(Number(D.NOW_GAME_ID),(function(){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.LOGIN_GAP_END,D.PHASE_RESULT.SUCCESS))}),t,(function(){}),(function(){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.LOGIN_GAP,D.PHASE_RESULT.SUCCESS))}),(function(t){B.getInstance().SendPhaseEnteringEvent(e.FormPhaseEventParams(D.PHASE_ENTERING_EVENT.LOGIN_GAP_END,t))}),F.GAME_SERVER_URL,(function(){D.ALIVE_INTERVAL=setInterval((function(){R.GetInstance().SendAliveMsg()}),7e3),e.IsDataReady()&&e.m_state.NextState(xe.LOCALE_STRING)})):this.m_state.NextState(xe.LOCALE_STRING)},r.FormPhaseEventParams=function(e,t){var i=-1,n=0,a=U.GetLinkParameterByName("ssoKey");return D.APP&&D.APP.userInfo&&(i=D.APP.userInfo.aid,n=D.APP.userInfo.apiid),B.FormPhaseEventParams(i,Number(D.NOW_GAME_ID),D.VERSION,e,t,a,n.toString())},t}(w)).prototype,"m_bgSprites",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=t(Ee.prototype,"m_characterSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Ee.prototype,"m_changeAnim",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Ee.prototype,"m_barChangeAnim",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Ee.prototype,"m_introNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Ee.prototype,"m_startBtn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(Ee.prototype,"m_loadingProgressBar",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Ee.prototype,"m_closeToggle",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(Ee.prototype,"m_charaterSprite",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Ee.prototype,"m_pageView",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(Ee.prototype,"m_leftBtn",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Ee.prototype,"m_featursNode",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ee.prototype,"m_rightBtn",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Ee.prototype,"m_chilliProgressBar",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Ee.prototype,"m_indicatorBgNode",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Ee.prototype,"m_logoSprite",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Ee.prototype,"m_chilliSprite",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Ee.prototype,"m_showHintSprite",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ee.prototype,"m_confirmLabel",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ee.prototype,"m_loadingLabel",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Ee.prototype,"m_featuresSprite",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Ee))||Se));r._RF.pop()}}}));

System.register("chunks:///_virtual/FiniteState.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e9665pFgelDT6gIc+ErJq/h","FiniteState",void 0);t("default",function(){var t=e.prototype;function e(t){this.m_currState=0,this.m_nextState=0,this.m_transitTime=0,this.m_toTransit=!0,this.m_forced=!1,this.m_entering=!1,this.m_currState=t,this.m_nextState=t}return t.start=function(){},t.Tick=function(){return this.m_toTransit?(this.m_currState=this.m_nextState,this.m_transitTime=(new Date).getTime()/1e3,this.m_toTransit=!1,this.m_forced=!1,this.m_entering=!0):this.m_entering=!1,this.m_currState},t.NextState=function(t){this.m_forced||(this.m_nextState=t,this.m_toTransit=!0)},t.Current=function(){return this.m_currState},t.Elapsed=function(){return(new Date).getTime()/1e3-this.m_transitTime},t.IsEntering=function(){return this.m_entering},t.ForceTransit=function(t){this.m_nextState=t,this.m_toTransit=!0,this.m_forced=!0},t.GetTransit=function(){return this.m_toTransit},e}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FloatView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,o,s,e,n,h,r,m,_,a,d,u,c,f,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,s=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){n=i.cclegacy,h=i._decorator,r=i.Node,m=i.UITransform,_=i.screen,a=i.Size,d=i.view,u=i.tween,c=i.v3,f=i.size,p=i.Component}],execute:function(){var y,x,l,P,v,g,V,S,z,w,b,M;n._RF.push({},"c49e70BoelHt7vmNmM+Flzr","FloatView",void 0);var I=h.ccclass,T=h.property;i("default",(y=T({tooltip:"滑動範圍是否是「可視」範圍(不可複數選擇，不選預設為遊戲畫面大小)"}),x=T({tooltip:"滑動範圍是否是「父節點」範圍(不可複數選擇，不選預設為遊戲畫面大小)"}),l=T({tooltip:"是否可慣性滑動"}),P=T({tooltip:"是否使用固定原始位置"}),v=T({tooltip:"測試模式(自動註冊踏取事件)"}),I((S=t((V=function(i){function t(){for(var t,o=arguments.length,n=new Array(o),h=0;h<o;h++)n[h]=arguments[h];return t=i.call.apply(i,[this].concat(n))||this,s(t,"m_isVisibleSize",S,e(t)),s(t,"m_isParentSize",z,e(t)),s(t,"m_canInertia",w,e(t)),s(t,"m_isOriginPos",b,e(t)),s(t,"m_isDefaultTouch",M,e(t)),t.iV=void 0,t.m_curPos=void 0,t.m_diffX=void 0,t.m_diffY=void 0,t.m_inertiaMosionSchedule=void 0,t.m_maxPos=void 0,t.m_originPos=void 0,t.m_posIndex=void 0,t.m_preMovePos=void 0,t.m_recordPos=[],t.m_size=void 0,t.m_startPos=void 0,t.m_xStop=void 0,t.m_yStop=void 0,t.m_boundary=0,t.m_isOpenBoundary=!1,t.m_sizeChangeRate=1,t}o(t,i);var n=t.prototype;return n.onLoad=function(){var i=this;this.m_curPos=this.node.position,this.m_originPos=this.node.position,this.m_isDefaultTouch&&(this.node.on(r.EventType.TOUCH_START,(function(t){i.OnTouchStart(t.getUILocation())})),this.node.on(r.EventType.TOUCH_MOVE,(function(t){i.OnTouchMove(t.getUILocation())})),this.node.on(r.EventType.TOUCH_END,(function(t){i.OnTouchEnd(t.getUILocation(),null)}))),this.m_size=this.node.getComponent(m).contentSize,this.SetDiffPos();for(var t=0;t<6;t++)this.m_recordPos[t]=this.m_curPos},n.start=function(){},n.SetBoundary=function(i,t){this.m_isOpenBoundary=i,this.m_boundary=t,this.ChangeBoundaryForPosition()},n.ResetPosition=function(){this.m_isOriginPos?(this.node.position=this.m_originPos,this.m_curPos=this.m_originPos):this.m_curPos=this.node.position},n.SetDiffPos=function(){var i=this;if(this.m_size){var t,o,s,e=_.windowSize.width/_.devicePixelRatio,n=_.windowSize.height/_.devicePixelRatio,h=new a(e,n),r=d.getVisibleSize();t=r,this.UnscheduleInertiaMosion(),u(this.node).delay(.1).call((function(){i.ResetPosition();var e=h.width>h.height,n=i.node.parent.getComponent(m).convertToWorldSpaceAR(i.node.position);if(i.m_isVisibleSize)o=0,s=0,i.m_maxPos=c(t.width-i.m_size.width,t.height-i.m_size.height);else if(i.m_isParentSize){var _=i.node.parent,a=_.parent.getComponent(m).convertToWorldSpaceAR(_.position),d=c(r.width/2,r.height/2);e?(o=(r.width-_.getComponent(m).width)/2+(a.x-d.x),s=(r.height-_.getComponent(m).height)/2+(a.y-d.y),i.m_sizeChangeRate=r.x/h.x):(o=(r.width-_.getComponent(m).width)/2+(a.x-d.x),s=(r.height-_.getComponent(m).height)/2+(a.y-d.y),i.m_sizeChangeRate=r.y/h.y),i.m_maxPos=c(_.getComponent(m).width-i.m_size.width,_.getComponent(m).height-i.m_size.height)}else e?(o=(r.width-1136)/2,s=(r.height-640)/2,t=f(1136,640)):(o=(r.width-640)/2,s=(r.height-1136)/2,t=f(640,1136)),i.m_maxPos=c(t.width-i.m_size.width,t.height-i.m_size.height);i.m_diffX=n.x-i.node.position.x-i.m_size.width/2-o,i.m_diffY=n.y-i.node.position.y-i.m_size.height/2-s})).start()}},n.OnTouchStart=function(i){this.m_preMovePos=c(i.x,i.y),this.m_startPos=c(i.x,i.y),this.UnscheduleInertiaMosion(),this.m_posIndex=1;for(var t=0;t<6;t++)this.m_recordPos[t]=this.m_curPos},n.OnTouchMove=function(i){var t=i.x-this.m_preMovePos.x,o=i.y-this.m_preMovePos.y,s=this.m_curPos.x+t,e=this.m_curPos.y+o;s<0-this.m_diffX&&(s=0-this.m_diffX),s>this.m_maxPos.x-this.m_diffX-(this.m_isOpenBoundary?this.m_boundary:0)&&(s=this.m_maxPos.x-this.m_diffX-(this.m_isOpenBoundary?this.m_boundary:0)),e<0-this.m_diffY&&(e=0-this.m_diffY),e>this.m_maxPos.y-this.m_diffY&&(e=this.m_maxPos.y-this.m_diffY),this.m_curPos=c(s,e),this.node.position=this.m_curPos,this.m_preMovePos=c(i.x,i.y),this.m_recordPos[this.m_posIndex]=this.m_curPos,this.m_posIndex=(this.m_posIndex+1)%6},n.OnTouchEnd=function(i,t){var o=i.x-this.m_startPos.x,s=i.y-this.m_startPos.y;if(Math.abs(o)<10&&Math.abs(s)<10)t&&t();else{o=i.x-this.m_preMovePos.x,s=i.y-this.m_preMovePos.y;var e=this.m_curPos.x+o,n=this.m_curPos.y+s;e<0-this.m_diffX&&(e=0-this.m_diffX),e>this.m_maxPos.x-this.m_diffX-(this.m_isOpenBoundary?this.m_boundary:0)&&(e=this.m_maxPos.x-this.m_diffX-(this.m_isOpenBoundary?this.m_boundary:0)),n<0-this.m_diffY&&(n=0-this.m_diffY),n>this.m_maxPos.y-this.m_diffY&&(n=this.m_maxPos.y-this.m_diffY),this.m_curPos=c(e,n),this.node.position=this.m_curPos,this.m_canInertia&&this.DoInertia(this.m_recordPos[this.m_posIndex],this.m_curPos)}},n.ChangeBoundaryForPosition=function(){if(this.m_isOpenBoundary&&this.m_curPos&&this.m_maxPos){var i=this.node.getComponent(m).width/2;this.m_curPos.x+i+this.m_boundary>this.m_maxPos.x/2&&(this.m_curPos.x=this.m_maxPos.x/2-this.m_boundary,this.node.position=this.m_curPos)}},n.DoInertia=function(i,t){var o=this;if(i){var s=c(t.x-i.x,t.y-i.y);this.iV=c(30*s.x/6,30*s.y/6),0!=Math.sqrt(this.iV.x*this.iV.x+this.iV.y*this.iV.y)&&(this.m_inertiaMosionSchedule=function(i){var t=o.GetResistance(),s=o.iV.x*i,e=o.iV.y*i,n=o.m_curPos.x+s;n<0-o.m_diffX?(o.iV.x=-o.iV.x,t.x=-t.x,n=0-o.m_diffX):n>o.m_maxPos.x-o.m_diffX&&(o.iV.x=-o.iV.x,t.x=-t.x,n=2*(o.m_maxPos.x-o.m_diffX)-n);var h=o.m_curPos.y+e;h<0-o.m_diffY?(o.iV.y=-o.iV.y,t.y=-t.y,h=0-o.m_diffY):h>o.m_maxPos.y-o.m_diffY&&(o.iV.y=-o.iV.y,t.y=-t.y,h=2*(o.m_maxPos.y-o.m_diffY)-h),o.m_curPos=c(n,h),o.node.position=o.m_curPos;var r=o.iV.x+t.x*i,m=o.iV.y+t.y*i;o.iV.x*r<=0&&(o.m_xStop=!0),o.iV.y*m<=0&&(o.m_yStop=!0),o.m_xStop&&o.m_yStop?o.UnscheduleInertiaMosion():(o.m_xStop||(o.iV.x=r),o.m_yStop||(o.iV.y=m))},this.UnscheduleInertiaMosion(),this.schedule(this.m_inertiaMosionSchedule,1/60))}},n.GetResistance=function(){var i,t,o=Math.sqrt(this.iV.x*this.iV.x+this.iV.y*this.iV.y);return o<30?(i=30*this.iV.x/o,t=30*this.iV.y/o):(i=.3*this.iV.x,t=.3*this.iV.y),c(-i,-t)},n.UnscheduleInertiaMosion=function(){this.m_inertiaMosionSchedule&&(this.unschedule(this.m_inertiaMosionSchedule),this.m_xStop=null,this.m_yStop=null)},t}(p)).prototype,"m_isVisibleSize",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(V.prototype,"m_isParentSize",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(V.prototype,"m_canInertia",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=t(V.prototype,"m_isOriginPos",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=t(V.prototype,"m_isDefaultTouch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=V))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/GaiaManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectManager.ts","./gaiaProto.mjs_cjs=&original=.js","./Define.ts","./JPManager.ts","./Wallet.ts","./ManagerDataStructure.ts","./MHBManager.ts","./gaiaProto.js"],(function(n){"use strict";var e,t,i,a,o,l,r,c,u,s;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,i=n.log},function(n){a=n.default},null,function(n){o=n.default},function(n){l=n.default},function(n){r=n.walletManger},function(n){c=n.ManagerDataStructure},function(n){u=n.default},function(n){s=n.default}],execute:function(){t._RF.push({},"a3830CWf9pI/4MSL9TTMfvS","GaiaManager",void 0);var f=n("gaiaManager",new(function(){function n(){this.m_bottomBar=null}var t=n.prototype;return t.CheckAck=function(n,e){if(i("CheckAck",n),"boolean"!=typeof n){if(n instanceof ArrayBuffer){var t=new Uint8Array(n);n=s.gaiaProto.GaiaResponse.decode(t)}i("Sever ack decode",n,n.ret),null!=n.ret&&0!=n.ret||null==e||e(n.type,n.data,n)}},t.JpManagerInit=function(){var n,e=this;if(null==(n=o.GameSwitchOff)||!n.IsCloseJP){var t=new s.gaiaProto.UnionJPBlockReq;t.aid=Number(o.APP.GetAID()),t.token=o.APP.GetAToken(),r.HasWallet&&(t.currencynumber=r.CurencyID);var i=new c.JPBlockReq;i.reqData=s.gaiaProto.UnionJPBlockReq.encode(t).finish(),a.GetInstance().SendCommand(i,(function(n){f.CheckAck(n,(function(n,t){var i=s.gaiaProto.UnionJPBlockAck.decode(t),r=i.list&&i.list.length>0?i.list:[0,0,0,0];l.GetInstance().Init(e.m_bottomBar,r,(function(n){var e=new s.gaiaProto.UnionJPInfoReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.JPInfoReq;t.reqData=s.gaiaProto.UnionJPInfoReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.UnionJPInfoAck.decode(t),a=[];if(i.list)for(var o=0;o<i.list.length;o++)a.push({type:i.list[o].type,value:i.list[o].value});null==n||n(a)}))}),!1,!0)}),(function(n){var e=new s.gaiaProto.UnionJPHistoryReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.JPHistoryReq;t.reqData=s.gaiaProto.UnionJPHistoryReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.UnionJPHistoryAck.decode(t),a=[];if(i.list)for(var o=0;o<i.list.length;o++)a.push({type:i.list[o].type,winner:i.list[o].winner,win:i.list[o].win,gameID:i.list[o].gameID,nickname:i.list[o].nickname});null==n||n(a)}))}),!1,!0)}),(function(n){var e=new s.gaiaProto.UnionJPInfoAllReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.JPBAllReq;t.reqData=s.gaiaProto.UnionJPInfoAllReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.UnionJPInfoAllAck.decode(t),a={info:i.plist,game:i.glist};null==n||n(a)}))}),!1,!0)}))}))}),!1,!0)}},t.MhbManagerInit=function(){var n;if(null==(n=o.GameSwitchOff)||!n.IsCloseMHB){u.GetInstance().Init(this.m_bottomBar,(function(n){var e=new s.gaiaProto.FullJPInfoReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.MHBInfoReq;t.reqData=s.gaiaProto.FullJPInfoReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.FullJPInfoAck.decode(t),a={value:i.value?i.value:0,full:i.full?i.full:0,minvip:i.minvip?i.minvip:0,minbet:i.minbet?i.minbet:0};null==n||n(a)}))}),!1,!0)}),(function(n){var e=new s.gaiaProto.FullJPInfoAllReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.MHBInfoAllReq;t.reqData=s.gaiaProto.FullJPInfoAllReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.FullJPInfoAllAck.decode(t),a=[];if(i.list)for(var o=0;o<i.list.length;o++)a.push({gameid:i.list[o].gameid?i.list[o].gameid:0,value:i.list[o].value?i.list[o].value:0,full:i.list[o].full?i.list[o].full:0});null==n||n(a)}))}),!1,!0)}),(function(n){var e=new s.gaiaProto.FullJPHistoryReq;e.aid=Number(o.APP.GetAID()),e.token=o.APP.GetAToken();var t=new c.MHBHistoryReq;t.reqData=s.gaiaProto.FullJPHistoryReq.encode(e).finish(),a.GetInstance().SendCommand(t,(function(e){f.CheckAck(e,(function(e,t){var i=s.gaiaProto.FullJPHistoryAck.decode(t),a=[];if(i.list)for(var o=0;o<i.list.length;o++)a.push({winner:i.list[o].winner?i.list[o].winner:"",nickname:i.list[o].nickname?i.list[o].nickname:"",win:i.list[o].win?i.list[o].win:0,time:i.list[o].time?i.list[o].time:0});null==n||n(a)}))}),!1,!0)}))}},e(n,[{key:"BottomBar",set:function(n){this.m_bottomBar=n}}]),n}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameAppA.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./GameAppBaseView.ts","./Request.ts","./Define.ts","./MsgBox.ts","./EnvironmentConfig.ts","./LifeSocket.ts","./ConnectionManager.ts","./AppManager.ts","./LocaleStringManager.ts","./StyleChangeManager.ts"],(function(e){"use strict";var a,R,_,t,L,n,i,o,r,E,U,l,c,T,A,I,O,s;return{setters:[function(e){a=e.inheritsLoose,R=e.createClass,_=e.assertThisInitialized},function(e){t=e.cclegacy,L=e.log,n=e.sys},function(e){i=e.default},function(e){o=e.default},function(e){r=e.Request,E=e.DEFAULT_REQUEST_OPTIONS},function(e){U=e.default},function(e){l=e.default},function(e){c=e.default},function(e){T=e.default},function(e){A=e.default},function(e){I=e.default},function(e){O=e.default},function(e){s=e.styleChangeManager}],execute:function(){t._RF.push({},"46ecfUJdZdD4L4Ol79PbSJJ","GameAppA",void 0);var C=[U.GAME_ID.WS,U.GAME_ID.HB,U.GAME_ID.SH,U.GAME_ID.SH2,U.GAME_ID.SH3,U.GAME_ID.SH4,U.GAME_ID.SH5,U.GAME_ID.FS,U.GAME_ID.XYY,U.GAME_ID.LFS,U.GAME_ID.LGB,U.GAME_ID.FH,U.GAME_ID.RB2,U.GAME_ID.PLY,U.GAME_ID.NC,U.GAME_ID.LL,U.GAME_ID.SS,U.GAME_ID.TW,U.GAME_ID.GA,U.GAME_ID.USA_NC,U.GAME_ID.USA_FH,U.GAME_ID.LUDO,U.GAME_ID.LUDOQ],u=e("default",function(e){function t(a,R,t,L,n,i,o,r,E){var l;return void 0===o&&(o=null),void 0===r&&(r=null),void 0===E&&(E=null),(l=e.call(this)||this).CHECK_KEEPLIVE_COUNT=7,l.m_atoken=void 0,l.m_aid=void 0,l.m_tmpLoginCB=void 0,l.m_tmpLoginIP=void 0,l.m_tmpConSettingCB=void 0,l.m_keepAliveCount=0,l.m_loginFailParamsCb=void 0,l.m_gameid=U.GAME_ID.DEFAULT,l.m_loginFunc=void 0,l.m_failCount=0,l.m_freeSpinBet=0,l.m_tmpLoginCB=L,l.m_tmpLoginIP=o,l.m_tmpConSettingCB=R,l.m_loginFailParamsCb=i,l.m_gameid=a,l.m_loginFunc=r,l.m_loginBody=E,U.NOW_GAME_ID=a.toString(),U.FormBtnClickParams=A.FormBtnClickParams,U.SendBtnClickEvent=A.getInstance().SendBtnClickEvent.bind(A.getInstance()),n&&n(),c.ENV_TYPE===U.EVN.TEST&&l.IgnoreGameID()?_(l):(null!=t&&""!=t?l.ASSOLogin(t):c.CURR_ENV!=U.EVN.DEFAULT&&l.ALogin(),l)}a(t,e),t.SetChangeCb=function(e){this.m_changeCbs.push(e)},t.SetBaseConfig=function(e,a){var R,_,t;void 0===a&&(a=!1);var L,o,r=c.ENV_TYPE,E=null==(R=i.GetLinkParameterByName("be"))?void 0:R.split("").reverse().join(""),l=null==(_=i.GetLinkParameterByName("gs"))?void 0:_.split("").reverse().join(""),T=null==(t=i.GetLinkParameterByName("domain_platform")||i.GetLinkParameterByName("gs"))?void 0:t.split("").reverse().join(""),A="",O="";if(!E||!l||!T)return!1;A="{{uat}}wbwebapi{{a}}."+E+".com",L=Boolean(i.GetLinkParameterByName("demo")),(o=i.IsTada)&&(i.Line===U.LineSetting.street?i.SetLine(U.LineSetting.americas_str):i.SetLine(U.LineSetting.americas)),A=E,O="{{uat}}wbslot-fd."+l+".com",O=l;var s=i.GetLinkParameterByName("region");if(s&&""!==s){U.REGION=s;var C=O.split(".");3===C.length&&(C[0]=C[0]+"-"+s,O=C[0]+"."+C[1]+"."+C[2])}if(!this.m_isSetNoMenu){this.m_isSetNoMenu=!0,(Number(U.API_ID)==U.MGAApi||i.IsTadaCasino)&&(c.HISTORY_URL=c.HISTORY_URL+"&layout=headeronly");for(var u=0;u<U.WebNoMenu.length;u++)if(Number(U.API_ID)==U.WebNoMenu[u]){c.WEB_URL=c.WEB_URL+"&layout=headeronly";break}}n.isNative||-1===window.location.host.search(/777apex/g)||(c.HISTORY_URL=c.BC_HISTORY_URL,c.RATIO_URL=c.BC_RATIO_URL);var S="",p="";if(n.isNative){var m=I.GetUrl();S=m.split(".")[1],p="&device=mobileapp&zoomstyle=app&posthost="+m.split("/")[2]+"&"}else if(I.LobbyData){var d=I.GetUrl();S=d.split(".")[1],p="&device=webapp&zoomstyle=webapp&posthost="+d.split("/")[2]+"&"}else p="&posthost="+location.host+"&",S=location.host.split(".")[1];switch(I.LobbyData&&I.LobbyData.isHideMember&&(p+="&gp=true"),r==U.EVN.AUTO&&"true"==(i.GetLinkParameterByName("iu")||"false").toLocaleLowerCase()&&(r=U.EVN.UAT),r){case U.EVN.TEST:c.WEBAPI_URL=c.TEST_PATH.WEBAPI_URL,c.GAME_SERVER_URL=c.TEST_PATH.GAME_SERVER_URL,c.PHASE_URL=c.TEST_PATH.PHASE_URL,c.VERIFY_URL=c.TEST_PATH.VERIFY_URL,c.CLICK_URL=c.TEST_PATH.CLICK_URL,c.MAIL_URL=c.TEST_PATH.MAIL_URL,c.ERROR_URL=c.TEST_PATH.ERROR_URL,c.RANKING_URL=c.TEST_PATH.RANKING_URL,c.RANKING_URL2=c.TEST_PATH.RANKING_URL2,c.SUBAGENTSERVICE_URL=c.TEST_PATH.SUBAGENTSERVICE_URL,c.NOTIFY_URL=c.TEST_PATH.NOTIFY_URL,c.RATIO_URL=c.TEST_PATH.RATIO_URL,e&&(c.RATIO_URL=c.RATIO_URL.replace("{{webName}}",e)),c.HISTORY_URL=c.TEST_PATH.HISTORY_URL,c.BACKPACK_URL=c.TEST_PATH.BACKPACK_URL,c.WEB_URL=c.TEST_PATH.WEB_URL,c.MEMBER_URL=c.TEST_PATH.MEMBER_URL,c.SOCKET_URL=c.TEST_PATH.SOCKET_URL,c.SOCKET_URL2=c.TEST_PATH.SOCKET_URL2,c.PROMOTE_ACTION_URL=c.TEST_PATH.ACTION_URL;break;case U.EVN.NEW_TEST:null!=S&&null!=S||(S="krowonimod".split("").reverse().join("")),c.WEBAPI_URL=c.WEBAPI_URL.replace("{{domain}}",A.replace("{{uat}}","test-").replace("{{a}}","")),c.GAME_SERVER_URL=c.GAME_SERVER_URL.replace("{{domain}}",O.replace("{{uat}}","test-")),c.SOCKET_URL=c.SOCKET_URL.replace("{{domain}}",O.replace("{{uat}}","test-")),c.SOCKET_URL2=c.SOCKET_URL2.replace("{{domain}}",O.replace("{{uat}}","test-")),c.PHASE_URL=c.PHASE_URL.replace("{{domain}}",T),c.VERIFY_URL=c.VERIFY_URL.replace("{{domain}}",T),c.CLICK_URL=c.CLICK_URL.replace("{{domain}}",T),c.MAIL_URL=c.MAIL_URL.replace("{{domain}}",T),c.ERROR_URL=c.ERROR_URL.replace("{{domain}}",T),c.RANKING_URL=c.RANKING_URL.replace("{{domain}}",T),c.RANKING_URL2=c.RANKING_URL2.replace("{{domain}}",T),c.SUBAGENTSERVICE_URL=c.SUBAGENTSERVICE_URL.replace("{{domain}}",T),c.NOTIFY_URL=c.NOTIFY_URL.replace("{{domain}}",T),c.SERVICE_URL=c.SERVICE_URL.replace("{{domain}}",T),c.CLOSE_URL=c.CLOSE_URL.replace("{{uat}}","test-"),c.CLOSE_URL=c.CLOSE_URL.replace("{{domain}}",S),c.RATIO_URL=c.RATIO_URL.replace("{{uat}}","test-"),c.RATIO_URL=c.RATIO_URL.replace("{{domain}}",S),e&&(c.RATIO_URL=c.RATIO_URL.replace("{{webName}}",e)),c.RATIO_URL=c.RATIO_URL.replace("{device}",p),c.HISTORY_URL=c.HISTORY_URL.replace("{{domain}}",S),c.HISTORY_URL=c.HISTORY_URL.replace("{{uat}}","test-"),c.HISTORY_URL=c.HISTORY_URL.replace("{device}",p),c.COLLECT_URL=c.COLLECT_URL.replace("{{domain}}",S),c.COLLECT_URL=c.COLLECT_URL.replace("{{uat}}","test-"),c.COLLECT_URL=c.COLLECT_URL.replace("{device}",p),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{domain}}",S),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{uat}}","test-"),c.BACKPACK_URL=c.BACKPACK_URL.replace("{device}",p),c.MEMBER_URL=c.MEMBER_URL.replace("{{domain}}",S),c.MEMBER_URL=c.MEMBER_URL.replace("{{uat}}","test-"),c.MEMBER_URL=c.MEMBER_URL.replace("{device}",p),c.ACTION_URL=c.ACTION_URL.replace("{{domain}}",S),c.ACTION_URL=c.ACTION_URL.replace("{{uat}}","test-"),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{domain}}",S),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{uat}}","test-"),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{domain}}",S),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{uat}}","test-"),c.WEB_URL=c.WEB_URL.replace("{{domain}}",S),c.WEB_URL=c.WEB_URL.replace("{{uat}}","test-"),c.WEB_URL=c.WEB_URL.replace("{device}",p);break;case U.EVN.UAT:null!=S&&null!=S||(S="krowonimod".split("").reverse().join("")),c.WEBAPI_URL=c.WEBAPI_URL.replace("{{domain}}",A.replace("{{uat}}","uat-").replace("{{a}}","-a")),c.GAME_SERVER_URL=c.GAME_SERVER_URL.replace("{{domain}}",O.replace("{{uat}}","uat-")),c.SOCKET_URL=c.SOCKET_URL.replace("{{domain}}",O.replace("{{uat}}","uat-")),c.SOCKET_URL2=c.SOCKET_URL2.replace("{{domain}}",O.replace("{{uat}}","uat-")),c.PHASE_URL=c.PHASE_URL.replace("{{domain}}",T),c.VERIFY_URL=c.VERIFY_URL.replace("{{domain}}",T),c.CLICK_URL=c.CLICK_URL.replace("{{domain}}",T),c.MAIL_URL=c.MAIL_URL.replace("{{domain}}",T),c.ERROR_URL=c.ERROR_URL.replace("{{domain}}",T),c.RANKING_URL=c.RANKING_URL.replace("{{domain}}",T),c.RANKING_URL2=c.RANKING_URL2.replace("{{domain}}",T),c.SUBAGENTSERVICE_URL=c.SUBAGENTSERVICE_URL.replace("{{domain}}",T),c.NOTIFY_URL=c.NOTIFY_URL.replace("{{domain}}",T),c.SERVICE_URL=c.SERVICE_URL.replace("{{domain}}",T),a&&!o?(c.RATIO_URL=c.RATIO_URL.replace("{{uat}}","testgli-"),T=(T=T.replace("slot-demo.","")).replace(".com",""),c.RATIO_URL=c.RATIO_URL.replace("{{domain}}",T)):(c.RATIO_URL=o&&L?c.RATIO_URL.replace("{{uat}}","uattada-"):c.RATIO_URL.replace("{{uat}}","uat-"),c.RATIO_URL=c.RATIO_URL.replace("{{domain}}",S)),c.CLOSE_URL=c.CLOSE_URL.replace("{{uat}}","uat-"),c.CLOSE_URL=c.CLOSE_URL.replace("{{domain}}",S),e&&(c.RATIO_URL=c.RATIO_URL.replace("{{webName}}",e)),c.RATIO_URL=c.RATIO_URL.replace("{device}",p),c.HISTORY_URL=c.HISTORY_URL.replace("{{domain}}",S),c.HISTORY_URL=c.HISTORY_URL.replace("{{uat}}","uat-"),c.HISTORY_URL=c.HISTORY_URL.replace("{device}",p),c.COLLECT_URL=c.COLLECT_URL.replace("{{domain}}",S),c.COLLECT_URL=c.COLLECT_URL.replace("{{uat}}","uat-"),c.COLLECT_URL=c.COLLECT_URL.replace("{device}",p),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{domain}}",S),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{uat}}","uat-"),c.BACKPACK_URL=c.BACKPACK_URL.replace("{device}",p),c.MEMBER_URL=c.MEMBER_URL.replace("{{domain}}",S),c.MEMBER_URL=c.MEMBER_URL.replace("{{uat}}","uat-"),c.MEMBER_URL=c.MEMBER_URL.replace("{device}",p),c.ACTION_URL=c.ACTION_URL.replace("{{domain}}",S),c.ACTION_URL=c.ACTION_URL.replace("{{uat}}","uat-"),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{domain}}",S),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{uat}}","uat-"),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{domain}}",S),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{uat}}","uat-"),c.WEB_URL=c.WEB_URL.replace("{{domain}}",S),c.WEB_URL=c.WEB_URL.replace("{{uat}}","uat-"),c.WEB_URL=c.WEB_URL.replace("{device}",p);break;default:c.WEBAPI_URL=c.WEBAPI_URL.replace("{{domain}}",A.replace("{{uat}}","").replace("{{a}}","-a")),c.GAME_SERVER_URL=c.GAME_SERVER_URL.replace("{{domain}}",O.replace("{{uat}}","")),c.SOCKET_URL=c.SOCKET_URL.replace("{{domain}}",O.replace("{{uat}}","")),c.SOCKET_URL2=c.SOCKET_URL2.replace("{{domain}}",O.replace("{{uat}}","")),c.PHASE_URL=c.PHASE_URL.replace("{{domain}}",T),c.VERIFY_URL=c.VERIFY_URL.replace("{{domain}}",T),c.CLICK_URL=c.CLICK_URL.replace("{{domain}}",T),c.MAIL_URL=c.MAIL_URL.replace("{{domain}}",T),c.ERROR_URL=c.ERROR_URL.replace("{{domain}}",T),c.RANKING_URL=c.RANKING_URL.replace("{{domain}}",T),c.RANKING_URL2=c.RANKING_URL2.replace("{{domain}}",T),c.SUBAGENTSERVICE_URL=c.SUBAGENTSERVICE_URL.replace("{{domain}}",T),c.NOTIFY_URL=c.NOTIFY_URL.replace("{{domain}}",T),c.SERVICE_URL=c.SERVICE_URL.replace("{{domain}}",T),c.CLOSE_URL=c.CLOSE_URL.replace("{{uat}}",""),c.CLOSE_URL=c.CLOSE_URL.replace("{{domain}}",S),c.RATIO_URL=c.RATIO_URL.replace("{{uat}}",""),c.RATIO_URL=c.RATIO_URL.replace("{{domain}}",S),e&&(c.RATIO_URL=c.RATIO_URL.replace("{{webName}}",e)),c.RATIO_URL=c.RATIO_URL.replace("{device}",p),c.HISTORY_URL=c.HISTORY_URL.replace("{{domain}}",S),c.HISTORY_URL=c.HISTORY_URL.replace("{{uat}}",""),c.HISTORY_URL=c.HISTORY_URL.replace("{device}",p),c.COLLECT_URL=c.COLLECT_URL.replace("{{domain}}",S),c.COLLECT_URL=c.COLLECT_URL.replace("{{uat}}",""),c.COLLECT_URL=c.COLLECT_URL.replace("{device}",p),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{domain}}",S),c.BACKPACK_URL=c.BACKPACK_URL.replace("{{uat}}",""),c.BACKPACK_URL=c.BACKPACK_URL.replace("{device}",p),c.MEMBER_URL=c.MEMBER_URL.replace("{{domain}}",S),c.MEMBER_URL=c.MEMBER_URL.replace("{{uat}}",""),c.MEMBER_URL=c.MEMBER_URL.replace("{device}",p),c.ACTION_URL=c.ACTION_URL.replace("{{domain}}",S),c.ACTION_URL=c.ACTION_URL.replace("{{uat}}",""),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{domain}}",S),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{{uat}}",""),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{domain}}",S),c.PROMOTE_URL=c.PROMOTE_URL.replace("{{uat}}",""),c.WEB_URL=c.WEB_URL.replace("{{domain}}",S),c.WEB_URL=c.WEB_URL.replace("{{uat}}",""),c.WEB_URL=c.WEB_URL.replace("{device}",p)}c.CURR_ENV=r;c.HISTORY_URL=c.HISTORY_URL.replace("https://history.bd33fqabh.com/","https://history-api-stage.bd33fqabh.com/");c.RATIO_URL=c.RATIO_URL.replace("https://history.bd33fqabh.com/","https://history-api-stage.bd33fqabh.com/");c.WEB_URL = c.WEB_URL.replace("https://history.bd33fqabh.com/","https://history-api-stage.bd33fqabh.com/"); return c.CURR_ENV=r,!0},t.ChangeBaseConfig=function(){},t.SetALoginDataFunc=function(e){this.GetALoginData=e},t.OnExit=function(){this.m_touchTime=null,this.m_route=U.ROUTE.NCR,this.m_changeCbs=[],this.GetALoginData=null,this.m_ALoginNeedSocket=!1};var o=t.prototype;return o.ASSOLogin=function(e){var a=this,R={};R.key=e,R.lang=i.ConvertLanguageToFull(O.CurrLang),this.ReqA("sso-login.api",R).then((function(e){a.OnRecvSSOLogin(e)})).catch((function(R){if(a.m_failCount<3)a.m_failCount++,t.ChangeBaseConfig(),a.ASSOLogin(e);else{var _=U.ErrorStatus.PlatFormRetry;I.LoadingComplete(),l.getInstance().ShowMessageBox(U.StringKey.MSGBOX_LOGIN_FAIL,null,i.CloseGameTab,i.GetErrorCode(U.ErrorStatus.PlatForm,_,R)),a.m_loginFailParamsCb(U.PHASE_RESULT.INVALID_SSOKEY)}}))},o.OnRecvSSOLogin=function(a){var R=this;if(U.HOME_URL=a.homeUrl,U.LobbyMode=a.lobbyMode,null!=a.response&&0==a.response.error){U.LINE_CODE=a.linecode,this.m_atoken=a.token,U.TOKEN=a.token,U.PLATFORM_VER=a.platformVersion,1==Boolean(i.GetLinkParameterByName("lobbyWebview"))&&(document.location.href="lobby://send?token="+this.m_atoken);var _=a.profile,t=_.meta;U.SUB_AGENT_CODE=_.subAgentCode>-1?_.subAgentCode:-1,U.BET_LEVEL=_.betLevel,U.IS_LOBBY_OPEN=_.isLobbyOpen,U.Platform=_.platform,U.IsGiftCodeOpen=_.isGiftCodeOpen,this.SetWebUrlSAC(),_.freeSpinBetValue&&(this.m_freeSpinBet=_.freeSpinBetValue),_.switchOffs&&U.SetSwitchOffKeys(_.switchOffs),_.clientMode&&this.SetClientMode(_.clientMode),this.m_aid=_.id,U.AID=_.aid.toString(),_.transactionMode==U.TransactionMode.SingleSync&&(U.IsSyncFromWS=!0),this.OnLoginGAPSuccess(a),this.m_tmpConSettingCB(),T.GetInstance().SetInfo(this.m_aid,_.aid,this.m_gameid.toString(),this.m_atoken,_.apiId,(function(){R.m_loginFunc?R.m_loginFunc():e.prototype.Login.call(R,R.m_aid,R.m_tmpLoginCB,R.m_tmpLoginIP)})),T.GetInstance().ConnectServer(),i.Line!==U.LineSetting.bc&&A.getInstance().SendSubAgentService(A.FormSubAgentServiceParams(_.aid,_.apiId,Number(this.m_gameid),this.m_userInfo.siteid,t.agentAccount,U.LINE_CODE)),U.LifeSocketReqUrl=function(e,a){T.GetInstance().ReqUrl(e,a)},i.SetJiliProgressBar(92)}else if(null!=a.response){var L=U.PHASE_RESULT.UNKNOWN,n=U.StringKey.MSGBOX_LOGIN_FAIL;switch(a.response.error){case U.GAP_RET.ERROR_GAP_INVALID_SSOKEY:L=U.PHASE_RESULT.INVALID_SSOKEY;break;case U.GAP_RET.ERROR_GAP_NOT_SERVICE:n=U.StringKey.MSGBOX_NOT_SERVICE,L=U.PHASE_RESULT.UNKNOWN;break;case U.GAP_RET.ERROR_GAP_SERVER_MAINTAIN:L=U.PHASE_RESULT.SERVER_MAINTAIN;break;default:L=U.PHASE_RESULT.UNKNOWN}I.LoadingComplete(),l.getInstance().ShowMessageBox(n,null,i.CloseGameTab,i.GetErrorCode(U.ErrorStatus.PlatForm,a.response.error,a.status)),this.m_loginFailParamsCb(L)}},o.SetClientMode=function(e){U.HAS_CLIENTMODE=!0;for(var a=0;a<e.length;a++){if(e[a].value)switch(e[a].eventId){case U.CLIENTMODE_ID.MAX_ROUND:U.AUTOPLAY_MAX_ROUND=e[a].value[0];break;case U.CLIENTMODE_ID.DELAY_TIME:U.DEALY_TIME=1e3*e[a].value[0];break;case U.CLIENTMODE_ID.ROUND_BTN:U.AUTOPLAY_ROUND_BTN=e[a].value;break;case U.CLIENTMODE_ID.FEATURE_TIMES:U.FEATURE_TIMES=e[a].value[0];break;case U.CLIENTMODE_ID.DEPOSIT_URL:i.IsNativeWebView()?U.DEPOSIT_URL=e[a].value[1]:U.DEPOSIT_URL=e[a].value[0];break;case U.CLIENTMODE_ID.REALITY_CHECK_INTERVAL:U.REALITY_CHECK_INTERVAL=e[a].value[0];break;case U.CLIENTMODE_ID.SYMBOL_STYLE:s.SetStyle(e[a].value[0])}}},o.SetWebUrlSAC=function(){var e=U.SUB_AGENT_CODE.toString();c.RATIO_URL=c.RATIO_URL.replace("{sac}",e),c.BC_RATIO_URL=c.BC_RATIO_URL.replace("{sac}",e),c.HISTORY_URL=c.HISTORY_URL.replace("{sac}",e),c.COLLECT_URL=c.COLLECT_URL.replace("{sac}",e),c.BC_HISTORY_URL=c.BC_HISTORY_URL.replace("{sac}",e),c.ACTION_URL=c.ACTION_URL.replace("{sac}",e),c.PROMOTE_ACTION_URL=c.PROMOTE_ACTION_URL.replace("{sac}",e),c.PROMOTE_URL=c.PROMOTE_URL.replace("{sac}",e),c.WEB_URL=c.WEB_URL.replace("{sac}",e)},o.ALogin=function(){},o.AKeepAlive=function(){},o.ReqA=function(e,a,R,_){return r("post",c.WEBAPI_URL+e,a,null,E).then((function(e){if(e.ok)return JSON.parse(e.data);throw e.status})).catch((function(e){throw e}))},o.IgnoreGameID=function(){for(var e=0;e<C.length;e++)if(C[e]===this.m_gameid)return!1;return!0},o.IsLoaded=function(){return e.prototype.IsLoaded.call(this)&&null!=this.m_atoken},o.IsLoadedNotToken=function(){return e.prototype.IsLoaded.call(this)},o.GetAToken=function(){return this.m_atoken},o.GetAID=function(){return this.m_userInfo?this.m_userInfo.aid.toString():null},o.GetUID=function(){return this.m_userInfo?this.m_userInfo.uid:null},o.GetApiID=function(){return this.m_userInfo?this.m_userInfo.apiid.toString():null},o.GetAccount=function(){return this.m_userInfo?this.m_userInfo.account:null},o.GetNickName=function(){return this.m_userInfo?this.m_userInfo.nickName:null},o.GetGameID=function(){return this.m_gameid},o.GetSiteID=function(){return this.m_userInfo?this.m_userInfo.siteid:null},o.Login=function(a){L("Login",a),a?e.prototype.Login.call(this,a,this.m_tmpLoginCB,this.m_tmpLoginIP):e.prototype.Login.call(this,this.m_aid,this.m_tmpLoginCB,this.m_tmpLoginIP)},R(t,[{key:"FreeSpinBet",get:function(){return this.m_freeSpinBet},set:function(e){this.m_freeSpinBet=e}}],[{key:"Route",get:function(){return this.m_route}},{key:"ALoginNeedSocket",set:function(e){this.m_ALoginNeedSocket=e}}]),t}(o));u.m_isSetNoMenu=!1,u.m_touchTime=null,u.m_route=1,u.m_changeCbs=[],u.GetALoginData=null,u.m_ALoginNeedSocket=!1,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameAppBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n;return{setters:[function(i){t=i.createClass},function(i){n=i.cclegacy}],execute:function(){n._RF.push({},"d15178yyK9NbKsCECl160lI","GameAppBase",void 0);i("UserInfo",function(){function i(i,t,n,e,s,o,u,c,m,r){this.m_uid=void 0,this.m_name=void 0,this.m_nickName=void 0,this.m_coin=void 0,this.m_aid=void 0,this.m_apiid=void 0,this.m_account=void 0,this.m_siteid=void 0,this.m_lobbyOpen=void 0,this.m_token=void 0,this.m_aid=t,this.m_uid=i,this.m_apiid=n,this.m_siteid=e,this.m_name=s,this.m_nickName=o||"",this.m_coin=u,this.m_token=r,this.m_account=c,this.m_lobbyOpen=m}return t(i,[{key:"coin",get:function(){return this.m_coin},set:function(i){this.m_coin=i}},{key:"token",get:function(){return this.m_token}},{key:"uid",get:function(){return this.m_uid}},{key:"name",get:function(){return this.m_name}},{key:"nickName",get:function(){return this.m_nickName}},{key:"aid",get:function(){return this.m_aid}},{key:"apiid",get:function(){return this.m_apiid}},{key:"account",get:function(){return this.m_account}},{key:"siteid",get:function(){return this.m_siteid}},{key:"lobbyOpen",get:function(){return this.m_lobbyOpen}}]),i}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameAppBaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameAppBase.ts","./Define.ts","./ConnectionManager.ts","./SoundManager.ts","./MsgBox.ts","./LoadPrefabManager.ts","./Tools.ts"],(function(e){"use strict";var n,t,i,o,E,a,s,R,_,c,r,L,O,u,G,l;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,i=e.log,o=e.error,E=e.Node,a=e.Label,s=e.UIRenderer,R=e.Color,_=e.UITransform},function(e){c=e.UserInfo},function(e){r=e.default},function(e){L=e.default},function(e){O=e.default},function(e){u=e.default},function(e){G=e.default},function(e){l=e.default}],execute:function(){t._RF.push({},"27c00Kwt6RHQ4IrTgid8hYi","GameAppBaseView",void 0);e("default",function(){function e(){this.m_loginSuccess=!1,this.m_preLoaded=!1,this.m_commAtlas=void 0,this.m_commAtlas2=void 0,this.m_loginBody=void 0,this.m_firstLogin=!0,this.m_userInfo=void 0,this.PreLoad()}var t=e.prototype;return t.PreLoad=function(){var e=this,n=G.getInstance().GetManagerId((function(){e.m_preLoaded=!0}));G.getInstance().AddLoad(n),O.getInstance().checkSoundFormat(r.SOUND_FILE),O.getInstance().LoadAudioAsset(r.SOUND_FILE,(function(e){O.getInstance().isLoading||(G.getInstance().OnLoaded(n),i("SoundManager is ok")),i("SoundManager load ,",e,O.getInstance())}),r.AudioClips),G.getInstance().StartLoad(n)},t.Login=function(e,n,t){var o=this,E=function(e,t){i("GameAppBaseView Login",e,t);var E=t.ret;r.GENERAL_RET.SUCCESS==E?o.m_loginSuccess=!0:o.OnLoginFail(E,t);var a=t;"string"==typeof a&&(a=JSON.parse(t)),a.cashFlowNotify&&a.cashFlowNotify.playerMoney&&o.m_userInfo&&(o.m_userInfo.coin=a.cashFlowNotify.playerMoney),null!=n&&n(E,t)},a=null;if(this.m_loginBody&&(a=this.m_loginBody),this.m_firstLogin)if(this.m_firstLogin=!1,L.getInstance().CheckSetting(r.PROTOCOL.LOGIN)){var s=L.getInstance().GetLoginCB();if(null==s)L.getInstance().SetLoginCB(E);else if(E!==s){L.getInstance().SetLoginCB((function(e,n){E(e,n),s(e,n)}))}}else L.getInstance().AddSetting(r.PROTOCOL.LOGIN,L.CONNECT_TYPE.TYPE_HTTP,E,null,t+"/account/Login?fid="+e);L.getInstance().SendCommand(r.PROTOCOL.LOGIN,null,null,a)},t.OnLoginHttpSuccess=function(e){i("GameAppBaseView OnLoginHttpSuccess",e),this.m_userInfo=new c(e.data.uid,e.data.aid,e.data.apiid,e.data.siteId,e.data.name,e.data.nickName,e.data.coin,e.data.account,e.isLobbyOpen,e.token),L.getInstance().SetToken(e.token)},t.OnLoginWSSuccess=function(e){i("GameAppBaseView OnLoginWSSuccess",e),this.m_userInfo=new c(e.uid,e.aid,e.apiid,e.siteId,e.name,e.nickName,e.coin,e.account,e.isLobbyOpen,e.token)},t.OnLoginGAPSuccess=function(e){i("GameAppBaseView OnLoginGAPSuccess",e),this.m_userInfo=new c(e.profile.id,e.profile.aid,e.profile.apiId,e.profile.siteId,e.profile.nickname,e.profile.newNickname,e.profile.coin,e.profile.account,e.profile.isLobbyOpen,e.token),L.getInstance().SetToken(e.token)},t.OnLoginFail=function(e,n){var t,o=null;switch(e){case r.GENERAL_RET.ERROR_GENERAL_CHECK_ERROR:i("Define.GENERAL_RET.ERROR_GENERAL_CHECK_ERROR"),this.m_loginSuccess=!1,t=r.StringKey.MSGBOX_LOGIN_FAIL,o=l.CloseGameTab;break;case r.GENERAL_RET.ERROR_GENERAL_REPEAT_LOGIN:i("Define.GENERAL_RET.ERROR_GENERAL_REPEAT_LOGIN"),this.m_loginSuccess=!1,t=r.StringKey.MSGBOX_LOGIN_DUPLICATE_LOGIN,o=l.CloseGameTab;break;case r.GENERAL_RET.ERROR_GENERAL_NO_UID:i("Define.GENERAL_RET.ERROR_GENERAL_NO_UID"),t=r.StringKey.MSGBOX_LOGIN_FAIL,this.m_loginSuccess=!1,o=l.CloseGameTab;break;case r.GENERAL_RET.ERROR_GENERAL_TIME_OUT:i("Define.GENERAL_RET.ERROR_GENERAL_TIME_OUT"),t=r.StringKey.MSGBOX_LOGIN_FAIL,this.m_loginSuccess=!1,o=l.CloseGameTab;break;case r.GENERAL_RET.ERROR_GENERAL_NOT_JOINED:i("Define.GENERAL_RET.ERROR_GENERAL_NOT_JOINED"),t=r.StringKey.MSGBOX_LOGIN_FAIL,this.m_loginSuccess=!1,o=l.CloseGameTab}null!=t&&u.getInstance().ShowMessageBox(t,null,o,l.GetErrorCode(r.ErrorStatus.Game,e))},t.OnAckFail=function(e){var n=r.StringKey.MSGBOX_TIME_OUT,t=null;switch(e){case r.GENERAL_RET.ERROR_GENERAL_REPEAT_LOGIN:i("Define.GENERAL_RET.ERROR_GENERAL_REPEAT_LOGIN"),n=r.StringKey.MSGBOX_LOGIN_DUPLICATE_LOGIN,t=l.CloseGameTab;break;case r.GENERAL_RET.ERROR_GAME_NO_COIN:i("Define.GENERAL_RET.ERROR_GAME_NO_COIN"),n=r.StringKey.MSGBOX_MONEY_NOT_ENOUGH;break;case r.GENERAL_RET.ERROR_GAME_WRONG_BET:i("Define.GENERAL_RET.ERROR_GAME_WRONG_BET");break;case r.GENERAL_RET.ERROR_GAME_IS_FREE:i("Define.GENERAL_RET.ERROR_GAME_IS_FREE");break;case r.GENERAL_RET.ERROR_GAME_NOT_FREE:i("Define.GENERAL_RET.ERROR_GAME_NOT_FREE");break;case r.GENERAL_RET.ERROR_WRONG_FREE_TYPE:i("Define.GENERAL_RET.ERROR_WRONG_FREE_TYPE");break;case r.GENERAL_RET.ERROR_SYSTEM_FAIL:i("Define.GENERAL_RET.ERROR_SYSTEM_FAIL");break;case r.GENERAL_RET.ERROR_GENERAL_TIME_OUT:i("Define.GENERAL_RET.ERROR_TIME_OUT"),n=r.StringKey.MSGBOX_TIME_OUT,t=l.CloseGameTab}null!=n&&u.getInstance().ShowMessageBox(n,null,t,l.GetErrorCode(r.ErrorStatus.Game,e))},t.ReLogin=function(e){null!=this.m_userInfo?L.getInstance().SendCommand(r.PROTOCOL.LOGIN,null,null,this.m_loginBody):o("從未登入過，請勿使用relogin!!")},t.IsLoaded=function(){return this.m_preLoaded},t.IsLoginSuccess=function(){return this.m_loginSuccess},t.GetCommonSpriteFrame=function(e){},t.GetCommonSpriteFrame2=function(e){return this.m_commAtlas2.getSpriteFrame(e)},t.GetVersionLabel=function(e){e=e.replace("ver.","");var n=new E,t=n.addComponent(a);return l.SetLabelString(n,"v_"+r.VERSION+"_"+e),t.fontSize=20,n.getComponent(s).color=new R(169,169,169),n.setPosition(-568,-316),n.getComponent(_).setAnchorPoint(0,.5),n},n(e,[{key:"userInfo",get:function(){return this.m_userInfo}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./GameIconComponent.ts","./MsgBox.ts"],(function(e){"use strict";var t,n,a,i,o,l,r,u,m,c,s,b,_,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Label,u=e.Node,m=e.Component},function(e){c=e.default},function(e){s=e.default},function(e){b=e.default},function(e){_=e.default},function(e){f=e.default},function(e){p=e.default}],execute:function(){var g,L,I,y,N,S,h,d,w,G,v,C,A,T,K,B;o._RF.push({},"17890BTAHFPJ7raoX6m5A+Q","GameCell",void 0);var F=l.ccclass,z=l.property;e("default",(g=z({type:f,tooltip:"遊戲圖示"}),L=z({type:r,tooltip:"遊戲名稱"}),I=z({type:r,tooltip:"擁有"}),y=z({type:r,tooltip:"擁有數量"}),N=z({type:r,tooltip:"可用"}),S=z({type:r,tooltip:"可用數量"}),h=z({type:u,tooltip:"箭頭"}),F((G=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(t,"m_gameIcon",G,i(t)),a(t,"m_gameNameLabel",v,i(t)),a(t,"m_ownLabel",C,i(t)),a(t,"m_ownNumLabel",A,i(t)),a(t,"m_availableLabel",T,i(t)),a(t,"m_availableNumLabel",K,i(t)),a(t,"m_arrowNode",B,i(t)),t.m_gameId=0,t}n(t,e);var o=t.prototype;return o.SetTxt=function(){this.m_ownLabel.string=b.GetInstance().GetString(s.StringKey.BACKPACK_TXT_OWN),_.SetFont(this.m_ownLabel),this.m_availableLabel.string=b.GetInstance().GetString(s.StringKey.BACKPACK_TXT_AVAILABLE),_.SetFont(this.m_availableLabel)},o.SetInfo=function(e){var t=this,n=e.gameid;_.Icons[n]?this.m_gameIcon.SetGameIcon(_.Icons[n],(function(){t.OnClick()})):_.LoadIcon(b.CurrLang,n,(function(){t.m_gameIcon.SetGameIcon(_.Icons[n],(function(){t.OnClick()}))})),this.m_gameId=n,this.m_gameNameLabel.string=b.GetInstance().GetGameName(n),_.SetFont(this.m_gameNameLabel),this.m_ownNumLabel.string=e.ownamount.toString(),_.SetFont(this.m_ownNumLabel),this.m_availableNumLabel.string=e.canamount.toString(),_.SetFont(this.m_availableNumLabel)},o.SetArrowNode=function(e){this.m_arrowNode.active=e},o.OnClick=function(){var e=this,t=b.GetInstance().GetGameName(this.m_gameId);p.getInstance().ShowFullMessageBox(s.StringKey.CHANGE_GAME_HINT,s.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[t],(function(){c.GetInstance().ReqUrl(e.m_gameId,s.BTN_CLICK_EVENT.BACKPACK_CHANGE_GAME)}))},t}(m)).prototype,"m_gameIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"m_gameNameLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"m_ownLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"m_ownNumLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"m_availableLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(w.prototype,"m_availableNumLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(w.prototype,"m_arrowNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameIconComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,r,o,a,c,l,p,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Sprite,l=t.SpriteAtlas,p=t.Component},function(t){s=t.default},function(t){u=t.default}],execute:function(){var m,f,b,_,S,d,g,h;o._RF.push({},"db6a9Zsa6pJNpkDoAFQWOew","GameIconComponent",void 0);var y=a.ccclass,I=a.property;t("default",(m=I({type:c,tooltip:"遊戲Icon"}),f=I({type:c,tooltip:"品牌圖示"}),b=I({type:l,tooltip:"品牌合圖"}),y((d=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"m_gameIconSprite",d,r(e)),n(e,"m_brandSprite",g,r(e)),n(e,"m_brandSpriteAtlas",h,r(e)),e.m_clickCb=null,e}i(e,t);var o=e.prototype;return o.start=function(){u.Line!==s.LineSetting.americas&&u.Line!==s.LineSetting.americas_str||(this.m_brandSprite.spriteFrame=this.m_brandSpriteAtlas.getSpriteFrame("Common_IconMark_TADA"))},o.SetGameIcon=function(t,e){void 0===e&&(e=null),this.m_gameIconSprite&&(this.m_gameIconSprite.spriteFrame=t),this.m_clickCb=e},o.OnClick=function(){this.m_clickCb&&this.m_clickCb()},e}(p)).prototype,"m_gameIconSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(S.prototype,"m_brandSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(S.prototype,"m_brandSpriteAtlas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=S))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameItems.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./AppManager.ts","./LocaleStringManager.ts","./Tools.ts","./BuffManager.ts","./Backpack.ts","./ItemCell.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,m,s,u,d,f,c,h,_,p,N,g,C,b,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,m=e.Label,s=e.Node,u=e.Prefab,d=e.ScrollView,f=e.UITransform,c=e.Animation,h=e.color,_=e.instantiate,p=e.Component},function(e){N=e.default},function(e){g=e.default},function(e){C=e.default},function(e){b=e.default},function(e){I=e.default},function(e){e.VendorSource},function(e){y=e.default}],execute:function(){var S,v,G,A,T,w,M,B,k,E,L,z,K,P,F,R,D,H,V,J,O,U,W,x,j,Q,q,X,Y,Z;a._RF.push({},"aacbfAfxhtB1656VUweTybQ","GameItems",void 0);var $=132,ee=174,te=l.ccclass,ie=l.property;e("default",(S=ie({type:m,tooltip:"提示"}),v=ie({type:m,tooltip:"無道具卡提示"}),G=ie({type:s,tooltip:"內容"}),A=ie({type:s,tooltip:"道具卡圖"}),T=ie({type:s,tooltip:"道具卡數量"}),w=ie({type:s,tooltip:"道具卡遮罩"}),M=ie({type:s,tooltip:"道具卡時鐘圖"}),B=ie({type:s,tooltip:"道具卡剩餘時間"}),k=ie({type:s,tooltip:"buff卡"}),E=ie({type:s,tooltip:"道具卡綠色箭頭"}),L=ie({type:u,tooltip:"欄位"}),z=ie({type:s,tooltip:"遮罩"}),K=ie({type:m,tooltip:"遮罩提示"}),P=ie({type:d,tooltip:"scroll view"}),te((D=t((R=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"m_hintLabel",D,o(t)),n(t,"m_emptyHintLabel",H,o(t)),n(t,"m_contentNode",V,o(t)),n(t,"m_imageNode",J,o(t)),n(t,"m_amoutNode",O,o(t)),n(t,"m_darkNode",U,o(t)),n(t,"m_clockNode",W,o(t)),n(t,"m_remainTimeNode",x,o(t)),n(t,"m_buffNode",j,o(t)),n(t,"m_arrowNode",Q,o(t)),n(t,"m_cellPrefab",q,o(t)),n(t,"m_maskNode",X,o(t)),n(t,"m_maskHintLabel",Y,o(t)),n(t,"m_scrollView",Z,o(t)),t.m_itemCells=[],t.m_buffCells=[],t.m_imageNodes=[],t.m_amoutNodes=[],t.m_darkNodes=[],t.m_clockNodes=[],t.m_remainTimeNodes=[],t.m_arrowNodes=[],t.m_touchCb=null,t.m_isLandscape=!0,t.m_itemCardNums=0,t.m_emptyBuffNodesNum=0,t}i(t,e);var a=t.prototype;return a.Init=function(e){this.m_touchCb=e},a.OnRotation=function(e){if(this.m_isLandscape=e,e){var t=Math.floor(720/142),i=182*Math.ceil(this.m_itemCardNums/t);this.m_contentNode.getComponent(f).setContentSize(720,i),this.node.getComponent(c).play("Clip_Backpack_ThisGame_Landscape");var n=C.GetInstance().GetString(N.StringKey.BACKPACK_WARNING+"1");n=n.replace("{ITEM_NAME}",b.IsTada?C.GetInstance().GetString(N.StringKey.TADA_ITEM_NAME):C.GetInstance().GetString(N.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=C.GetInstance().GetString(n)}else{var o=Math.floor(440/142);console.log("each Row has",o);var r=182*Math.ceil(this.m_itemCardNums/o);this.m_contentNode.getComponent(f).setContentSize(440,r),this.node.getComponent(c).play("Clip_Backpack_ThisGame_Portrait");var a=C.GetInstance().GetString(N.StringKey.BACKPACK_WARNING+"0");a=a.replace("{ITEM_NAME}",b.IsTada?C.GetInstance().GetString(N.StringKey.TADA_ITEM_NAME):C.GetInstance().GetString(N.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=C.GetInstance().GetString(a)}},a.SetTxt=function(){b.SetFont(this.m_hintLabel),b.SetFont(this.m_emptyHintLabel);var e=C.GetInstance().GetString(N.StringKey.BACKPACK_NO_ITEM);if(e=e.replace("{ITEM_NAME}",b.IsTada?C.GetInstance().GetString(N.StringKey.TADA_ITEM_NAME):C.GetInstance().GetString(N.StringKey.JILI_ITEM_NAME)),this.m_emptyHintLabel.string=e,this.m_isLandscape){var t=C.GetInstance().GetString(N.StringKey.BACKPACK_WARNING+"1");t=t.replace("{ITEM_NAME}",b.IsTada?C.GetInstance().GetString(N.StringKey.TADA_ITEM_NAME):C.GetInstance().GetString(N.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=C.GetInstance().GetString(t)}else{var i=C.GetInstance().GetString(N.StringKey.BACKPACK_WARNING+"0");i=i.replace("{ITEM_NAME}",b.IsTada?C.GetInstance().GetString(N.StringKey.TADA_ITEM_NAME):C.GetInstance().GetString(N.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=C.GetInstance().GetString(i)}},a.SetItemInfo=function(e,t,i,n){this.m_itemCardNums=e.length;for(var o=0;o<e.length;o++){e[o].source;var r=e[o].icon,a=e[o].amount,l=e[o].banreason,m=e[o].start,s=void 0;t&&!N.RealItemsMap[r]?s=t.getSpriteFrame(r.toString()):N.RealItemsMap[r]&&(s=n.getSpriteFrame(r.toString())),s||(s=b.UsingLogoSpriteFrame()?i.getSpriteFrame("Backpack_Card_02"):i.getSpriteFrame("Backpack_Card_01"));var u=this.m_itemCells[o];this.m_itemCells[o]||(this.CreateCell(e[o]),u=this.m_itemCells[o]),u.ReturnBuff(),this.m_itemCells[o].node.active=!0,this.m_imageNodes[o].active=!0,this.m_amoutNodes[o].active=!0,this.m_darkNodes[o].active=!0,this.m_clockNodes[o].active=!0,this.m_remainTimeNodes[o].active=!0,this.m_arrowNodes[o].active=!0,s?(u.SetItem(o,s,a,m),u.SetVendorIcon(!1),l>0||!N.CanUseItemCard?(u.SetColor(h(165,165,165)),0==o&&u.SetArrowNode(!1)):(u.SetColor(h(255,255,255)),0==o&&u.SetArrowNode(!0))):(console.error("SetItemInfo cant find spriteframe",r),u.IsEmpty()?e[o]=null:(u.SetItem(o,null,0),u.SetVendorIcon(!1)))}if(this.OnRotation(this.m_isLandscape),this.m_emptyHintLabel.node.active=0===e.length,this.m_itemCells.length>e.length)for(var d=e.length;d<this.m_itemCells.length;d++)this.m_itemCells[d].node.active=!1,this.m_imageNodes[d].active=!1,this.m_amoutNodes[d].active=!1,this.m_darkNodes[d].active=!1,this.m_clockNodes[d].active=!1,this.m_remainTimeNodes[d].active=!1;this.SetBuffInfo(e.length)},a.SetBuffInfo=function(e){var t=this,i=I.GetInstance().BuffCardDatas;if(console.error("SetBuffInfo",i,e),b.IsTadaCasino&&i.length>0){this.m_itemCardNums+=i.length,this.CreateEmptyNodeForBuff(e);for(var n=function(n){var o=i[n].id,r=i[n].amount,a=t.m_buffCells[n];a||(t.CreateCell(),a=t.m_buffCells[n]),a.ReturnBuff(),a.node.active=!0;var l=o.toString();r>1&&(l=l+"+"+r.toString());var m=I.GetInstance().GetBuffNode(l);if(console.error("gameitem",l,r),m)console.error("gameitem form pool",m.name,r),a.SetBuff(e,n,m);else{g.GetBuffCardNode(o,(function(t){t&&(console.error("gameitem new node",t.name,r),a.SetBuff(e,n,t))}),r)}},o=0;o<i.length;o++)n(o);this.OnRotation(this.m_isLandscape),this.m_emptyHintLabel.node.active=!1}if(b.IsTadaCasino&&this.m_buffCells.length>i.length){console.error("SetBuffInfo close more",i.length,this.m_buffCells.length);for(var r=i.length;r<this.m_buffCells.length;r++)this.m_buffCells[r].node.active=!1}if(this.m_itemCardNums>0&&this.m_arrowNodes.length>0){for(var a=this.m_arrowNodes.length-1;a>0;a--)this.m_arrowNodes[a].active=!1;this.m_arrowNodes[0].active=!0}},a.CloseAllItem=function(){for(var e=0;e<this.m_itemCells.length;e++)this.m_itemCells[e].SetItem(e,null,0)},a.ScrollToTop=function(){this.m_scrollView.scrollToTop()},a.CreateCell=function(e){var t=_(this.m_cellPrefab),i=t.getComponent(y);if(i.Init(e?e.start:null,this.m_touchCb),e?this.m_itemCells.push(i):this.m_buffCells.push(i),e){var n=t.getChildByName("Data").getChildByName("Num_CardNum");n.removeFromParent();var o=this.CreateNewItemSizeNode();o.addChild(n),this.m_amoutNode.addChild(o),this.m_amoutNodes.push(o);var r=t.getChildByName("Dark");r.removeFromParent();var a=this.CreateNewItemSizeNode();a.addChild(r),this.m_darkNode.addChild(a),this.m_darkNodes.push(a);var l=r.getChildByName("IconTime");l.removeFromParent();var m=this.CreateNewItemSizeNode();m.addChild(l),this.m_clockNode.addChild(m),this.m_clockNodes.push(m);var s=r.getChildByName("Num_Countdown");s.removeFromParent();var u=this.CreateNewItemSizeNode();u.addChild(s),this.m_remainTimeNode.addChild(u),this.m_remainTimeNodes.push(u),this.m_imageNode.addChild(t),this.m_imageNodes.push(t)}else this.m_buffNode&&this.m_buffNode.addChild(t);var d=t.getChildByName("Node_Arrow");d.removeFromParent();var f=this.CreateNewItemSizeNode();f.addChild(d),this.m_arrowNode.addChild(f),this.m_arrowNodes.push(f)},a.CreateEmptyNodeForBuff=function(e){if(!(e<=0&&this.m_emptyBuffNodesNum<=0)){if(this.m_buffCells.length>0)for(var t=0;t<this.m_buffCells.length;t++)this.m_buffCells[t].node.removeFromParent();if(this.m_emptyBuffNodesNum<e)for(var i=0;i<e-this.m_emptyBuffNodesNum;i++){var n=new s;n.name="empty",n.addComponent(f),n.getComponent(f).setContentSize($,ee),this.m_buffNode.addChild(n)}else if(this.m_emptyBuffNodesNum>e)for(var o=0;o<this.m_emptyBuffNodesNum-e;o++){var r=this.m_buffNode.getChildByName("empty");r&&(r.removeFromParent(),r.destroy())}if(this.m_buffCells.length>0)for(var a=0;a<this.m_buffCells.length;a++)this.m_buffNode.addChild(this.m_buffCells[a].node);this.m_emptyBuffNodesNum=e}},a.CreateNewItemSizeNode=function(){var e=new s;return e.addComponent(f),e.getComponent(f).setContentSize($,ee),e},r(t,[{key:"MaskNode",get:function(){return this.m_maskNode}},{key:"MaskHintLabel",get:function(){return this.m_maskHintLabel}}]),t}(p)).prototype,"m_hintLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"m_emptyHintLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(R.prototype,"m_contentNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(R.prototype,"m_imageNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"m_amoutNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(R.prototype,"m_darkNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(R.prototype,"m_clockNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"m_remainTimeNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"m_buffNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(R.prototype,"m_arrowNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(R.prototype,"m_cellPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(R.prototype,"m_maskNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(R.prototype,"m_maskHintLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(R.prototype,"m_scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=R))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameLsitView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./GameIconComponent.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,c,s,u,m,p,f,g,_,h,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Label,u=e.ScrollView,m=e.Prefab,p=e.Animation,f=e.instantiate,g=e.Component},function(e){_=e.default},function(e){h=e.default},function(e){d=e.default},function(e){b=e.default}],execute:function(){var y,L,I,v,w,S,C,D;l._RF.push({},"e05aemjSXFI8qCFCIUjhpDH","GameLsitView",void 0);var P=c.ccclass,G=c.property;e("default",(y=G({type:s,tooltip:"任務日期"}),L=G({type:u,tooltip:"scroll view"}),I=G({type:m,tooltip:"cell prefab"}),P((S=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"m_dateLabel",S,a(t)),i(t,"m_scrollView",C,a(t)),i(t,"m_cellPrefab",D,a(t)),t.m_gameIcons=[],t}n(t,e);var l=t.prototype;return l.OnRotation=function(e){e?this.node.getComponent(p).play("Clip_DailyMission_GamePage_Landscape"):this.node.getComponent(p).play("Clip_DailyMission_GamePage_Portrait")},l.SetInfo=function(e,t){var n=this,i=new Date(e);d.SetFont(this.m_dateLabel);var a=i.getDate()+"/"+(i.getMonth()+1);if(d.Line!==_.LineSetting.americas&&d.Line!==_.LineSetting.americas_str||(a=i.getMonth()+1+"/"+i.getDate()),this.m_dateLabel.string=d.StringFormat(h.GetInstance().GetString(_.StringKey.DAILY_TOMORROW),a),t.forEach(o(r().mark((function e(t,i){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.Icons[t]){e.next=3;break}return e.next=3,new Promise((function(e){d.LoadIcon(h.CurrLang,t,(function(){e()}))}));case 3:(a=n.m_gameIcons[i])||(o=f(n.m_cellPrefab),a=o.getComponent(b),n.m_gameIcons[i]=a,n.m_scrollView.content.addChild(o)),a.node.active=!0,a.SetGameIcon(d.Icons[t]);case 7:case"end":return e.stop()}}),e)})))),this.m_gameIcons.length>t.length)for(var l=t.length;l<this.m_gameIcons.length;l++)this.m_gameIcons[l].node.active=!1},t}(g)).prototype,"m_dateLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"m_scrollView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"m_cellPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/GaussBlurManager.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"6e23f+TQEVD6LHIqZfwySbq","GaussBlurManager",void 0);var r=n("default",function(){function n(){if(n._instance)throw new Error("Error: Instantiation failed: Use GaussBlurManager.getInstance() instead of new.");n._instance=this}return n.getInstance=function(){return n._instance},n.UseBlur=function(n,t){this.m_program||(this.m_program={})},n.setProgram=function(n,t){},n}());r._instance=new r,r.m_program=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/GaussBlursFrag.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"06bceYTqTlDOLru/z1Y5rpz","GaussBlursFrag",void 0);var n=e("default",(function(){}));n.blurs_vert="\n    attribute vec4 a_position;\n    attribute vec2 a_texCoord;\n    attribute vec4 a_color;\n    varying vec2 v_texCoord;\n    varying vec4 v_fragmentColor;\n    void main()\n    {\n        gl_Position = CC_PMatrix * a_position;\n        v_fragmentColor = a_color;\n        v_texCoord = a_texCoord;\n    }\n    ",n.blurs_frag="\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    uniform float bluramount;\n    varying vec2 v_texCoord;\n    vec4 draw(vec2 uv) {\n        return texture2D(CC_Texture0,uv).rgba;\n    }\n    float grid(float var, float size) {\n        return floor(var*size)/size;\n    }\n    float rand(vec2 co){\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n    vec2 uv = v_texCoord.xy;\n    vec4 blurred_image = vec4(0.);\n    #define repeats 5.\n    for (float i = 0.; i < repeats; i++) { \n        vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv.x+uv.y))+bluramount);\n        vec2 uv2 = uv+(q*bluramount);\n        blurred_image += draw(uv2)/2.;\n        q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv.x+uv.y+24.))+bluramount);\n        uv2 = uv+(q*bluramount);\n        blurred_image += draw(uv2)/2.;\n    }\n    blurred_image /= repeats;\n    fragColor = vec4(blurred_image);\n    }\n    void main()\n    {\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n    }\n    ",r._RF.pop()}}}));

System.register("chunks:///_virtual/GetRedLetter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts"],(function(t){"use strict";var e,r,n,o,i,a,l,u,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Label,c=t.Node,s=t.Component},function(t){p=t.default}],execute:function(){var f,m,d,g,y,b;a._RF.push({},"7ef70HoFsRIrotqggStK3MC","GetRedLetter",void 0);var _=l.ccclass,h=l.property;t("default",(f=h({type:u,tooltip:"取得數量"}),m=h({type:c,tooltip:"飛行的目的地"}),_((y=e((g=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"m_numLabel",y,o(e)),n(e,"m_targetNode",b,o(e)),e}return r(e,t),e.prototype.SetTxt=function(){this.m_numLabel.string="",p.SetFont(this.m_numLabel)},i(e,[{key:"TargetNode",get:function(){return this.m_targetNode}}]),e}(s)).prototype,"m_numLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(g.prototype,"m_targetNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GFX.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){"use strict";var t,e,i,n,a,o,r,s,l,c;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,i=a.initializerDefineProperty,n=a.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.Label,s=t.gfx,l=t.game,c=t.Component}],execute:function(){var u,h,f,p,g;a._RF.push({},"0027c/Dj1lFg6LGVSi2wTXX","GFX",void 0);var b=o.ccclass,D=o.property;u=b("GFX"),h=D({type:r,tooltip:"顯示效能資訊"}),u((g=t((p=function(t){function a(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"infoText",g,n(e)),e.canShow=!1,e.isOpen=!1,e.max=0,e}e(a,t);var o=a.prototype;return o.onLoad=function(){this.setParames()},o.update=function(t){this.updateDC()},o.setParames=function(){this.canShow=this.getQuery("be").indexOf("ipabewbw-tset")>=0,this.node.setSiblingIndex(Number.MAX_VALUE),this.infoText.node.active=this.isOpen&&this.canShow},o.updateDC=function(){if(this.canShow&&this.max<s.deviceManager.gfxDevice.numDrawCalls){this.max=s.deviceManager.gfxDevice.numDrawCalls;this.max,new Date(Date.now()),l.frameRate;this.infoText.string="DrawCall:"+this.max+"\nData:"+new Date(Date.now())}},o.getQuery=function(t){var e=this.getUrl();if(-1!==e.indexOf("?"))for(var i=e.split("?")[1].split("&"),n=0,a=i.length;n<a;++n)if(i[n].split("=")[0]===t)return i[n].split("=")[1];return""},o.getUrl=function(){return!0==!!globalThis.LobbyData&&globalThis.LobbyData.url?globalThis.LobbyData.url:location.href},o.OnClick=function(){console.log("GFX Click"),this.isOpen=!this.isOpen,this.infoText.node.active=this.isOpen&&this.canShow},a}(c)).prototype,"infoText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p));a._RF.pop()}}}));

System.register("chunks:///_virtual/GiftCode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GiftCodeManager.ts","./LocaleStringManager.ts","./Define.ts"],(function(t){"use strict";var e,i,n,r,o,a,c,s,l,m,u,f,_,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.EditBox,s=t.Button,l=t.Label,m=t.Sprite,u=t.js,f=t.Component},function(t){_=t.giftCodeManager},function(t){h=t.default},function(t){p=t.default}],execute:function(){var b,d,S,g,C,y,L,v,F,G,T,k,B,E,O,w,I,M;o._RF.push({},"71fe9OgTsVLO4eqwEviFAiz","GiftCode",void 0),function(t){t[t.SUCCESS=0]="SUCCESS"}(w||(w={})),function(t){t[t.FreeSpin=0]="FreeSpin",t[t.Item=1]="Item"}(I||(I={})),function(t){t[t.None=0]="None",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Three=3]="Three",t[t.Four=4]="Four",t[t.Five=5]="Five",t[t.Six=6]="Six"}(M||(M={}));var x=1200,D=a.ccclass,R=a.property;t("GiftCode",(b=D("GiftCode"),d=R({type:c,tooltip:"輸入"}),S=R({type:s,tooltip:"確認按鈕"}),g=R({type:l,tooltip:"錯誤提示"}),C=R({type:l,tooltip:"禮物碼"}),y=R({type:l,tooltip:"確認文字"}),L=R({type:m,tooltip:"標題"}),b((G=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"m_codeEditBox",G,r(e)),n(e,"m_confirmBtn",T,r(e)),n(e,"m_errorMsgLabel",k,r(e)),n(e,"m_giftCodeLabel",B,r(e)),n(e,"m_confirmLabel",E,r(e)),n(e,"m_titleSprite",O,r(e)),e.m_bottombarManager=null,e.m_confirmCb=null,e.m_time=0,e.m_errorCount=0,e.m_lockTime=x,e.m_isLock=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){_.OnLoad(this),this.m_giftCodeLabel.string=h.GetInstance().GetString(p.StringKey.GIFT_CODE_1),this.m_codeEditBox.placeholder=h.GetInstance().GetString(p.StringKey.GIFT_ERROR_CODE+8),this.m_confirmLabel.string=h.GetInstance().GetString(p.StringKey.GIFT_CODE_2),this.m_titleSprite.spriteFrame=h.GetInstance().GetCommonAtlas().getSpriteFrame("Common_Txt_Title_GiftCode")},o.onDestroy=function(){_.OnDestroy()},o.Init=function(t,e){this.m_bottombarManager=t,this.m_confirmCb=e},o.OnConfirm=function(){var t;this.m_confirmBtn.interactable&&(this.m_time=0,this.m_errorMsgLabel.node.active=!1,this.SetState(!1),null==(t=this.m_confirmCb)||t.call(this,this.m_codeEditBox.string))},o.Hide=function(){this.node.active=!1},o.Show=function(){this.node.active=!0},o.IsOpen=function(){return this.node.active},o.OnRecvVerifyAck=function(t){if(this.SetState(!0),this.CheckCode(t.Code))switch(t.Type){case I.FreeSpin:p.APP.FreeSpinBet=0,this.m_bottombarManager.SetFreeSpin(t.Round),this.m_bottombarManager.OnFreeSpin(),this.Hide();break;case I.Item:}this.m_codeEditBox.enabled=!0},o.CheckCode=function(t){switch(t){case w.SUCCESS:return!0;default:var e=M.One;switch(t){case 4:e=M.Two;break;case 5:e=M.Three;break;case 6:e=M.Four;break;case 7:e=M.Five;break;case 8:e=M.Six}var i=h.GetInstance().GetString(p.StringKey.GIFT_ERROR_CODE+e);return 1==e&&(this.m_errorCount++,i=u.formatStr(i,this.m_errorCount.toString()),this.m_errorCount>=3&&(this.m_errorCount=0,this.m_lockTime=x,this.m_isLock=!0,this.m_confirmBtn.interactable=!1)),this.m_errorMsgLabel.string=i,this.m_errorMsgLabel.node.active=!0,!1}},o.update=function(t){this.m_isLock?(this.m_lockTime-=t,this.m_lockTime<=0&&(this.m_isLock=!1,this.m_confirmBtn.interactable=!0,this.m_errorMsgLabel.node.active=!1)):this.m_confirmBtn.interactable||(this.m_time+=t,this.m_time>=10&&this.SetState(!0))},o.SetState=function(t){this.m_isLock||(this.m_confirmBtn.interactable=t),this.m_codeEditBox.enabled=t},e}(f)).prototype,"m_codeEditBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(F.prototype,"m_confirmBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(F.prototype,"m_errorMsgLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(F.prototype,"m_giftCodeLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(F.prototype,"m_confirmLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"m_titleSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=F))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/GiftCodeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./DataStruct.ts","./ConnectManager.ts","./gaiaProto.mjs_cjs=&original=.js","./Tools.ts","./GaiaManager.ts","./gaiaProto.js"],(function(t){"use strict";var e,n,o,i,r,a,c,f,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.error,i=t.instantiate},function(t){r=t.default},function(t){a=t.ConnectionDataStruct},function(t){c=t.default},null,function(t){f=t.default},function(t){u=t.gaiaManager},function(t){s=t.default}],execute:function(){n._RF.push({},"3ccb6XOrLtOe6P63DfcTRUy","GiftCodeManager",void 0);var d=function(t){function n(){var e;return(e=t.call(this)||this).type=a.ErrorHandleType.Ignore,e.method=a.RequestMethod.Post,e.url="/giftcode/VerifyCodeProto",e.reqData=null,e}return e(n,t),n}(a.ProtocolData),l=(a.ProtocolData,120);t("giftCodeManager",new(function(){function t(){this.m_giftCode=null,this.m_confirmCb=null}var e=t.prototype;return e.OnLoad=function(t){this.m_giftCode=t},e.OnDestroy=function(){this.m_giftCode=null},e.Init=function(t,e){var n=this;this.m_confirmCb=e;var a=f.GetFilePath("Astt/%s/Common/Prefab/Common_GiftCode");r.CommonBundle.load(a,(function(e,a){var l,m;if(e)o(e.message||e);else{var C=i(a);t.CommonWebviewParentNode.addChild(C),f.SetZIndex(C,r.ZOrder.ITEMINFO),null==(l=n.m_giftCode)||l.Hide(),null==(m=n.m_giftCode)||m.Init(t,(function(t){if(r.APP)if(n.m_confirmCb)n.m_confirmCb(t);else{var e=new s.gaiaProto.VerifyGiftCodeReq;e.aid=Number(r.APP.GetAID()),e.token=r.APP.GetAToken(),e.apiid=Number(r.API_ID),e.giftcode=t;var o=new d;o.reqData=s.gaiaProto.VerifyGiftCodeReq.encode(e).finish(),c.GetInstance().SendCommand(o,(function(t){u.CheckAck(t,(function(t,e){n.OnRecvAck(t,e)}))}),!1,!0)}})),t.SetGiftCodeBtnState()}}))},e.OnRecvAck=function(t,e){switch(t){case l:var n,o=s.gaiaProto.VerifyGiftCodeAck.decode(e);null==(n=this.m_giftCode)||n.OnRecvVerifyAck(o)}},e.OnRecvVerifyAck=function(t){var e;null==(e=this.m_giftCode)||e.OnRecvVerifyAck(t)},e.Show=function(){var t;null==(t=this.m_giftCode)||t.Show()},e.HasUI=function(){return!!this.m_giftCode},e.IsOpen=function(){var t;return null==(t=this.m_giftCode)?void 0:t.IsOpen()},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/GroupNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,o,n,s,a,r,c,l,h,d,p,u,y,m,f,_,S,v;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createForOfIteratorHelperLoose,a=i.createClass},function(i){r=i.cclegacy,c=i._decorator,l=i.Node,h=i.Enum,d=i.v2,p=i.director,u=i.Director,y=i.Vec3,m=i.UIRenderer,f=i.UIOpacity,_=i.v3,S=i.UITransform,v=i.Component}],execute:function(){var A,C,b,g,O,N,w,R,E,G,z,T,H,D,M,B,P,I,F,V,x,k,L,W,X,Y,U,Z,j,q,J;r._RF.push({},"9099fuoIOdA/qc/GkvbZ7rH","GroupNode",void 0);var K,Q,$,ii,ei=c.ccclass,ti=c.property,oi=c.menu,ni=c.executeInEditMode,si="active-in-hierarchy-changed";!function(i){i[i.WIDTH=1]="WIDTH",i[i.HEIGHT=2]="HEIGHT",i[i.BOTH=3]="BOTH"}(K||(K={})),function(i){i[i.X=1]="X",i[i.Y=2]="Y",i[i.BOTH=3]="BOTH"}(Q||(Q={})),function(i){i[i.X=1]="X",i[i.Y=2]="Y",i[i.BOTH=3]="BOTH"}($||($={})),function(i){i[i.R=1]="R",i[i.G=2]="G",i[i.B=4]="B",i[i.RGB=7]="RGB",i[i.A=8]="A",i[i.RGBA=15]="RGBA"}(ii||(ii={}));i("default",(A=oi("Chiron/GroupNode/GroupNode"),C=ti({displayName:"Sync OnEnable",tooltip:"當 Node 啟用時同步一次所有選定的狀態至屬性 Group Nodes 中"}),b=ti({displayName:"Sync OnDisable",tooltip:"當 Node 啟用時同步一次所有選定的狀態至屬性 Group Nodes 中"}),g=ti({displayName:"Sync Recursive",tooltip:"是否遞迴同步屬性 Group Nodes 中帶有 GroupNode 元件的節點"}),O=ti({type:[l],displayName:"Group Nodes"}),N=ti({displayName:"Active Aware",tooltip:"當啓閉狀態改變時是否讓群組裡的 Node 跟著啓閉調整"}),w=ti({displayName:"Position Aware",tooltip:"當位置改變時是否讓群組裡的 Node 跟著調整相對位置"}),R=ti({type:h(Q),displayName:"Position Mode",tooltip:"當座標改變時子元件跟著調動的參數",visible:function(){return this.m_positionAware}}),E=ti({displayName:"Rotation Aware",tooltip:"當旋轉改變時是否讓群組裡的 Node 跟著調整轉角"}),G=ti({displayName:"Scale Aware",tooltip:"當縮放比例改變時是否讓群組裡的 Node 跟著改變縮放比例"}),z=ti({type:h($),displayName:"Scale Mode",tooltip:"當縮放改變時子元件跟著調動的參數",visible:function(){return this.m_scaleAware}}),T=ti({displayName:"Color Aware",tooltip:"當顏色改變時是否讓群組裡的 Node 跟著改變顏色"}),H=ti({type:h(ii),displayName:"Color Mode",tooltip:"當顏色改變時子元件跟著調動的參數",visible:function(){return this.m_colorAware}}),D=ti({displayName:"Size Aware",tooltip:"當大小改變時是否讓群組裡的 Node 跟著改變大小"}),M=ti({type:h(K),displayName:"Size Mode",tooltip:"當大小改變時子元件跟著調動的參數",visible:function(){return this.m_sizeAware}}),ei(B=ni(B=A((I=e((P=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(e=i.call.apply(i,[this].concat(s))||this).m_lastPos=void 0,e.m_lastRotation=void 0,o(e,"m_syncOnEnable",I,n(e)),o(e,"m_syncOnDisable",F,n(e)),o(e,"m_syncRecursive",V,n(e)),o(e,"m_nodes",x,n(e)),o(e,"m_activeAware",k,n(e)),o(e,"m_positionAware",L,n(e)),o(e,"m_positionMode",W,n(e)),o(e,"m_rotationAware",X,n(e)),o(e,"m_scaleAware",Y,n(e)),o(e,"m_scaleMode",U,n(e)),o(e,"m_colorAware",Z,n(e)),o(e,"m_colorMode",j,n(e)),o(e,"m_sizeAware",q,n(e)),o(e,"m_sizeMode",J,n(e)),e.m_isRegisted=!1,e}t(e,i);var r=e.prototype;return r.__preload=function(){this.m_isRegisted||(this.m_isRegisted=!0,this.m_lastPos=d(this.node.position.x,this.node.position.y),this.m_lastRotation=this.node.angle,this.node.on(si,this.OnActiveChanged,this),this.node.on(l.EventType.COLOR_CHANGED,this.OnColorChanged,this),this.node.on(l.EventType.TRANSFORM_CHANGED,this.OnRotationChanged,this),this.node.on(l.EventType.TRANSFORM_CHANGED,this.OnPositionChanged,this),this.node.on(l.EventType.TRANSFORM_CHANGED,this.OnScaleChanged,this),this.node.on(l.EventType.SIZE_CHANGED,this.OnSizeChanged,this),p.on(u.EVENT_BEFORE_DRAW,this.StateCheck,this))},r.ForceInit=function(){this.__preload()},r.onDestroy=function(){i.prototype.onDestroy&&i.prototype.onDestroy.call(this),this.node.off(si,this.OnActiveChanged,this),this.node.off(l.EventType.TRANSFORM_CHANGED,this.OnPositionChanged,this),this.node.off(l.EventType.COLOR_CHANGED,this.OnColorChanged,this),this.node.off(l.EventType.TRANSFORM_CHANGED,this.OnRotationChanged,this),this.node.off(l.EventType.TRANSFORM_CHANGED,this.OnScaleChanged,this),this.node.off(l.EventType.SIZE_CHANGED,this.OnSizeChanged,this),p.off(u.EVENT_BEFORE_DRAW,this.StateCheck,this)},r.onEnable=function(){i.prototype.onEnable&&i.prototype.onEnable.call(this),this.m_syncOnEnable&&this.SyncAware()},r.onDisable=function(){i.prototype.onDisable&&i.prototype.onDisable.call(this),this.m_syncOnDisable&&this.SyncAware()},r.SyncAware=function(){this.SyncActive(),this.SyncSize(),this.SyncPosition(),this.SyncRotation(),this.SyncOpacity(),this.SyncColor(),this.SyncScale()},r.StateCheck=function(){this.node.isValid&&this.node._renderFlag&&this.OnOpacityChanged()},r.SyncGroupChild=function(i,t){var o=t.getComponent(e);this.m_syncRecursive&&o&&i.call(o)},r.SyncScale=function(){if(this.m_scaleAware)for(var i,e=s(this.m_nodes);!(i=e()).done;){var t=i.value;t&&t.isValid&&(t.scale=new y(this.node.scale.x,this.node.scale.y,this.node.scale.z),this.SyncGroupChild(this.SyncScale,t))}},r.OnScaleChanged=function(){this.SyncScale()},r.SyncColor=function(){if(this.m_colorAware)for(var i,e=this.node.getComponent(m).color,t=s(this.m_nodes);!(i=t()).done;){var o=i.value;o&&o.isValid&&(o.getComponent(m).color=e,this.SyncGroupChild(this.SyncColor,o))}},r.OnColorChanged=function(){this.SyncColor()},r.SyncOpacity=function(){if(this.m_colorAware&&this.m_colorMode&ii.A)for(var i,e=s(this.m_nodes);!(i=e()).done;){var t=i.value;t&&t.isValid&&(t.getComponent(f).opacity=this.node.getComponent(f).opacity,this.SyncGroupChild(this.SyncOpacity,t))}},r.OnOpacityChanged=function(){this.SyncOpacity()},r.SyncRotation=function(){if(this.m_rotationAware){var i=this.node.angle-this.m_lastRotation;this.m_lastRotation=this.node.angle;for(var e,t=s(this.m_nodes);!(e=t()).done;){var o=e.value;o&&o.isValid&&(o.angle=o.angle+i,this.SyncGroupChild(this.SyncRotation,o))}}},r.OnRotationChanged=function(){this.SyncRotation()},r.SyncActive=function(){if(this.m_activeAware)for(var i,e=this.node.active,t=s(this.m_nodes);!(i=t()).done;){var o=i.value;o&&o.isValid&&(o.active=e,this.SyncGroupChild(this.SyncActive,o))}},r.OnActiveChanged=function(){this.SyncActive()},r.SyncPosition=function(){if(this.m_positionAware){var i=this.node.position.x-this.m_lastPos.x,e=this.node.position.y-this.m_lastPos.y;this.m_lastPos.x=this.node.position.x,this.m_lastPos.y=this.node.position.y;for(var t,o=s(this.m_nodes);!(t=o()).done;){var n=t.value;n&&n.isValid&&(n.setPosition(_(n.position.x+i,n.position.y+e,n.position.z)),this.SyncGroupChild(this.SyncPosition,n))}}},r.OnPositionChanged=function(){this.SyncPosition()},r.SyncSize=function(){if(this.m_sizeAware)for(var i,e=s(this.m_nodes);!(i=e()).done;){var t=i.value;t&&t.isValid&&(this.m_sizeMode&K.WIDTH&&(t.getComponent(S).width=this.node.getComponent(S).width),this.m_sizeMode&K.HEIGHT&&(t.getComponent(S).height=this.node.getComponent(S).height),this.SyncGroupChild(this.SyncSize,t))}},r.OnSizeChanged=function(){this.SyncSize()},a(e,[{key:"Nodes",get:function(){return this.m_nodes}}]),e}(v)).prototype,"m_syncOnEnable",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(P.prototype,"m_syncOnDisable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=e(P.prototype,"m_syncRecursive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(P.prototype,"m_nodes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(P.prototype,"m_activeAware",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=e(P.prototype,"m_positionAware",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=e(P.prototype,"m_positionMode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.BOTH}}),X=e(P.prototype,"m_rotationAware",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=e(P.prototype,"m_scaleAware",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=e(P.prototype,"m_scaleMode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.BOTH}}),Z=e(P.prototype,"m_colorAware",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(P.prototype,"m_colorMode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ii.RGBA}}),q=e(P.prototype,"m_sizeAware",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=e(P.prototype,"m_sizeMode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.BOTH}}),B=P))||B)||B)||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/IconBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FloatView.ts"],(function(t){"use strict";var n,e,i,a,o,u,r,c,s,l,m,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,r=t._decorator,c=t.Node,s=t.Animation,l=t.log,m=t.Component},function(t){p=t.default}],execute:function(){var _,h,B,d,f,g,y,b,T,v;t({IconBoxSeat:void 0,IconUpdates:void 0}),u._RF.push({},"dd065Up5P9AA4hny8wW3tiR","IconBox",void 0);var M,S,C=r.ccclass,O=r.property;!function(t){t[t.DailyMission=0]="DailyMission",t[t.JackPot=1]="JackPot",t[t.MustHitBy=2]="MustHitBy",t[t.RankBoard=3]="RankBoard",t[t.WinMore=4]="WinMore",t[t.BuyBonus=5]="BuyBonus",t[t.Debris=6]="Debris",t[t.Trial=7]="Trial"}(M||(M=t("IconBoxSeat",{}))),function(t){t[t.JPBanner=0]="JPBanner",t[t.JPBar=1]="JPBar",t[t.JPRollingValue=2]="JPRollingValue",t[t.MHBBtn=3]="MHBBtn",t[t.MHBRollingValue=4]="MHBRollingValue"}(S||(S=t("IconUpdates",{})));t("default",(_=O({type:c,tooltip:"按鈕位置"}),h=O({type:c,tooltip:"主按鈕"}),B=O({type:c,tooltip:"收回按鈕"}),d=O({type:s,tooltip:"按鈕位置"}),C((y=n((g=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,i(n,"m_btnSeats",y,a(n)),i(n,"m_mainBtn",b,a(n)),i(n,"m_closeBtn",T,a(n)),i(n,"m_btnAnim",v,a(n)),n.m_isOpen=!0,n.m_currentTouchName=null,n.m_updateFuncs=[null,null,null,null,null],n}e(n,t);var u=n.prototype;return u.onLoad=function(){var t=this;this.m_mainBtn.on(c.EventType.TOUCH_START,(function(n){l(" this.m_discountBtn 3 ",t.m_currentTouchName),n.propagationImmediateStopped=!0,n.propagationStopped=!0,null==t.m_currentTouchName?(t.m_currentTouchName=n.target.name,t.node.getComponent(p).OnTouchStart(n.getUILocation())):n.target&&0==n.target.active&&(t.m_currentTouchName=n.target.name)})),this.m_mainBtn.on(c.EventType.TOUCH_CANCEL,(function(n){t.m_currentTouchName==n.target.name&&(t.m_currentTouchName=null)})),this.m_mainBtn.on(c.EventType.TOUCH_MOVE,(function(n){t.m_currentTouchName==n.target.name?(t.m_currentTouchName=n.target.name,t.node.getComponent(p).OnTouchMove(n.getUILocation())):n.target&&0==n.target.active&&(t.m_currentTouchName=n.target.name)})),this.m_mainBtn.on(c.EventType.TOUCH_END,(function(n){if(t.m_currentTouchName==n.target.name){t.m_currentTouchName=null;t.node.getComponent(p).OnTouchEnd(n.getUILocation(),(function(){t.m_isOpen?t.CloseMenu():t.OpenMenu()}))}})),this.m_closeBtn.on(c.EventType.TOUCH_END,(function(n){t.CloseMenu()}))},u.update=function(t){this.m_btnSeats[M.JackPot].active&&this.m_updateFuncs[M.JackPot]&&(this.m_updateFuncs[S.JPBanner]&&this.m_updateFuncs[S.JPBanner](t),this.m_updateFuncs[S.JPBar]&&this.m_updateFuncs[S.JPBar](t),this.m_updateFuncs[S.JPRollingValue]&&this.m_updateFuncs[S.JPRollingValue](t)),this.m_btnSeats[M.MustHitBy].active&&(this.m_updateFuncs[S.MHBBtn]&&this.m_updateFuncs[S.MHBBtn](t),this.m_updateFuncs[S.MHBRollingValue]&&this.m_updateFuncs[S.MHBRollingValue](t))},u.SetUpdateFuns=function(t,n){this.m_updateFuncs[t]=n},u.OpenMenu=function(){this.m_isOpen||(this.m_isOpen=!0,this.m_btnAnim.play("Clip_IconBox_Open"))},u.CloseMenu=function(){this.m_isOpen&&(this.m_isOpen=!1,this.m_btnAnim.play("Clip_IconBox_Close"))},u.SetBtnSeat=function(t,n){this.m_btnSeats[n].getChildByName(t.name)||(this.node.active=!0,this.m_btnSeats[n].active=!0,this.m_btnSeats[n].addChild(t))},u.OpenBtnSeat=function(t,n){if(void 0===n&&(n=!0),this.m_btnSeats[t].active=n,n)this.node.active=!0;else for(var e=0;e<this.m_btnSeats.length;e++){if(this.m_btnSeats[e].active){this.node.active=!0;break}this.node.active=!1}},o(n,[{key:"BtnAnim",get:function(){return this.m_btnAnim}}]),n}(m)).prototype,"m_btnSeats",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(g.prototype,"m_mainBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(g.prototype,"m_closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"m_btnAnim",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));u._RF.pop()}}}));

System.register("chunks:///_virtual/IconSorter.ts",["cc"],(function(r){"use strict";var t,n;return{setters:[function(r){t=r.cclegacy,n=r.error}],execute:function(){function e(r,t){return r.order-t.order}t._RF.push({},"e2366zawc5Ndp69JXs5nPnT","IconSorter",void 0);r("default",function(){function r(r,t){this.nowOrder=[],this.defaultOrder=r,this.seats=t,r.length>t.length&&n("IconSorter: order more than seats")}var t=r.prototype;return t.AddIcon=function(r,t){var n=this;return this.defaultOrder.forEach((function(e,o){if(e===r){for(var i=0;i<n.nowOrder.length;i++)if(n.nowOrder[i].name===r)return n;n.nowOrder.push({name:r,order:o,nodes:t})}})),this},t.RemoveIcon=function(r){for(var t=0;t<this.nowOrder.length;t++)if(this.nowOrder[t].name===r){this.nowOrder.splice(t,1);break}return this},t.Sort=function(){return this.nowOrder.sort(e),this},t.Reorder=function(){var r=this;return this.nowOrder.forEach((function(t,n){t.nodes.forEach((function(t){t.position=r.seats[n].position}))})),this},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IconTemplate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./MsgBox.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./GameIconComponent.ts"],(function(t){"use strict";var e,n,i,o,r,a,m,l,c,p,u,s,_,f,h,g,S,v,I,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,m=t._decorator,l=t.Sprite,c=t.SpriteFrame,p=t.Label,u=t.Node,s=t.tween,_=t.Animation,f=t.Component},function(t){h=t.default},function(t){g=t.default},function(t){S=t.default},function(t){v=t.default},function(t){I=t.default},function(t){b=t.default}],execute:function(){var d,y,T,C,N,w,F,G,H,E,A,B,M,k,O,z,D,L,x,P,K,R,U,V,W,Y,X,q,j,J,Q,Z,$,tt;a._RF.push({},"73e93JzYttGYosPBbaodOkI","IconTemplate",void 0);var et=m.ccclass,nt=m.property;t("default",(d=nt({type:Boolean,tooltip:"Icon是否禁止點擊"}),y=nt({type:Boolean,tooltip:"Icon點擊是否顯示prompt"}),T=nt({type:b,tooltip:"遊戲icon"}),C=nt({type:l,tooltip:"event圖"}),N=nt({type:l,tooltip:"愛心圖"}),w=nt({type:c,tooltip:"收藏圖示"}),F=nt({type:c,tooltip:"未收藏圖示"}),G=nt({type:p,tooltip:"收藏人數提示"}),H=nt({type:u,tooltip:"icon點擊提示"}),E=nt({type:u,tooltip:"收藏點擊提示"}),A=nt({type:u,tooltip:"內購icon"}),B=nt({type:u,tooltip:"內購icon Bonus"}),M=nt({type:u,tooltip:"prompt資訊面板"}),k=nt({type:l,tooltip:"prompt資訊文字,0:mult 1:win"}),O=nt({type:p,tooltip:"prompt資訊數字,0:mult 1:win"}),z=nt({type:u,tooltip:"GO按鈕"}),et((x=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_iconTouchDisable",x,o(e)),i(e,"m_iconTouchShowPrompt",P,o(e)),i(e,"m_gameIcon",K,o(e)),i(e,"m_eventSprites",R,o(e)),i(e,"m_favorSprite",U,o(e)),i(e,"m_favorSpriteFrame",V,o(e)),i(e,"m_uncollectedSpriteFrame",W,o(e)),i(e,"m_favorStateLabel",Y,o(e)),i(e,"m_iconClickHintNode",X,o(e)),i(e,"m_favorClickHintNode",q,o(e)),i(e,"m_buyFGHintNode",j,o(e)),i(e,"m_buyFGHintBonus",J,o(e)),i(e,"m_promptInfo",Q,o(e)),i(e,"m_promptInfoTxt",Z,o(e)),i(e,"m_promptInfoNum",$,o(e)),i(e,"m_goBtn",tt,o(e)),e.m_isFavor=!1,e.m_gameId=null,e.m_controller=null,e.m_addCb=null,e.m_removeCb=null,e.m_inGameId=0,e.m_iconEventNo=0,e.m_spriteAtlas=null,e.m_closeTween=null,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.m_favorSprite.node.on(u.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,t.m_controller&&(null==t.m_controller.CurrentTouchName&&t.m_favorSprite.node.active||e.target&&0==e.target.active)&&(t.m_controller.CurrentTouchName=e.target.name)})),this.m_favorSprite.node.on(u.EventType.TOUCH_CANCEL,(function(e){t.m_controller&&t.m_controller.CurrentTouchName==e.target.name&&(t.m_controller.CurrentTouchName=null)})),this.m_favorSprite.node.on(u.EventType.TOUCH_END,(function(e){if(t.m_controller){if(t.m_controller.CurrentTouchName!=e.target.name)return;if(t.m_controller.CurrentTouchName=null,t.m_isFavor){var n={};n.contextKey=S.StringKey.FAVOR_REMOVE_HINT,n.titleKey=g.DEFAULT_TITLE_KEY,n.showCancelBtn=!0,n.showConfirmBtn=!0,n.showCloseBtn=!1,n.subFormatString=[v.GetInstance().GetGameName(t.m_gameId)],n.confirmCB=function(){t.m_removeCb&&t.m_removeCb(t.m_gameId)},g.getInstance().PushMessageBoxSetting(n)}else t.m_addCb&&t.m_addCb(t.m_gameId)}})),this.m_goBtn&&this.m_goBtn.on(u.EventType.TOUCH_END,(function(e){if(t.m_gameId===t.m_inGameId)g.getInstance().ShowMessageBox(S.StringKey.FAVOR_INVALID_HINT);else{var n=v.GetInstance().GetGameName(t.m_gameId);g.getInstance().ShowFullMessageBox(S.StringKey.CHANGE_GAME_HINT,S.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[n],(function(){h.GetInstance().ReqUrl(t.m_gameId,t.m_iconEventNo)}),(function(){}),(function(){}))}}))},a.Init=function(t,e){this.m_controller=t,this.m_inGameId=e,this.SetIsFavor(!1)},a.SetCb=function(t,e,n){this.m_iconEventNo=t,this.m_addCb=e,this.m_removeCb=n},a.SetIconSpriteFrame=function(t,e,n){var i=this;void 0===n&&(n=null);var o=function(){if(i.m_gameId===i.m_inGameId)g.getInstance().ShowMessageBox(S.StringKey.FAVOR_INVALID_HINT);else{var t=v.GetInstance().GetGameName(i.m_gameId);g.getInstance().ShowFullMessageBox(S.StringKey.CHANGE_GAME_HINT,S.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[t],(function(){h.GetInstance().ReqUrl(i.m_gameId,i.m_iconEventNo)}),(function(){}),(function(){}))}};this.m_gameIcon.SetGameIcon(t,(function(){if(!i.m_iconTouchDisable){if(I.CheckSwitchOff(S.SwitchOffKeyDefine.AllChangeGameImport))return;i.m_iconTouchShowPrompt&&i.m_promptInfo?i.m_promptInfo.active?o():(n&&n(),i.ShowPrompt(!0)):o()}})),this.m_gameId=e},a.SetTagSpriteFrame=function(t){if(null===t)this.m_eventSprites.forEach((function(t){t.node.active=!1}));else{for(;t.length<this.m_eventSprites.length;)t.push(null);for(var e=0;e<this.m_eventSprites.length;e++)this.m_eventSprites[e].node.active=!0,this.m_eventSprites[e].spriteFrame=t[e]}},a.SetIsFavor=function(t,e){void 0===e&&(e=!0),this.m_isFavor=t,this.m_favorSprite.node.active=e,this.m_isFavor?this.m_favorSprite.spriteFrame=this.m_favorSpriteFrame:this.m_favorSprite.spriteFrame=this.m_uncollectedSpriteFrame},a.SetIconTouchShowPrompt=function(){this.m_iconTouchShowPrompt=!0},a.ShowIconHint=function(){I.CheckSwitchOff(S.SwitchOffKeyDefine.AllChangeGameImport)?this.m_iconClickHintNode&&(this.m_iconClickHintNode.active=!1):(this.m_iconClickHintNode&&(this.m_iconClickHintNode.active=!0),this.m_favorClickHintNode&&(this.m_favorClickHintNode.active=!1))},a.ShowPrompt=function(t){var e=this;this.m_promptInfo&&(!this.m_promptInfo.active||t||this.m_closeTween?t&&!I.CheckSwitchOff(S.SwitchOffKeyDefine.AllChangeGameImport)?(this.m_promptInfo.active=t,this.m_promptInfo.getComponent(_).play("Clip_WinMore_Feature_PromptPanel_Start")):this.m_promptInfo.active=!1:(this.m_iconTouchDisable=!0,this.m_closeTween=s(this.node).call((function(){e.m_promptInfo.getComponent(_).stop(),e.m_promptInfo.getComponent(_).play("Clip_WinMore_Feature_PromptPanel_End")})).delay(.5).call((function(){e.m_promptInfo.active=t,e.m_iconTouchDisable=!1,e.m_closeTween=null})).start()))},a.ShowFavorHint=function(t){void 0===t&&(t=!0),this.m_iconClickHintNode&&(this.m_iconClickHintNode.active=!t),this.m_favorClickHintNode&&(this.m_favorClickHintNode.active=t)},a.SetMall=function(t){this.m_buyFGHintNode&&(this.m_buyFGHintNode.active=t),this.m_buyFGHintBonus&&(this.m_buyFGHintBonus.active=t)},a.SetDau=function(t){this.m_favorStateLabel&&(this.m_favorStateLabel.string=t.toString(),I.SetFont(this.m_favorStateLabel))},a.SetTop=function(t,e){this.m_spriteAtlas||(this.m_spriteAtlas=v.GetInstance().GetCommonAtlas()),this.m_spriteAtlas&&this.m_spriteAtlas.getSpriteFrame("WinMore_Txt_hint_Multiplier")&&(this.m_promptInfoTxt[0].spriteFrame=this.m_spriteAtlas.getSpriteFrame("WinMore_Txt_hint_Multiplier"),this.m_promptInfoTxt[1].spriteFrame=this.m_spriteAtlas.getSpriteFrame("WinMore_Txt_hint_Winnings")),this.m_promptInfoNum[0]&&(this.m_promptInfoNum[0].string=t?t.toString()+"X":"-",this.m_promptInfoNum[1].string=e?e.toString():"-")},r(e,[{key:"GameId",get:function(){return this.m_gameId}}]),e}(f)).prototype,"m_iconTouchDisable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=e(L.prototype,"m_iconTouchShowPrompt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=e(L.prototype,"m_gameIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(L.prototype,"m_eventSprites",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(L.prototype,"m_favorSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(L.prototype,"m_favorSpriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(L.prototype,"m_uncollectedSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(L.prototype,"m_favorStateLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(L.prototype,"m_iconClickHintNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(L.prototype,"m_favorClickHintNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"m_buyFGHintNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(L.prototype,"m_buyFGHintBonus",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(L.prototype,"m_promptInfo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(L.prototype,"m_promptInfoTxt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(L.prototype,"m_promptInfoNum",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(L.prototype,"m_goBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/IframeCommandManager.ts",["cc","./Define.ts"],(function(e){"use strict";var a,n,t;return{setters:[function(e){a=e.cclegacy,n=e.sys},function(e){t=e.default}],execute:function(){a._RF.push({},"fd3c4QcsdREXKpljtZ01Lce","IframeCommandManager",void 0);var m="stopAutoplay";e("iframeCommandManager",new(function(){function e(){var e=this;this.m_iframeCommandCbs=[],n.isNative||window.addEventListener("message",(function(a){if("CloseWebView"==a.data)for(var n=0;n<e.m_iframeCommandCbs.length;n++){var o;null==(o=e.m_iframeCommandCbs[n])||null==o.CloseWebView||o.CloseWebView(a.origin)}else if(a.data.type)switch(a.data.type){case t.WebViewEvent.ChangeGame:for(var s=0;s<e.m_iframeCommandCbs.length;s++){var i;null==(i=e.m_iframeCommandCbs[s])||null==i.ChangeGame||i.ChangeGame(a.data.data)}}else{var r=a.data;if(r.name)switch(r.name){case m:for(var C=0;C<e.m_iframeCommandCbs.length;C++){var d;null==(d=e.m_iframeCommandCbs[C])||null==d.StopAutoCb||d.StopAutoCb()}}}}),!1)}var a=e.prototype;return a.AddCb=function(e){this.m_iframeCommandCbs.push(e)},a.UseStopAutoCb=function(){for(var e=0;e<this.m_iframeCommandCbs.length;e++){var a;null==(a=this.m_iframeCommandCbs[e])||null==a.StopAutoCb||a.StopAutoCb()}},a.SendClosed=function(){window.parent.postMessage({name:"closed",sender:"game"},"*")},e}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/ILoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,a,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,c=e.Component}],execute:function(){var u,s,p,f,b;o._RF.push({},"baf47jY4aNCZ5rDVIQoalmN","ILoadingView",void 0);var y=a.ccclass,d=a.property;e("default",(u=d(l),y((f=t((p=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",f,n(t)),i(t,"text",b,n(t)),t}return r(t,e),t.prototype.start=function(){},t}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(p.prototype,"text",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"hello"}}),s=p))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/iOSDevice.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,n;return{setters:[function(e){i=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){e("GetiOSDevice",(function(){for(var e,n=i(h);!(e=n()).done;){var t=e.value;if(screen.height===t.height&&screen.width===t.width&&window.devicePixelRatio===t.ratio)return t}return null})),n._RF.push({},"75bb5oI81VDmp51KKFfM4ZX","iOSDevice",void 0);var t=function(e,i,n,t,h,o){this.name=e,this.height=i,this.width=n,this.ratio=t,this.statusHeight=h,this.homeHeight=o},h=[new t("iPhone 6.7-inch",926,428,3,44,34),new t("iPhone 6.5-inch",896,414,3,44,34),new t("iPhone 6.1-inch",896,414,2,44,34),new t("iPhone 5.8-inch",812,375,3,44,34),new t("iPhone 5.5-inch",736,414,3,18,0),new t("iPhone 4.7-inch",667,375,2,20,0),new t("iPhone 4-inch",568,320,2,20,0),new t("iPhone 3.5-inch",480,320,2,20,0),new t("iPhone(Legacy) & iPod Touch",480,320,1,20,0),new t("iPad Pro 12.9-inch",1366,1024,2,20,0),new t("iPad Pro 10.5-inch",1112,834,2,20,0),new t("iPad 9.7-inch Retina",1024,768,2,20,0),new t("iPad",1024,768,1,20,0),new t("iPad Mini Retina",1024,768,2,20,0),new t("iPad Mini",1024,768,1,20,0)];n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBall.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,a,c,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,c=t._decorator,l=t.Animation,p=t.Sprite,u=t.Component}],execute:function(){var s,m,f,y,_,h;a._RF.push({},"e002eeAEpJN/LixXF9LMZGK","ItemBall",void 0);var S=c.ccclass,b=c.property;t("default",(s=b({type:l,tooltip:"動畫"}),m=b({type:p,tooltip:"道具卡"}),S((_=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"m_anim",_,n(e)),r(e,"m_iconSprite",h,n(e)),e}i(e,t);var a=e.prototype;return a.SetIcon=function(t){this.m_iconSprite.spriteFrame=t},a.Show=function(){this.m_anim.play("Clip_Backpack_ItemCard_Ball")},o(e,[{key:"IconSprite",get:function(){return this.m_iconSprite}}]),e}(u)).prototype,"m_anim",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(y.prototype,"m_iconSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuffManager.ts"],(function(t){"use strict";var i,e,r,n,o,a,m,u,l,s,c,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,m=t.Sprite,u=t.Label,l=t.Node,s=t.v3,c=t.Component},function(t){f=t.default}],execute:function(){var _,h,d,p,b,S,v,N,y,g,B,C,k,w,I,L;o._RF.push({},"69389wqubhK5r6onorSe8rR","ItemCell",void 0);var x=a.ccclass,T=a.property;t("default",(_=T({type:m,tooltip:"icon"}),h=T({type:u,tooltip:"數量"}),d=T({type:l,tooltip:"箭頭"}),p=T({type:m,tooltip:"廠商提示"}),b=T({type:l,tooltip:"壓黑主節點"}),S=T({type:l,tooltip:"時鐘圖"}),v=T({type:u,tooltip:"剩餘時間"}),x((g=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"m_iconSprite",g,n(i)),r(i,"m_numLabel",B,n(i)),r(i,"m_arrowNode",C,n(i)),r(i,"m_vendorIconSprite",k,n(i)),r(i,"m_darkNode",w,n(i)),r(i,"m_clockNode",I,n(i)),r(i,"m_remainTimeLabel",L,n(i)),i.m_startTime=null,i.m_BuffNode=null,i.m_isBuffCard=!1,i.m_idx=-1,i.m_buffIdx=-1,i.m_touchCb=null,i.m_tickCounter=1,i}e(i,t);var o=i.prototype;return o.Init=function(t,i){this.m_touchCb=i,this.m_iconSprite.spriteFrame=null,this.m_numLabel.node.active=!1,this.m_idx=-1,this.m_startTime=t,this.SetDark()},o.SetItem=function(t,i,e,r){i?(this.m_iconSprite.spriteFrame=i,this.m_numLabel.node.active=!0,this.m_numLabel.string="*"+e.toString(),this.m_idx=t):(this.m_iconSprite.spriteFrame=null,this.m_numLabel.node.active=!1,this.m_idx=-1),this.m_buffIdx=-1,this.m_isBuffCard=!1,this.m_arrowNode.active=i&&0===t,this.m_startTime=r},o.SetBuff=function(t,i,e){this.m_BuffNode=e,this.m_BuffNode.scale=s(.7,.7,1),this.m_iconSprite.spriteFrame=null,this.m_iconSprite.node.addChild(this.m_BuffNode),this.m_numLabel.node.active=!1,this.m_idx=t,this.m_buffIdx=i,this.m_isBuffCard=!0,this.m_arrowNode.active=0===t},o.ReturnBuff=function(){this.m_BuffNode&&(this.m_BuffNode.removeFromParent(),f.GetInstance().ReturnBuffNode(this.m_BuffNode,this.m_BuffNode.name),this.m_BuffNode=null)},o.SetColor=function(t){this.m_iconSprite.color=t},o.IsEmpty=function(){return null===this.m_iconSprite.spriteFrame},o.OnSelect=function(){this.m_touchCb&&-1!=this.m_idx&&!this.m_isBuffCard?this.m_touchCb(this.m_idx,-1):-1!=this.m_buffIdx&&this.m_isBuffCard&&this.m_touchCb(-1,this.m_buffIdx)},o.SetArrowNode=function(t){this.m_arrowNode.active=t},o.SetVendorIcon=function(t){this.m_vendorIconSprite.node.active=t},o.SetDark=function(){if(this.m_startTime){var t=Date.now()/1e3,i=this.m_startTime;if(t>=i)return this.m_remainTimeLabel.string="",this.m_clockNode.active=!1,void(this.m_darkNode.active=!1);this.m_darkNode.active=!0;var e=Math.floor((i-t)/3600);i-=3600*e;var r=Math.floor((i-t)/60);i-=60*r;var n=Math.floor(i-t),o=(e>9?e.toString():"0"+e.toString())+":"+(r>9?r.toString():"0"+r.toString())+":"+(n>9?n.toString():"0"+n.toString());this.m_clockNode.active=!0,this.m_remainTimeLabel.string=o}},o.update=function(t){(this.m_darkNode.active||Date.now()/1e3<this.m_startTime)&&(this.m_tickCounter-=t,this.m_tickCounter<=0&&(this.m_tickCounter=1,this.SetDark()))},o.onDestroy=function(){this.m_remainTimeLabel.string=""},i}(c)).prototype,"m_iconSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(y.prototype,"m_numLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(y.prototype,"m_arrowNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(y.prototype,"m_vendorIconSprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"m_darkNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(y.prototype,"m_clockNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(y.prototype,"m_remainTimeLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=y))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./AppManager.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./BuffManager.ts","./Backpack.ts","./ItemList.ts"],(function(e){"use strict";var t,i,n,r,a,l,m,o,s,u,_,c,p,h,f,b,d,g,S,T,I,y,N,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,m=e._decorator,o=e.Label,s=e.Sprite,u=e.RichText,_=e.Button,c=e.Node,p=e.Animation,h=e.color,f=e.Component,b=e.v3},function(e){d=e.default},function(e){g=e.default},function(e){S=e.default},function(e){T=e.default},function(e){I=e.default},function(e){y=e.default},function(e){N=e.VendorSource},function(e){L=e.default}],execute:function(){var C,D,B,E,A,F,G,K,v,M,R,O,x,U,w,k,P,z,H,X,Y,J,V,j,Z,q,Q,W,$,ee,te,ie,ne,re,ae,le,me,oe,se,ue,_e,ce,pe,he,fe,be,de,ge;l._RF.push({},"7732enn7YpBRKh7miHxsUSh","ItemDetail",void 0);var Se=1,Te=.05,Ie=[1,3,5,10,50],ye=m.ccclass,Ne=m.property;e("default",(C=Ne({type:o,tooltip:"道具卡說明標題"}),D=Ne({type:s,tooltip:"道具卡圖片"}),B=Ne({type:o,tooltip:"道具卡數量"}),E=Ne({type:o,tooltip:"遊戲"}),A=Ne({type:o,tooltip:"遊戲名稱"}),F=Ne({type:o,tooltip:"押注"}),G=Ne({type:u,tooltip:"押注資訊"}),K=Ne({type:o,tooltip:"財產"}),v=Ne({type:s,tooltip:"財產不足"}),M=Ne({type:u,tooltip:"財產資訊"}),R=Ne({type:o,tooltip:"使用日期"}),O=Ne({type:s,tooltip:"未到使用日期"}),x=Ne({type:o,tooltip:"使用日期資訊"}),U=Ne({type:o,tooltip:"說明"}),w=Ne({type:u,tooltip:"說明內容"}),k=Ne({type:_,tooltip:"使用"}),P=Ne({type:o,tooltip:"使用文字"}),z=Ne({type:c,tooltip:"限制原因"}),H=Ne({type:o,tooltip:"限制原因文字"}),X=Ne({type:c,tooltip:"調整數量"}),Y=Ne({type:_,tooltip:"+"}),J=Ne({type:_,tooltip:"-"}),V=Ne({type:o,tooltip:"數量"}),ye((q=t((Z=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_titleLabel",q,r(t)),n(t,"m_iconSprite",Q,r(t)),n(t,"m_numLabel",W,r(t)),n(t,"m_gameTitleLabel",$,r(t)),n(t,"m_gameNameLabel",ee,r(t)),n(t,"m_betTitleLabel",te,r(t)),n(t,"m_betInfoLabel",ie,r(t)),n(t,"m_propertyTitleLabel",ne,r(t)),n(t,"m_propertyRefusedSprite",re,r(t)),n(t,"m_propertyInfoLabel",ae,r(t)),n(t,"m_limitDateTitleLabel",le,r(t)),n(t,"m_limitDateRefusedSprite",me,r(t)),n(t,"m_limitDateInfoLabel",oe,r(t)),n(t,"m_explainTitleLabel",se,r(t)),n(t,"m_explainInfoLabel",ue,r(t)),n(t,"m_useBtn",_e,r(t)),n(t,"m_useLabel",ce,r(t)),n(t,"m_refusedNode",pe,r(t)),n(t,"m_refusedLabel",he,r(t)),n(t,"m_numNode",fe,r(t)),n(t,"m_plusBtn",be,r(t)),n(t,"m_decBtn",de,r(t)),n(t,"m_useNumLabel",ge,r(t)),t.m_buffNode=null,t.m_extraManager=null,t.m_backpack=null,t.m_curItemID=null,t.m_curItemIdx=null,t.m_curBuffID=null,t.m_curBuffIdx=null,t.m_curStartTime=void 0,t.m_curEndTime=void 0,t.m_curDescL=null,t.m_curDescS=null,t.m_isLandscape=!0,t.m_usageCb=null,t.m_buffUsageCb=null,t.m_currentTouchName=null,t.m_isCountStart=!1,t.m_increaseOrDecrease=1,t.m_holdTime=0,t.m_timer=Te,t.m_holdIncreaseStep=0,t.m_totalTime=0,t}i(t,e);var l=t.prototype;return l.Init=function(e,t,i,n){this.m_extraManager=e,this.m_backpack=t,this.m_usageCb=i,this.m_buffUsageCb=n,this.SetTouch()},l.SetTxt=function(){this.m_betTitleLabel.getComponent(o).string=this.GetString(d.StringKey.BACKPACK_TXT_BET),this.m_propertyTitleLabel.getComponent(o).string=this.GetString(d.StringKey.BACKPACK_TXT_PROPERTY),this.m_gameTitleLabel.getComponent(o).string=this.GetString(d.StringKey.BACKPACK_TXT_GAME),this.m_limitDateTitleLabel.getComponent(o).string=this.GetString(d.StringKey.BACKPACK_TXT_TIME),this.m_explainTitleLabel.getComponent(o).string=this.GetString(d.StringKey.BACKPACK_TXT_INFO),I.SetFont(this.m_betTitleLabel),I.SetFont(this.m_propertyTitleLabel),I.SetFont(this.m_gameTitleLabel),I.SetFont(this.m_limitDateTitleLabel),I.SetFont(this.m_explainTitleLabel);for(var e=0;e<this.m_useLabel.length;e++)I.SetFont(this.m_useLabel[e]),this.m_useLabel[e].string=this.GetString(d.StringKey.BACKPACK_BTN_USE);I.SetFont(this.m_useNumLabel)},l.OnRotation=function(e){if(this.m_isLandscape=e,e?(this.node.getComponent(p).play("Clip_Backpack_UseCard_Landscape"),this.m_curDescL&&(this.m_explainInfoLabel.string=this.m_curDescL,I.SetFont(this.m_explainInfoLabel))):(this.node.getComponent(p).play("Clip_Backpack_UseCard_Portrait"),this.m_curDescS&&(this.m_explainInfoLabel.string=this.m_curDescS,I.SetFont(this.m_explainInfoLabel))),this.node.active&&this.m_curStartTime&&this.m_curEndTime){var t=this.GetString(d.StringKey.BACKPACK_TXT_TIME_BAR+Number(this.m_isLandscape));this.m_limitDateInfoLabel.string=this.m_curStartTime+t+this.m_curEndTime,I.SetFont(this.m_limitDateInfoLabel)}},l.ShowItemDetail=function(e,t,i,n,r){var a=e.gameid,l=e.itemid,m=e.itemindex,o=e.source,u=this.m_extraManager.GetDisplayValue(I.strip(e.bet)),_=e.wintype,c=e.star,p=this.m_extraManager.GetDisplayValue(I.strip(e.coinlimit)),h=e.banreason,f=e.amount,b=this.GetString(d.StringKey.BACKPACK_TXT_TIME_BAR+Number(this.m_isLandscape)),g=e.icon?e.icon:null,T={icon:g,type:_,star:c,bet:u,gameName:"",gameDesc:e.gamename?e.gamename:null},C=L.GetInstance().GetItemInfoText(T,0),D=L.GetInstance().GetItemInfoText(T,1);this.m_buffNode&&(this.m_buffNode.removeFromParent(),y.GetInstance().ReturnBuffNode(this.m_buffNode,this.m_buffNode.name),this.m_buffNode=null),this.m_curItemID=l,this.m_curItemIdx=m,this.m_curBuffID=null,this.m_curBuffIdx=null,this.m_curStartTime=this.m_backpack.GetTimeString(e.start),this.m_curEndTime=this.m_backpack.GetTimeString(e.expired),this.m_curDescL=D.gameDesc,this.m_curDescS=C.gameDesc,this.m_gameNameLabel.string=S.GetInstance().GetGameName(a),I.SetFont(this.m_gameNameLabel),this.m_propertyTitleLabel.node.active=!0,this.m_propertyInfoLabel.string="<p>"+d.DollarSymbol+" </p>"+p.toString()+this.GetString(d.StringKey.BACKPACK_TXT_PROPERTY_UP),this.m_propertyInfoLabel.fontFamily=d.DollarFontFamily,I.SetFont(this.m_propertyInfoLabel),this.m_betTitleLabel.node.active=!0,this.m_betInfoLabel.string="<p>"+d.DollarSymbol+" </p>"+I.FormatNumberThousands(u,I.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO),this.m_betInfoLabel.fontFamily=d.DollarFontFamily,this.m_limitDateInfoLabel.string=this.m_curStartTime+b+this.m_curEndTime,this.m_explainInfoLabel.string=this.m_isLandscape?this.m_curDescL:this.m_curDescS,I.SetFont(this.m_explainInfoLabel),this.m_explainInfoLabel.fontFamily=d.DollarFontFamily,e.gameid===d.GAME_ID.ENTITY?this.m_iconSprite.spriteFrame=r?r.getSpriteFrame(g.toString()):i.getSpriteFrame("common_card"):this.m_iconSprite.spriteFrame=t?t.getSpriteFrame(g.toString()):i.getSpriteFrame("common_card");var B=this.m_iconSprite.node.getChildByName("HintIcon");if(B&&(B.getComponent(s).spriteFrame=n,B.active=o===N),this.m_useNumLabel.string=1..toString(),this.m_numLabel.string=f.toString(),I.SetFont(this.m_titleLabel),this.m_titleLabel.string=C.title,d.CanUseItemCard)if(this.m_backpack.IsPlayingAni){var E=this.GetString(d.StringKey.BACKPACK_REFUSED_REASON+"1");E=E.replace("{ITEM_NAME}",I.IsTada?S.GetInstance().GetString(d.StringKey.TADA_ITEM_NAME):S.GetInstance().GetString(d.StringKey.JILI_ITEM_NAME)),this.m_refusedLabel.string=E,I.SetFont(this.m_refusedLabel),this.SetUseBtnState(!1)}else if(h>0){I.SetFont(this.m_refusedLabel);var A=this.GetString(d.StringKey.BACKPACK_REFUSED_REASON+h);A=A.replace("{ITEM_NAME}",I.IsTada?S.GetInstance().GetString(d.StringKey.TADA_ITEM_NAME):S.GetInstance().GetString(d.StringKey.JILI_ITEM_NAME)),this.m_refusedLabel.string=A,this.SetUseBtnState(!1),503==h?(this.m_propertyRefusedSprite.enabled=!0,this.m_limitDateRefusedSprite.enabled=!1):504==h&&(this.m_limitDateRefusedSprite.enabled=!0,this.m_propertyRefusedSprite.enabled=!1),this.SetUseBtnState(!1)}else this.m_limitDateRefusedSprite.enabled=!1,this.m_propertyRefusedSprite.enabled=!1,this.SetUseBtnState(!0);else{var F=this.GetString(d.StringKey.BACKPACK_REFUSED_REASON+d.CantUseReason);F=F.replace("{ITEM_NAME}",I.IsTada?S.GetInstance().GetString(d.StringKey.TADA_ITEM_NAME):S.GetInstance().GetString(d.StringKey.JILI_ITEM_NAME)),this.m_refusedLabel.string=F,I.SetFont(this.m_refusedLabel),this.SetUseBtnState(!1)}Se=f>e.dailyremaintimes?e.dailyremaintimes:f,this.m_backpack.IsLockNumControl?this.ShowNumControl(!1):d.CanUseItemCard&&0==h&&Se>1?this.ShowNumControl(!0):this.ShowNumControl(!1),this.node.active=!0},l.ShowBuffDetail=function(e){var t=this;e.updateUsable(),console.error("ShowBuffDetail",JSON.stringify(e));var i=e.id,n=e.idx,r=e.buffName,a=e.gameName,l=e.desc1,m=e.desc2,o=e.usageTimeDesc,s=e.info,u=e.expiredTime,_=e.startTime,c=e.usable,p=e.reason;if(this.m_buffNode&&(this.m_buffNode.removeFromParent(),y.GetInstance().ReturnBuffNode(this.m_buffNode,this.m_buffNode.name),this.m_buffNode=null),this.m_buffNode=y.GetInstance().GetBuffNode(i.toString()),this.m_buffNode)this.m_iconSprite.node.addChild(this.m_buffNode);else{g.GetBuffCardNode(i,(function(e){e&&(t.m_buffNode=e,console.error("itemdetail",t.m_buffNode.name,i),t.m_buffNode.scale=b(.7,.7,1),t.m_iconSprite.node.addChild(t.m_buffNode))}))}if(this.m_curBuffID=i,this.m_curBuffIdx=n,this.m_curItemID=null,this.m_curItemIdx=null,this.m_curStartTime=this.m_backpack.GetTimeString(_),this.m_curEndTime=this.m_backpack.GetTimeString(u),this.m_gameNameLabel.string=a,I.SetFont(this.m_gameNameLabel),this.m_propertyTitleLabel.node.active=!1,this.m_propertyInfoLabel.string=m,this.m_propertyInfoLabel.fontFamily=d.DollarFontFamily,I.SetFont(this.m_propertyInfoLabel),this.m_betTitleLabel.node.active=!1,this.m_betInfoLabel.string=l,this.m_betInfoLabel.fontFamily=d.DollarFontFamily,this.m_limitDateInfoLabel.string=o,this.m_explainInfoLabel.string=s,I.SetFont(this.m_explainInfoLabel),this.m_explainInfoLabel.fontFamily=d.DollarFontFamily,this.m_iconSprite.spriteFrame=null,this.m_useNumLabel.string=1..toString(),this.m_numLabel.string="",I.SetFont(this.m_titleLabel),this.m_titleLabel.string=r,d.CanUseItemCard)if(this.m_backpack.IsPlayingAni){var h=this.GetString(d.StringKey.BACKPACK_REFUSED_REASON+"1");h=h.replace("{ITEM_NAME}",(I.IsTada,S.GetInstance().GetString("BUFF CARD"))),this.m_refusedLabel.string=h,I.SetFont(this.m_refusedLabel),this.SetUseBtnState(!1)}else if(p&&""!=p){var f=p;this.m_refusedLabel.string=f,I.SetFont(this.m_refusedLabel),this.SetUseBtnState(c)}else this.m_limitDateRefusedSprite.enabled=!1,this.m_propertyRefusedSprite.enabled=!1,this.SetUseBtnState(!0);else{var T=this.GetString(d.StringKey.BACKPACK_REFUSED_REASON+d.CantUseReason);T=T.replace("{ITEM_NAME}",(I.IsTada,S.GetInstance().GetString("BUFF CARD"))),this.m_refusedLabel.string=T,I.SetFont(this.m_refusedLabel),this.SetUseBtnState(!1)}this.node.active=!0},l.update=function(e){if(this.m_isCountStart)if(this.m_totalTime+=e,Te=this.m_totalTime>=1?.05:.2,this.m_timer<0){this.m_holdTime+=Te;var t=0;t=this.m_holdTime>6?Ie[4]:this.m_holdTime>4.5?Ie[3]:this.m_holdTime>3?Ie[2]:this.m_holdTime>1?Ie[1]:Ie[0],this.m_holdIncreaseStep=I.plus(this.m_holdIncreaseStep,t);var i,n=this.m_useNumLabel.string.replace(/<.*?>|[^0-9|.]/g,"");isNaN(Number(n))||(i=Number(n));var r=I.plus(this.m_holdIncreaseStep,1);(i=I.plus(i,I.times(r,this.m_increaseOrDecrease)))<1?i=1:i>Se&&(i=Se),this.m_useNumLabel.string=I.FormatNumberThousands(i,I.FORMAT_NUMBER_TYPE.NONE_DOT),this.m_timer=Te}else this.m_timer-=e},l.OnClose=function(){this.m_curDescL=null,this.m_curDescS=null,this.m_curItemID=null,this.m_curItemIdx=null,this.m_curBuffID=null,this.m_curBuffIdx=null,this.ShowNumControl(!1),this.node.active=!1,T.getInstance().Play(d.AudioClips.COMMON_BTN)},l.OnUsage=function(){var e=Number(this.m_useNumLabel.string);this.m_curItemID&&this.m_curItemIdx&&!isNaN(e)?this.m_usageCb(this.m_curItemID,this.m_curItemIdx,e):this.m_curBuffID&&this.m_curBuffIdx&&this.m_buffUsageCb(this.m_curBuffID,this.m_curBuffIdx)},l.GetString=function(e){return S.GetInstance().GetString(e)},l.SetUseBtnState=function(e){this.m_useBtn.interactable=e,this.m_useBtn.node.active=e,this.m_refusedNode.active=!e,this.m_useBtn.node.getComponent(s).color=e?h(255,255,255):h(165,165,165)},l.ShowNumControl=function(e){this.m_numNode.active=e},l.SetTouch=function(){var e=this;this.m_plusBtn.node.on(c.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==e.m_currentTouchName&&(e.m_currentTouchName=t.target.name,e.m_holdTime=0,e.m_holdIncreaseStep=0,e.m_increaseOrDecrease=1,Te=.2,e.m_timer=Te,e.m_isCountStart=!0)})),this.m_plusBtn.node.on(c.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.OnClickChange(1,1,1,Se),e.m_isCountStart=!1)})),this.m_plusBtn.node.on(c.EventType.TOUCH_END,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.OnClickChange(1,1,1,Se),e.m_isCountStart=!1,T.getInstance().Play(d.AudioClips.COMMON_BTN))})),this.m_decBtn.node.on(c.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,null==e.m_currentTouchName&&(e.m_currentTouchName=t.target.name,e.m_holdTime=0,e.m_holdIncreaseStep=0,e.m_increaseOrDecrease=-1,Te=.2,e.m_timer=Te,e.m_isCountStart=!0)})),this.m_decBtn.node.on(c.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.OnClickChange(1,-1,1,Se),e.m_isCountStart=!1)})),this.m_decBtn.node.on(c.EventType.TOUCH_END,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.OnClickChange(1,-1,1,Se),e.m_isCountStart=!1,T.getInstance().Play(d.AudioClips.COMMON_BTN))}))},l.OnClickChange=function(e,t,i,n){var r,a=this.m_useNumLabel.string.replace(/<.*?>|[^0-9|.]/g,"");return isNaN(Number(a))||(r=Number(a)),(r=I.plus(r,I.times(e,t)))<=i?r=i:r>n&&(r=n),this.m_useNumLabel.string=I.FormatNumberThousands(r,I.FORMAT_NUMBER_TYPE.NONE_DOT),r},a(t,[{key:"IconSprite",get:function(){return this.m_iconSprite}}]),t}(f)).prototype,"m_titleLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Z.prototype,"m_iconSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Z.prototype,"m_numLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Z.prototype,"m_gameTitleLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Z.prototype,"m_gameNameLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Z.prototype,"m_betTitleLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Z.prototype,"m_betInfoLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Z.prototype,"m_propertyTitleLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Z.prototype,"m_propertyRefusedSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Z.prototype,"m_propertyInfoLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Z.prototype,"m_limitDateTitleLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(Z.prototype,"m_limitDateRefusedSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Z.prototype,"m_limitDateInfoLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Z.prototype,"m_explainTitleLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Z.prototype,"m_explainInfoLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(Z.prototype,"m_useBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Z.prototype,"m_useLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(Z.prototype,"m_refusedNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Z.prototype,"m_refusedLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Z.prototype,"m_numNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Z.prototype,"m_plusBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Z.prototype,"m_decBtn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Z.prototype,"m_useNumLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Z))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/ItemEnd.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,l,a,o,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,o=e._decorator,c=e.RichText,s=e.Component}],execute:function(){var u,p,f,m;a._RF.push({},"a6d63fmmRtMLqZlQAD7Bx2F","ItemEnd",void 0);var y=o.ccclass,d=o.property;e("default",(u=d({type:c,tooltip:"字串"}),y((m=t((f=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"m_label",m,i(t)),t}return r(t,e),l(t,[{key:"Label",get:function(){return this.m_label}}]),t}(s)).prototype,"m_label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemGet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts"],(function(t){"use strict";var e,n,i,r,a,l,o,c,u,s,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Animation,c=t.Label,u=t.Component},function(t){s=t.default},function(t){p=t.default},function(t){f=t.default}],execute:function(){var _,m,g,y,b,I;a._RF.push({},"c2bf4bmQA5Og4NVbJJYZJJI","ItemGet",void 0);var d=l.ccclass,h=l.property;t("default",(_=h({type:o,tooltip:"動畫"}),m=h({type:c,tooltip:"文字"}),d((b=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_anim",b,r(e)),i(e,"m_label",I,r(e)),e}return n(e,t),e.prototype.Show=function(){f.SetFont(this.m_label);var t=p.GetInstance().GetString(s.StringKey.BACKPACK_GET_ITEM);t=t.replace("{ITEM_NAME}",f.IsTada?p.GetInstance().GetString(s.StringKey.TADA_ITEM_NAME):p.GetInstance().GetString(s.StringKey.JILI_ITEM_NAME)),this.m_label.string=t,this.m_anim.play("Clip_Backpack_ItemCard_Get")},e}(u)).prototype,"m_anim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(y.prototype,"m_label",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./ItemList.ts","./Tools.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,i,s,o,r,a,c,f,l,u,m,h,I,g,p,d,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.Sprite,f=t.Node,l=t.SpriteFrame,u=t.log,m=t.Animation,h=t.Component},function(t){I=t.default},function(t){g=t.default},function(t){p=t.default},function(t){d=t.default},function(t){x=t.default}],execute:function(){var y,G,D,S,v,b,F,T,_,C,w,M,L,z;t("ItemInfoType",void 0),o._RF.push({},"96782iL4BBBqqThZ3u+Ou8O","ItemInfo",void 0);var E,K=r.ccclass,A=r.property;!function(t){t[t.Item=0]="Item",t[t.Desc=1]="Desc"}(E||(E=t("ItemInfoType",{})));t("default",(y=A([a]),G=A([a]),D=A(c),S=A(f),v=A(f),b=A(l),K((_=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"texts",_,s(e)),i(e,"descs",C,s(e)),i(e,"itemImage",w,s(e)),i(e,"itemInfo",M,s(e)),i(e,"descInfo",L,s(e)),i(e,"commonItemCard",z,s(e)),e.m_controller=void 0,e.m_curDecs=null,e}n(e,t);var o=e.prototype;return o.init=function(t){this.m_controller=t,this.texts[1].string=I.GetInstance().GetString(g.StringKey.BACKPACK_TXT_GAME),this.texts[1].font||(this.texts[1].font=g.DefaultFont),this.texts[3].string=I.GetInstance().GetString(g.StringKey.BACKPACK_TXT_INFO),this.texts[3].font||(this.texts[3].font=g.DefaultFont);var e=1;switch(I.CurrLang){case"en":case"th":case"vn":case"id":e=.8}this.descs[1].fontSize=this.descs[1].fontSize*e,this.descs[1].lineHeight=this.descs[1].lineHeight*e},o.setType=function(t){switch(t){case E.Desc:this.itemInfo.active=!1,this.descInfo.active=!0;break;case E.Item:this.itemInfo.active=!0,this.descInfo.active=!1}},o.setInfo=function(t){var n;if(u("itemID",t),"number"==typeof t){if(g.RealItemsMap[t])return;n=p.GetInstance().GetItem(t).icon;var i=e.GetItemTextInfo(t,2);this.texts[0].string=i.name,this.texts[0].font||(this.texts[0].font=g.DefaultFont),this.texts[2].string=i.game,this.texts[2].font||(this.texts[2].font=g.DefaultFont),this.texts[4].string=i.desc,this.texts[4].font||(this.texts[4].font=g.DefaultFont),this.texts[5].string=p.GetInstance().CheckItemIcon(n)?"1":"",this.texts[5].font||(this.texts[5].font=g.DefaultFont),this.itemImage.spriteFrame=p.GetInstance().GetItemIcon(n)}else{var s=t.gameName,o=d.shallowCopy(t);o.gameName=void 0;var r=p.GetInstance().GetItemInfoText(o,2);this.texts[0].string=r.title,this.texts[0].font||(this.texts[0].font=g.DefaultFont),this.texts[2].string=s,this.texts[2].font||(this.texts[2].font=g.DefaultFont),this.texts[4].string=r.gameDesc,this.texts[4].fontFamily=r.gameDescFontFamily,this.texts[4].font||(this.texts[4].font=g.DefaultFont),this.itemImage.spriteFrame=r.icon,this.texts[5].string=r.commonCard?"":"1",this.texts[5].font||(this.texts[5].font=g.DefaultFont)}this.m_curDecs=this.texts[4].string},o.show=function(t){this.setType(E.Item),this.setInfo(t),this.node.active=!0},o.showDesc=function(t,e){this.descs[0].string=I.GetInstance().GetString(t),this.descs[0].font||(this.descs[0].font=g.DefaultFont),this.descs[1].string=I.GetInstance().GetString(e),this.descs[1].font||(this.descs[1].font=g.DefaultFont),this.setType(E.Desc),this.node.active=!0},o.hide=function(){x.getInstance().Play(g.AudioClips.COMMON_BTN),this.node.active=!1},e.GetItemTextInfo=function(t,e){var n=t.toString().slice(2,4),i=I.GetInstance().GetGameName(parseInt(n)),s=p.GetInstance().GetItem(t);if(s){var o,r=p.GameDesc[s.type][n]?p.GameDesc[s.type][n]:g.StringKey.ITEM_DESC_GAME+"0_"+s.type;switch(r=I.GetInstance().GetString(r),p.GetInstance().GetOriginalItem(t).star){case 8:o=g.StringKey.ITEM_TITLE+"GOLD";break;default:o=g.StringKey.ITEM_TITLE+s.type}var a="";if(null!=e){var c=I.GetInstance().GetString(g.StringKey.ITEM_DESC+s.type+"_"+e);a=d.CustomStringFormat(c,{Bet:s.bet.toString(),GameDesc:r})}return{name:d.CustomStringFormat(I.GetInstance().GetString(o),{Star:s.star}),game:i,desc:a}}return{name:t.toString(),game:i,desc:""}},o.OnRotation=function(t,e){this.node.setPosition(this.m_controller.DiffPos());var n=this.getComponent(m);t?n.play("ItemInfo_L"):n.play("ItemInfo_S"),this.texts[4].string=this.m_curDecs,this.texts[4].font||(this.texts[4].font=g.DefaultFont)},e}(h)).prototype,"texts",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(T.prototype,"descs",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(T.prototype,"itemImage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"itemInfo",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"descInfo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"commonItemCard",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemList.ts",["cc","./LocaleStringManager.ts","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,s;return{setters:[function(t){e=t.cclegacy},function(t){i=t.default},function(t){n=t.default},function(t){s=t.default}],execute:function(){e._RF.push({},"b8e6171ZFlN2aWy71U7QkVY","ItemList",void 0);var r=t("default",function(){function t(){if(this.m_loadindLock=!1,this.m_retryTime=0,this.m_isLoaded=!1,this.m_gamePlist=void 0,this.m_commonPlist=void 0,this.m_realItemPlist=void 0,this.m_plistListeners=new Array,t._instance)throw new Error("Error: Instantiation failed: Use ItemList.GetInstance() instead of new.");t._instance=this}t.GetInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){this.Item=null,delete this._instance,this._instance=null};var e=t.prototype;return e.LoadItemList=function(){},e.AddListener=function(t,e){for(var i=null,n=0;n<this.m_plistListeners.length;n++)this.m_plistListeners[n].name===t&&(i=this.m_plistListeners[n]);i?i.cb=e:(i={name:t,cb:e},this.m_plistListeners.push(i))},e.GetGameSpriteAtlas=function(){return this.m_gamePlist},e.TriggerListeners=function(){for(var t=0;t<this.m_plistListeners.length;t++)this.m_plistListeners[t].cb();for(var e=0;e<this.m_plistListeners.length;e++)this.m_plistListeners.pop()},e.SetGameSpriteAtlas=function(t){this.m_gamePlist=t,this.m_commonPlist&&this.TriggerListeners()},e.SetRealItemSpriteAtlas=function(t){this.m_realItemPlist=t},e.SetCommonSpriteAtlas=function(t){this.m_commonPlist=t,this.m_gamePlist&&this.TriggerListeners()},e.IsItemListLoaded=function(){return this.m_isLoaded},e.GetStar=function(e){return i.CurrLang==n.Lang.CN?t.CNStar[e]:e.toString()},e.GetItem=function(e){return t.Item[e]?{icon:t.Item[e].icon,type:t.Item[e].type,star:this.GetStar(t.Item[e].star),bet:t.Item[e].bet}:null},e.GetOriginalItem=function(e){return t.Item[e]?t.Item[e]:null},e.GetItemTitle=function(t,e,r,a){var m;if(e){var o=a?" ":"\n";switch(e){case 8:m=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+"GOLD"),m=r?r+o+m:m;break;case 7:case 6:m=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+e);break;default:m=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+t),m=s.CustomStringFormat(m,{Star:this.GetStar(e)}),m=r?r+o+m:m}}else m=(m=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+t)).split("(")[0],m=r?r+" "+m:m;return m},e.GetItemDesc=function(t,e,r,a){var m="",o=i.GetInstance().GetString(n.StringKey.ITEM_DESC+t+"_"+r);if(a)m=s.CustomStringFormat(o,{Bet:e.toString(),GameDesc:a});else{var c=i.GetInstance().GetString(n.StringKey.ITEM_DESC_GAME+"0_"+t);m=s.CustomStringFormat(o,{Bet:e.toString(),GameDesc:c})}return m=s.CustomStringFormat(m,{symbol:n.DollarSymbol})},e.CheckItemIcon=function(t){return null!=this.m_gamePlist.getSpriteFrame(t.toString())},e.GetItemIcon=function(t){var e;return!(e=this.m_gamePlist&&this.m_gamePlist.getSpriteFrame(t.toString()))&&this.m_commonPlist&&(e=s.UsingLogoSpriteFrame()?this.m_commonPlist.getSpriteFrame("Backpack_Card_02"):this.m_commonPlist.getSpriteFrame("Backpack_Card_01")),e},e.GetRealItemIcon=function(t){return this.m_realItemPlist&&this.m_realItemPlist.getSpriteFrame(t.toString())},e.GetItemInfoText=function(t,e){var r,a={icon:null,title:"",gameDesc:"",gameDescFontFamily:n.DollarFontFamily};if(t.bet&&(t.bet=s.strip(t.bet)),t.title)r=t.gameName?t.gameName+" "+t.title:t.title;else if(t.star)switch(t.star){case 8:r=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+"GOLD"),r=t.gameName?t.gameName+" "+r:r;break;case 7:case 6:r=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+t.star);break;default:r=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+t.type),r=s.CustomStringFormat(r,{Star:this.GetStar(t.star)}),r=t.gameName?t.gameName+" "+r:r}else r=(r=i.GetInstance().GetString(n.StringKey.ITEM_TITLE+t.type)).split("(")[0],r=t.gameName?t.gameName+" "+r:r;var m,o="",c="";if(t.bet&&t.type&&null!=e){c=i.GetInstance().GetString(n.StringKey.ITEM_DESC+t.type+"_"+e);var l=s.FormatNumberThousands(t.bet,s.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO);if(t.gameDesc)o=s.CustomStringFormat(c,{Bet:l,GameDesc:t.gameDesc});else{var _=i.GetInstance().GetString(n.StringKey.ITEM_DESC_GAME+"0_"+t.type);o=s.CustomStringFormat(c,{Bet:l,GameDesc:_})}o=s.CustomStringFormat(o,{symbol:"<p>"+n.DollarSymbol+" </p>"})}return!(m=t.gameID===n.GAME_ID.ENTITY?t.icon&&this.m_realItemPlist?this.m_realItemPlist.getSpriteFrame(t.icon.toString()):null:t.icon&&this.m_gamePlist?this.m_gamePlist.getSpriteFrame(t.icon.toString()):null)&&this.m_commonPlist&&(m=s.UsingLogoSpriteFrame()?this.m_commonPlist.getSpriteFrame("Backpack_Card_02"):this.m_commonPlist.getSpriteFrame("Backpack_Card_01"),a.commonCard=!0),a.icon=m,a.title=r,a.gameDesc=o,a},e.GetSmallIcon=function(t,e){s.Icons[t]?e&&e(s.Icons[t]):s.LoadIcon(i.CurrLang,t,(function(){e&&e(s.Icons[t])}))},t}());r._instance=new r,r.Item=null,r.CNStar=["零","一","二","三","四","五"],r.GameDesc=[{},{26:"ITEM_DESC_GAME_26_1",30:"ITEM_DESC_GAME_30_1",38:"ITEM_DESC_GAME_38_1"},{},{6:"ITEM_DESC_GAME_6_3"}],e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSystemMsgs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./ToJsonObject.ts","./Tools.ts","./MsgCell.ts","./ItemList.ts","./Protocol.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,c,l,g,m,S,u,_,h,I,G,p,d,f,M,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,c=t.Node,l=t.Prefab,g=t.ScrollView,m=t.Animation,S=t.instantiate,u=t.Component},function(t){_=t.default},function(t){h=t.default},function(t){I=t.default},function(t){G=t.default},function(t){p=t.default},function(t){d=t.default},function(t){f=t.default,M=t.MissionMsg,N=t.RankMsg}],execute:function(){var b,A,T,y,E,C,v,F,K,L;a._RF.push({},"a406dB/K7lElYa4w76gcV3s","ItemSystemMsgs",void 0);var D=o.ccclass,R=o.property;t("default",(b=R({type:s,tooltip:"提示"}),A=R({type:c,tooltip:"內容"}),T=R({type:l,tooltip:"欄位"}),y=R({type:g,tooltip:"scroll view"}),D((v=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"m_hintLabel",v,i(e)),r(e,"m_contentNode",F,i(e)),r(e,"m_cellPrefab",K,i(e)),r(e,"m_scrollView",L,i(e)),e.m_cells=[],e.m_isLandscape=!0,e}n(e,t);var a=e.prototype;return a.SetTxt=function(){if(G.SetFont(this.m_hintLabel),this.m_isLandscape){var t=h.GetInstance().GetString(_.StringKey.BACKPACK_WARNING2+"1");t=t.replace("{ITEM_NAME}",G.IsTada?h.GetInstance().GetString(_.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(_.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(t)}else{var e=h.GetInstance().GetString(_.StringKey.BACKPACK_WARNING2+"0");e=e.replace("{ITEM_NAME}",G.IsTada?h.GetInstance().GetString(_.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(_.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(e)}},a.OnRotation=function(t){if(this.m_isLandscape=t,t){this.node.getComponent(m).play("Clip_Backpack_Message_Landscape");var e=h.GetInstance().GetString(_.StringKey.BACKPACK_WARNING2+"1");e=e.replace("{ITEM_NAME}",G.IsTada?h.GetInstance().GetString(_.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(_.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(e)}else{this.node.getComponent(m).play("Clip_Backpack_Message_Portrait");var n=h.GetInstance().GetString(_.StringKey.BACKPACK_WARNING2+"0");n=n.replace("{ITEM_NAME}",G.IsTada?h.GetInstance().GetString(_.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(_.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(n)}for(var r=0;r<this.m_cells.length;r++)this.m_cells[r].OnRotation(t)},a.ScrollToTop=function(){this.m_scrollView.scrollToTop()},a.SetMsgs=function(t){for(var e=0;e<t.length;e++){var n=this.m_cells[e];if(!n){var r=S(this.m_cellPrefab);this.m_contentNode.addChild(r),n=r.getComponent(p),this.m_cells.push(n)}n.node.active=!0;var i=t[e].content.itemid,a=t[e].source,o=t[e].content.action,s=f.Color[a][o],c=t[e].content.gameid,l=h.GetInstance().GetGameName(c),g=i.toString()[4],m=t[e].content?t[e].content.star:null,u=t[e].content.amount.toString(),b=t[e].content.createtime;if(t[e].created&&t[e].created>0){var A=new Date(1e3*t[e].created),T=A.getMonth()+1>=10?A.getMonth()+1:"0"+(A.getMonth()+1),y=A.getDate()>=10?A.getDate():"0"+A.getDate(),E=A.getHours()>=10?A.getHours():"0"+A.getHours(),C=A.getMinutes()>=10?A.getMinutes():"0"+A.getMinutes(),v=A.getSeconds()>=10?A.getSeconds():"0"+A.getSeconds();b=A.getFullYear()+"-"+T+"-"+y+" "+E+":"+C+":"+v}var F=f.MsgType[a][o],K=this.GetString(F+"1"),L=this.GetString(F+"0"),D=void 0,R=void 0,P="30",w=K.match(/size=\d\d/)?K.match(/size=\d\d/)[0]:"";w&&(P=w.replace("size=","")),b=s+";"+P+";"+b;var B=void 0,O=void 0;if(c===_.GAME_ID.ENTITY){var k=_.RealItemsMap[i];B=this.GetString(k),O=this.GetString(k)}else t[e].content.title&&t[e].content.title.length>0?(B=t[e].content.title,O=t[e].content.title):(B=d.GetInstance().GetItemTitle(Number(g),m,l,!0),O=d.GetInstance().GetItemTitle(Number(g),m,l,!1));switch(a){case f.Source.COMMON:2==o&&(u=G.FormatNumberThousands(t[e].content.amount,G.FORMAT_NUMBER_TYPE.PERMANENT_DOT)),D=G.StringFormat(K,B,u),R=G.StringFormat(L,O,u);break;case f.Source.RANKING:if(t[e].content.msg.length>0){var z=h.CurrLang,J=new N;I.Covert(J,JSON.parse(t[e].content.msg)),z==_.Lang.EN&&(J.Number="1"==J.Number?J.Number+"st":"2"==J.Number?J.Number+"nd":"3"==J.Number?J.Number+"rd":J.Number+"th"),D=G.StringFormat(G.CustomStringFormat(K,J),B,u),R=G.StringFormat(G.CustomStringFormat(L,J),O,u)}else D=G.StringFormat(K,B,u),R=G.StringFormat(L,O,u);break;case f.Source.MISSION:if(t[e].content.msg.length>0){var W=new M;I.Covert(W,JSON.parse(t[e].content.msg));var H=f.MissionKind+W.Kind,V=G.CustomStringFormat(this.GetString(H),W);D=G.StringFormat(K,V,B,u),R=G.StringFormat(L,V,O,u)}else{var Y=f.MsgType[1][1];K=this.GetString(Y+"1"),L=this.GetString(Y+"0"),D=G.StringFormat(K,B,u),R=G.StringFormat(L,O,u)}break;case f.Source.SIGN:D=G.StringFormat(K,B,u),R=G.StringFormat(L,O,u);break;case f.Source.TRIAL:D=G.StringFormat(K,B,u,this.GetString(_.StringKey.FREEWINCASH)),R=G.StringFormat(L,O,u,this.GetString(_.StringKey.FREEWINCASH));break;case f.Source.COLLECT:D=G.StringFormat(K,t[e].content.msg,B,u),R=G.StringFormat(L,t[e].content.msg,O,u);break;case f.Source.LEVEL:default:D=G.StringFormat(K,B,u),R=G.StringFormat(L,O,u)}if(-1!=D.search(/{symbol}/g)&&(D=G.CustomStringFormat(D,{symbol:"<p>"+_.DollarSymbol+" </p>"}),R=G.CustomStringFormat(R,{symbol:"<p>"+_.DollarSymbol+" </p>"})),-1!=D.search(/{tab}/g)){var j=Number(_.NOW_GAME_ID)==c||c===_.GAME_ID.ENTITY?_.StringKey.BACKPACK_TAB_USE:_.StringKey.BACKPACK_TAB_ALL;D=G.CustomStringFormat(D,{tab:this.GetString(j)}),R=G.CustomStringFormat(R,{tab:this.GetString(j)})}n.SetStr(D+"\n"+this.GetString(b),R+"\n"+this.GetString(b)),n.OnRotation(this.m_isLandscape)}if(this.m_cells.length>t.length)for(var x=t.length;x<this.m_cells.length;x++)this.m_cells[x].node.active=!1},a.GetString=function(t){return h.GetInstance().GetString(t)},e}(u)).prototype,"m_hintLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"m_contentNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(C.prototype,"m_cellPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"m_scrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=C))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemUse.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,i,u,c,l,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){u=e.cclegacy,c=e._decorator,l=e.Node,a=e.Component}],execute:function(){var s,p,m,d,f,y,N,_;u._RF.push({},"66716afqbtFV6Dn6ZkDdKQq","ItemUse",void 0);var b=c.ccclass,g=c.property;e("default",(s=g({type:l,tooltip:"移動節點"}),p=g({type:l,tooltip:"Icon"}),m=g({type:l,tooltip:"數量"}),b((y=t((f=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,n(t,"m_moveNode",y,r(t)),n(t,"m_iconNode",N,r(t)),n(t,"m_numNode",_,r(t)),t}return o(t,e),i(t,[{key:"MoveNode",get:function(){return this.m_moveNode}},{key:"IconNode",get:function(){return this.m_iconNode}},{key:"NumNode",get:function(){return this.m_numNode}}]),t}(a)).prototype,"m_moveNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(f.prototype,"m_iconNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(f.prototype,"m_numNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/JPAwardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./JPInfoView.ts","./JPItem.ts","./JPManager.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,p,m,s,u,_,c,f,h,g,d,I,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Prefab,p=t.Node,m=t.Sprite,s=t.Label,u=t.NodePool,_=t.instantiate,c=t.Animation,f=t.Component},function(t){h=t.default},function(t){g=t.default},function(t){d=t.default},function(t){I=t.default},function(t){y=t.default},function(t){b=t.default}],execute:function(){var C,w,S,L,T,P,j,J,v,F,A,G,k,K,z,O,E,R;r._RF.push({},"8cc69mjIOxHeKb2QrF+RFim","JPAwardView",void 0);var V=a.ccclass,D=a.property;t("default",(C=D({type:I,tooltip:"彩金資訊"}),w=D({type:l,tooltip:"說明頁表單item的prefab"}),S=D({type:p,tooltip:"說明頁表單item的layout"}),L=D({type:m,tooltip:"說明頁表單得獎名單標題"}),T=D({type:s,tooltip:"說明頁表單得獎名單標題"}),P=D({type:s,tooltip:"說明頁表單中獎類型標題"}),j=D({type:s,tooltip:"說明頁表單中獎得主標題"}),J=D({type:s,tooltip:"說明頁表單中獎金額標題"}),V((A=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_jpInfoView",A,o(e)),i(e,"m_jpItemPrefab",G,o(e)),i(e,"m_jpItemContainer",k,o(e)),i(e,"m_titleForListSprite",K,o(e)),i(e,"m_titleForList",z,o(e)),i(e,"m_awardType",O,o(e)),i(e,"m_winnner",E,o(e)),i(e,"m_amount",R,o(e)),e.m_jpItemList=[],e.m_itemPool=new u,e.m_brand=null,e}n(e,t);var r=e.prototype;return r.SetTxt=function(t){if(this.m_brand=t,this.m_titleForList){d.SetFont(this.m_titleForList);var e=g.GetInstance().GetString(h.StringKey.JACKPOT_AWARD_TEXT);e=e.replace(/\{brand\}/g,t),this.m_titleForList.string=e}if(d.SetFont(this.m_awardType),d.SetFont(this.m_winnner),d.SetFont(this.m_amount),this.m_awardType.string=g.GetInstance().GetString(h.StringKey.JACKPOT_AWARDTYPE_TEXT),this.m_winnner.string=g.GetInstance().GetString(h.StringKey.JACKPOT_WINNER_TEXT),this.m_amount.string=g.GetInstance().GetString(h.StringKey.JACKPOT_AMOUNT_TEXT),this.m_jpInfoView.SetTxt(t),b.GetInstance().JPAtlas){var n=b.GetInstance().JPAtlas;this.m_titleForListSprite&&(this.m_titleForListSprite.spriteFrame=n.getSpriteFrame("Jackpot_ListTitle"))}},r.ClickInfoBtn=function(){if(this.m_brand&&b.GetInstance().BottomBar){var t=g.GetInstance().GetString(h.StringKey.JACKPOT_TEXT);t=t.replace(/\{brand\}/g,this.m_brand);var e=g.GetInstance().GetString(h.StringKey.JACKPOT_DESC_TEXT_1);e=e.replace(/\{brand\}/g,this.m_brand),b.GetInstance().BottomBar.OpenCommonText(t,e)}},r.ShowUnlockCoin=function(){this.m_jpInfoView.ShowUnlockCoin()},r.SetCoin=function(t,e){this.m_jpInfoView.SetCoin(t,e)},r.SetInfo=function(t){if(this.m_jpItemList.length>0)for(var e=0;e<this.m_jpItemList.length;e++){var n=this.m_jpItemList[e].getComponent(y);n.Reset(),this.m_itemPool.put(n.node)}for(var i=0;i<t.length;i++){var o=t[i];if(this.m_itemPool.size()>0){var r=this.m_itemPool.get().getComponent(y);this.m_jpItemContainer.addChild(r.node),this.m_jpItemList.push(r),r.SetInfo(o.type,o.winner,o.nickname,o.win)}else{var a=_(this.m_jpItemPrefab).getComponent(y);this.m_jpItemContainer.addChild(a.node),this.m_jpItemList.push(a),a.SetInfo(o.type,o.winner,o.nickname,o.win)}}},r.OnRotation=function(t){if(t){if(this.node.getComponent(c).play("Clip_Jackpot_LinkJP_Landscape"),this.m_jpItemList.length>0)for(var e=0;e<this.m_jpItemList.length;e++){this.m_jpItemList[e].getComponent(y).node.getComponent(c).play("Clip_Jackpot_Cell_Landscape")}}else if(this.node.getComponent(c).play("Clip_Jackpot_LinkJP_Portrait"),this.m_jpItemList.length>0)for(var n=0;n<this.m_jpItemList.length;n++){this.m_jpItemList[n].getComponent(y).node.getComponent(c).play("Clip_Jackpot_Cell_Portrait")}},e}(f)).prototype,"m_jpInfoView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(F.prototype,"m_jpItemPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(F.prototype,"m_jpItemContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"m_titleForListSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(F.prototype,"m_titleForList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"m_awardType",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(F.prototype,"m_winnner",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"m_amount",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=F))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/JPBanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Define.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./FloatView.ts","./JPManager.ts","./JPRollingValue.ts","./LifeSocket.ts","./pgame.js"],(function(t){"use strict";var e,n,i,o,a,r,m,l,s,p,_,u,h,c,g,T,d,y,f,w,C,j,S,b,v,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,m=t._decorator,l=t.Sprite,s=t.Animation,p=t.RichText,_=t.Node,u=t.tween,h=t.UIOpacity,c=t.UITransform,g=t.Component},null,function(t){T=t.default},function(t){d=t.default},function(t){y=t.default},function(t){f=t.default},function(t){w=t.default},function(t){C=t.default,j=t.BetUnLockCoin,S=t.JpAudioClips},function(t){b=t.default},function(t){v=t.default},function(t){A=t.default}],execute:function(){var P,V,B,O,J,G,I,x,D,k,F,R,M,E,K,z,N,X,L,H,U,W,Z,q,Q,Y,$,tt,et,nt,it,ot;r._RF.push({},"641e3ehW/9P+4L7ZeWP+8mS","JPBanner",void 0);var at,rt=m.ccclass,mt=m.property;!function(t){t.grand="Txt_Grand_02",t.major="Txt_Major_02",t.mini="Txt_Mini_02"}(at||(at={}));var lt="Clip_Jackpot_IconBtn_Info_Hit",st="Clip_Jackpot_IconBtn_Info_End",pt="Clip_Jackpot_IconBtn_JPGrand",_t="Clip_Jackpot_IconBtn_JPMajor",ut="Clip_Jackpot_IconBtn_JPMini",ht=.61;t("default",(P=mt({type:l,tooltip:"面板資訊大獎圖字"}),V=mt({type:l,tooltip:"面板資訊中獎圖字"}),B=mt({type:l,tooltip:"面板資訊小獎圖字"}),O=mt({type:b,tooltip:"面板資訊大獎金額"}),J=mt({type:b,tooltip:"面板資訊中獎金額"}),G=mt({type:b,tooltip:"面板資訊小獎金額"}),I=mt({type:s,tooltip:"面板資訊大獎動畫"}),x=mt({type:s,tooltip:"面板資訊中獎動畫"}),D=mt({type:s,tooltip:"面板資訊小獎動畫"}),k=mt({type:p,tooltip:"面板資訊大獎圖字"}),F=mt({type:p,tooltip:"面板資訊中獎圖字"}),R=mt({type:p,tooltip:"面板資訊小獎圖字"}),M=mt({type:_,tooltip:"面板資訊大獎圖字背景"}),E=mt({type:_,tooltip:"面板資訊中獎圖字背景"}),K=mt({type:_,tooltip:"面板資訊小獎圖字背景"}),rt((X=e((N=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_grandTxt",X,o(e)),i(e,"m_majorTxt",L,o(e)),i(e,"m_miniTxt",H,o(e)),i(e,"m_grandValue",U,o(e)),i(e,"m_majorValue",W,o(e)),i(e,"m_miniValue",Z,o(e)),i(e,"m_grandAnim",q,o(e)),i(e,"m_majorAnim",Q,o(e)),i(e,"m_miniAnim",Y,o(e)),i(e,"m_grandRichTxt",$,o(e)),i(e,"m_majorRichTxt",tt,o(e)),i(e,"m_miniRichTxt",et,o(e)),i(e,"m_grandDark",nt,o(e)),i(e,"m_majorDark",it,o(e)),i(e,"m_miniDark",ot,o(e)),e.m_OpenTween=null,e.m_CloseTween=null,e.m_AutoOpenTween=null,e.m_jpDesc=null,e.m_btnCB=null,e.m_loadFinish=!1,e.m_jackPotBtn=null,e.isFisrt=!1,e.m_hasOtherGames=!0,e.m_infoCB=void 0,e.m_allGamesCB=void 0,e}n(e,t);var r=e.prototype;return r.update=function(t){this.m_jpDesc&&(this.m_jpDesc.SetCoin(A.serverProto.JpType.Grand,this.m_grandValue.NowValue),this.m_jpDesc.SetCoin(A.serverProto.JpType.Major,this.m_majorValue.NowValue),this.m_jpDesc.SetCoin(A.serverProto.JpType.Mini,this.m_miniValue.NowValue),this.m_loadFinish&&!this.isFisrt&&(this.isFisrt=!0,this.m_jpDesc.SetTxt())),d.GetInstance().IsGameStringLoaded()&&!this.m_loadFinish&&(this.m_loadFinish=!0,this.SetTxt()),this.ChangeOpacity()},r.SetTxt=function(){if(C.GetInstance().JPAtlas){var t=C.GetInstance().JPAtlas,e=at.grand,n=at.major,i=at.mini;this.m_grandTxt.spriteFrame=t.getSpriteFrame(e),this.m_majorTxt.spriteFrame=t.getSpriteFrame(n),this.m_miniTxt.spriteFrame=t.getSpriteFrame(i)}var o=d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_1)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_2)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_3),a=d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_1b)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_2b)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_3b),r=d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_1c)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_2c)+d.GetInstance().GetString(T.StringKey.JACKPOT_BET_TEXT_3c);if(j&&j.length>0){var m=o.replace("%s",f.strip(j[A.serverProto.JpType.Grand]).toString()),l=a.replace("%s",f.strip(j[A.serverProto.JpType.Major]).toString()),s=r.replace("%s",f.strip(j[A.serverProto.JpType.Mini]).toString());f.SetFont(this.m_grandRichTxt),f.SetFont(this.m_majorRichTxt),f.SetFont(this.m_miniRichTxt),this.m_grandRichTxt.string="<b>"+m+"</b>",this.m_majorRichTxt.string="<b>"+l+"</b>",this.m_miniRichTxt.string="<b>"+s+"</b>"}},r.Init=function(t,e,n,i,o){this.m_jpDesc=t,this.m_btnCB=e,this.m_jackPotBtn=o,this.m_infoCB=n,this.m_allGamesCB=i,this.SetInfo(),this.OpenBanner()},r.ShowJPAward=function(t,e){var n=this;if(t){this.SetInfoForced(t),this.OpenBanner(!1),this.m_OpenTween&&this.m_OpenTween.stop(),this.m_OpenTween=null,this.m_AutoOpenTween&&this.m_AutoOpenTween.stop(),this.m_AutoOpenTween=null,this.m_CloseTween&&this.m_CloseTween.stop(),this.m_CloseTween=null;var i=this.m_grandAnim.getState(pt);i.time=0,(i=this.m_majorAnim.getState(_t)).time=0,(i=this.m_miniAnim.getState(ut)).time=0,this.m_grandAnim.stop(),this.m_majorAnim.stop(),this.m_miniAnim.stop();var o=t.type;o==A.serverProto.JpType.Grand&&this.m_grandAnim.play(pt),o==A.serverProto.JpType.Major&&this.m_majorAnim.play(_t),o==A.serverProto.JpType.Mini&&this.m_miniAnim.play(ut),y.getInstance().Play(S.JP_0),u(this.node).delay(3*ht).call((function(){e&&e(),n.m_OpenTween&&n.m_OpenTween.stop(),n.m_OpenTween=null,n.m_AutoOpenTween&&n.m_AutoOpenTween.stop(),n.m_AutoOpenTween=null,n.m_CloseTween&&n.m_CloseTween.stop(),n.m_CloseTween=null,n.node.getComponent(h).opacity=255})).start()}},r.StopJPAward=function(){var t=this.m_grandAnim.getState(pt);t.time=0,(t=this.m_majorAnim.getState(_t)).time=0,(t=this.m_miniAnim.getState(ut)).time=0,this.m_grandAnim.stop(),this.m_majorAnim.stop(),this.m_miniAnim.stop()},r.ChangeOpacity=function(){var t=C.GetInstance().GetNowBetValue();if(null!=t&&null!=t&&t>0){var e=C.GetInstance().GetDisplayValue(t);e>=j[A.serverProto.JpType.Grand]?(this.m_grandValue.node.getComponent(h).opacity=255,this.m_grandRichTxt.node.getComponent(h).opacity=1,this.m_grandDark.active=!1):(this.m_grandValue.node.getComponent(h).opacity=1,this.m_grandRichTxt.node.getComponent(h).opacity=255,this.m_grandDark.active=!0),e>=j[A.serverProto.JpType.Major]?(this.m_majorValue.node.getComponent(h).opacity=255,this.m_majorRichTxt.node.getComponent(h).opacity=1,this.m_majorDark.active=!1):(this.m_majorValue.node.getComponent(h).opacity=1,this.m_majorRichTxt.node.getComponent(h).opacity=255,this.m_majorDark.active=!0),e>=j[A.serverProto.JpType.Mini]?(this.m_miniValue.node.getComponent(h).opacity=255,this.m_miniRichTxt.node.getComponent(h).opacity=1,this.m_miniDark.active=!1):(this.m_miniValue.node.getComponent(h).opacity=1,this.m_miniRichTxt.node.getComponent(h).opacity=255,this.m_miniDark.active=!0)}},r.SetInfo=function(){var t=this;v.GetInstance().IsClose||(this.m_infoCB&&this.m_infoCB((function(e){if(C.GetInstance().JackPotInfo=e,C.GetInstance().JackPotShow(),e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n];null!=i&&null!=i&&i&&(i.type&&(i.type==A.serverProto.JpType.Grand&&(t.m_grandValue.FinalValue=i.value),i.type==A.serverProto.JpType.Major&&(t.m_majorValue.FinalValue=i.value),i.type==A.serverProto.JpType.Mini&&(t.m_miniValue.FinalValue=i.value)))}})),this.m_allGamesCB&&this.m_jpDesc&&this.m_allGamesCB((function(e){e.game&&e.game.length>0?(t.m_hasOtherGames=!0,t.m_jpDesc.ActiveJP(!0),t.m_jpDesc.SetAllGamesInfo(e)):t.m_hasOtherGames=!1})))},r.OpenBanner=function(t){var e=this;if(void 0===t&&(t=!0),this.node.getComponent(h).opacity=255,this.node.getComponent(s).play(lt),this.m_AutoOpenTween&&this.m_AutoOpenTween.stop(),this.m_AutoOpenTween=null,this.m_CloseTween&&this.m_CloseTween.stop(),this.m_CloseTween=null,t&&(this.m_OpenTween=u(this.node).delay(5).call((function(){e.CloseBanner(),e.m_OpenTween&&e.m_OpenTween.stop(),e.m_OpenTween=null})).start()),this.m_jackPotBtn){var n=this.node.getChildByName("Frame")?this.node.getChildByName("Frame").getComponent(c).width:this.m_grandDark.getComponent(c).width;this.m_jackPotBtn.node.getComponent(w).SetBoundary(!0,n)}},r.CloseBanner=function(){var t=this;this.m_AutoOpenTween&&this.m_AutoOpenTween.stop(),this.m_AutoOpenTween=null,this.m_OpenTween&&this.m_OpenTween.stop(),this.m_OpenTween=null;var e=0,n=this.node.getComponent(s);n.play(st);var i=n.getState(st);if(i&&(e=i.duration),this.m_CloseTween=u(this.node).delay(e).call((function(){t.node.getComponent(h).opacity=1,t.m_btnCB&&t.m_btnCB(),t.m_CloseTween&&t.m_CloseTween.stop(),t.m_CloseTween=null,t.m_AutoOpenTween=u(t.node).delay(180).call((function(){t.OpenBanner()})).start()})).start(),this.m_jackPotBtn){var o=this.node.getChildByName("Frame")?this.node.getChildByName("Frame").getComponent(c).width:this.m_grandDark.getComponent(c).width;this.m_jackPotBtn.node.getComponent(w).SetBoundary(!1,o)}},r.ResumeRolling=function(){this.m_grandValue.IsRolling=!0,this.m_majorValue.IsRolling=!0,this.m_miniValue.IsRolling=!0},r.SetInfoForced=function(t){t.type==A.serverProto.JpType.Grand&&(this.m_grandValue.IsRolling=!1,this.m_grandValue.NowValue=t.win,this.m_grandValue.FinalValue=t.win,this.m_grandValue.DurTime=0,this.m_grandValue.SetCoin(t.win,!1)),t.type==A.serverProto.JpType.Major&&(this.m_majorValue.IsRolling=!1,this.m_majorValue.NowValue=t.win,this.m_majorValue.FinalValue=t.win,this.m_majorValue.DurTime=0,this.m_majorValue.SetCoin(t.win,!1)),t.type==A.serverProto.JpType.Mini&&(this.m_miniValue.IsRolling=!1,this.m_miniValue.NowValue=t.win,this.m_miniValue.FinalValue=t.win,this.m_miniValue.DurTime=0,this.m_miniValue.SetCoin(t.win,!1))},a(e,[{key:"HasOtherGames",get:function(){return this.m_hasOtherGames}}]),e}(g)).prototype,"m_grandTxt",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(N.prototype,"m_majorTxt",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"m_miniTxt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(N.prototype,"m_grandValue",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(N.prototype,"m_majorValue",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(N.prototype,"m_miniValue",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(N.prototype,"m_grandAnim",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(N.prototype,"m_majorAnim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(N.prototype,"m_miniAnim",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(N.prototype,"m_grandRichTxt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(N.prototype,"m_majorRichTxt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(N.prototype,"m_miniRichTxt",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(N.prototype,"m_grandDark",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(N.prototype,"m_majorDark",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(N.prototype,"m_miniDark",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/JPBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./JPBanner.ts","./JPBtn.ts","./JPManager.ts","./JPMarquee.ts","./LifeSocket.ts"],(function(t){"use strict";var n,e,i,r,a,o,u,s,m,c,l,f,h,_,b,p,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,u=t._decorator,s=t.Node,m=t.UIOpacity,c=t.Component},function(t){l=t.default},function(t){f=t.default},function(t){h=t.default},function(t){_=t.default},function(t){b=t.default},function(t){p=t.default},function(t){d=t.default}],execute:function(){var S,y,q,I,g,B,w,P,J,A;o._RF.push({},"fac62adNFlK06dNihRQEY46","JPBar",void 0);var M=u.ccclass,v=u.property;t("default",(S=v({type:_,tooltip:"按鈕本身"}),y=v({type:h,tooltip:"彩金顯示面板"}),q=v({type:p,tooltip:"跑馬燈"}),I=v({type:s,tooltip:"JP說明頁按鈕"}),M((w=n((B=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,i(n,"m_btn",w,r(n)),i(n,"m_banner",P,r(n)),i(n,"m_marquee",J,r(n)),i(n,"m_quest",A,r(n)),n.m_isInit=!1,n.m_timer=60,n}e(n,t);var o=n.prototype;return o.start=function(){this.m_btn.ShowBtn()},o.update=function(t){d.GetInstance().IsClose||(this.AddMarquee(),this.m_timer-=t,this.m_timer<0&&(this.SetInfoScheDule(),this.m_timer=60))},o.Init=function(t,n,e,i){var r=this;if(!this.m_isInit){if(this.m_isInit=!0,this.m_btn&&this.m_btn.ShowBtn(),this.m_banner){this.m_banner.Init(t,(function(){r.m_btn&&r.m_btn.ShowBtn()}),n,e,i)}this.m_marquee&&(this.m_marquee.node.active=!1)}},o.HasAllGames=function(){return this.m_banner.HasOtherGames},o.SetInfoScheDule=function(){b.GetInstance().IsJpResultAward||this.SyncBannerInfo()},o.SyncBannerInfo=function(){this.m_banner&&this.m_banner.SetInfo()},o.CloseBanner=function(){this.m_banner&&this.m_banner.CloseBanner()},o.ShowJPAward=function(t,n){this.m_banner&&this.m_banner.ShowJPAward(t,n)},o.StopJPAward=function(){this.m_banner&&this.m_banner.StopJPAward()},o.ResumeRolling=function(){this.m_banner&&this.m_banner.ResumeRolling()},o.SetTxt=function(){this.m_btn&&this.m_btn.SetTxt(),this.m_banner&&this.m_banner.SetTxt(),this.m_marquee&&this.m_marquee.SetTxt()},o.TouchEnd=function(){this.m_banner&&(this.m_banner.node.getComponent(m).opacity>=255?this.m_banner.CloseBanner():this.m_banner.OpenBanner()),f.getInstance().Play(l.AudioClips.COMMON_BTN)},o.SetMarqueeInfo=function(t){t&&this.m_marquee&&this.m_marquee.SetInfo(t)},o.SetMarqueeUnLock=function(){this.m_marquee.UnLock=!0},o.AddMarquee=function(){this.m_marquee&&this.m_marquee.AddMarquee()},a(n,[{key:"Btn",get:function(){return this.m_btn}},{key:"Quest",get:function(){return this.m_quest}}]),n}(c)).prototype,"m_btn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(B.prototype,"m_banner",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(B.prototype,"m_marquee",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(B.prototype,"m_quest",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=B))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/JPBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JPManager.ts"],(function(t){"use strict";var e,i,r,n,o,l,a,p,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Sprite,p=t.Animation,s=t.Component},function(t){c=t.default}],execute:function(){var u,m,f,_,x,T,y,h;o._RF.push({},"4327fYbO2ZLeJZ6rfxKVcvR","JPBtn",void 0);var g,j=l.ccclass,b=l.property;!function(t){t.jili="Txt_JILI",t.slot="Txt_Slot",t.jp="Txt_Jackpot"}(g||(g={}));var v="Clip_Jackpot_IconBtn_Loop";t("default",(u=b({type:a,tooltip:"按鈕吉利圖字"}),m=b({type:a,tooltip:"按鈕老虎雞圖字"}),f=b({type:a,tooltip:"按鈕JP圖字"}),j((T=e((x=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"m_jiliTxt",T,n(e)),r(e,"m_slotTxt",y,n(e)),r(e,"m_jpTxt",h,n(e)),e}i(e,t);var o=e.prototype;return o.SetTxt=function(){if(c.GetInstance().JPAtlas){var t=c.GetInstance().JPAtlas;this.m_jiliTxt&&(this.m_jiliTxt.spriteFrame=t.getSpriteFrame(g.jili)),this.m_slotTxt&&(this.m_slotTxt.spriteFrame=t.getSpriteFrame(g.slot)),this.m_jpTxt.spriteFrame=t.getSpriteFrame(g.jp)}},o.ShowBtn=function(){var t=v;this.node.parent.getComponent(p).play(t)},e}(s)).prototype,"m_jiliTxt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(x.prototype,"m_slotTxt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(x.prototype,"m_jpTxt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=x))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/JPDesc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./Discount.ts","./ExtraManager.ts","./JPAwardView.ts","./JPManager.ts","./JPOtherGamesView.ts"],(function(t){"use strict";var e,i,n,o,a,r,m,s,l,h,c,_,u,p,d,g,f,b,w,G,C,T,y,N,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,m=t._decorator,s=t.Prefab,l=t.Node,h=t.Button,c=t.Label,_=t.Sprite,u=t.instantiate,p=t.color,d=t.Animation,g=t.Component},function(t){f=t.default},function(t){b=t.default},function(t){w=t.default},function(t){G=t.default},function(t){C=t.PageName},function(t){T=t.default},function(t){y=t.default},function(t){N=t.default},function(t){S=t.default}],execute:function(){var O,v,L,B,A,V,P,j,x,I,k,D,J,z,R,F,E,M,U,H,K,X,W,q,Q,Y,Z,$,tt,et,it,nt,ot,at;r._RF.push({},"3cde1eJh19KX6weH98T69iF","JPDesc",void 0);var rt=m.ccclass,mt=m.property,st=["Jackpot_LinkJP","Jackpot_OtherGames"];t("JPAmount",3),t("default",(O=mt({type:s,tooltip:"彩金中獎資訊頁"}),v=mt({type:s,tooltip:"其他遊戲資訊頁"}),L=mt({type:l,tooltip:"內容放置"}),B=mt({type:s,tooltip:"贏更多的其他遊戲"}),A=mt({type:l,tooltip:"說明頁表單mask"}),V=mt({type:l,tooltip:"說明頁表單關閉按鈕"}),P=mt({type:h,tooltip:"中獎本遊戲頁籤鈕"}),j=mt({type:h,tooltip:"中獎其他遊戲頁籤鈕"}),x=mt({type:l,tooltip:"亮起的頁簽"}),I=mt({type:c,tooltip:"說明頁標題"}),k=mt({type:_,tooltip:"說明頁標題"}),D=mt({type:_,tooltip:"頁簽標題-暗"}),J=mt({type:_,tooltip:"頁簽標題-亮"}),z=mt({type:l,tooltip:"Logo"}),R=mt({type:l,tooltip:"Other Logo"}),F=mt({type:l,tooltip:"TaDa Casino"}),rt((U=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"m_jpAwardViewPrefab",U,o(e)),n(e,"m_jpOtherGamesPrefab",H,o(e)),n(e,"m_contentNode",K,o(e)),n(e,"m_extraOtherGamePrefab",X,o(e)),n(e,"m_mask",W,o(e)),n(e,"m_close",q,o(e)),n(e,"m_thisGameBtn",Q,o(e)),n(e,"m_otherGameBtn",Y,o(e)),n(e,"m_lightPageNodes",Z,o(e)),n(e,"m_title",$,o(e)),n(e,"m_titleSprite",tt,o(e)),n(e,"m_darkTabTitleSprites",et,o(e)),n(e,"m_lightTabTitleSprites",it,o(e)),n(e,"m_logoNode",nt,o(e)),n(e,"m_otherLogoNode",ot,o(e)),n(e,"m_tadaCasinoLogoNode",at,o(e)),e.m_isLandscape=!1,e.m_jpAwardView=null,e.m_jpOtherGamesView=null,e.m_currentTouchName=null,e.m_isAddToDiscount=!1,e.m_extraOtherGameView=null,e.m_brand="",e.m_bottomBar=null,e.m_historyCB=void 0,e}i(e,t);var r=e.prototype;return r.Init=function(t,e){var i=this;this.m_bottomBar=t,this.m_historyCB=e;var n=u(this.m_jpAwardViewPrefab);this.m_contentNode.addChild(n),this.m_jpAwardView=n.getComponent(y),n=u(this.m_jpOtherGamesPrefab),this.m_contentNode.addChild(n),n.active=!1,this.m_jpOtherGamesView=n.getComponent(S),this.m_thisGameBtn&&this.m_otherGameBtn&&(this.m_thisGameBtn.interactable=!1,this.m_thisGameBtn.node.on(l.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),this.m_thisGameBtn.node.on(l.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_thisGameBtn.node.on(l.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,i.m_jpAwardView.node.active=!0,i.m_jpOtherGamesView.node.active=!1,i.m_thisGameBtn.interactable=!1,i.m_otherGameBtn.interactable=!0,i.Rotation(i.m_isLandscape),i.m_thisGameBtn.node.getChildByName("Label").getComponent(c).color=p(36,30,8),i.m_otherGameBtn.node.getChildByName("Label").getComponent(c).color=p(208,199,173))})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,i.m_jpAwardView.node.active=!1,i.m_jpOtherGamesView.node.active=!0,i.m_thisGameBtn.interactable=!0,i.m_otherGameBtn.interactable=!1,i.Rotation(i.m_isLandscape),i.m_thisGameBtn.node.getChildByName("Label").getComponent(c).color=p(208,199,173),i.m_otherGameBtn.node.getChildByName("Label").getComponent(c).color=p(36,30,8))}))),this.SetLogoIcon()},r.SetLogoIcon=function(){if(G.LoadIcon(b.CurrLang,Number(f.NOW_GAME_ID),null),this.m_logoNode)if(G.Line!=f.LineSetting.americas&&G.Line!=f.LineSetting.americas_str){var t=G.UsingLogoSpriteFrame();t?G.OtherLogo&&this.m_otherLogoNode?(this.m_otherLogoNode.active=!0,this.m_logoNode.active=!1,this.m_otherLogoNode.getComponent(_).spriteFrame=t):this.m_logoNode.active=!0:this.m_logoNode.active=!1}else G.IsTadaCasino&&this.m_tadaCasinoLogoNode&&(this.m_logoNode.active=!1,this.m_tadaCasinoLogoNode.active=!0)},r.ActiveJP=function(t){var e=this;if(t){if(!this.m_isAddToDiscount){if(this.m_isAddToDiscount=!0,!this.m_extraOtherGameView){var i=this.m_extraOtherGamePrefab?this.m_extraOtherGamePrefab:this.m_jpOtherGamesView.node,n=u(i);this.m_extraOtherGameView=n.getComponent(S)}this.m_extraOtherGameView.node.parent&&this.m_extraOtherGameView.node.removeFromParent(),this.m_extraOtherGameView.SetTxt(this.m_brand);var o=this.m_bottomBar.getComponent(T),a=b.GetInstance().GetString(f.StringKey.SLOT_JACKPOT);a=a.replace("{brand}",this.m_brand),o.AddDiscountPage(this.m_extraOtherGameView.node,C.JP,a,(function(t){e.m_extraOtherGameView.OnRotation(t)}))}}else this.m_isAddToDiscount&&(this.m_isAddToDiscount=!1,this.m_bottomBar.getComponent(T).RemoveDiscountPage(C.JP))},r.OpenDesc=function(){var t=this;(w.getInstance().Play(f.AudioClips.COMMON_BTN),this.m_historyCB&&this.m_historyCB((function(e){e&&e.length>0&&t.SetInfo(e)})),this.node.active=!0,this.ShowUnlockCoin(),this.Rotation(this.m_isLandscape),this.m_thisGameBtn&&this.m_otherGameBtn)&&(this.m_thisGameBtn.interactable=!1,this.m_otherGameBtn.interactable=!0,this.m_thisGameBtn.node.getChildByName("Label").getComponent(c).color=p(36,30,8),this.m_otherGameBtn.node.getChildByName("Label").getComponent(c).color=p(208,199,173))},r.CloseDesc=function(){w.getInstance().Play(f.AudioClips.COMMON_CANCEL_BTN),this.node.active=!1},r.SetTxt=function(){if(this.m_brand=b.GetInstance().GetString(f.StringKey.BRAND_JILI),G.Line!==f.LineSetting.americas&&G.Line!==f.LineSetting.americas_str||(this.m_brand=b.GetInstance().GetString(f.StringKey.BRAND_TADA)),this.m_title){G.SetFont(this.m_title);var t=b.GetInstance().GetString(f.StringKey.JACKPOT_TEXT);t=t.replace("{brand}",this.m_brand),this.m_title.string=t}if(N.GetInstance().JPAtlas){var e=N.GetInstance().JPAtlas;this.m_titleSprite&&(this.m_titleSprite.spriteFrame=e.getSpriteFrame("Jackpot_Title"));for(var i=0;i<this.m_darkTabTitleSprites.length;i++)this.m_darkTabTitleSprites[i].spriteFrame=e.getSpriteFrame(st[i]),this.m_lightTabTitleSprites[i].spriteFrame=e.getSpriteFrame(st[i]+"_On")}this.m_jpAwardView.SetTxt(this.m_brand),this.m_jpOtherGamesView.SetTxt(this.m_brand),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetTxt(this.m_brand),this.ShowUnlockCoin()},r.ShowUnlockCoin=function(){this.m_jpAwardView.ShowUnlockCoin(),this.m_jpOtherGamesView.ShowUnlockCoin(),this.m_extraOtherGameView&&this.m_extraOtherGameView.ShowUnlockCoin()},r.SetCoin=function(t,e){this.m_jpAwardView.SetCoin(t,e),this.m_jpOtherGamesView.SetCoin(t,e),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetCoin(t,e)},r.SetInfo=function(t){this.m_jpAwardView.SetInfo(t),this.Rotation(this.m_isLandscape)},r.SetAllGamesInfo=function(t){this.m_jpOtherGamesView.SetAllGamesInfo(t),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetAllGamesInfo(t)},r.OnSelectTab=function(t,e){var i=Number(e);if(!isNaN(i)){w.getInstance().Play(f.AudioClips.COMMON_BTN);for(var n=0;n<this.m_lightPageNodes.length;n++)this.m_lightPageNodes[n].active=i==n;switch(i){case 0:this.m_jpAwardView.node.active=!0,this.m_jpOtherGamesView.node.active=!1;break;case 1:this.m_jpAwardView.node.active=!1,this.m_jpOtherGamesView.node.active=!0}this.Rotation(this.m_isLandscape)}},r.Rotation=function(t){this.m_isLandscape=t,t?this.node.getComponent(d).play("Clip_Common_TagFrame_Landscape"):this.node.getComponent(d).play("Clip_Common_TagFrame_Portrait"),this.m_jpAwardView.OnRotation(t),this.m_jpOtherGamesView.OnRotation(t)},a(e,[{key:"Mask",get:function(){return this.m_mask}},{key:"Close",get:function(){return this.m_close}}]),e}(g)).prototype,"m_jpAwardViewPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(M.prototype,"m_jpOtherGamesPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(M.prototype,"m_contentNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(M.prototype,"m_extraOtherGamePrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(M.prototype,"m_mask",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(M.prototype,"m_close",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(M.prototype,"m_thisGameBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(M.prototype,"m_otherGameBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(M.prototype,"m_lightPageNodes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(M.prototype,"m_title",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(M.prototype,"m_titleSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(M.prototype,"m_darkTabTitleSprites",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(M.prototype,"m_lightTabTitleSprites",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(M.prototype,"m_logoNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(M.prototype,"m_otherLogoNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(M.prototype,"m_tadaCasinoLogoNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=M))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/JPInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./JPDesc.ts","./JPManager.ts","./JPRollingValue.ts","./pgame.js"],(function(e){"use strict";var t,i,r,n,o,a,c,s,l,p,u,m,_,b,f,g,h,y,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,s=e.Label,l=e.RichText,p=e.Node,u=e.Component},null,function(e){m=e.default},function(e){_=e.default},function(e){b=e.default},function(e){f=e.JPAmount},function(e){g=e.BetUnLockCoin,h=e.default},function(e){y=e.default},function(e){S=e.default}],execute:function(){var v,T,d,L,D,j,k,P,J,w,x,z,G,M,V,C,F,I,A,E,K,B;o._RF.push({},"cec14zOkY5MdZzTqMQI29jy","JPInfoView",void 0);var O="Txt_Grand",R="Txt_Major",X="Txt_Mini",N=a.ccclass,U=a.property;e("default",(v=U({type:y,tooltip:"說明頁表單大獎金額"}),T=U({type:y,tooltip:"說明頁表單中獎金額"}),d=U({type:y,tooltip:"說明頁表單小獎金額"}),L=U({type:c,tooltip:"說明頁表單中獎金額標題"}),D=U({type:c,tooltip:"說明頁表單中獎金額標題"}),j=U({type:c,tooltip:"說明頁表單中獎金額標題"}),k=U({type:s,tooltip:"說明頁表單說明敘述"}),P=U({type:s,tooltip:"說明頁表單說明敘述"}),J=U({type:l,tooltip:"押注解鎖說明的字順序為grand major mini"}),w=U({type:p,tooltip:"押注鎖的圖順序為grand major mini"}),N((G=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"m_grandValue",G,n(t)),r(t,"m_majorValue",M,n(t)),r(t,"m_miniValue",V,n(t)),r(t,"m_grandTxt",C,n(t)),r(t,"m_majorTxt",F,n(t)),r(t,"m_miniTxt",I,n(t)),r(t,"m_jpDescL",A,n(t)),r(t,"m_jpDescS",E,n(t)),r(t,"m_betLockDesc",K,n(t)),r(t,"m_betLockSprite",B,n(t)),t}i(t,e);var o=t.prototype;return o.SetTxt=function(e){if(this.m_jpDescL&&!this.m_jpDescL.font){b.SetFont(this.m_jpDescL);var t=_.GetInstance().GetString(m.StringKey.JACKPOT_DESC_TEXT_1);t=t.replace(/\{brand\}/g,e),this.m_jpDescL.string=t}if(this.m_jpDescS&&!this.m_jpDescS.font){b.SetFont(this.m_jpDescS);var i=_.GetInstance().GetString(m.StringKey.JACKPOT_DESC_TEXT_2);i=i.replace(/\{brand\}/g,e),this.m_jpDescS.string=i}for(var r=0;r<f;r++){b.SetFont(this.m_betLockDesc[r]),this.m_betLockDesc[r].string=_.GetInstance().GetString(m.StringKey.JACKPOT_BET_TEXT);var n=0;0==r&&(n=S.serverProto.JpType.Grand),1==r&&(n=S.serverProto.JpType.Major),2==r&&(n=S.serverProto.JpType.Mini),g&&g.length>0&&(this.m_betLockDesc[r].string=this.m_betLockDesc[r].string.replace("%s",b.strip(g[n]).toString()))}if(h.GetInstance().JPAtlas){var o=h.GetInstance().JPAtlas;this.m_grandTxt.spriteFrame=o.getSpriteFrame(O),this.m_majorTxt.spriteFrame=o.getSpriteFrame(R),this.m_miniTxt.spriteFrame=o.getSpriteFrame(X)}},o.ShowUnlockCoin=function(){var e=h.GetInstance().GetNowBetValue();if(e&&e>0)e<g[S.serverProto.JpType.Grand]?(this.m_betLockDesc[0].node.active=!0,this.m_betLockSprite[0].active=!0):(this.m_betLockDesc[0].node.active=!1,this.m_betLockSprite[0].active=!1),e<g[S.serverProto.JpType.Major]?(this.m_betLockDesc[1].node.active=!0,this.m_betLockSprite[1].active=!0):(this.m_betLockDesc[1].node.active=!1,this.m_betLockSprite[1].active=!1),e<g[S.serverProto.JpType.Mini]?(this.m_betLockDesc[2].node.active=!0,this.m_betLockSprite[2].active=!0):(this.m_betLockDesc[2].node.active=!1,this.m_betLockSprite[2].active=!1);else for(var t=0;t<f;t++)this.m_betLockDesc[t].node.active=!1,this.m_betLockSprite[t].active=!1},o.SetCoin=function(e,t){e==S.serverProto.JpType.Grand&&this.m_grandValue.SetCoin(t),e==S.serverProto.JpType.Major&&this.m_majorValue.SetCoin(t),e==S.serverProto.JpType.Mini&&this.m_miniValue.SetCoin(t)},t}(u)).prototype,"m_grandValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"m_majorValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"m_miniValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(z.prototype,"m_grandTxt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"m_majorTxt",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"m_miniTxt",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"m_jpDescL",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"m_jpDescS",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"m_betLockDesc",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(z.prototype,"m_betLockSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=z))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/JPItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Tools.ts","./JPManager.ts","./pgame.js"],(function(t){"use strict";var e,n,i,r,a,l,s,o,u,m,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Sprite,o=t.Label,u=t.Component},null,function(t){m=t.default},function(t){p=t.default},function(t){c=t.default}],execute:function(){var _,h,y,f,d,g,v,T;a._RF.push({},"12a64k0Ei9Gx7+xpeAm8HkZ","JPItem",void 0);var I,G=l.ccclass,w=l.property;!function(t){t.grand="Txt_Msg_Grand",t.major="Txt_Msg_Major",t.mini="Txt_Msg_Mini"}(I||(I={}));t("default",(_=w({type:s,tooltip:"中獎類型圖grand major mini"}),h=w({type:o,tooltip:"中獎得主名稱"}),y=w({type:o,tooltip:"中獎金額"}),G((g=e((d=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_awardType",g,r(e)),i(e,"m_winner",v,r(e)),i(e,"m_coin",T,r(e)),e.m_type=null,e.m_player=null,e.m_nickName=null,e.m_value=null,e.dotType=m.FORMAT_NUMBER_TYPE.DEFINE_DOT,e}n(e,t);var a=e.prototype;return a.update=function(t){null!=this.m_type&&null!=this.m_player&&null!=this.m_value&&(this.SetItem(this.m_type,this.m_player,this.m_nickName,this.m_value),this.m_type=null,this.m_player=null,this.m_nickName=null,this.m_value=null)},a.SetInfo=function(t,e,n,i){this.m_type=t,this.m_player=e,this.m_nickName=n,this.m_value=i,this.node.active=!0},a.Reset=function(){this.m_type=null,this.m_player=null,this.m_nickName=null,this.m_value=null,this.node.active=!1},a.SetItem=function(t,e,n,i){if(p.GetInstance().JPAtlas&&(t==c.serverProto.JpType.Grand&&(this.m_awardType.spriteFrame=p.GetInstance().JPAtlas.getSpriteFrame(I.grand)),t==c.serverProto.JpType.Major&&(this.m_awardType.spriteFrame=p.GetInstance().JPAtlas.getSpriteFrame(I.major)),t==c.serverProto.JpType.Mini&&(this.m_awardType.spriteFrame=p.GetInstance().JPAtlas.getSpriteFrame(I.mini))),m.SetFont(this.m_winner),this.m_winner.string=p.GetInstance().GetWinnerString(e,n),p.GetInstance()){var r=m.strip(m.divide(i,p.GetInstance().GetRate()));m.SetFont(this.m_coin),m.SetLabelString(this.m_coin.node,p.GetInstance().GetDisplayValue(r),this.dotType)}},e}(u)).prototype,"m_awardType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"m_winner",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(d.prototype,"m_coin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/JPManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./pgame.mjs_cjs=&original=.js","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./ExtraManager.ts","./FloatView.ts","./JPBar.ts","./JPDesc.ts","./JPResult.ts","./IconBox.ts","./pgame.js"],(function(t){"use strict";var e,o,n,a,r,i,m,s,u,c,_,l,p,h,B,d,j,f;return{setters:[function(t){e=t.createClass},function(t){o=t.cclegacy,n=t.Prefab,a=t.instantiate,r=t.error,i=t.Node,m=t.SpriteAtlas},function(t){s=t.default},null,function(t){u=t.default},function(t){c=t.default},function(t){_=t.default},function(t){l=t.default},function(t){p=t.default},function(t){h=t.default},function(t){B=t.default},function(t){d=t.default},function(t){j=t.IconBoxSeat},function(t){f=t.default}],execute:function(){o._RF.push({},"4d353ZI5HpGvp5Knp84coYf","JPManager",void 0);var g=t("JPGameId",[u.GAME_ID.CSH,u.GAME_ID.FD,u.GAME_ID.SH,u.GAME_ID.SH4,u.GAME_ID.OLS2,u.GAME_ID.FS,u.GAME_ID.CBT,u.GAME_ID.BFS,u.GAME_ID.FH,u.GAME_ID.MC,u.GAME_ID.GQ,u.GAME_ID.RS2,u.GAME_ID.MW2,u.GAME_ID.TW,u.GAME_ID.MW3]),C=(t("BetUnLockCoin",null),t("JpAudioClips",{JP_0:null,JP_1:null,JP_2:null,JP_3:null,JP_5:null,JP_6:null}));t("default",function(){function o(){this.m_jpBar=null,this.m_jpDesc=null,this.m_jpResult=null,this.m_bottoBar=null,this.m_isLandscape=!1,this.m_lang=null,this.isFirst=!0,this.m_jackPotBtn=null,this.m_info=null,this.m_isJpResultAward=!1,this.m_gameID=null,this.m_jpEnable=1,this.m_jpAtlas=null}o.GetInstance=function(){return o._instance||(o._instance=new o),o._instance},o.OnExit=function(){delete this._instance,this._instance=null};var T=o.prototype;return T.Init=function(e,o,i,m,p){var j,f=this;if(!(1!=this.m_jpEnable||u.IS_DEMO||null!=(j=u.GameSwitchOff)&&j.IsCloseJP))if(!o||o.length<=0)console.error("JP Init Not BetList Return");else{this.m_lang=c.CurrLang,this.m_bottoBar=e;for(var g=[],C=0;C<o.length;C++)if(this.m_bottoBar.Wallet){for(var T=_.strip(o[C]/this.m_bottoBar.Wallet.Rate),b=0;b<this.m_bottoBar.Wallet.BetList.length;b++)if(T<=this.m_bottoBar.Wallet.BetList[b]){T=this.m_bottoBar.Wallet.BetList[b];break}g.push(T)}t("BetUnLockCoin",g),this.m_jackPotBtn=this.m_bottoBar.JackPotBtn;var P=this.m_jackPotBtn.node.getChildByName("btn"),S=_.GetFilePath("Astt/%s/jackPot/Prefab/JP_Btn"),I=_.GetFilePath("Astt/%s/jackPot/Prefab/JackPotDesc"),D=_.GetFilePath("Astt/%s/jackPot/Prefab/JP_Compliment");u.CommonBundle.load(S,n,(function(t,e){t?console.error(t):(f.m_jpBar=a(e).getComponent(h),f.m_bottoBar.node.getComponent(l).IconBox?(f.m_bottoBar.node.getComponent(l).SetIconBoxSeat(f.m_jpBar.node,"jp"),P.active=!1):P.addChild(f.m_jpBar.node),f.m_jpBar.SetTxt(),f.SetBtnTouch(),f.TouchEvent(),u.CommonBundle.load(I,n,(function(t,e){t?r(t):(f.m_jpDesc=a(e).getComponent(B),f.m_jpDesc.Init(f.m_bottoBar,m),f.m_jpDesc.node.active=!1,f.m_bottoBar.node.addChild(f.m_jpDesc.node),_.SetZIndex(f.m_jpDesc.node,u.ZOrder.JACKPOTDESC),f.m_jpDesc.SetTxt(),f.m_jpDesc.Rotation(f.m_isLandscape),f.m_jpBar&&(f.m_jpBar.Init(f.m_jpDesc,i,p,f.m_jackPotBtn),f.JackPotShow()),f.TouchEvent())})))})),u.CommonBundle.load(D,n,(function(t,e){t?r(t):(f.m_jpResult=a(e).getComponent(d),f.m_bottoBar.node.addChild(f.m_jpResult.node),_.SetZIndex(f.m_jpResult.node,u.ZOrder.JACKPOTRESULT),f.m_jpResult.SetTxt(),f.m_jpResult.node.active=!1,f.m_jpResult.Init(f.m_bottoBar),f.m_jpResult.Rotation(f.m_isLandscape),f.TouchEvent())})),this.LoadIcons(),this.LoadJackPotAtlasFile(),this.LoadJackPotSoundFile(),s.GetInstance().JPMarqueeCb=function(t){f.m_jpBar&&(f.m_jpBar.SetMarqueeInfo(t),t.aID.toString()==u.AID||f.m_isJpResultAward?f.m_isJpResultAward=!0:f.m_jpBar.SyncBannerInfo())}}},T.ShowJpResult=function(t,e){var o=this;if(t&&t.type>f.serverProto.JpType.None&&t.type<=f.serverProto.JpType.Grand){this.m_jpBar&&(this.m_isJpResultAward=!0,this.m_jpBar.ShowJPAward(t,(function(){o.m_jpResult&&(o.m_jpResult.SetInfo(t),o.m_jpResult.OpenResult(e,(function(){o.m_jpBar&&(o.m_jpBar.ResumeRolling(),o.m_jpBar.StopJPAward(),o.m_jpBar.CloseBanner(),o.m_jpBar.SyncBannerInfo(),o.m_isJpResultAward=!1)})))})))}else e&&e()},T.SetMarqueeUnLock=function(){this.m_jpBar&&this.m_jpBar.SetMarqueeUnLock()},T.ResetPosition=function(){this.m_jackPotBtn&&this.m_jackPotBtn.node.getComponent(p).ResetPosition()},T.GetDisplayValue=function(t){return this.m_bottoBar?this.m_bottoBar.GetDisplayValue(t):t},T.GetRate=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.Wallet.Rate:1},T.GetNowBetValue=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.GetNowBetValue():null},T.GetBetByIndex=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.GetBetByIndex(0):null},T.GetWinnerString=function(t,e){if(e)return e;for(var o="****",n=t.split(""),a=n.length-3;a<n.length;a++)o+=n[a];return o},T.SetScaleAction=function(t,e){this.m_bottoBar&&this.m_bottoBar.SetScaleAction(t,e)},T.Rotation=function(t){this.m_isLandscape=t,this.m_jpDesc&&this.m_jpDesc.Rotation(t),this.m_jpResult&&this.m_jpResult.Rotation(t)},T.JackPotShow=function(){var t=!1;this.m_jpAtlas&&this.m_jackPotBtn&&this.m_bottoBar&&this.m_bottoBar.Wallet&&this.m_jpBar&&this.m_jpDesc&&(t=!0),1==this.m_jpEnable&&this.m_info&&this.m_info.length>0&&t?(this.m_jackPotBtn.node.active=!0,this.m_bottoBar.node.getComponent(l).IconBox&&this.m_bottoBar&&this.m_jackPotBtn&&this.m_bottoBar.node.getComponent(l).IconBox.OpenBtnSeat(j.JackPot,!0),this.isFirst&&(this.m_bottoBar&&this.m_bottoBar.node.getComponent(l).SetAddIcon("jackpot",this.m_bottoBar.JackPotBtn.node),this.m_jackPotBtn.node.getComponent(p).ResetPosition(),this.isFirst=!1),this.m_jpDesc.ActiveJP(Boolean(this.m_jpBar.HasAllGames()))):(this.m_bottoBar.node.getComponent(l).IconBox&&this.m_bottoBar&&this.m_jpBar&&this.m_bottoBar.node.getComponent(l).SetIconBoxSeat(this.m_jpBar.node,"jp",!1),this.m_jackPotBtn.node.active=!1,this.isFirst=!0,this.m_bottoBar&&this.m_bottoBar.node.getComponent(l).RemoveAddIcon("jackpot"),this.m_jpDesc&&(this.m_jpDesc.node.active=!1))},T.SetBtnTouch=function(){var t=this,e=null;(e=this.m_bottoBar.node.getComponent(l).IconBox&&this.m_jpBar?this.m_jpBar.node.parent:this.m_jackPotBtn.node).on(i.EventType.TOUCH_START,(function(o){o.propagationImmediateStopped=!0,o.propagationStopped=!0,e.name==o.target.name&&(null==t.m_bottoBar.CurrentTouchName?(t.m_bottoBar.CurrentTouchName=o.target.name,t.m_bottoBar.node.getComponent(l).IconBox||t.m_jackPotBtn.node.getComponent(p).OnTouchStart(o.getLocation())):o.target&&0==o.target.active&&(t.m_bottoBar.CurrentTouchName=o.target.name))})),e.on(i.EventType.TOUCH_MOVE,(function(o){e.name==o.target.name&&(t.m_bottoBar.CurrentTouchName==o.target.name?(t.m_bottoBar.CurrentTouchName=o.target.name,t.m_bottoBar.node.getComponent(l).IconBox||t.m_jackPotBtn.node.getComponent(p).OnTouchMove(o.getLocation())):o.target&&0==o.target.active&&(t.m_bottoBar.CurrentTouchName=o.target.name))})),e.on(i.EventType.TOUCH_CANCEL,(function(o){e.name==o.target.name&&t.m_bottoBar.CurrentTouchName==o.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),e.on(i.EventType.TOUCH_END,(function(o){if(e.name==o.target.name&&t.m_bottoBar.CurrentTouchName==o.target.name){t.m_bottoBar.CurrentTouchName=null;var n=function(){t.m_jpBar&&t.m_jpBar.TouchEnd()};t.m_bottoBar.node.getComponent(l).IconBox?n():t.m_jackPotBtn.node.getComponent(p).OnTouchEnd(o.getLocation(),n)}}))},T.TouchEvent=function(){var t=this;this.m_bottoBar&&this.m_jackPotBtn&&this.m_jpDesc&&this.m_jpBar&&(this.m_jpDesc.Mask.on(i.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_jpDesc.Mask.on(i.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_jpDesc.Mask.on(i.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_jpDesc.CloseDesc())})),this.m_jpDesc.Close.on(i.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_jpDesc.Close.on(i.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_jpDesc.Close.on(i.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_jpDesc.CloseDesc())})),this.m_jpBar.Quest.on(i.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_jpBar.Quest.on(i.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_jpBar.Quest.on(i.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_jpDesc.OpenDesc())})),this.m_jpResult&&(this.m_jpResult.node.on(i.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_jpResult.node.on(i.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_jpResult.node.on(i.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_jpResult.StopResult())}))))},T.LoadIcons=function(){for(var t=this,e=function(e){if(!_.Icons[g[e]]){_.LoadIcon(t.m_lang,g[e],(function o(){for(var n=0;n<g.length;n++)_.Icons[g[e]]||_.LoadIcon(t.m_lang,g[n],o)}))}},o=0;o<g.length;o++)e(o)},T.LoadJackPotAtlasFile=function(){var t=this,e="/framework/jackPot/jackpot";_.Line!==u.LineSetting.americas&&_.Line!==u.LineSetting.americas_str||(e="/framework_americas/jackPot/jackpot");var o="AsttText/"+c.CurrLang+e;u.OtherBundle.load(o,m,(function(e,o){e?r(e.message||e):(t.m_jpAtlas=o,t.m_jpBar&&t.m_jpBar.SetTxt(),t.m_jpDesc&&t.m_jpDesc.SetTxt(),t.JackPotShow())}))},T.LoadJackPotSoundFile=function(){var t=function(t){C.hasOwnProperty(t)&&u.CommonBundle.load(_.GetFilePath("Astt/%s/jackPot/Sound/mp3/")+t,(function(e,o){e?r("LoadJackPotSoundFile Error"):C[t]=o}))};for(var e in C)t(e)},e(o,[{key:"BottomBar",get:function(){return this.m_bottoBar}},{key:"JackPotBtn",get:function(){return this.m_jackPotBtn?this.m_jackPotBtn:null}},{key:"JackPotInfo",get:function(){return this.m_info},set:function(t){this.m_info=t}},{key:"IsJpResultAward",get:function(){return this.m_isJpResultAward},set:function(t){this.m_isJpResultAward=t}},{key:"GameID",get:function(){return this.m_gameID}},{key:"JPEnable",get:function(){return this.m_jpEnable}},{key:"JPAtlas",get:function(){return this.m_jpAtlas}}]),o}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/JPMarquee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Define.ts","./SoundManager.ts","./Tools.ts","./GameIconComponent.ts","./JPManager.ts","./pgame.js"],(function(e){"use strict";var t,i,n,r,a,o,s,l,p,u,m,c,_,f,h,y,d,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,p=e.Label,u=e.Animation,m=e.tween,c=e.Component},null,function(e){_=e.default},function(e){f=e.default},function(e){h=e.default},function(e){y=e.default},function(e){d=e.default,g=e.JpAudioClips},function(e){v=e.default}],execute:function(){var I,w,M,T,b,P,S,D,L,F,J,x;o._RF.push({},"bc8c6FB0N5C6oo2MXnyM9/h","JPMarquee",void 0);var k,q=s.ccclass,G=s.property;!function(e){e.title="Title_Txt",e.grand="Txt_Grand",e.major="Txt_Major",e.mini="Txt_Mini"}(k||(k={}));var z="Clip_JP_Marquee_Hit",C="Clip_JP_Marquee_Loop",N="Clip_JP_Marquee_End",A=.25,j=.5,O=.25;e("default",(I=G({type:l,tooltip:"跑馬燈標題圖字"}),w=G({type:l,tooltip:"跑馬燈獎項圖字"}),M=G({type:y,tooltip:"跑馬燈遊戲Icon"}),T=G({type:p,tooltip:"跑馬燈中獎者名稱"}),b=G({type:p,tooltip:"跑馬燈中獎金額"}),q((D=t((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_titleTxt",D,r(t)),n(t,"m_prizeTxt",L,r(t)),n(t,"m_icon",F,r(t)),n(t,"m_winner",J,r(t)),n(t,"m_coin",x,r(t)),t.m_type=null,t.m_gameID=null,t.m_player=null,t.m_nickName=null,t.m_value=null,t.dotType=h.FORMAT_NUMBER_TYPE.DEFINE_DOT,t.m_infoList=[],t.m_isNowOpen=!1,t.m_unLock=!1,t}i(t,e);var o=t.prototype;return o.SetTxt=function(){if(d.GetInstance().JPAtlas){var e=d.GetInstance().JPAtlas;this.m_titleTxt.spriteFrame=e.getSpriteFrame(k.title),this.m_prizeTxt.spriteFrame=e.getSpriteFrame(k.grand)}},o.SetInfo=function(e){var t=new v.serverProto.JpMarqueeInfo;t.aID=e.aID,t.gameID=e.gameID,t.type=e.type,t.winner=e.winner,t.win=e.win,this.m_infoList.push(t)},o.SetMarquee=function(e,t,i,n,r){if(this.m_type=e,this.m_gameID=t,this.m_player=i,this.m_nickName=n,this.m_value=r,d.GetInstance().JPAtlas){var a=d.GetInstance().JPAtlas;this.m_type==v.serverProto.JpType.Grand&&(this.m_prizeTxt.spriteFrame=a.getSpriteFrame(k.grand)),this.m_type==v.serverProto.JpType.Major&&(this.m_prizeTxt.spriteFrame=a.getSpriteFrame(k.major)),this.m_type==v.serverProto.JpType.Mini&&(this.m_prizeTxt.spriteFrame=a.getSpriteFrame(k.mini))}this.m_icon.SetGameIcon(h.Icons[this.m_gameID]),h.SetFont(this.m_winner),this.m_winner.string=d.GetInstance().GetWinnerString(this.m_player,this.m_nickName);var o=h.strip(h.divide(this.m_value,d.GetInstance().GetRate()));h.SetLabelString(this.m_coin.node,d.GetInstance().GetDisplayValue(o),this.dotType)},o.AddMarquee=function(){if(!this.m_isNowOpen){for(var e=!1,t=0;t<this.m_infoList.length;t++){if(this.m_infoList[t].aID.toString()!=_.AID){var i=this.m_infoList.splice(t,1)[0];this.SetMarquee(i.type,i.gameID,i.winner,i.winnerNickname,i.win),e=!0;break}if(this.m_unLock){this.m_unLock=!1;var n=this.m_infoList.splice(t,1)[0];this.SetMarquee(n.type,n.gameID,n.winner,n.winnerNickname,n.win),this.m_infoList.splice(t,1),e=!0;break}}e&&(this.m_isNowOpen=!0,this.OpenMarquee())}},o.OpenMarquee=function(){var e=this;f.getInstance().Play(g.JP_6),this.node.active=!0,this.node.getComponent(u).play(z),m(this.node).delay(A).call((function(){e.node.getComponent(u).play(C)})).delay(16*j).call((function(){e.CloseMarquee()})).start()},o.CloseMarquee=function(){var e=this;this.node.getComponent(u).play(N),m(this.node).delay(O).delay(1).call((function(){e.node.active=!1,e.m_isNowOpen=!1})).start()},a(t,[{key:"UnLock",set:function(e){this.m_unLock=e}}]),t}(c)).prototype,"m_titleTxt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"m_prizeTxt",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"m_icon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(S.prototype,"m_winner",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"m_coin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/JPOtherGamesView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./GameIconComponent.ts","./MsgBox.ts","./JPInfoView.ts"],(function(e){"use strict";var t,n,o,i,a,r,c,l,f,s,u,m,p,g,_,I,h,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Prefab,l=e.Node,f=e.Label,s=e.Animation,u=e.Component,m=e.instantiate},function(e){p=e.default},function(e){g=e.default},function(e){_=e.default},function(e){I=e.default},function(e){h=e.default},function(e){b=e.default},function(e){d=e.default}],execute:function(){var S,y,G,w,C,v,L,N,M,O,T,V;a._RF.push({},"b0c7fwtL0dOQaJ6305lZFY6","JPOtherGamesView",void 0);var k=r.ccclass,A=r.property;e("default",(S=A({type:d,tooltip:"彩金資訊"}),y=A({type:c,tooltip:"遊戲Icon的prefab"}),G=A({type:l,tooltip:"放置遊戲icon的地方"}),w=A({type:f,tooltip:"點擊提示"}),C=A({type:Boolean,tooltip:"是否為贏更多頁面"}),k((N=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"m_jpInfoView",N,i(t)),o(t,"m_jpGameIconPrefab",M,i(t)),o(t,"m_contentNode",O,i(t)),o(t,"m_clickHintLabel",T,i(t)),o(t,"m_isWinMore",V,i(t)),t.m_gameIcons=[],t}n(t,e);var a=t.prototype;return a.SetTxt=function(e){I.SetFont(this.m_clickHintLabel),this.m_clickHintLabel.string=_.GetInstance().GetString(g.StringKey.RECOMMEND_HINT),this.m_jpInfoView.SetTxt(e)},a.ShowUnlockCoin=function(){this.m_jpInfoView.ShowUnlockCoin()},a.SetCoin=function(e,t){this.m_jpInfoView.SetCoin(e,t)},a.SetAllGamesInfo=function(e){for(var t=this,n=0;n<e.info.length;n++)this.m_jpInfoView.SetCoin(e.info[n].type,e.info[n].value);for(var o=function(n){var o=t.m_gameIcons[n];if(!o){var i=m(t.m_jpGameIconPrefab);t.m_contentNode.addChild(i),o=i.getComponent(h),t.m_gameIcons[n]=o}o.node.active=!0;var a=function(){if(!I.CheckSwitchOff(g.SwitchOffKeyDefine.AllChangeGameImport))if(e.game[n].toString()===g.NOW_GAME_ID)b.getInstance().ShowMessageBox(g.StringKey.FAVOR_INVALID_HINT);else{var t=_.GetInstance().GetGameName(e.game[n]);b.getInstance().ShowFullMessageBox(g.StringKey.CHANGE_GAME_HINT,g.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[t],(function(){p.GetInstance().ReqUrl(e.game[n],g.BTN_CLICK_EVENT.JP_CHANGE_GAME)}),(function(){}),(function(){}))}};o.SetGameIcon(I.Icons[e.game[n]],(function(){a()})),I.Icons[e.game[n]]||I.LoadIcon(_.CurrLang,e.game[n],(function(){o.SetGameIcon(I.Icons[e.game[n]],(function(){a()}))}))},i=0;i<e.game.length;i++)o(i);if(this.m_gameIcons.length>e.game.length)for(var a=e.game.length;a<this.m_gameIcons.length;a++)this.m_gameIcons[a].node.active=!1},a.OnRotation=function(e){e?this.node.getComponent(s).play("Clip_Jackpot_OtherGames_Landscape"):this.node.getComponent(s).play("Clip_Jackpot_OtherGames_Portrait")},t}(u)).prototype,"m_jpInfoView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(L.prototype,"m_jpGameIconPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"m_contentNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"m_clickHintLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(L.prototype,"m_isWinMore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=L))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/JPResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Define.ts","./SoundManager.ts","./Tools.ts","./GameIconComponent.ts","./JPManager.ts","./JPRollingValue.ts","./pgame.js"],(function(t){"use strict";var e,n,o,i,r,a,l,s,m,u,c,p,_,f,h,g,y,d,I,C,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.error,m=t.Animation,u=t.tween,c=t.v3,p=t.Component},null,function(t){_=t.default},function(t){f=t.default},function(t){h=t.default},function(t){g=t.default},function(t){y=t.default,d=t.JpAudioClips,I=t.JPGameId},function(t){C=t.default},function(t){B=t.default}],execute:function(){var T,b,v,P,S,w,J,F,G,D,M,j,A,R,k;r._RF.push({},"bb102E+VFpM3KkSNiGQggjk","JPResult",void 0),function(t){t.title="Title_Txt",t.congrats="Txt_Congrats",t.grand="Txt_Grand",t.major="Txt_Major",t.mini="Txt_Mini"}(k||(k={}));var L="Clip_JP_Compliment_Start",N="Clip_JP_Compliment_Loop",z="Clip_JP_Compliment_Stop",x="Clip_JP_Compliment_End",V=.67,W=3,E=.1,q=16.5,O=12.5,U=8.5,H=a.ccclass,K=a.property;t("default",(T=K({type:g,tooltip:"自己中的遊戲Icon"}),b=K({type:g,tooltip:"他人的遊戲Icon"}),v=K({type:l,tooltip:"標題"}),P=K({type:l,tooltip:"中獎類型"}),S=K({type:l,tooltip:"恭喜"}),w=K({type:C,tooltip:"金額"}),H((G=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"m_mineIcon",G,i(e)),o(e,"m_otherIcon",D,i(e)),o(e,"m_title",M,i(e)),o(e,"m_awardType",j,i(e)),o(e,"m_congrats",A,i(e)),o(e,"m_coin",R,i(e)),e.m_bottoBar=null,e.m_resultTween=null,e.m_info=null,e.m_gameCB=null,e.m_closeBannerCB=null,e.m_soundID=[],e.touchLock=!1,e}n(e,t);var r=e.prototype;return r.SetTxt=function(){if(y.GetInstance().JPAtlas){var t=y.GetInstance().JPAtlas;this.m_title.spriteFrame=t.getSpriteFrame(k.title),this.m_congrats.spriteFrame=t.getSpriteFrame(k.congrats)}},r.Init=function(t){this.m_bottoBar=t},r.SetInfo=function(t){if(t&&t.type>B.serverProto.JpType.None){this.m_info=t;var e=Number(_.NOW_GAME_ID),n=this.RandomID(e);this.m_mineIcon.SetGameIcon(h.Icons[e]);for(var o=0;o<this.m_otherIcon.length;o++)this.m_otherIcon[o].SetGameIcon(h.Icons[n[o]]);var i=V;if(y.GetInstance().JPAtlas){var r=y.GetInstance().JPAtlas;this.m_title.spriteFrame=r.getSpriteFrame(k.title),this.m_congrats.spriteFrame=r.getSpriteFrame(k.congrats),t.type==B.serverProto.JpType.Grand&&(this.m_awardType.spriteFrame=r.getSpriteFrame(k.grand),i+=q),t.type==B.serverProto.JpType.Major&&(this.m_awardType.spriteFrame=r.getSpriteFrame(k.major),i+=O),t.type==B.serverProto.JpType.Mini&&(this.m_awardType.spriteFrame=r.getSpriteFrame(k.mini),i+=U)}this.SetCoin(0,t.win,i)}else this.m_info=null},r.SetCoin=function(t,e,n,o){void 0===o&&(o=!1),s("SetCoin",t,e),this.m_coin&&(this.m_coin.IsRate=!1,this.m_coin.NowValue=t,this.m_coin.FinalValue=e,this.m_coin.DurTime=n,o&&this.m_coin.SetCoin(e,!1))},r.OpenResult=function(t,e){var n=this;if(this.m_info&&this.m_info.type!=B.serverProto.JpType.None){f.getInstance().SetVolumeForAll(0);var o=-1,i=0;this.m_info.type==B.serverProto.JpType.Grand&&(o=f.getInstance().Play(d.JP_3,!0),i=q),this.m_info.type==B.serverProto.JpType.Major&&(o=f.getInstance().Play(d.JP_2,!0),i=O),this.m_info.type==B.serverProto.JpType.Mini&&(o=f.getInstance().Play(d.JP_1,!0),i=U),this.m_soundID.push(o),this.m_gameCB=t,this.m_closeBannerCB=e,this.node.getComponent(m).play(L),this.node.active=!0,this.m_resultTween=u(this.node).delay(V).call((function(){n.touchLock=!0,n.node.getComponent(m).play(N)})).delay(i).call((function(){if(n.touchLock=!1,n.m_soundID.length>0)for(var t=0;t<n.m_soundID.length;t++)f.getInstance().Stop(n.m_soundID[t]);f.getInstance().Play(d.JP_5),n.node.getComponent(m).play(z)})).delay(W).call((function(){n.node.getComponent(m).play(x)})).delay(E).call((function(){n.m_resultTween&&n.m_resultTween.stop(),n.m_resultTween=null,n.m_bottoBar&&n.m_bottoBar.Wallet&&n.m_info&&(n.m_bottoBar.SetChips(n.m_bottoBar.GetChips()+n.m_info.win),n.m_bottoBar.SetNetWin(n.m_info.win),n.m_info=null),n.m_gameCB&&n.m_gameCB(),n.m_gameCB=null,n.m_closeBannerCB&&n.m_closeBannerCB(),n.m_closeBannerCB=null,y.GetInstance().SetMarqueeUnLock(),n.node.active=!1,f.getInstance().SetVolumeForAll(1)})).start()}},r.StopResult=function(){var t=this;if(this.m_info&&this.m_info.type!=B.serverProto.JpType.None&&this.touchLock){if(this.touchLock=!1,this.m_resultTween&&this.m_resultTween.stop(),this.m_resultTween=null,this.SetCoin(this.m_info.win,this.m_info.win,0,!0),this.m_soundID.length>0)for(var e=0;e<this.m_soundID.length;e++)f.getInstance().Stop(this.m_soundID[e]);f.getInstance().Play(d.JP_5),this.node.getComponent(m).play(z),u(this.node).delay(W).call((function(){t.node.getComponent(m).play(x)})).delay(E).call((function(){t.m_resultTween&&t.m_resultTween.stop(),t.m_resultTween=null,t.m_bottoBar&&t.m_bottoBar.Wallet&&t.m_info&&(t.m_bottoBar.SetChips(t.m_bottoBar.GetChips()+t.m_info.win),t.m_bottoBar.SetNetWin(t.m_info.win),t.m_info=null),t.m_gameCB&&t.m_gameCB(),t.m_gameCB=null,t.m_closeBannerCB&&t.m_closeBannerCB(),t.m_closeBannerCB=null,y.GetInstance().SetMarqueeUnLock(),t.node.active=!1,f.getInstance().SetVolumeForAll(1)})).start()}},r.Rotation=function(t){this.node.position=c(0,t?350:630,0)},r.RandomID=function(t){for(var e=[],n=I.length-1;n>=0;n--)t!=I[n]&&e.push(I[n]);for(var o=e.length-1;o>=0;o--){var i=Math.floor(Math.random()*(o+1)),r=e[i];e[i]=e[o],e[o]=r}return e},e}(p)).prototype,"m_mineIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(F.prototype,"m_otherIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(F.prototype,"m_title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"m_awardType",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(F.prototype,"m_congrats",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"m_coin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=F))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/JPRollingValue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./JPManager.ts"],(function(t){"use strict";var i,e,n,s,a,l,o,r,u,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,o=t._decorator,r=t.Component},function(t){u=t.default},function(t){m=t.default}],execute:function(){var h,_,c,p,f,d;l._RF.push({},"3ca60aHDs1Cfrv8tKMmz7JM","JPRollingValue",void 0);var V=o.ccclass,g=o.property;t("default",(h=g({tooltip:"初始值與最終值是否改變"}),_=g({tooltip:"是否自行跑分"}),V((f=i((p=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"m_isChange",f,s(i)),n(i,"m_isRolling",d,s(i)),i.m_dotType=u.FORMAT_NUMBER_TYPE.DEFINE_DOT,i.m_isRate=!0,i.m_nowValue=0,i.m_finalValue=0,i.m_durTime=0,i}e(i,t);var l=i.prototype;return l.update=function(t){this.m_isRolling&&this.Rolling(t)},l.Rolling=function(t){if(m.GetInstance()&&(t=u.strip(t),this.m_finalValue=u.strip(this.m_finalValue),this.m_nowValue=u.strip(this.m_nowValue),this.m_durTime=u.strip(this.m_durTime),this.m_nowValue<this.m_finalValue&&this.m_durTime>0)){var i=u.divide(this.m_durTime,t),e=u.divide(u.strip(this.m_finalValue-this.m_nowValue),i);if(this.m_nowValue=u.strip(this.m_nowValue+e),this.m_nowValue>this.m_finalValue&&(this.m_nowValue=this.m_finalValue),this.m_isRate){var n=u.strip(u.divide(this.m_nowValue,m.GetInstance().GetRate()));u.SetLabelString(this.node,m.GetInstance().GetDisplayValue(n),this.m_dotType)}else u.SetLabelString(this.node,m.GetInstance().GetDisplayValue(this.m_nowValue),this.m_dotType);this.m_durTime=u.strip(this.m_durTime-t)}},l.SetCoin=function(t,i){if(void 0===i&&(i=!0),this.m_nowValue=u.strip(t),i){var e=u.strip(u.divide(this.m_nowValue,m.GetInstance().GetRate()));u.SetLabelString(this.node,m.GetInstance().GetDisplayValue(e),this.m_dotType)}else u.SetLabelString(this.node,m.GetInstance().GetDisplayValue(t),this.m_dotType)},a(i,[{key:"IsRolling",get:function(){return this.m_isRolling},set:function(t){this.m_isRolling=t}},{key:"IsRate",get:function(){return this.m_isRate},set:function(t){this.m_isRate=t}},{key:"NowValue",get:function(){return this.m_nowValue},set:function(t){this.m_nowValue=u.strip(t)}},{key:"FinalValue",get:function(){return this.m_finalValue},set:function(t){u.strip(this.m_finalValue)!=u.strip(t)&&this.m_isChange&&(this.m_durTime=61,this.m_nowValue=u.strip(.995*t),this.SetCoin(this.m_nowValue,this.m_isRate)),this.m_finalValue=u.strip(t)}},{key:"DurTime",get:function(){return this.m_durTime},set:function(t){this.m_durTime=t}}]),i}(r)).prototype,"m_isChange",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=i(p.prototype,"m_isRolling",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=p))||c));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./EnvironmentConfig.ts","./gaiaProto.mjs_cjs=&original=.js","./DataStruct.ts","./ConnectManager.ts","./Wallet.ts","./GaiaManager.ts","./levelservice.mjs_cjs=&original=.js","./Tools.ts","./AppManager.ts","./gaiaProto.js","./levelservice.js"],(function(e){"use strict";var n,t,l,o,r,i,a,s,v,u,f,m,c,_;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){l=e.cclegacy,o=e.error},function(e){r=e.default},function(e){i=e.default},null,function(e){a=e.ConnectionDataStruct},function(e){s=e.default},function(e){v=e.walletManger},function(e){u=e.gaiaManager},null,function(e){f=e.default},function(e){m=e.default},function(e){c=e.default},function(e){_=e.default}],execute:function(){l._RF.push({},"7d09fOLZYtJWJr6T0ZnpDkZ","LevelManager",void 0);var I=e("LevelReq",function(e){function t(){var n;return(n=e.call(this)||this).method=a.RequestMethod.Post,n.url="/level/GetPlayerLevelProto",n.reqData=null,n}return n(t,e),t}(a.ProtocolData));e("default",function(){function e(){this.m_id=null,this.m_levelInfo=null,this.m_nowExp=0,this.m_isLevelUp=!1,this.m_doubleChecklvUp=!1,this.m_unlockBetCB=null,this.m_hideCB=null,this.m_getLvReqInfo=!1}e.GetInstance=function(){return this._instance||(this._instance=new e),this._instance},e.OnExit=function(){delete this._instance,this._instance=null};var n=e.prototype;return n.OnExit=function(){null!==this.m_id&&(clearInterval(this.m_id),this.m_id=null)},n.SetIUnlockBetCB=function(e){this.m_unlockBetCB=e},n.SetHideCB=function(e){this.m_hideCB=e},n.Init=function(){var e=this;if(f.IsTadaCasino){this.ReqLevelInfo(!0);m.InitLevelSystem((function(){var n=new c.gaiaProto.LevelReq;n.aid=Number(r.APP.GetAID()),n.token=r.APP.GetAToken(),v.HasWallet&&(n.currencynumber=v.CurencyID);var t=new I;return t.reqData=c.gaiaProto.LevelReq.encode(n).finish(),new Promise((function(n){s.GetInstance().SendCommand(t,(function(t){u.CheckAck(t,(function(t,l){var r=e.m_levelInfo.level,i=_.levelProto.LevelServiceResp.decode(l);e.m_levelInfo=i,e.m_levelInfo.error=i.error?i.error:0,0==e.m_levelInfo.error?(i.level&&i.level>r&&(e.m_isLevelUp=!0),e.m_levelInfo.exp=i.exp?i.exp:0,e.m_levelInfo.level=i.level?i.level:0,e.m_levelInfo.nextExp=i.nextExp?i.nextExp:0,e.m_levelInfo.nextReward=i.nextReward?i.nextReward:null,e.m_levelInfo.reward=i.reward?i.reward:null,e.m_levelInfo.betOpen=i.betOpen?i.betOpen:0,e.m_nowExp=e.m_levelInfo.exp,e.m_unlockBetCB&&e.m_unlockBetCB(e.m_levelInfo.betOpen,!1)):o("▶▶▶▶▶level error",e.m_levelInfo.error),e.m_isLevelUp&&(e.m_getLvReqInfo=!0),n(i)}))}),!1,!0)}))}))}},n.IsLevelInitComplete=function(){return!f.IsTadaCasino||!!this.m_levelInfo},n.ReqLevelInfo=function(e){var n=this;if(void 0===e&&(e=!1),f.IsTadaCasino)if(i.ENV_TYPE===r.EVN.TEST)this.m_levelInfo.exp=e?0:this.m_levelInfo.exp,this.m_levelInfo.level=e?0:1,this.m_levelInfo.nextExp=e?50:100,this.m_levelInfo.nextReward=e?[{amount:100,betOpen:6,newGame:0}]:[{amount:200,betOpen:10,newGame:0}],this.m_levelInfo.reward=e?null:[{amount:100,betOpen:6,newGame:0}],this.m_levelInfo.betOpen=e?3:6,this.m_unlockBetCB&&this.m_unlockBetCB(this.m_levelInfo.betOpen,e);else{var t=new c.gaiaProto.LevelReq;t.aid=Number(r.APP.GetAID()),t.token=r.APP.GetAToken(),v.HasWallet&&(t.currencynumber=v.CurencyID);var l=new I;l.reqData=c.gaiaProto.LevelReq.encode(t).finish(),s.GetInstance().SendCommand(l,(function(t){u.CheckAck(t,(function(t,l){var r=_.levelProto.LevelServiceResp.decode(l);n.m_levelInfo=r,n.m_levelInfo.error=r.error?r.error:0,0==n.m_levelInfo.error?(e||(n.m_doubleChecklvUp=n.m_levelInfo.nextExp!=r.nextExp),n.m_levelInfo.exp=r.exp?r.exp:0,n.m_levelInfo.level=r.level?r.level:0,n.m_levelInfo.nextExp=r.nextExp?r.nextExp:0,n.m_levelInfo.nextReward=r.nextReward?r.nextReward:null,n.m_levelInfo.reward=r.reward?r.reward:null,n.m_levelInfo.betOpen=r.betOpen?r.betOpen:0,n.m_nowExp=n.m_levelInfo.exp,n.m_unlockBetCB&&n.m_unlockBetCB(n.m_levelInfo.betOpen,e)):o("▶▶▶▶▶level error",n.m_levelInfo.error),n.m_isLevelUp&&(n.m_getLvReqInfo=!0)}))}),!1,!0)}},n.GetAwardMoney=function(){return this.m_isLevelUp=!1,this.m_getLvReqInfo=!1,this.m_levelInfo&&this.m_levelInfo.reward&&this.m_doubleChecklvUp&&this.m_levelInfo.reward[0].amount?this.m_levelInfo.reward[0].amount:0},n.SetLevelExp=function(e,n){if(f.IsTadaCasino){var t={coin:n,exp:e};m.SetData(t)}},t(e,[{key:"LevelInfo",get:function(){if(this.m_levelInfo)return this.m_levelInfo;return{level:0,exp:0,nextExp:0,nextReward:null,reward:null,error:null,betOpen:0}}},{key:"IsLevelUp",get:function(){return this.m_isLevelUp}},{key:"GetLvReqInfo",get:function(){return this.m_getLvReqInfo}}]),e}())._instance=null,l._RF.pop()}}}));

System.register("chunks:///_virtual/LifeSocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnvironmentConfig.ts","./MsgBox.ts","./Define.ts","./Tools.ts","./LocaleStringManager.ts","./ConnectionManager.ts","./VipManager.ts","./AppManager.ts","./lotto.mjs_cjs=&original=.js","./NotificationManager.ts","./lifeService.mjs_cjs=&original=.js","./pgame.mjs_cjs=&original=.js","./lifeService.js","./lotto.js","./pgame.js"],(function(e){"use strict";var t,n,i,s,o,c,r,a,m,u,l,_,f,h,d,C,k;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e.error,s=e.sys},function(e){o=e.default},function(e){c=e.default},function(e){r=e.default},function(e){a=e.default},function(e){m=e.default,u=e.Default_Language},function(e){l=e.default},function(e){_=e.default},function(e){f=e.default},null,function(e){h=e.default},null,null,function(e){d=e.default},function(e){C=e.default},function(e){k=e.default}],execute:function(){n._RF.push({},"fbe6f2eH5xFa76LNTYq+KVm","LifeSocket",void 0);var g=function(){function e(e,t,n,i,s){this.userId="",this.aid=0,this.gameId="",this.token="",this.apiId=0,this.route=1,this.userId=e,this.aid=t,this.gameId=n,this.token=i,this.apiId=s}return t(e,[{key:"UserId",get:function(){return this.userId}},{key:"AID",get:function(){return this.aid}},{key:"GameID",get:function(){return this.gameId}},{key:"Token",get:function(){return this.token}},{key:"ApiID",get:function(){return this.apiId}},{key:"Route",set:function(e){this.route=e}}]),e}(),b=0,I=1,S=2,y=3,v=4,M=6,p=8,E=9,T=10,L=11,N=12,D=13,G=14,A=15,O=16,B=(e("RecommendGame",(function(){this.Enabled=!1,this.Games=null,this.Labels=null,this.DAU=null,this.Mall=null})),e("FavorInfo",(function(){this.Enabled=!1,this.Favorites=null,this.Promotions=null,this.Expired=null,this.BigWined=!1,this.DAU=null})),e("SyncBalance",(function(){this.Errcode=0,this.Message=null,this.Time=null,this.Balance=0,this.CurrencyNumber=0})),e("MaintainInfo",(function(){this.showType=0,this.content=[]})),e("SwitchKeyInfo",(function(){this.id=[]})),r.GAME_ID.CSH,r.GAME_ID.TKS,r.GAME_ID.CHILLI,r.GAME_ID.LTS,r.GAME_ID.FD,r.GAME_ID.GEM,r.GAME_ID.WS,r.GAME_ID.HB,r.GAME_ID.KK2,r.GAME_ID.SH,r.GAME_ID.SH2,"JILI"),w="TADA",F=e("default",function(){function e(){if(this.m_socket=null,this.m_initInfo=null,this.m_stop=!1,this.m_loginFunc=null,this.m_isFirst=!1,this.m_isClose=!0,this.m_marqueeVec=[],this.m_reconnectTime=3e3,this.m_connectCount=0,this.m_countCb=null,this.m_onErrorCb=null,this.m_isFristGetMsg=!0,this.m_serviceCb=null,this.m_recommendCb=null,this.m_recommendCloseCb=null,this.m_favorInfoCbs=Array(),this.m_mayLikeCb=null,this.m_syncBalanceCb=null,this.m_notifyCb=null,this.m_jpMarqueeCb=null,this.m_mhbMarqueeCb=null,this.m_lottoCb=null,this.m_syncBalanceRatio=1,this.m_indoRecommend=null,e._instance)throw new Error("Error: Instantiation failed: Use LifeSocket.getInstance() instead of new.");e._instance=this}e.GetInstance=function(){return this._instance||(this._instance=new e),e._instance},e.OnExit=function(){delete this._instance,this._instance=null};var n=e.prototype;return n.SetRecommendCb=function(e){this.m_recommendCb=e},n.SetRecommendCloseCb=function(e){this.m_recommendCloseCb=e},n.SetFavorInfoCb=function(e){this.m_favorInfoCbs.push(e)},n.SetInfo=function(e,t,n,i,s,o){this.m_loginFunc=o,this.m_initInfo=new g(e,t,n,i,s)},n.ConnectServer=function(){var e=this;!this.m_isFirst&&this.m_countCb&&(this.m_connectCount++,(1===this.m_connectCount||this.m_connectCount%4)&&this.m_countCb(this.m_connectCount)),this.m_socket=new WebSocket(o.SOCKET_URL2),this.m_socket.onopen=function(){var t=new d.lifeServiceProto.LifeServiceInitInfo;t.accountID=e.m_initInfo.AID,t.gameID=Number(e.m_initInfo.GameID),t.apiID=e.m_initInfo.ApiID,t.userID=e.m_initInfo.UserId,t.route=e.m_initInfo.Route,t.token=e.m_initInfo.Token;var n=d.lifeServiceProto.LifeServiceInitInfo.encode(t).finish();e.m_socket.send(n),e.m_isClose=!1,r.IsLifeSocketClose=!1},this.m_socket.onclose=function(t){e.m_isClose=!0,r.IsLifeSocketClose=!0,e.m_stop||setTimeout((function(){e.ConnectServer()}),e.m_reconnectTime)},this.m_socket.onerror=function(t){null==e.m_onErrorCb||e.m_onErrorCb(),e.m_socket.close()},this.m_socket.onmessage=function(t){var n=JSON.parse(t.data);if(e.m_isFristGetMsg&&(e.m_isFristGetMsg=!1,e.m_serviceCb&&e.m_serviceCb(n.error)),n.error!=b){e.m_stop=!0;var o={};o.contextKey=r.StringKey.MSGBOX_CONNECT_FAIL,o.titleKey=r.StringKey.MSGBOX_TITLE_SYSTEM_INFO,o.showCancelBtn=!1,o.showConfirmBtn=!0,o.showCloseBtn=!1,o.confirmCB=function(){a.CloseGameTab()},o.errorCode=a.GetErrorCode(r.ErrorStatus.PlatForm,n.error),c.getInstance().PushMessageBoxSetting(o,!0)}else e.m_isFirst||(e.m_loginFunc(),e.m_isFirst=!0);if(n.message){var l=JSON.parse(n.message);switch(l.cmdType){case I:var f=m.CurrLang;null==f&&(f=u),f&&m.FormatLang(JSON.parse(n.message).content.lang)==f&&e.m_marqueeVec.push(JSON.parse(n.message));break;case S:var d=l.content;d.Enabled&&d.Games&&e.m_recommendCb?e.m_recommendCb(d.Games,d.Labels,d.Mall,d.DAU):!d.Enabled&&e.m_recommendCloseCb&&e.m_recommendCloseCb();break;case y:s.isNative||window.location.replace(l.content);break;case v:var g=l.content;if(e.m_favorInfoCbs)for(var F=0;F<e.m_favorInfoCbs.length;F++)e.m_favorInfoCbs[F](g);break;case M:var R=l.content,q=e.GetTimeString(R.content[0]),P=e.GetTimeString(R.content[1]),U=B;a.Line!==r.LineSetting.americas&&a.Line!==r.LineSetting.americas_str||(U=w);var j=[r.StringKey.MSGBOX_MAINTAIN_TYPE0,r.StringKey.MSGBOX_MAINTAIN_TYPE1];c.getInstance().ShowMessageBoxFormat(j[R.showType],r.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[U,q,P]);break;case p:var J=l.content;e.m_mayLikeCb&&e.m_mayLikeCb(J);break;case E:var K=l.content;e.m_syncBalanceCb,K.Errcode==b&&e.m_syncBalanceCb&&e.m_syncBalanceCb(K.Balance*e.m_syncBalanceRatio,null,!0);break;case T:var H=l.content;e.m_notifyCb(H);break;case L:var x=l.content;_.GetInstance().OnRecvVipInfo(x),h.GetInstance().UpdateJiliLvNotify(x);break;case N:e.m_indoRecommend=l.content;break;case D:var V=l.content,Y=new Uint8Array(V),X=k.serverProto.JpMarqueeInfo.decode(Y);X.win=X.win*e.m_syncBalanceRatio,e.m_jpMarqueeCb&&e.m_jpMarqueeCb(X);break;case O:var W=l.content,z=new Uint8Array(W),Q=k.serverProto.JpMarqueeInfo.decode(z);Q.win=Q.win*e.m_syncBalanceRatio,e.m_mhbMarqueeCb&&e.m_mhbMarqueeCb(Q);break;case G:if(e.m_lottoCb){var Z=l.content,$=new Uint8Array(Z),ee=C.lottoProto.LotteryTicketList.decode($);e.m_lottoCb(ee)}break;case A:var te=l.content;r.SetSwitchOffKeys(te.id),a.SwitchOffUpdate(),i("Define.switchoffkeys",r.SwitchOffKeys)}}}},n.Close=function(){this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN&&(i("LifeSocket Closed!"),this.m_stop=!0,this.m_socket.close())},n.ReqRecommendList=function(){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN&&this.m_initInfo){var e={cmdType:S,content:{onUpdate:1}};this.m_socket.send(JSON.stringify(e))}},n.SendAliveMsg=function(){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN){var e=new Date,t={cmdType:-1,content:{currentDatetime:e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()}};this.m_socket.send(JSON.stringify(t))}},n.GetMarqueeMsg=function(){return this.m_marqueeVec.length<=0?null:this.m_marqueeVec.shift()},n.ReqUrl=function(e,t,n){if(void 0===n&&(n=null),s.isNative||f.LobbyData)f.LeaveGame(!0,e);else if(this.m_socket.readyState==this.m_socket.OPEN){var i={cmdType:y,content:{redirectTo:e,itemIdx:n,lang:a.ConvertLanguageToFull(m.CurrLang)}};this.m_socket.send(JSON.stringify(i))}var o=e;this.SendClickEvent(t,o)},n.ReqFavor=function(){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN){var e={cmdType:v,content:{favoriteupdate:1}};this.m_socket.send(JSON.stringify(e))}},n.ReqAddFavor=function(e,t){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN){var n={cmdType:v,content:{addFavorite:1,gameid:e}};this.m_socket.send(JSON.stringify(n)),this.SendClickEvent(t,e)}},n.ReqRemoveFavor=function(e,t){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN){var n={cmdType:v,content:{removefavorite:1,gameid:e}};this.m_socket.send(JSON.stringify(n)),this.SendClickEvent(t,e)}},n.ReqVipInfo=function(){if(this.m_socket&&this.m_socket.readyState==this.m_socket.OPEN){var e={cmdType:L,content:{vipupdate:1}};this.m_socket.send(JSON.stringify(e))}},n.SendClickEvent=function(e,t){l.getInstance().SendBtnClickEvent(l.FormBtnClickParams(Number(this.m_initInfo.AID),Number(this.m_initInfo.ApiID),Number(this.m_initInfo.GameID),r.GAME_VERSION,e,t))},n.ReqMayLike=function(){},n.GetTimeString=function(e){var t=new Date(1e3*Number(e)),n=t.getFullYear().toString(),i=(t.getMonth()+1).toString(),s=t.getDate().toString(),o=t.getHours().toString(),c=t.getMinutes();return s+"/"+i+"/"+n+" "+o+":"+(c<10?"0"+c.toString():c.toString())},t(e,[{key:"IsClose",get:function(){return this.m_isClose}},{key:"ReconnectTime",get:function(){return this.m_reconnectTime}},{key:"CountCb",set:function(e){this.m_countCb=e}},{key:"OnErrorCb",set:function(e){this.m_onErrorCb=e}},{key:"ServiceCb",set:function(e){this.m_serviceCb=e}},{key:"MayLikeCb",set:function(e){this.m_mayLikeCb=e}},{key:"SyncBalanceCb",set:function(e){this.m_syncBalanceCb=e}},{key:"NotifyCb",set:function(e){this.m_notifyCb=e}},{key:"JPMarqueeCb",set:function(e){this.m_jpMarqueeCb=e}},{key:"MHBMarqueeCb",set:function(e){this.m_mhbMarqueeCb=e}},{key:"LottoCb",set:function(e){this.m_lottoCb=e}},{key:"SyncBalanceRatio",set:function(e){this.m_syncBalanceRatio=e}},{key:"IndoRecommend",get:function(){return this.m_indoRecommend}}]),e}());F._instance=new F,n._RF.pop()}}}));

System.register("chunks:///_virtual/LinesGeneraterComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,s,a,l,h,p,m,f,u,_,y,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Material,l=e.SpriteFrame,h=e.Size,p=e.size,m=e.v2,f=e.Graphics,u=e.Node,_=e.Sprite,y=e.v3,c=e.UITransform,d=e.Component}],execute:function(){var g,S,b,v,z,w,C,M,D,L,x,F,P,N,A,I;o._RF.push({},"047e3+6NQ1FhKxCEOzrrsCC","LinesGeneraterComponent",void 0);var T=0,G=1,R=2,k=s.ccclass,q=s.property;e("default",(g=q({type:a}),S=q({type:l,tooltip:"線圖，依序直線、下斜線、上斜線"}),b=q({type:h,tooltip:"Symbol大小"}),v=q({type:h,tooltip:"盤面為幾乘幾"}),z=q({type:Number,tooltip:"偏移角度數值，依序為偏0個、偏一格..."}),w=q({type:Number,tooltip:"偏移長度，依序為偏0個、偏一格..."}),C=q({type:Number,tooltip:"線的偏移，依序直線、下斜線、上斜線"}),k((L=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_test",L,r(t)),n(t,"m_lineSpriteFrames",x,r(t)),n(t,"m_symbolSize",F,r(t)),n(t,"m_symbolPlateSize",P,r(t)),n(t,"m_slopeDiffAngles",N,r(t)),n(t,"m_diffLens",A,r(t)),n(t,"m_posDiff",I,r(t)),t.m_plateSize=null,t.m_lineSprites=[],t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.m_plateSize=p(this.m_symbolSize.width*this.m_symbolPlateSize.height,this.m_symbolSize.height*this.m_symbolPlateSize.width);for(var e=0;e<this.m_lineSpriteFrames.length;e++)this.m_lineSpriteFrames[e].insetLeft=10,this.m_lineSpriteFrames[e].insetRight=10},o.start=function(){this.Init([[m(-328,138),m(-164,-138),m(0,138),m(164,138),m(328,-138)],[m(-328,0),m(-164,138),m(0,-138),m(164,0),m(328,138)],[m(-328,-138),m(-164,0),m(0,0),m(164,-138),m(328,0)]]),this.ShowLines([0,1,2]);var e=this.node.getComponent(f);e.lineWidth=6,e.moveTo(0,0),e.lineTo(100,100),e.stroke(),e.fill()},o.Init=function(e){if(this.m_lineSprites)for(;this.m_lineSprites.length>0;){var t=this.m_lineSprites.pop();if(t)for(;t.length>0;){var i=t.pop();i&&(i.node.removeFromParent(),i.node.destroy())}}for(var n=0;n<e.length;n++)this.CreateLine(e[n]);for(var r=0;r<this.m_lineSprites.length;r++)for(var o=0;o<this.m_lineSprites[r].length;o++)this.m_lineSprites[r][o].node.active=!1},o.ShowLines=function(e){for(var t=0;t<e.length;t++){var i=this.m_lineSprites[e[t]];if(i)for(var n=0;n<i.length;n++)i[n].node.active=!0}},o.HideLines=function(e){if(void 0===e&&(e=null),e)for(var t=0;t<e.length;t++){var i=this.m_lineSprites[e[t]];if(i)for(var n=0;n<i.length;n++)i[n].node.active=!1}else for(var r=0;r<this.m_lineSprites.length;r++)for(var o=0;o<this.m_lineSprites[r].length;o++)this.m_lineSprites[r][o].node.active=!1},o.CreateLine=function(e){var t=[];e.unshift(m(-this.m_plateSize.width/2,e[0].y)),e.push(m(this.m_plateSize.width/2,e[e.length-1].y));for(var i=0;i<e.length-1;i++){var n=e[i],r=e[i+1],o=new u;if(this.node.addChild(o),n.y===r.y){var s=this.CreateSpriteNode(o,T),a=s.getComponent(_);o.angle=0,o.position=y(n.x,n.y);var l=Math.abs(n.x-r.x)+(this.m_diffLens[0]?this.m_diffLens[0]:0)-(this.m_posDiff[T]?this.m_posDiff[T]:0);s.getComponent(c).width=l,t.push(a)}else if(n.y>r.y){var h=this.CreateSpriteNode(o,G),p=h.getComponent(_),f=Math.round(Math.abs(n.y-r.y)/this.m_symbolSize.height),d=Math.abs(n.y-r.y),g=Math.abs(n.x-r.x),S=Math.atan(d/g)/Math.PI*180;o.angle=-(S+(this.m_slopeDiffAngles[f]?this.m_slopeDiffAngles[f]:0)),o.position=y(n.x,n.y);var b=Math.sqrt(Math.pow(n.y-r.y,2)+Math.pow(n.x-r.x,2))+(this.m_diffLens[f]?this.m_diffLens[f]:0)-(this.m_posDiff[G]?this.m_posDiff[G]:0);h.getComponent(c).width=b,t.push(p)}else{var v=this.CreateSpriteNode(o,R),z=v.getComponent(_),w=Math.round(Math.abs(n.y-r.y)/this.m_symbolSize.height),C=Math.abs(n.y-r.y),M=Math.abs(n.x-r.x),D=Math.atan(C/M)/Math.PI*180;o.angle=D+(this.m_slopeDiffAngles[w]?this.m_slopeDiffAngles[w]:0),o.position=y(n.x,n.y);var L=Math.sqrt(Math.pow(n.y-r.y,2)+Math.pow(n.x-r.x,2))+(this.m_diffLens[w]?this.m_diffLens[w]:0)-(this.m_posDiff[R]?this.m_posDiff[R]:0);v.getComponent(c).width=L,t.push(z)}}this.m_lineSprites.push(t)},o.CreateSpriteNode=function(e,t){var i=new u,n=i.addComponent(_);return n.spriteFrame=this.m_lineSpriteFrames[t],n.type=_.Type.SLICED,e.addChild(i),i.getComponent(c).anchorX=0,i.setPosition(y(this.m_posDiff[t]?this.m_posDiff[t]:0,i.position.y)),i},t}(d)).prototype,"m_test",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"m_lineSpriteFrames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(D.prototype,"m_symbolSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"m_symbolPlateSize",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(3,5)}}),N=t(D.prototype,"m_slopeDiffAngles",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(D.prototype,"m_diffLens",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(D.prototype,"m_posDiff",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=D))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadPrefabManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var a,n,i;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy,i=t.log}],execute:function(){n._RF.push({},"c8cca0fG6JHiJ5AJETAhs1y","LoadPrefabManager",void 0);var e=function(){function t(){this.m_count=0,this.m_loadedCount=0,this.m_okCallback=null,this.m_isWaitLoad=!1,this.m_callbacks=null,this.m_callbacks=new Array}var n=t.prototype;return n.AddOnLoadedCallback=function(t){this.m_callbacks.push(t)},n.AddLoad=function(){return this.m_count=this.m_count+1,this.m_count},n.OnLoaded=function(){this.m_loadedCount=this.m_loadedCount+1},n.CheckLoaded=function(){return i("CheckLoaded ",this.m_isWaitLoad,this.m_count,this.m_loadedCount),this.m_isWaitLoad&&this.m_count==this.m_loadedCount},n.StartLoad=function(){this.m_isWaitLoad=!0},a(t,[{key:"OKCallback",get:function(){return this.m_okCallback},set:function(t){this.m_okCallback=t}},{key:"Callbacks",get:function(){return this.m_callbacks}}]),t}(),s=t("default",function(){function t(){if(t._instance)throw new Error("Error: Instantiation failed: Use LoadPrefabManager.getInstance() instead of new.");t._instance=this}t.getInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var a=t.prototype;return a.GetManagerId=function(a){for(var n=1;n<=t.MAX_LIST;n++)if(null==t._DataList[n])return t._DataList[n]=new e,t._DataList[n].OKCallback=a,n;return 0},a.AddOnLoadedCallback=function(a,n){if(-1!=a&&null!=t._DataList[a])return t._DataList[a].AddOnLoadedCallback(n)},a.AddLoad=function(a){return-1==a||null==t._DataList[a]?0:t._DataList[a].AddLoad()},a.OnLoaded=function(a){-1!=a&&null!=t._DataList[a]&&(t._DataList[a].OnLoaded(),this.CheckAndCallback(a))},a.StartLoad=function(a){-1!=a&&null!=t._DataList[a]&&(t._DataList[a].StartLoad(),this.CheckAndCallback(a))},a.CheckAndCallback=function(a){if(t._DataList[a].CheckLoaded()){t._DataList[a].OKCallback();for(var n=t._DataList[a].Callbacks,i=0;i<n.length;i++)n[i]();n=null,this.DeleteManagerId(a)}},a.DeleteManagerId=function(a){-1!=a&&null!=t._DataList[a]&&delete t._DataList[a]},t}());s.MAX_LIST=50,s._instance=new s,s._DataList={},n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadRemotePlist.ts",["cc"],(function(e){"use strict";var t,r,a,i,s,n,o,l,u;return{setters:[function(e){t=e.assetManager,r=e.path,a=e.Texture2D,i=e.cclegacy,s=e.SpriteAtlas,n=e.SpriteFrame,o=e.Rect,l=e.Vec2,u=e.Size}],execute:function(){e("default",(function(e,i){t.loadRemote(e,(function(o,l){if(o)i(o,null);else{var u=l._nativeAsset,c=u.metadata.realTextureFileName||u.metadata.textureFileName;c=r.join(r.dirname(e),c),t.loadRemote(c,(function(e,t){if(e)i(e,null);else{var o=new a;o.image=t,i(null,function(e,t){var a=e.metadata,i=e.frames,o=new s,l=o.spriteFrames;for(var u in i){var c=i[u],g=!1,F=void 0,h=void 0,x=void 0;0===a.format?(g=!1,F="{"+c.originalWidth+","+c.originalHeight+"}",h="{"+c.offsetX+","+c.offsetY+"}",x="{{"+c.x+","+c.y+"},{"+c.width+","+c.height+"}}"):1===a.format||2===a.format?(g=c.rotated,F=c.sourceSize,h=c.offset,x=c.frame):3===a.format&&(g=c.textureRotated,F=c.spriteSourceSize,h=c.spriteOffset,x=c.textureRect);var R=new n;if(R.texture=t,R.rect=d(x),R.rotated=!!g,R.offset=p(h),R.originalSize=f(F),c.triangles){var S=m(c.vertices),w=m(c.verticesUV);R.vertices={triangles:v(c.triangles),x:[],y:[],u:[],v:[],nu:[],nv:[]};for(var z=0;z<S.length;z+=2)R.vertices.x.push(S[z]),R.vertices.y.push(S[z+1]);for(var y=0;y<w.length;y+=2)R.vertices.u.push(w[y]),R.vertices.v.push(w[y+1])}l[r.basename(u).replace(/\.[aA-zZ]+/g,"")]=R}return o}(u,o))}}))}}))})),i._RF.push({},"9fea1skAf9Ifpz3LcP/CttE","LoadRemotePlist",void 0);var c=/[{}]/g;function f(e){var t=(e=e.slice(1,-1)).split(","),r=parseFloat(t[0]),a=parseFloat(t[1]);return new u(r,a)}function p(e){var t=(e=e.slice(1,-1)).split(","),r=parseFloat(t[0]),a=parseFloat(t[1]);return new l(r,a)}function v(e){return e.split(" ").map(parseFloat)}function m(e){return e.split(" ").map(parseFloat)}function d(e){var t=(e=e.replace(c,"")).split(",");return new o(parseFloat(t[0]||"0"),parseFloat(t[1]||"0"),parseFloat(t[2]||"0"),parseFloat(t[3]||"0"))}i._RF.pop()}}}));

System.register("chunks:///_virtual/LocaleStringManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./Define.ts","./EnvironmentConfig.ts","./StyleChangeManager.ts"],(function(a){"use strict";var n,e,t,r,g,o,l,i,L,s,m,u;return{setters:[function(a){n=a.createClass},function(a){e=a.cclegacy,t=a.sys,r=a.JsonAsset,g=a.TextAsset,o=a.error,l=a.Font,i=a.SpriteAtlas},function(a){L=a.default},function(a){s=a.default},function(a){m=a.default},function(a){u=a.styleChangeManager}],execute:function(){e._RF.push({},"4b3660cqtxJ+qEiF+gh6vbI","LocaleStringManager",void 0);var c=a("Default_Language",s.Lang.CN),C="Astt/framework/TTF/Zawgyi-One",_="Astt/framework/TTF/MN_Kui_Chai",d={NORMAL:"Astt/framework/Common/TTF/TTF_BasicFont_Normal",BOLD:"Astt/framework/Common/TTF/TTF_BasicFont_Bold"},h={NORMAL:"Astt/framework_americas/Common/TTF/TTF_BasicFont_Normal",BOLD:"Astt/framework_americas/Common/TTF/TTF_BasicFont_Bold"},S=a("default",function(){function a(){this.m_commStringXml=null,this.m_gameStringXml=null,this.m_backpackStringXml=null,this.m_commStringJson=null,this.m_gameStringJson=null,this.m_backpackStringJson=null,this.m_backpackLock=!1,this.m_commonAtlas=null,this.m_gameAtlas=null,this.m_freeSpinAtlas=null,this.m_onStringLoadedCb=[],this.m_onBackpackStringLoadedCb=[],this.m_onGameAltasLoadedCb=[],this.GetLanguage()}a.GetInstance=function(){return this._instance||(this._instance=new a),a._instance},a.OnExit=function(){this.m_currLang=c,delete this._instance,this._instance=null};var e=a.prototype;return e.GetLanguage=function(){var n=L.GetLinkParameterByName("lang")||L.GetLinkParameterByName("ln");if(n){var e=a.FormatLang(n);if(""!==e)return void a.SetCurrLang(e)}if(!t.isNative){var r=a.FormatLang(navigator.language);if(""!==r)return void a.SetCurrLang(r)}a.SetCurrLang(c)},a.SetCurrLang=function(n){var e=a.FormatLang(n);for(var t in s.Lang){if(s.Lang.hasOwnProperty(t)){var r=s.Lang[t];r===e&&(this.m_currLang=r,L.Lang=r)}L.IsTada&&this.CheckTaDaBannedLang()&&(this.m_currLang=s.Lang.EN,L.Lang=s.Lang.EN)}L.SetRevertDot(s.RevertDotLang.includes(this.m_currLang))},e.SetWebUrlLang=function(){m.WEB_URL=m.WEB_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.HISTORY_URL=m.HISTORY_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.COLLECT_URL=m.COLLECT_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.RATIO_URL=m.RATIO_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.BACKPACK_URL=m.BACKPACK_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.MEMBER_URL=m.MEMBER_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.ACTION_URL=m.ACTION_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.PROMOTE_ACTION_URL=m.PROMOTE_ACTION_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.PROMOTE_URL=m.PROMOTE_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),m.CLOSE_URL=m.CLOSE_URL.replace("{lang}",L.ConvertLanguageToFull(a.CurrLang)),L.CloseUrl=m.CLOSE_URL},a.FormatLang=function(a){return(a=a.toLocaleLowerCase())==s.Lang.CN||a==s.FullLang.CN.toLocaleLowerCase()?s.Lang.CN:a==s.Lang.EN||a==s.FullLang.EN.toLocaleLowerCase()?s.Lang.EN:a==s.Lang.TH||a==s.FullLang.TH.toLocaleLowerCase()?s.Lang.TH:a==s.Lang.VN||a==s.FullLang.VN.toLocaleLowerCase()?s.Lang.VN:a==s.Lang.ID||a==s.FullLang.ID.toLocaleLowerCase()?s.Lang.ID:a==s.Lang.HI||a==s.FullLang.HI.toLocaleLowerCase()?s.Lang.HI:a==s.Lang.TA||a==s.FullLang.TA.toLocaleLowerCase()?s.Lang.TA:a==s.Lang.MM||a==s.FullLang.MM.toLocaleLowerCase()?s.Lang.MM:a==s.Lang.JP||a==s.FullLang.JP.toLocaleLowerCase()?s.Lang.JP:a==s.Lang.MS||a==s.FullLang.MS.toLocaleLowerCase()?s.Lang.MS:a==s.Lang.KO||a==s.FullLang.KO.toLocaleLowerCase()?s.Lang.KO:a==s.Lang.BN||a==s.FullLang.BN.toLocaleLowerCase()?s.Lang.BN:a==s.Lang.ES||a==s.FullLang.ES.toLocaleLowerCase()?s.Lang.ES:a==s.Lang.PT||a==s.FullLang.PT.toLocaleLowerCase()?s.Lang.PT:a==s.Lang.IT||a==s.FullLang.IT.toLocaleLowerCase()?s.Lang.IT:a==s.Lang.SE||a==s.FullLang.SE.toLocaleLowerCase()?s.Lang.SE:a==s.Lang.DE||a==s.FullLang.DE.toLocaleLowerCase()?s.Lang.DE:a==s.Lang.DADK||a==s.FullLang.DADK.toLocaleLowerCase()?s.Lang.DADK:a==s.Lang.RORO||a==s.FullLang.RORO.toLocaleLowerCase()?s.Lang.RORO:a==s.Lang.NLNL||a==s.FullLang.NLNL.toLocaleLowerCase()?s.Lang.NLNL:a==s.Lang.TRTR.toLocaleLowerCase()||a==s.FullLang.TRTR.toLocaleLowerCase()?s.Lang.TRTR:a==s.Lang.RURU.toLocaleLowerCase()||a==s.FullLang.RURU.toLocaleLowerCase()?s.Lang.RURU:a==s.Lang.GRGR.toLocaleLowerCase()||a==s.FullLang.GRGR.toLocaleLowerCase()?s.Lang.GRGR:a==s.Lang.FRFR.toLocaleLowerCase()||a==s.FullLang.FRFR.toLocaleLowerCase()?s.Lang.FRFR:""},e.LoadStringFile=function(n){var e=this;void 0===n&&(n=!1),this.SetWebUrlLang();var t="AsttText/"+a.CurrLang+"/strings";L.Line===s.LineSetting.americas||(L.Line,s.LineSetting.americas_str);var i=s.OtherBundle.getDirWithPath(t,r);if(s.OtherBundle.load(t,i&&i.length>0?r:g,(function(a,n){if(a)o(a.message||a);else{if(n instanceof r)e.m_commStringJson=n.json;else{var t=new DOMParser;e.m_commStringXml=t.parseFromString(String(n),"text/xml")}if(e.m_onStringLoadedCb&&e.m_onStringLoadedCb.length>0){for(var g=0;g<e.m_onStringLoadedCb.length;g++)e.m_onStringLoadedCb[g]();e.m_onStringLoadedCb.length=0}}})),n||(t="/Text/"+a.CurrLang+"/gameStrings",s.GameBundle.load(t,(function(a,n){if(a)o(a.message||a);else{var t=new DOMParser;e.m_gameStringXml=t.parseFromString(String(n),"text/xml")}}))),a.CurrLang===s.Lang.MM)s.CommonBundle.load(C,l,(function(a,n){a?o(a.message||a):(s.DefaultFont=n,s.DefaultExtraFont=n)}));else if(a.CurrLang===s.Lang.TH)s.CommonBundle.load(_,l,(function(a,n){a?o(a.message||a):(s.DefaultFont=n,s.DefaultExtraFont=n)}));else{var m=d;L.Line!==s.LineSetting.americas&&L.Line!==s.LineSetting.americas_str||(m=h),s.CommonBundle.load(m.NORMAL,l,(function(a,n){a?o(a.message||a):s.DefaultFont=n})),s.CommonBundle.load(m.BOLD,l,(function(a,n){a?o(a.message||a):s.DefaultExtraFont=n}))}this.LoadCommonAtlasFile(),this.LoadFreeSpinAtlasFile()},e.LoadCommonAtlasFile=function(){var n=this,e="/framework/CommonStringAtlas2/CommonStringAtlas2";L.Line===s.LineSetting.sec?e="/CommonStringAtlas2_API_2":L.Line===s.LineSetting.street||L.Line!==s.LineSetting.americas&&L.Line!==s.LineSetting.americas_str||(e="/framework_americas/CommonStringAtlas2/CommonStringAtlas2");var t="AsttText/"+a.CurrLang+e;s.OtherBundle.load(t,i,(function(a,e){a?o(a.message||a):n.m_commonAtlas=e}))},e.LoadFreeSpinAtlasFile=function(){var n=this,e="AsttText/"+a.CurrLang+"/FreeSpin/AutoAtlas";s.OtherBundle.load(e,i,(function(a,e){a?o(a.message||a):n.m_freeSpinAtlas=e}))},e.LoadGameAtlasFile=function(n,e){var t=this,r=n+a.CurrLang+"/GameTextImg";if(u.NeedChange){var g=s.GameBundle.getDirWithPath(""+u.FolderName+n),l=s.GameBundle.getDirWithPath(""+u.FolderName+n+a.CurrLang+"/GameTextImg");g&&l&&g.length>0&&l.length>0&&(r=""+u.FolderName+r)}s.GameBundle.load(r,i,(function(a,n){if(a)o(a.message||a);else if(t.m_gameAtlas=n,e&&t.m_onGameAltasLoadedCb.push(e),t.m_onGameAltasLoadedCb&&t.m_onGameAltasLoadedCb.length>0){for(var r=0;r<t.m_onGameAltasLoadedCb.length;r++)t.m_onGameAltasLoadedCb[r]();t.m_onGameAltasLoadedCb.length=0}}))},e.LoadBackPackStringFile=function(n){var e=this;void 0===n&&(n=null);var t="AsttText/"+a.CurrLang+"/backpackStrings";if(!this.m_backpackLock){this.m_backpackLock=!0;var l=s.OtherBundle.getDirWithPath(t,r);s.OtherBundle.load(t,l&&l.length>0?r:g,(function(a,t){if(a)return e.m_backpackLock=!1,void o(a.message||a);if(t instanceof r)e.m_backpackStringJson=t.json;else{var g=new DOMParser;e.m_backpackStringXml=g.parseFromString(String(t),"text/xml")}if(e.m_backpackLock=!1,e.m_onBackpackStringLoadedCb&&e.m_onBackpackStringLoadedCb.length>0){for(var l=0;l<e.m_onBackpackStringLoadedCb.length;l++)e.m_onBackpackStringLoadedCb[l]();e.m_onBackpackStringLoadedCb.length=0}n&&n()}))}},a.CheckTaDaBannedLang=function(){for(var n=0;n<s.TADA_BANNED_LANG.length;n++)if(a.CurrLang===s.TADA_BANNED_LANG[n])return!0;return!1},e.GetGameName=function(n){return n===s.GAME_ID.ENTITY?a.GetInstance().GetString(s.StringKey.GF_GIFTCARD):L.IsTada?this.GetString(s.StringKey.TADA_GAMEID+n):this.GetString(s.StringKey.GAMEID+n)},e.GetString=function(a){var n=a;return this.m_gameStringJson&&this.m_gameStringJson[a]?n=this.m_gameStringJson[a]:this.m_commStringJson&&this.m_commStringJson[a]?n=this.m_commStringJson[a]:this.m_backpackStringJson&&this.m_backpackStringJson[a]?n=this.m_backpackStringJson[a]:this.m_gameStringXml&&this.m_gameStringXml.getElementsByTagName(a)&&this.m_gameStringXml.getElementsByTagName(a)[0]&&this.m_gameStringXml.getElementsByTagName(a)[0].childNodes&&this.m_gameStringXml.getElementsByTagName(a)[0].childNodes[0]?n=this.m_gameStringXml.getElementsByTagName(a)[0].childNodes[0].nodeValue:this.m_commStringXml&&this.m_commStringXml.getElementsByTagName(a)&&this.m_commStringXml.getElementsByTagName(a)[0]&&this.m_commStringXml.getElementsByTagName(a)[0].childNodes&&this.m_commStringXml.getElementsByTagName(a)[0].childNodes[0]?n=this.m_commStringXml.getElementsByTagName(a)[0].childNodes[0].nodeValue:this.m_backpackStringXml&&this.m_backpackStringXml.getElementsByTagName(a)&&this.m_backpackStringXml.getElementsByTagName(a)[0]&&this.m_backpackStringXml.getElementsByTagName(a)[0].childNodes&&this.m_backpackStringXml.getElementsByTagName(a)[0].childNodes[0]&&(n=this.m_backpackStringXml.getElementsByTagName(a)[0].childNodes[0].nodeValue),n=n?n.toString().replace(/\\n/g,"\n"):a,n=this.RichTextParse(n)},e.RichTextParse=function(n){var e,t,r=this;a.CurrLang==s.Lang.EN||a.CurrLang==s.Lang.TH||a.CurrLang==s.Lang.ID||a.CurrLang==s.Lang.VN||a.CurrLang==s.Lang.HI||a.CurrLang==s.Lang.TA||a.CurrLang==s.Lang.MM||a.CurrLang==s.Lang.MS||a.CurrLang==s.Lang.KO||a.CurrLang==s.Lang.BN||a.CurrLang==s.Lang.ES||a.CurrLang==s.Lang.PT||a.CurrLang==s.Lang.IT||a.CurrLang==s.Lang.SE||a.CurrLang==s.Lang.DE||a.CurrLang==s.Lang.DADK||a.CurrLang==s.Lang.RORO||a.CurrLang==s.Lang.NLNL||a.CurrLang==s.Lang.TRTR||a.CurrLang==s.Lang.RURU||a.CurrLang==s.Lang.GRGR||a.CurrLang==s.Lang.FRFR?(e=/[a-z]+;[0-9]+;[^，]*/g,t=/[a-zA-Z0-9]+;[0-9]+;[^，]*/g):a.CurrLang==s.Lang.CN||a.CurrLang==s.Lang.JP?(e=/[a-z]+;[0-9]+;[^,]*/g,t=/[a-zA-Z0-9]+;[0-9]+;[^,]*/g):(e=/[a-z]+;[0-9]+;[^，]*/g,t=/[a-zA-Z0-9]+;[0-9]+;[^，]*/g);var g=n.match(e);g||(g=n.match(t));var o=["<color=#%s>","</c>"],l=["<size=%s>","</size>"],i=n;return null!=g&&null!=g&&(i="",g.forEach((function(a){var n=a.split(";");3==n.length&&(i+=o[0].replace("%s",r.GetColor(n[0])),i=(i+=l[0].replace("%s",n[1]))+n[2]+l[1]+o[1])}))),i},e.GetColor=function(a){if(6==a.length)return a;switch(a){case"w":return"ffffff";case"b":return"6DB2F8";case"y":return"FFCC00";case"blk":return"000000";case"g":return"00FF1E";case"r":return"FF0D00";case"o":return"FFCC00 ";case"br":return"E4D19B";case"gr":return"808080";case"cb":return"00F6D7";case"p":return"EE60E1";case"by":return"FFFF00";case"wb":return"00FFFF";case"py":return"FFFC9A";case"lr":return"FFA7A7";case"lp":return"F5AAFF";case"lb":return"BCB7FF";case"rw":return"FFE1D0";default:return"ffffff"}},e.RegisterOnLoadedCb=function(a){this.m_onStringLoadedCb.push(a)},e.RegisterOnBackpackStringLoadedCb=function(a){this.m_onBackpackStringLoadedCb.push(a)},e.RegisterOnGameAltasLoadedCb=function(a){this.m_onGameAltasLoadedCb.push(a)},e.IsLoaded=function(){var n=!1;a.CurrLang===s.Lang.MM?null!==s.DefaultFont&&(n=!0):n=!0;var e=!1;return L.Line===s.LineSetting.americas||L.Line===s.LineSetting.americas_str?null!==s.DefaultFont&&null!==s.DefaultExtraFont&&(e=!0):e=!0,this.IsCommStringLoaded()&&this.IsGameStringLoaded()&&this.IsCommonAtlasLoaded()&&n&&e},e.IsGameLoaded=function(){return null!=this.m_gameAtlas},e.IsCommStringLoaded=function(){return null!=this.m_commStringXml||null!=this.m_commStringJson},e.IsGameStringLoaded=function(){return null!=this.m_gameStringXml&&null!=this.m_gameStringXml||null!=this.m_gameStringJson&&null!=this.m_gameStringJson},e.IsCommonAtlasLoaded=function(){return null!=this.m_commonAtlas},e.IsFreeSpinAtlasLoaded=function(){return null!=this.m_freeSpinAtlas},e.IsBackpackStringLoaded=function(){return null!=this.m_backpackStringXml||null!=this.m_backpackStringJson},a.IsChinese=function(){return this.CurrLang==s.Lang.CN},e.GetCommonAtlas=function(){return this.m_commonAtlas},e.GetFreeSpinAtlas=function(){return this.m_freeSpinAtlas},e.GetGameAtlas=function(){return this.m_gameAtlas},n(a,null,[{key:"CurrLang",get:function(){return this.m_currLang}}]),a}());S.m_currLang=c,S._instance=new S,e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageManager.ts",["cc"],(function(t){"use strict";var e,r,o,a;return{setters:[function(t){e=t.cclegacy,r=t.sys,o=t.error,a=t.warn}],execute:function(){e._RF.push({},"fb5bcC9ImxHebvSV6GH75xx","LocalStorageManager",void 0);t("default",function(){function t(){}return t.SetBool=function(t,e){"boolean"==typeof e?r.localStorage.setItem(t,e.toString()):o("LocalStorage error: SetBool fault")},t.GetBool=function(t){var e;return null!=(e=r.localStorage.getItem(t))?"false"!=e&&("true"==e||(o("LocalStorage error: GetBool fault"),null)):(a("LocalStorage error: Key not found "),null)},t.SetInt=function(t,e){"number"==typeof e?r.localStorage.setItem(t,e.toString()):o("LocalStorage error: SetInt fault")},t.GetInt=function(t){var e;return null!=(e=r.localStorage.getItem(t))?isNaN(Number(e))?(o("LocalStorage error: GetInt fault"),null):Number(e):(a("LocalStorage error: Key not found "),null)},t.SetString=function(t,e){"string"==typeof e?r.localStorage.setItem(t,e):o("LocalStorage error: SetString fault")},t.GetString=function(t){var e;return null!=(e=r.localStorage.getItem(t))?e:(a("LocalStorage error: Key not found "),null)},t.SetObject=function(t,e){"object"==typeof e?r.localStorage.setItem(t,JSON.stringify(e)):o("LocalStorage error: setObject fault")},t.GetObject=function(t){var e;if(null==(e=r.localStorage.getItem(t)))return a("LocalStorage error: Key not found "),null;try{var n=JSON.parse(e);if(n&&"object"==typeof n)return n}catch(t){return o("LocalStorage error: Value is not object"),null}},t.RemoveData=function(t){return r.localStorage.removeItem(t)},t.ClearData=function(){return r.localStorage.clear()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ManagerDataStructure.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStruct.ts"],(function(t){"use strict";var r,o,e;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.ConnectionDataStruct}],execute:function(){var n;t("ManagerDataStructure",void 0),o._RF.push({},"f6436QqqpdOmoX8eP+HiWjG","ManagerDataStructure",void 0),function(t){var o=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/unionjp/JPInfoProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.JPInfoReq=o;var n=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/unionjp/JPHistoryProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.JPHistoryReq=n;var a=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/unionjp/JPBlockProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.JPBlockReq=a;var u=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/unionjp/JPInfoAllProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.JPBAllReq=u;var l=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/fulljp/JPInfoProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.MHBInfoReq=l;var i=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/fulljp/JPInfoAllProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.MHBInfoAllReq=i;var c=function(t){function o(){var r;return(r=t.call(this)||this).method=e.RequestMethod.Post,r.url="/fulljp/JPHistoryProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.MHBHistoryReq=c;var s=function(t){function o(){var r;return(r=t.call(this)||this).type=e.ErrorHandleType.Ignore,r.method=e.RequestMethod.Post,r.url="/mall/checkmallproto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.CheckMallReq=s;var h=function(t){function o(){var r;return(r=t.call(this)||this).type=e.ErrorHandleType.Ignore,r.method=e.RequestMethod.Post,r.url="/trial/InfoProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.TrialInfoReq=h;var P=function(t){function o(){var r;return(r=t.call(this)||this).type=e.ErrorHandleType.Ignore,r.method=e.RequestMethod.Post,r.url="/trial/SignUpProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.TrialSignUpReq=P;var f=function(t){function o(){var r;return(r=t.call(this)||this).type=e.ErrorHandleType.Ignore,r.method=e.RequestMethod.Post,r.url="/trial/GiveUpProto",r.reqData=null,r}return r(o,t),o}(e.ProtocolData);t.TrialGiveUpReq=f}(n||(n=t("ManagerDataStructure",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/ManualComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./MsgBox.ts","./LocaleStringManager.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,o,a,i,r,l,u,f,s,p,m,c,_,h,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,l=t._decorator,u=t.Node,f=t.Sprite,s=t.tween,p=t.Animation,m=t.Component},function(t){c=t.default},function(t){_=t.default},function(t){h=t.default},function(t){I=t.default}],execute:function(){var g,y,C,d,B,S,O,b,M,v,T,z,L,N,k;r._RF.push({},"0c18bO40hVJB4/zzDByb8vr","ManualComponent",void 0);var w=l.ccclass,F=l.property,x="Manual_Open",D="Manual_Close",E=t("State",{Open:"Open",Opening:"Opening",Close:"Close",Closing:"Closing"});t("default",(g=w("ManualComponent"),y=F({type:u,tooltip:"特色說明按鈕(新版跑馬燈)"}),C=F({type:u,tooltip:"特色說明本體(新版跑馬燈)"}),d=F({type:u,tooltip:"特色說明關閉按鈕(新版跑馬燈)"}),B=F({type:u,tooltip:"特色說明周圍關閉按鈕(新版跑馬燈)"}),S=F({type:f,tooltip:"特色說明內容(新版跑馬燈)"}),O=F({type:f,tooltip:"標題"}),g((v=e((M=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,o(e,"m_featureInfoBtn",v,a(e)),o(e,"m_featureInfoBoard",T,a(e)),o(e,"m_featureInfoCloseBtn",z,a(e)),o(e,"m_featureInfoSideBtn",L,a(e)),o(e,"m_featureInfoTxt",N,a(e)),o(e,"m_titleSprite",k,a(e)),e.m_manulState=E.Close,e.m_manulOpenLock=!1,e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.m_featureInfoBtn&&this.m_featureInfoBtn.on(u.EventType.TOUCH_END,(function(){t.OpenManul(),I.getInstance().Play(c.AudioClips.COMMON_BTN)})),this.m_featureInfoCloseBtn&&this.m_featureInfoCloseBtn.on(u.EventType.TOUCH_END,(function(){t.CloseManul(),I.getInstance().Play(c.AudioClips.COMMON_BTN)})),this.m_featureInfoSideBtn&&this.m_featureInfoSideBtn.on(u.EventType.TOUCH_END,(function(){t.CloseManul()}))},r.OpenManul=function(){var t=this;this.m_manulOpenLock?_.getInstance().ShowMessageBox(c.StringKey.FREEWINCASH_PLAYING1):this.m_manulState==E.Close&&(this.m_featureInfoBoard.active=!0,s(this.m_featureInfoBoard).call((function(){t.m_manulState=E.Opening,t.m_featureInfoBoard.getComponentInChildren(p).play(x)})).delay(.5).call((function(){t.m_manulState=E.Open})).start())},r.CloseManul=function(){var t=this;this.m_manulState==E.Open&&s(this.m_featureInfoBoard).call((function(){t.m_manulState=E.Closing,t.m_featureInfoBoard.getComponentInChildren(p).play(D)})).delay(.5).call((function(){t.m_manulState=E.Close,t.m_featureInfoBoard.active=!1})).start()},r.SetTxt=function(t,e){void 0===e&&(e=null);for(var n=h.GetInstance().GetGameAtlas(),o=0;o<this.m_featureInfoTxt.length;o++){n.getSpriteFrame(t[o])&&(this.m_featureInfoTxt[o].spriteFrame=n.getSpriteFrame(t[o]))}this.m_titleSprite&&e&&(this.m_titleSprite.spriteFrame=n.getSpriteFrame(e))},i(e,[{key:"FeatureInfoBtn",get:function(){return this.m_featureInfoBtn}},{key:"ManulState",get:function(){return this.m_manulState}},{key:"ManulOpenLock",get:function(){return this.m_manulOpenLock},set:function(t){this.m_manulOpenLock=t}}]),e}(m)).prototype,"m_featureInfoBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(M.prototype,"m_featureInfoBoard",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"m_featureInfoCloseBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(M.prototype,"m_featureInfoSideBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(M.prototype,"m_featureInfoTxt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(M.prototype,"m_titleSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=M))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/MarqueeComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,r,s,o,a,m,p,h,u,c,l,_,d,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,m=t._decorator,p=t.UITransform,h=t.Node,u=t.v2,c=t.Sprite,l=t.Component,_=t.v3,d=t.tween},function(t){f=t.default},function(t){g=t.default}],execute:function(){var S,v,y,b,w,T,x,z,C,I,M,k;a._RF.push({},"1d950BFoN5LhJJ79uyt+/E+","MarqueeComponent",void 0);var D=m.ccclass,W=m.property;t("default",(S=W({type:Number,tooltip:"每秒的位移量"}),v=W({type:Number,tooltip:"循環播放的間隔"}),y=W({type:Number,tooltip:"未超出的停留時間"}),b=W({type:Number,tooltip:"超出時的停留時間"}),w=W({type:Number,tooltip:"尾部保留的空間"}),D((z=e((x=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"m_moveSpeed",z,r(e)),n(e,"m_delayTime",C,r(e)),n(e,"m_waitTime",I,r(e)),n(e,"m_moveDelayTime",M,r(e)),n(e,"m_tailLeftSpace",k,r(e)),e.m_imgs=null,e.m_viewWidth=null,e.m_stringSprite=null,e.m_isStart=!1,e.m_isStop=!1,e.m_scale=1,e.m_imgIndex=-1,e}i(e,t);var a=e.prototype;return a.Init=function(t){this.m_imgs=t,this.m_viewWidth=this.node.getComponent(p).contentSize.width;var e=this.node.children[0];e||((e=new h).addComponent(p),this.node.addChild(e)),e.getComponent(p).setAnchorPoint(u(0,.5)),this.m_scale=e.scale.x,this.m_stringSprite=e.getComponent(c),this.m_stringSprite||(this.m_stringSprite=e.addComponent(c)),this.m_stringSprite.type=c.Type.SIMPLE,this.m_stringSprite.sizeMode=c.SizeMode.TRIMMED},a.ShowOnce=function(){var t=s(o().mark((function t(e){var i,n,r,s,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!this.m_isStart){t.next=3;break}return t.abrupt("return");case 3:if(this.m_isStart=!0,e?(this.m_imgIndex++,this.m_imgIndex>=this.m_imgs.length&&(this.m_imgIndex=0),i=this.m_imgs[this.m_imgIndex]):i=this.m_imgs[Math.floor(Math.random()*this.m_imgs.length)],this.m_stringSprite.spriteFrame=i,n=g.times(this.m_stringSprite.spriteFrame.rect.width+this.m_tailLeftSpace,this.m_scale),this.m_stringSprite.node.active=!0,!(n>this.m_viewWidth)){t.next=19;break}return this.m_stringSprite.node.position=_(0,0),t.next=12,f.Wait(this,this.m_moveDelayTime);case 12:return r=n+this.m_viewWidth,s=g.divide(r,this.m_moveSpeed),d(this.m_stringSprite.node).to(s,{position:_(-n,0)}).start(),t.next=17,f.Wait(this,s);case 17:t.next=23;break;case 19:return a=g.minus(this.m_viewWidth,n),this.m_stringSprite.node.position=_(g.divide(a,2),0),t.next=23,f.Wait(this,this.m_waitTime);case 23:this.m_stringSprite.node.active=!1,this.m_isStart=!1;case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.ShowForever=function(){var t=s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1);case 1:if(this.m_isStop){t.next=9;break}return t.next=4,this.ShowOnce(e);case 4:if(!(this.m_delayTime&&this.m_delayTime>0)){t.next=7;break}return t.next=7,f.Wait(this,this.m_delayTime);case 7:t.next=1;break;case 9:this.m_isStop=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.Stop=function(){this.m_isStop=!0},a.ChangeTimeSetting=function(t,e,i,n,r){this.m_moveSpeed=t,this.m_delayTime=e,this.m_waitTime=i,this.m_moveDelayTime=n,this.m_tailLeftSpace=r},e}(l)).prototype,"m_moveSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(x.prototype,"m_delayTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=e(x.prototype,"m_waitTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(x.prototype,"m_moveDelayTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=e(x.prototype,"m_tailLeftSpace",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=x))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/MayLike.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./LifeSocket.ts","./ViewTemplate.ts","./IconTemplate.ts","./BottombarManager.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,c,m,l,u,h,_,f,p,g,d,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Sprite,c=t.Node,m=t.Label,l=t.Button,u=t.Prefab,h=t.instantiate},function(t){_=t.default},function(t){f=t.default},function(t){p=t.default},function(t){g=t.default},function(t){d=t.default},function(t){T=t.BigFavorUser}],execute:function(){var b,v,N,y,C,S,I,B,L,E,G,A,F,k;a._RF.push({},"fecc9YHNjxChJ0WwNxAJeWh","MayLike",void 0);var M=s.ccclass,O=s.property;t("default",(b=O({type:r,tooltip:"標題圖"}),v=O({type:c,tooltip:"放icon的位置"}),N=O({type:m,tooltip:"提示文字"}),y=O({type:l,tooltip:"關閉按鈕"}),C=O({type:l,tooltip:"關閉按鈕bg"}),S=O({type:u,tooltip:"icon樣版"}),M((L=e((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_titleSprite",L,o(e)),i(e,"m_iconViewNode",E,o(e)),i(e,"m_hintLabel",G,o(e)),i(e,"m_closeBtn",A,o(e)),i(e,"m_bgCloseBtn",F,o(e)),i(e,"m_iconPrefab",k,o(e)),e.m_bottomBar=null,e.m_discount=null,e.m_isClose=!1,e.m_info=null,e.m_iconNodes=new Array,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.m_closeBtn.node.on(c.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName&&t.m_closeBtn.interactable||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)})),this.m_closeBtn.node.on(c.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_closeBtn.node.on(c.EventType.TOUCH_END,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_closeBtn.interactable&&t.m_discount&&t.Hide())})),this.m_bgCloseBtn.node.on(c.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName&&t.m_bgCloseBtn.interactable||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)})),this.m_bgCloseBtn.node.on(c.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_bgCloseBtn.node.on(c.EventType.TOUCH_END,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_bgCloseBtn.interactable&&t.m_discount&&t.Hide())}))},a.Init=function(t,e){var n=this;this.m_bottomBar=t,this.m_discount=e,p.GetInstance().MayLikeCb=function(t){n.OnRecvInfo(t)},this.ReqInfo()},a.SetTxt=function(){if(this.m_hintLabel&&(this.m_hintLabel.string=_.GetInstance().GetString(f.StringKey.RECOMMEND_HINT),this.m_hintLabel.font||(this.m_hintLabel.font=f.DefaultFont)),this.m_titleSprite){var t=_.GetInstance().GetCommonAtlas(),e=_.CurrLang;this.m_titleSprite.spriteFrame=t.getSpriteFrame("suggestions_"+e)}},a.ReqInfo=function(){p.GetInstance().ReqMayLike()},a.Show=function(){this.m_isClose||(this.node.active=!0,this.m_bottomBar.SetFavorBtnVisible(!1,T.MayLike))},a.Hide=function(){this.m_isClose=!0,this.node.active=!1,this.m_bottomBar.SetFavorBtnVisible(!1,T.MayLike)},a.OnRecvInfo=function(t){var e=this;if(t.Enabled&&!this.m_isClose){this.m_info=t;for(var n=this.m_discount.Icons,i=(this.m_discount.Tags,!1),o=this.m_info.Games.length>3?3:this.m_info.Games.length,a=0;a<o;a++){var s=t.Games[a];n[s]||(i=!0,this.m_discount.LoadIcon(s,(function(){e.CheckIconsAndTags()})))}for(var r=1;r<Object.keys(f.TagType).length;r++)if(this.m_discount.Tags[r]!==f.TagType.None&&!this.m_discount.Tags[r]){var c=f.TagName[r];this.m_discount.LoadTag(c,r,(function(){e.CheckIconsAndTags()}))}i||this.SetIconsAndTags()}else this.Hide()},a.CheckIconsAndTags=function(){if(this.m_info){for(var t=!1,e=this.m_discount.Icons,n=this.m_info.Games.length>3?3:this.m_info.Games.length,i=0;i<n;i++){if(!e[this.m_info.Games[i]]){t=!0;break}}for(var o=1;o<Object.keys(f.TagType).length;o++)if(!this.m_discount.Tags[o]){t=!0;break}t||this.SetIconsAndTags()}},a.SetIconsAndTags=function(){var t=this,e=this.m_discount.Icons,n=this.m_discount.Tags;if(this.m_iconNodes.length>this.m_info.Games.length)for(var i=0;i<this.m_iconNodes.length;i++)i<this.m_info.Games.length?this.m_iconNodes[i].active=!0:this.m_iconNodes[i].active=!1;else if(this.m_iconNodes.length<this.m_info.Games.length)for(var o=this.m_info.Games.length-this.m_iconNodes.length,a=0;a<o;a++){var s=h(this.m_iconPrefab);this.m_iconViewNode.addChild(s),this.m_iconNodes.push(s)}for(var r=0;r<this.m_iconNodes.length;r++){var c=this.m_iconNodes[r].getComponent(d),m=this.m_info.Labels[r];if(c.Init(this,this.m_discount.GameId),c.SetIsFavor(!1,!1),c.SetCb(f.BTN_CLICK_EVENT.LIKE_CHANGE_GAME,(function(e){t.m_discount.AddFavor(e,f.BTN_CLICK_EVENT.RECOM_FAVOR_ADD)}),(function(e){t.m_discount.RemoveFavor(e,f.BTN_CLICK_EVENT.RECOM_FAVOR_REMOVE)})),c.SetIconSpriteFrame(e[this.m_info.Games[r]],this.m_info.Games[r]),m===f.TagType.None)c.SetTagSpriteFrame(null);else{var l=[];l.push(n[m]),c.SetTagSpriteFrame(l)}0===r&&c.ShowIconHint()}this.m_bottomBar.SetFavorBtnVisible(!0,T.MayLike)},e}(g)).prototype,"m_titleSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(B.prototype,"m_iconViewNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(B.prototype,"m_hintLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(B.prototype,"m_closeBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"m_bgCloseBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(B.prototype,"m_iconPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=B))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Mechanism.ts",["cc","./Tools.ts"],(function(t){"use strict";var e,a,n;return{setters:[function(t){e=t.cclegacy,a=t.error},function(t){n=t.default}],execute:function(){e._RF.push({},"76a07KBTgtNwbGJSPP+M8YW","Mechanism",void 0),t("default",function(){function t(t){this.m_gameName=void 0,this.m_gameName=t}var e=t.prototype;return e.SaveAutoplayData=function(){},e.GetAutoplayData=function(){},e.SaveBetData=function(e){n.SetCookie(this.m_gameName+t.SAVE_KEY.BET,e.toString()),a("SAVE OK",e.toString())},e.GetBetData=function(e){var o=0,i=Number(n.GetCookie(this.m_gameName+t.SAVE_KEY.BET));(null==i||null==i||NaN==i||i<0)&&(i=0),a(i);for(var u=e.length,r=0;r<u;r++)e[r]<=i&&(o=r);return o},t}()).SAVE_KEY={AUTOPLAY_A:"_AUTOPLAY_A",BET:"_BET"},e._RF.pop()}}}));

System.register("chunks:///_virtual/MHBBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./MHBManager.ts","./MHBMarquee.ts","./MHBRollingValue.ts","./Tools.ts","./LifeSocket.ts","./IconBox.ts","./LocaleStringManager.ts"],(function(t){"use strict";var e,i,n,o,r,m,s,a,u,l,c,_,h,f,p,B,b,d,S,H,g,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){m=t.cclegacy,s=t._decorator,a=t.Sprite,u=t.Node,l=t.RichText,c=t.tween,_=t.js,h=t.Component},function(t){f=t.default},function(t){p=t.default},function(t){B=t.default},function(t){b=t.default},function(t){d=t.default},function(t){S=t.default},function(t){H=t.default},function(t){g=t.IconUpdates},function(t){M=t.default}],execute:function(){var y,I,v,w,x,T,C,q,k,V,D,G,A,z,F,L;m._RF.push({},"5cd08Th/RNFY7qLhlTH7awt","MHBBtn",void 0);var P,R=s.ccclass,U=s.property;!function(t){t.MHB="Txt_MusthitbyBtn"}(P||(P={}));t("default",(y=U({type:a,tooltip:"按鈕滿額必開圖字"}),I=U({type:d,tooltip:"按鈕現在累計獎金"}),v=U({type:b,tooltip:"跑馬燈"}),w=U({type:u,tooltip:"押注提示"}),x=U({type:l,tooltip:"押注提示文字"}),T=U({type:u,tooltip:"解鎖提示"}),C=U({type:l,tooltip:"解鎖提示文字"}),R((V=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),m=0;m<i;m++)r[m]=arguments[m];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_MHBTxt",V,o(e)),n(e,"m_currentValue",D,o(e)),n(e,"m_marquee",G,o(e)),n(e,"m_betHint",A,o(e)),n(e,"m_betHintTxt",z,o(e)),n(e,"m_unlockHint",F,o(e)),n(e,"m_unlockHintTxt",L,o(e)),e.m_bottomBar=null,e.m_iconBox=null,e.m_prizeValue=0,e.m_isInit=!1,e.m_mhbDesc=null,e.m_isFirst=!0,e.m_infoCB=void 0,e.m_infoAllCB=void 0,e.m_list=null,e.m_minVip=0,e.m_minBet=0,e.m_descTxtSet=!1,e.m_nowBet=0,e.m_showingHint=!1,e.m_hintPerformance=null,e}i(e,t);var m=e.prototype;return m.update=function(t){S.IsTadaCasino||this.UpdateSelf()},m.UpdateSelf=function(){this.AddMarquee(),this.m_mhbDesc&&this.m_mhbDesc.SetCoin(this.m_currentValue.NowValue,this.m_prizeValue);var t=this.m_bottomBar?this.m_bottomBar.GetNowBetValue():0,e=this.CheckShowHint(t);this.m_betHint&&e>=0&&this.ShowHint(e),this.m_nowBet=t},m.Init=function(t,e,i,n){this.m_isInit||(this.m_isInit=!0,this.m_bottomBar=e,this.m_mhbDesc=t,this.m_infoCB=i,this.m_infoAllCB=n,this.SetInfo(),this.m_marquee&&(this.m_marquee.node.active=!1),this.SetInfoSchedule())},m.CheckShowHint=function(t){return t<this.m_minBet&&this.m_nowBet>=this.m_minBet?1:t>=this.m_minBet&&this.m_nowBet<this.m_minBet?0:-1},m.ShowHint=function(t){var e=this;if(S.IsTadaCasino&&this.m_iconBox){var i;switch(this.m_hintPerformance&&(this.m_hintPerformance.stop(),this.m_hintPerformance=null),this.m_betHint.active=!1,this.m_unlockHint.active=!1,t){case 0:i=this.m_unlockHint;break;case 1:i=this.m_betHint}this.m_hintPerformance=c(this.m_iconBox.node).call((function(){e.m_showingHint=!0,e.m_iconBox.OpenMenu()})).delay(.2).call((function(){i.active=!0})).delay(2).call((function(){i.active=!1,e.m_showingHint=!1,e.m_hintPerformance=null})).start()}},m.SetIconBoxUpdate=function(t){var e=this;this.m_iconBox=t;this.m_iconBox.SetUpdateFuns(g.MHBBtn,(function(t){e.UpdateSelf()}))},m.SetInfoSchedule=function(t){var e=this;void 0===t&&(t=!0);var i=function(){e.SetInfo()};t?this.schedule(i,30):this.unschedule(i)},m.SetInfo=function(){var t=this;H.GetInstance().IsClose?this.SetInfoSchedule(!1):(this.m_infoCB&&this.m_infoCB((function(e){if(B.GetInstance().MustHitByInfo=e,e.value>=0&&e.full>0){if(B.GetInstance().MustHitByShow(),e){if(t.m_currentValue.FinalValue=e.value,t.m_prizeValue=e.full,t.m_minVip=e.minvip,t.m_minBet=e.minbet,t.m_minBet=S.strip(S.times(t.m_minBet,B.GetInstance().GetRatio())),t.m_betHintTxt){var i="<color=#b73538>"+t.m_minBet.toString()+"</c>",n=_.formatStr("<color=#ff7b00>BET %s\nto unlock</c>",i);t.m_betHintTxt.string=n}t.m_mhbDesc&&!t.m_descTxtSet&&(t.m_mhbDesc.SetTxt(t.m_minVip.toString(),t.m_minBet.toString()),t.m_descTxtSet=!0)}}else B.GetInstance().MustHitByShow(!0)})),this.m_infoAllCB&&this.m_infoAllCB((function(e){e&&t.m_mhbDesc&&(t.m_list=e,t.m_list&&(t.m_mhbDesc.ActiveMHB(t.m_list.length>0),t.m_isFirst?(t.m_mhbDesc.SetOtherGameView(e),t.m_isFirst=!1):t.m_mhbDesc.SetOtherGameFinalValue(e)))})))},m.ShowMHBAward=function(t){t&&t()},m.SetTxt=function(){if(B.GetInstance().MHBAtlas){var t=B.GetInstance().MHBAtlas;this.m_MHBTxt.spriteFrame=t.getSpriteFrame(P.MHB)}if(this.m_marquee&&this.m_marquee.SetTxt(),this.m_unlockHintTxt){var e="<color=#ff7b00>"+M.GetInstance().GetString(f.StringKey.UNLOCK)+"</c>";this.m_unlockHintTxt.string=e}},m.TouchEnd=function(){p.getInstance().Play(f.AudioClips.COMMON_BTN)},m.SetMarqueeInfo=function(t){t&&this.m_marquee&&this.m_marquee.SetInfo(t)},m.ResumeRolling=function(){this.m_currentValue.IsRolling=!0},m.SetMarqueeUnLock=function(){this.m_marquee.UnLock=!0},m.AddMarquee=function(){this.m_marquee&&this.m_marquee.AddMarquee()},r(e,[{key:"GameList",get:function(){return this.m_list}}]),e}(h)).prototype,"m_MHBTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(k.prototype,"m_currentValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(k.prototype,"m_marquee",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"m_betHint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"m_betHintTxt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(k.prototype,"m_unlockHint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"m_unlockHintTxt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=k))||q));m._RF.pop()}}}));

System.register("chunks:///_virtual/MHBDataStructure.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var n;t("MHBDataStructure",void 0),i._RF.push({},"56c53rbJp5CLK+mKmBJlGku","MHBDataStructure",void 0),function(t){t.MHBInfo=function(){this.value=0,this.full=0,this.minvip=0,this.minbet=0};t.MHBInfoAll=function(){this.gameid=0,this.value=0,this.full=0};t.MHBHistoryInfo=function(){this.winner="",this.nickname="",this.win=0,this.time=0}}(n||(n=t("MHBDataStructure",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/MHBDesc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./MHBItem.ts","./MHBManager.ts","./MHBRollingValue.ts","./MHBOtherGameView.ts","./MHBInfo.ts","./ExtraManager.ts","./Discount.ts"],(function(t){"use strict";var e,i,n,o,r,a,m,l,u,s,_,h,c,p,f,b,g,d,y,T,S,L,G,B,v,w,C,N,I,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,m=t._decorator,l=t.Node,u=t.Animation,s=t.Prefab,_=t.Label,h=t.Sprite,c=t.RichText,p=t.SpriteFrame,f=t.Button,b=t.js,g=t.instantiate,d=t.error,y=t.Component},function(t){T=t.default},function(t){S=t.default},function(t){L=t.default},function(t){G=t.default},function(t){B=t.default},function(t){v=t.default},function(t){w=t.default},function(t){C=t.default},function(t){N=t.default},function(t){I=t.default},function(t){O=t.PageName}],execute:function(){var x,M,V,H,F,z,A,P,D,k,E,R,U,K,J,X,j,Y,q,W,Q,Z,$,tt,et,it,nt,ot,rt,at,mt,lt,ut,st,_t,ht,ct,pt,ft,bt,gt,dt,yt,Tt,St,Lt,Gt,Bt,vt,wt,Ct,Nt,It,Ot,xt,Mt,Vt,Ht,Ft,zt,At,Pt,Dt,kt,Et,Rt,Ut,Kt,Jt,Xt,jt,Yt,qt,Wt,Qt,Zt;a._RF.push({},"13941Pl1JRHgYSI0AMoqY04","MHBDesc",void 0);var $t,te=m.ccclass,ee=m.property;!function(t){t.full="Txt_Musthitby",t.current="Txt_CurrentJP"}($t||($t={}));var ie=["MustHitBy_MHB","MustHitBy_Popular"];t("MhbHistoryInfo",(function(){this.winner="",this.win=0,this.date=0})),t("default",(x=ee({type:l,tooltip:"Logo"}),M=ee({type:l,tooltip:"Other Logo"}),V=ee({type:l,tooltip:"TaDa Casino"}),H=ee({type:l,tooltip:"中獎表單item的layout"}),F=ee({type:l,tooltip:"中獎表單mask"}),z=ee({type:u,tooltip:"中獎頁面"}),A=ee({type:s,tooltip:"中獎表單item的prefab"}),P=ee({type:_,tooltip:"中獎表單說明敘述"}),D=ee({type:_,tooltip:"中獎表單說明敘述"}),k=ee({type:_,tooltip:"中獎標題"}),E=ee({type:h,tooltip:"中獎標題"}),R=ee({type:_,tooltip:"中獎表單得獎名單標題"}),U=ee({type:h,tooltip:"中獎表單得獎名單標題"}),K=ee({type:_,tooltip:"中獎表單中獎類型標題"}),J=ee({type:_,tooltip:"中獎表單中獎得主標題"}),X=ee({type:_,tooltip:"中獎表單中獎金額標題"}),j=ee({type:l,tooltip:"中獎表單關閉按鈕"}),Y=ee({type:h,tooltip:"中獎表單金額標題"}),q=ee({type:h,tooltip:"中獎表單目前累計金額標題"}),W=ee({type:w,tooltip:"中獎表單滿額金額"}),Q=ee({type:w,tooltip:"中獎表單目前累計金額"}),Z=ee({type:l,tooltip:"中獎表單滿額金額鎖"}),$=ee({type:c,tooltip:"中獎表單滿額金額鎖文字"}),tt=ee({type:l,tooltip:"中獎表單loading"}),et=ee({type:p,tooltip:"中獎表單金額標題字樣"}),it=ee({type:p,tooltip:"中獎表單金額標題字樣"}),nt=ee({type:f,tooltip:"中獎本遊戲頁籤鈕"}),ot=ee({type:l,tooltip:"中獎本遊戲頁籤鈕-亮"}),rt=ee({type:f,tooltip:"中獎其他遊戲頁籤鈕"}),at=ee({type:l,tooltip:"中獎其他遊戲頁籤鈕-亮"}),mt=ee({type:C,tooltip:"中獎其他遊戲頁面"}),lt=ee({type:s,tooltip:"贏更多的其他遊戲"}),ut=ee({type:l,tooltip:"說明按鈕"}),st=ee({type:N,tooltip:"說明"}),_t=ee({type:h,tooltip:"中獎logo"}),ht=ee({type:h,tooltip:"頁簽標題-暗"}),ct=ee({type:h,tooltip:"頁簽標題-亮"}),te((bt=e((ft=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_logoNode",bt,o(e)),n(e,"m_otherLogoNode",gt,o(e)),n(e,"m_tadaCasinoLogoNode",dt,o(e)),n(e,"m_mhbItemContainer",yt,o(e)),n(e,"m_mask",Tt,o(e)),n(e,"m_thisGameAnim",St,o(e)),n(e,"m_mhbItemPrefab",Lt,o(e)),n(e,"m_mhbDescL",Gt,o(e)),n(e,"m_mhbDescS",Bt,o(e)),n(e,"m_title",vt,o(e)),n(e,"m_titleSprite",wt,o(e)),n(e,"m_titleForList",Ct,o(e)),n(e,"m_titleForListSprite",Nt,o(e)),n(e,"m_winnerTitleLabel",It,o(e)),n(e,"m_amountTitleLabel",Ot,o(e)),n(e,"m_dateTitleLabel",xt,o(e)),n(e,"m_close",Mt,o(e)),n(e,"m_needTxt",Vt,o(e)),n(e,"m_currentTxt",Ht,o(e)),n(e,"m_fullValue",Ft,o(e)),n(e,"m_currentValue",zt,o(e)),n(e,"m_valueLocks",At,o(e)),n(e,"m_valueLockTxts",Pt,o(e)),n(e,"m_loading",Dt,o(e)),n(e,"m_fullSprite",kt,o(e)),n(e,"m_currentSprite",Et,o(e)),n(e,"m_thisGameBtn",Rt,o(e)),n(e,"m_thisGameLightNode",Ut,o(e)),n(e,"m_otherGameBtn",Kt,o(e)),n(e,"m_otherGameLightNode",Jt,o(e)),n(e,"m_otherGameView",Xt,o(e)),n(e,"m_extraOtherGamePrefab",jt,o(e)),n(e,"m_infoBtn",Yt,o(e)),n(e,"m_infoPage",qt,o(e)),n(e,"m_logo",Wt,o(e)),n(e,"m_darkTabTitleSprites",Qt,o(e)),n(e,"m_lightTabTitleSprites",Zt,o(e)),e.m_bottomBar=null,e.m_mhbItemList=[],e.m_isLandscape=!1,e.m_loadFinish=!0,e.m_currentTouchName=null,e.m_minVip="0",e.m_minBet="0",e.m_isAddToDiscount=!1,e.m_extraOtherGameView=null,e.m_historyCB=void 0,e}i(e,t);var a=e.prototype;return a.Init=function(t,e){var i=this;if(this.m_bottomBar=t,this.m_historyCB=e,S.GetInstance().IsGameStringLoaded()&&this.m_loadFinish&&(this.m_loadFinish=!1,this.SetTxt()),this.m_infoPage&&this.m_infoPage.Init(),this.m_thisGameBtn.interactable=!1,this.m_thisGameLightNode.active=!0,this.m_valueLocks[0]&&(this.m_valueLocks[0].active=!1,this.m_valueLocks[1].active=!1),this.m_thisGameBtn.node.on(l.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),this.m_thisGameBtn.node.on(l.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_thisGameBtn.node.on(l.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,i.m_thisGameAnim&&(i.m_thisGameAnim.node.active=!0),i.m_otherGameView.node.active=!1,i.m_thisGameBtn.interactable=!1,i.m_otherGameBtn.interactable=!0,i.m_thisGameLightNode.active=!0,i.m_otherGameLightNode.active=!1,i.m_infoPage&&(i.m_infoPage.node.active=!1),i.m_bottomBar.CloseCommonText())})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_otherGameBtn.node.on(l.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,i.m_thisGameAnim&&(i.m_thisGameAnim.node.active=!1),i.m_otherGameView.node.active=!0,i.m_thisGameBtn.interactable=!0,i.m_otherGameBtn.interactable=!1,i.m_thisGameLightNode.active=!1,i.m_otherGameLightNode.active=!0,i.m_infoPage&&(i.m_infoPage.node.active=!1),i.m_bottomBar.CloseCommonText(),i.Rotation(i.m_isLandscape))})),this.m_infoBtn.on(l.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==i.m_currentTouchName||t.target&&0==t.target.active)&&(i.m_currentTouchName=t.target.name)})),this.m_infoBtn.on(l.EventType.TOUCH_CANCEL,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null)})),this.m_infoBtn.on(l.EventType.TOUCH_END,(function(t){i.m_currentTouchName==t.target.name&&(i.m_currentTouchName=null,i.m_infoPage&&(i.m_infoPage.node.active=!0),i.m_bottomBar.OpenCommonText(S.GetInstance().GetString(T.StringKey.MHB_INFO_TITLE),b.formatStr(S.GetInstance().GetString(T.StringKey.MHB_DESC_TEXT_1),i.m_minVip,i.m_minBet)))})),this.m_logoNode)if(G.Line!=T.LineSetting.americas&&G.Line!=T.LineSetting.americas_str){var n=G.UsingLogoSpriteFrame();n?G.OtherLogo&&this.m_otherLogoNode?(this.m_otherLogoNode.active=!0,this.m_logoNode.active=!1,this.m_otherLogoNode.getComponent(h).spriteFrame=n):this.m_logoNode.active=!0:this.m_logoNode.active=!1}else G.IsTadaCasino&&this.m_tadaCasinoLogoNode&&(this.m_logoNode.active=!1,this.m_tadaCasinoLogoNode.active=!0)},a.ActiveMHB=function(t){var e=this;if(t){if(!this.m_isAddToDiscount){if(this.m_isAddToDiscount=!0,!this.m_extraOtherGameView){var i=this.m_extraOtherGamePrefab?this.m_extraOtherGamePrefab:this.m_otherGameView.node,n=g(i);this.m_extraOtherGameView=n.getComponent(C)}this.m_extraOtherGameView.node.parent&&this.m_extraOtherGameView.node.removeFromParent(),this.m_extraOtherGameView.SetTxt(),this.m_bottomBar.getComponent(I).AddDiscountPage(this.m_extraOtherGameView.node,O.mhb,T.StringKey.MHB_DESC_BTN_THIS,(function(t){e.m_extraOtherGameView.OnRotation(t)}))}}else this.m_isAddToDiscount&&(this.m_isAddToDiscount=!1,this.m_bottomBar.getComponent(I).RemoveDiscountPage(O.mhb))},a.OpenDesc=function(){var t=this;this.node.active=!0,L.getInstance().Play(T.AudioClips.COMMON_BTN),this.Rotation(this.m_isLandscape),this.m_historyCB&&this.m_historyCB((function(e){e&&e.length>0&&t.SetInfo(e)}));var e=this.m_bottomBar?this.m_bottomBar.GetNowBetValue():Number(this.m_minBet);this.m_valueLocks[0]&&(this.m_valueLocks[0].active=e<Number(this.m_minBet),this.m_valueLocks[1].active=e<Number(this.m_minBet),this.m_fullValue.node.active=!(e<Number(this.m_minBet)),this.m_currentValue.node.active=!(e<Number(this.m_minBet)))},a.CloseDesc=function(){L.getInstance().Play(T.AudioClips.COMMON_CANCEL_BTN),this.node.active=!1,this.m_infoPage&&(this.m_infoPage.node.active=!1),this.m_bottomBar.CloseCommonText()},a.SetTxt=function(t,e){void 0===t&&(t="0"),void 0===e&&(e="0");S.GetInstance().GetString(T.StringKey.BRAND_JILI);if(G.Line!==T.LineSetting.americas&&G.Line!==T.LineSetting.americas_str||S.GetInstance().GetString(T.StringKey.BRAND_TADA),this.m_minVip=t,this.m_minBet=e,G.SetFont(this.m_mhbDescL),G.SetFont(this.m_mhbDescS),this.m_valueLockTxts[0]&&(this.m_valueLockTxts[0].string=b.formatStr("Bet %s to unlock",this.m_minBet),this.m_valueLockTxts[1].string=b.formatStr("Bet %s to unlock",this.m_minBet)),G.SetFont(this.m_winnerTitleLabel),G.SetFont(this.m_amountTitleLabel),G.SetFont(this.m_dateTitleLabel),this.m_mhbDescL.string=S.GetInstance().GetString(T.StringKey.MHB_INFO),this.m_mhbDescS.string=S.GetInstance().GetString(T.StringKey.MHB_INFO),this.m_winnerTitleLabel.string=S.GetInstance().GetString(T.StringKey.MHB_WINNER_TEXT),this.m_amountTitleLabel.string=S.GetInstance().GetString(T.StringKey.MHB_AMOUNT_TEXT),this.m_dateTitleLabel.string=S.GetInstance().GetString(T.StringKey.MHB_DATE_TEXT),this.m_needTxt.spriteFrame=this.m_fullSprite,this.m_currentTxt.spriteFrame=this.m_currentSprite,v.GetInstance().MHBAtlas){var i=v.GetInstance().MHBAtlas;this.m_needTxt.spriteFrame=i.getSpriteFrame($t.full),this.m_currentTxt.spriteFrame=i.getSpriteFrame($t.current),this.m_titleSprite&&(this.m_titleSprite.spriteFrame=i.getSpriteFrame("MustHitBy_Title")),this.m_titleForListSprite&&(this.m_titleForListSprite.spriteFrame=i.getSpriteFrame("Jackpot_ListTitle"));for(var n=0;n<this.m_darkTabTitleSprites.length;n++)this.m_darkTabTitleSprites[n].spriteFrame=i.getSpriteFrame(ie[n]),this.m_lightTabTitleSprites[n].spriteFrame=i.getSpriteFrame(ie[n]+"_On")}this.m_otherGameView.SetTxt(),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetTxt()},a.SetCoin=function(t,e){this.m_currentValue.SetCoin(t),this.m_fullValue.SetCoin(e,!0)},a.SetInfo=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(this.m_mhbItemList.length>e&&i.win>0){var n=this.m_mhbItemList[e];n.Reset(),n.SetInfo(0,i.winner,i.nickname,i.win,i.time)}else if(i.win>0){var o=g(this.m_mhbItemPrefab).getComponent(B);this.m_mhbItemContainer.addChild(o.node),this.m_mhbItemList.push(o),o.SetInfo(0,i.winner,i.nickname,i.win,i.time)}else d("MHB Item No."+e+" value error "+i.win)}this.Rotation(this.m_isLandscape)},a.Rotation=function(t){if(this.m_isLandscape=t,t){if(this.node.getComponent(u).play("Clip_Common_TagFrame_Landscape"),this.m_thisGameAnim&&this.m_thisGameAnim.play("Clip_MustHitBy_MHB_Page_Landscape"),this.m_mhbItemList.length>0)for(var e=0;e<this.m_mhbItemList.length;e++){this.m_mhbItemList[e].getComponent(B).node.getComponent(u).play("Clip_MustHitBy_MHB_Cell_Landscape")}}else if(this.node.getComponent(u).play("Clip_Common_TagFrame_Portrait"),this.m_thisGameAnim&&this.m_thisGameAnim.play("Clip_MustHitBy_MHB_Page_Portrait"),this.m_mhbItemList.length>0)for(var i=0;i<this.m_mhbItemList.length;i++){this.m_mhbItemList[i].getComponent(B).node.getComponent(u).play("Clip_MustHitBy_MHB_Cell_Portrait")}this.m_otherGameView.OnRotation(t),this.m_extraOtherGameView&&this.m_extraOtherGameView.OnRotation(t)},a.SetOtherGameView=function(t){this.m_otherGameView.SetIcons(t,this.m_isLandscape),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetIcons(t,this.m_isLandscape)},a.SetOtherGameFinalValue=function(t){this.m_otherGameView.SetFinalValue(t),this.m_extraOtherGameView&&this.m_extraOtherGameView.SetFinalValue(t)},r(e,[{key:"Mask",get:function(){return this.m_mask}},{key:"Close",get:function(){return this.m_close}},{key:"CurrentValue",get:function(){return this.m_currentValue}}]),e}(y)).prototype,"m_logoNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(ft.prototype,"m_otherLogoNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(ft.prototype,"m_tadaCasinoLogoNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(ft.prototype,"m_mhbItemContainer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(ft.prototype,"m_mask",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ft.prototype,"m_thisGameAnim",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(ft.prototype,"m_mhbItemPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(ft.prototype,"m_mhbDescL",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(ft.prototype,"m_mhbDescS",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(ft.prototype,"m_title",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(ft.prototype,"m_titleSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(ft.prototype,"m_titleForList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(ft.prototype,"m_titleForListSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(ft.prototype,"m_winnerTitleLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(ft.prototype,"m_amountTitleLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(ft.prototype,"m_dateTitleLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(ft.prototype,"m_close",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(ft.prototype,"m_needTxt",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(ft.prototype,"m_currentTxt",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(ft.prototype,"m_fullValue",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(ft.prototype,"m_currentValue",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(ft.prototype,"m_valueLocks",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=e(ft.prototype,"m_valueLockTxts",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(ft.prototype,"m_loading",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(ft.prototype,"m_fullSprite",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(ft.prototype,"m_currentSprite",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(ft.prototype,"m_thisGameBtn",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(ft.prototype,"m_thisGameLightNode",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(ft.prototype,"m_otherGameBtn",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(ft.prototype,"m_otherGameLightNode",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(ft.prototype,"m_otherGameView",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(ft.prototype,"m_extraOtherGamePrefab",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(ft.prototype,"m_infoBtn",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(ft.prototype,"m_infoPage",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(ft.prototype,"m_logo",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(ft.prototype,"m_darkTabTitleSprites",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=e(ft.prototype,"m_lightTabTitleSprites",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=ft))||pt));a._RF.pop()}}}));

System.register("chunks:///_virtual/MHBIconTemplate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./MsgBox.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./MHBRollingValue.ts","./MHBManager.ts","./GameIconComponent.ts"],(function(e){"use strict";var t,n,i,r,l,o,u,a,c,m,f,s,_,p,g,I,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,u=e._decorator,a=e.Sprite,c=e.Component},function(e){m=e.default},function(e){f=e.default},function(e){s=e.default},function(e){_=e.default},function(e){p=e.default},function(e){g=e.default},function(e){I=e.default},function(e){h=e.default}],execute:function(){var S,y,d,T,b,G,M,V,C,x,B,w,F,H;o._RF.push({},"0ecd10St9ZE2JOxqgYLRb7K","MHBIconTemplate",void 0);var N,v=u.ccclass,A=u.property;!function(e){e.full="Txt_Musthitby3",e.current="Txt_CurrentJP2"}(N||(N={}));e("default",(S=A({type:Boolean,tooltip:"Icon是否可以點擊"}),y=A({type:h,tooltip:"遊戲icon"}),d=A({type:g,tooltip:"說明頁表單滿額金額"}),T=A({type:g,tooltip:"說明頁表單目前累計金額"}),b=A({type:a,tooltip:"說明頁表單滿額金額"}),G=A({type:a,tooltip:"說明頁表單目前累計金額"}),v((C=t((V=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"m_iconTouchDisable",C,r(t)),i(t,"m_gameIcon",x,r(t)),i(t,"m_fullValue",B,r(t)),i(t,"m_currentValue",w,r(t)),i(t,"m_fullTxt",F,r(t)),i(t,"m_currentTxt",H,r(t)),t.m_gameId=null,t.m_controller=null,t.m_currentTouchName=null,t.m_inGameId=0,t.m_iconEventNo=0,t}n(t,e);var o=t.prototype;return o.Init=function(e,t){this.m_controller=e,this.m_inGameId=t,this.m_currentValue.SetCoin(0),this.m_fullValue.SetCoin(0)},o.SetIconSpriteFrame=function(e,t){var n=this;this.m_gameIcon.SetGameIcon(e,(function(){if(!p.CheckSwitchOff(s.SwitchOffKeyDefine.AllChangeGameImport))if(n.m_gameId===n.m_inGameId)f.getInstance().ShowMessageBox(s.StringKey.FAVOR_INVALID_HINT);else{var e=_.GetInstance().GetGameName(n.m_gameId);f.getInstance().ShowFullMessageBox(s.StringKey.CHANGE_GAME_HINT,s.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[e],(function(){m.GetInstance().ReqUrl(n.m_gameId,s.BTN_CLICK_EVENT.MHB_CHANGE_GAME)}),(function(){}),(function(){}))}})),this.m_gameId=t,this.SetTxt()},o.SetTxt=function(){if(I.GetInstance().MHBAtlas){var e=I.GetInstance().MHBAtlas;this.m_fullTxt.spriteFrame=e.getSpriteFrame(N.full),this.m_currentTxt.spriteFrame=e.getSpriteFrame(N.current)}},o.SetFinalValue=function(e,t){this.m_currentValue.FinalValue=e,this.m_fullValue.SetCoin(t,!0)},o.SetCoin=function(e){this.m_currentValue.SetCoin(this.m_currentValue.NowValue),this.m_fullValue.SetCoin(e,!0)},l(t,[{key:"GameId",get:function(){return this.m_gameId}}]),t}(c)).prototype,"m_iconTouchDisable",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(V.prototype,"m_gameIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(V.prototype,"m_fullValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(V.prototype,"m_currentValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(V.prototype,"m_fullTxt",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(V.prototype,"m_currentTxt",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=V))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/MHBInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,i,o,r,a,c,u,l,s,f,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,u=t.Node,l=t.js,s=t.Component},function(t){f=t.default},function(t){p=t.default},function(t){m=t.default}],execute:function(){var h,_,g,T,d,y,v,b;t("ItemInfoType",void 0),r._RF.push({},"735c5k7ArtMY4LPcjtK27Hw","MHBInfo",void 0);var I,N=a.ccclass,S=a.property;!function(t){t[t.Item=0]="Item",t[t.Desc=1]="Desc"}(I||(I=t("ItemInfoType",{})));t("default",(h=S([c]),_=S([c]),g=S([u]),N((y=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"title",y,o(e)),i(e,"texts",v,o(e)),i(e,"close_btn",b,o(e)),e.m_controller=void 0,e.m_currentTouchName=null,e}n(e,t);var r=e.prototype;return r.Init=function(){var t=this;this.close_btn.on(u.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_currentTouchName||e.target&&0==e.target.active)&&(t.m_currentTouchName=e.target.name)})),this.close_btn.on(u.EventType.TOUCH_CANCEL,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.close_btn.on(u.EventType.TOUCH_END,(function(e){t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.hide())}))},r.SetTxt=function(t,e){void 0===t&&(t="0"),void 0===e&&(e="0"),this.title.font||(this.title.font=p.DefaultFont),this.texts.font||(this.texts.font=p.DefaultFont),this.title.string=f.GetInstance().GetString(p.StringKey.MHB_INFO_TITLE),this.texts.string=l.formatStr(f.GetInstance().GetString(p.StringKey.MHB_DESC_TEXT_1),t,e)},r.show=function(t){this.node.active=!0},r.hide=function(){m.getInstance().Play(p.AudioClips.COMMON_BTN),this.node.active=!1},e}(s)).prototype,"title",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"texts",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(d.prototype,"close_btn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=d))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/MHBItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./MHBManager.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Component},function(t){u=t.default},function(t){c=t.default}],execute:function(){var m,_,p,h,f,g,y,d;o._RF.push({},"92f22HYi/JOpKF/rP73SdDx","MHBItem",void 0);var S,v=a.ccclass,M=a.property;!function(t){t.grand="Txt_Msg_Grand",t.major="Txt_Msg_Major",t.mini="Txt_Msg_Mini"}(S||(S={}));t("default",(m=M({type:l,tooltip:"中獎得主名稱"}),_=M({type:l,tooltip:"中獎金額"}),p=M({type:l,tooltip:"中獎時間"}),v((g=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"m_winner",g,r(e)),i(e,"m_coin",y,r(e)),i(e,"m_date",d,r(e)),e.m_type=null,e.m_player=null,e.m_nickname=null,e.m_value=null,e.m_time="",e.dotType=u.FORMAT_NUMBER_TYPE.DEFINE_DOT,e}n(e,t);var o=e.prototype;return o.SetInfo=function(t,e,n,i,r){this.m_type=t,this.m_player=e,this.m_nickname=n,this.m_value=i,this.m_time=this.GetTimeString(r),this.node.active=!0,this.SetItem(this.m_type,this.m_player,this.m_nickname,this.m_value,this.m_time)},o.Reset=function(){this.m_type=null,this.m_player=null,this.m_value=null,this.node.active=!1},o.SetItem=function(t,e,n,i,r){if(u.SetFont(this.m_winner),this.m_winner.string=c.GetInstance().GetWinnerString(e,n),c.GetInstance()){var o=u.strip(u.divide(i,c.GetInstance().GetRate()));u.SetFont(this.m_coin),u.SetLabelString(this.m_coin.node,c.GetInstance().GetDisplayValue(o),this.dotType)}u.SetFont(this.m_date),this.m_date.string=r},o.GetTimeString=function(t){var e=new Date(1e3*t),n=(e.getMonth()+1).toString(),i=e.getDate().toString(),r=e.getHours().toString(),o=e.getMinutes();return n+"/"+i+" "+r+":"+(o<10?"0"+o.toString():o.toString())},e}(s)).prototype,"m_winner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"m_coin",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(f.prototype,"m_date",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MHBManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./ExtraManager.ts","./FloatView.ts","./MHBBtn.ts","./MHBDesc.ts","./MHBResult.ts","./IconBox.ts"],(function(t){"use strict";var e,n,o,m,i,a,s,u,r,h,_,c,B,l,b,d,f;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.Prefab,m=t.error,i=t.instantiate,a=t.Node,s=t.SpriteAtlas},function(t){u=t.default},function(t){r=t.default},function(t){h=t.default},function(t){_=t.default},function(t){c=t.default},function(t){B=t.default},function(t){l=t.default},function(t){b=t.default},function(t){d=t.default},function(t){f=t.IconBoxSeat}],execute:function(){n._RF.push({},"e9c5dM+90lIWqocToUuUrH8","MHBManager",void 0);t("BetUnLockCoin",null);var p=t("JpAudioClips",{JP_0:null,JP_1:null,JP_2:null,JP_3:null,JP_5:null,JP_6:null});t("default",function(){function n(){this.m_mhbBtn=null,this.m_mhbDesc=null,this.m_mhbResult=null,this.m_bottoBar=null,this.m_isLandscape=!1,this.m_lang=null,this.isFirst=!0,this.m_mustHitByBtn=null,this.m_info=null,this.m_isJpResultAward=!1,this.m_gameID=null,this.m_jpEnable=1,this.m_mhbAtlas=null}n.GetInstance=function(){return n._instance||(n._instance=new n),n._instance},n.OnExit=function(){delete this._instance,this._instance=null};var g=n.prototype;return g.Init=function(e,n,a,s){var B,f=this;if(!(1!=this.m_jpEnable||r.IS_DEMO||null!=(B=r.GameSwitchOff)&&B.IsCloseMHB)){this.m_lang=h.CurrLang,this.m_bottoBar=e;if(!this.m_bottoBar.IsGLIGames&&!this.m_bottoBar.IsBMMGames){t("BetUnLockCoin",[]),this.m_mustHitByBtn=this.m_bottoBar.MustHitByBtn;var p=this.m_mustHitByBtn.node.getChildByName("btn"),g=_.GetFilePath("Astt/%s/mustHitBy/Prefab/MHB_Btn"),C=_.GetFilePath("Astt/%s/mustHitBy/Prefab/MustHitByDesc"),T=_.GetFilePath("Astt/%s/mustHitBy/Prefab/MHB_Compliment");r.CommonBundle.load(g,o,(function(t,e){t?m(t):(f.m_mhbBtn=i(e).getComponent(l),f.m_bottoBar.node.getComponent(c).IconBox?(f.m_bottoBar.node.getComponent(c).SetIconBoxSeat(f.m_mhbBtn.node,"mhb"),f.m_mhbBtn.SetIconBoxUpdate(f.m_bottoBar.node.getComponent(c).IconBox),p.active=!1):p.addChild(f.m_mhbBtn.node),f.m_mhbBtn.SetTxt(),f.SetBtnTouch(),r.CommonBundle.load(C,o,(function(t,e){t?m(t):(f.m_mhbDesc=i(e).getComponent(b),f.m_mhbDesc.node.active=!1,f.m_bottoBar.node.addChild(f.m_mhbDesc.node),_.SetZIndex(f.m_mhbDesc.node,r.ZOrder.JACKPOTDESC),f.m_mhbDesc.SetTxt(),f.m_mhbDesc.Init(f.m_bottoBar,s),f.m_mhbDesc.Rotation(f.m_isLandscape),f.m_mhbBtn&&f.m_mhbBtn.Init(f.m_mhbDesc,f.m_bottoBar,n,a),f.TouchEvent())})))})),r.CommonBundle.load(T,o,(function(t,e){t?m(t):(f.m_mhbResult=i(e).getComponent(d),f.m_bottoBar.node.addChild(f.m_mhbResult.node),_.SetZIndex(f.m_mhbResult.node,r.ZOrder.JACKPOTRESULT),f.m_mhbResult.SetTxt(),f.m_mhbResult.node.active=!1,f.m_mhbResult.Init(f.m_bottoBar),f.m_mhbResult.Rotation(f.m_isLandscape),f.TouchEvent())})),this.LoadIcons(),this.LoadMustHitByAtlasFile(),this.LoadMustHitBySoundFile(),u.GetInstance().MHBMarqueeCb=function(t){t.gameID==Number(r.NOW_GAME_ID)&&f.m_mhbBtn&&(f.m_mhbBtn.SetMarqueeInfo(t),t.aID.toString()==r.AID||f.m_isJpResultAward?f.m_isJpResultAward=!0:f.m_mhbBtn.SetInfo())}}}},g.ShowMhbResult=function(t,e){var n=this;if(t>0&&this.m_mhbBtn){if(this.m_mhbResult){this.m_mhbResult.SetInfo(t),this.m_mhbResult.OpenResult(e,(function(){n.m_mhbBtn&&(n.m_isJpResultAward=!1)}))}this.m_isJpResultAward=!0,this.m_mhbBtn.SetInfo()}else e&&e()},g.SetMarqueeUnLock=function(){this.m_mhbBtn&&this.m_mhbBtn.SetMarqueeUnLock()},g.ResetPosition=function(){this.m_mustHitByBtn&&this.m_mustHitByBtn.node.getComponent(B).ResetPosition()},g.GetDisplayValue=function(t){return this.m_bottoBar?this.m_bottoBar.GetDisplayValue(t):t},g.GetRate=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.Wallet.Rate:1},g.GetRatio=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.Wallet.Ratio:1},g.GetNowBetValue=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.GetNowBetValue():null},g.GetBetByIndex=function(){return this.m_bottoBar&&this.m_bottoBar.Wallet?this.m_bottoBar.GetBetByIndex(0):null},g.GetWinnerString=function(t,e){var n="";if(0==e.length){n="****";for(var o=t.split(""),m=o.length-3;m<o.length;m++)n+=o[m]}else n=e;return n},g.SetScaleAction=function(t,e){this.m_bottoBar&&this.m_bottoBar.SetScaleAction(t,e)},g.Rotation=function(t){this.m_isLandscape=t,this.m_mhbDesc&&this.m_mhbDesc.Rotation(t),this.m_mhbResult&&this.m_mhbResult.Rotation(t)},g.MustHitByShow=function(t){void 0===t&&(t=!1);var e=!1;this.m_mhbAtlas&&this.m_mustHitByBtn&&this.m_bottoBar&&this.m_bottoBar.Wallet&&(e=!0),e&&this.m_info&&this.m_info.value>=0&&this.m_info.full>0&&!t?(this.m_mustHitByBtn.node.active=!0,_.IsTadaCasino&&this.m_bottoBar&&this.m_mhbBtn&&this.m_bottoBar.node.getComponent(c).IconBox.OpenBtnSeat(f.MustHitBy,!0),this.isFirst&&(this.m_bottoBar&&this.m_bottoBar.node.getComponent(c).SetAddIcon("musthitby",this.m_mustHitByBtn.node),this.m_mustHitByBtn.node.getComponent(B).ResetPosition(),this.isFirst=!1)):(this.m_bottoBar.node.getComponent(c).IconBox&&this.m_bottoBar&&this.m_mhbBtn&&this.m_bottoBar.node.getComponent(c).SetIconBoxSeat(this.m_mhbBtn.node,"mhb",!1),this.m_mustHitByBtn.node.active=!1,this.isFirst=!0,this.m_bottoBar&&this.m_bottoBar.node.getComponent(c).RemoveAddIcon("musthitby"),this.m_mhbDesc&&(this.m_mhbDesc.node.active=!1)),this.m_mhbBtn&&this.m_mhbDesc&&this.m_mhbDesc.ActiveMHB(this.m_mhbBtn.GameList&&this.m_mhbBtn.GameList.length>0)},g.SetBtnTouch=function(){var t=this,e=null;(e=this.m_bottoBar.node.getComponent(c).IconBox&&this.m_mhbBtn?this.m_mhbBtn.node:this.m_mustHitByBtn.node)&&(e.on(a.EventType.TOUCH_START,(function(n){n.propagationImmediateStopped=!0,n.propagationStopped=!0,e.name==n.target.name&&(null==t.m_bottoBar.CurrentTouchName?(t.m_bottoBar.CurrentTouchName=n.target.name,t.m_bottoBar.node.getComponent(c).IconBox||t.m_mustHitByBtn.node.getComponent(B).OnTouchStart(n.getLocation())):n.target&&0==n.target.active&&(t.m_bottoBar.CurrentTouchName=n.target.name))})),e.on(a.EventType.TOUCH_MOVE,(function(n){e.name==n.target.name&&(t.m_bottoBar.CurrentTouchName==n.target.name?(t.m_bottoBar.CurrentTouchName=n.target.name,t.m_bottoBar.node.getComponent(c).IconBox||t.m_mustHitByBtn.node.getComponent(B).OnTouchMove(n.getLocation())):n.target&&0==n.target.active&&(t.m_bottoBar.CurrentTouchName=n.target.name))})),e.on(a.EventType.TOUCH_CANCEL,(function(n){e.name==n.target.name&&t.m_bottoBar.CurrentTouchName==n.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),e.on(a.EventType.TOUCH_END,(function(n){if(e.name==n.target.name&&t.m_bottoBar.CurrentTouchName==n.target.name){t.m_bottoBar.CurrentTouchName=null;var o=function(){t.m_mhbDesc&&t.m_mhbDesc.OpenDesc()};t.m_bottoBar.node.getComponent(c).IconBox?o():t.m_mustHitByBtn.node.getComponent(B).OnTouchEnd(n.getLocation(),o)}})))},g.TouchEvent=function(){var t=this;this.m_bottoBar&&this.m_mustHitByBtn&&this.m_mhbDesc&&this.m_mhbBtn&&(this.m_mhbDesc.Mask.on(a.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_mhbDesc.Mask.on(a.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_mhbDesc.Mask.on(a.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_mhbDesc.CloseDesc())})),this.m_mhbDesc.Close.on(a.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_mhbDesc.Close.on(a.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_mhbDesc.Close.on(a.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_mhbDesc.CloseDesc())})),this.m_mhbResult&&(this.m_mhbResult.node.on(a.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,(null==t.m_bottoBar.CurrentTouchName||e.target&&0==e.target.active)&&(t.m_bottoBar.CurrentTouchName=e.target.name)})),this.m_mhbResult.node.on(a.EventType.TOUCH_CANCEL,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null)})),this.m_mhbResult.node.on(a.EventType.TOUCH_END,(function(e){t.m_bottoBar.CurrentTouchName==e.target.name&&(t.m_bottoBar.CurrentTouchName=null,t.m_mhbResult.StopResult())}))))},g.LoadIcons=function(){for(var t=this,e=function(e){if(!_.Icons[r.MHB_GAME_ID[e]]){_.LoadIcon(t.m_lang,r.MHB_GAME_ID[e],(function n(){for(var o=0;o<r.MHB_GAME_ID.length;o++)_.Icons[r.MHB_GAME_ID[e]]||_.LoadIcon(t.m_lang,r.MHB_GAME_ID[o],n)}))}},n=0;n<r.MHB_GAME_ID.length;n++)e(n)},g.LoadMustHitByAtlasFile=function(){var t=this,e="/framework/mustHitBy/mustHitBy";_.Line!==r.LineSetting.americas&&_.Line!==r.LineSetting.americas_str||(e="/framework_americas/mustHitBy/mustHitBy");var n="AsttText/"+h.CurrLang+e;r.OtherBundle.load(n,s,(function(e,n){if(e)return m(e.message||e),void t.LoadMustHitByAtlasFile();t.m_mhbAtlas=n,t.m_mhbBtn&&t.m_mhbBtn.SetTxt(),t.m_mhbDesc&&t.m_mhbDesc.SetTxt(),t.MustHitByShow()}))},g.LoadMustHitBySoundFile=function(){var t=function(t){p.hasOwnProperty(t)&&r.CommonBundle.load(_.GetFilePath("Astt/%s/mustHitBy/Sound/mp3/")+t,(function(e,n){e?m("LoadMustHitBySoundFile Error"):p[t]=n}))};for(var e in p)t(e)},e(n,[{key:"MustHitByBtn",get:function(){return this.m_mustHitByBtn?this.m_mustHitByBtn:null}},{key:"MustHitByInfo",set:function(t){this.m_info=t}},{key:"IsJpResultAward",get:function(){return this.m_isJpResultAward},set:function(t){this.m_isJpResultAward=t}},{key:"GameID",get:function(){return this.m_gameID}},{key:"JPEnable",get:function(){return this.m_jpEnable}},{key:"MHBAtlas",get:function(){return this.m_mhbAtlas}}]),n}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/MHBMarquee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pgame.mjs_cjs=&original=.js","./Define.ts","./SoundManager.ts","./Tools.ts","./GameIconComponent.ts","./MHBManager.ts","./pgame.js"],(function(e){"use strict";var t,n,i,a,r,o,s,l,u,c,p,m,_,f,h,M,y,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,u=e.Label,c=e.Animation,p=e.tween,m=e.Component},null,function(e){_=e.default},function(e){f=e.default},function(e){h=e.default},function(e){M=e.default},function(e){y=e.default,d=e.JpAudioClips},function(e){g=e.default}],execute:function(){var w,I,L,q,v,S,b,D,B,C,k,H;o._RF.push({},"6dc9a52xzpLsafSdwvWw0cZ","MHBMarquee",void 0);var T=s.ccclass,G=s.property,z="Txt_Musthitby",x={MarqueeShow:"Clip_MHB_Marquee_Hit",MarqueeLoop:"Clip_MHB_Marquee_Loop",MarqueeClose:"Clip_MHB_Marquee_End"},A={MarqueeShow:"Clip_MustHitBy_IconBtn_Marquee_Hit",MarqueeLoop:"Clip_MustHitBy_IconBtn_Marquee_Loop",MarqueeClose:"Clip_MustHitBy_IconBtn_Marquee_End"},N=.25,F=.5,O=.25;e("default",(w=G({type:l,tooltip:"跑馬燈標題圖字"}),I=G({type:l,tooltip:"跑馬燈獎項圖字"}),L=G({type:M,tooltip:"跑馬燈遊戲Icon"}),q=G({type:u,tooltip:"跑馬燈中獎者名稱"}),v=G({type:u,tooltip:"跑馬燈中獎金額"}),T((D=t((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_titleTxt",D,a(t)),i(t,"m_prizeTxt",B,a(t)),i(t,"m_icon",C,a(t)),i(t,"m_winner",k,a(t)),i(t,"m_coin",H,a(t)),t.m_type=null,t.m_gameID=null,t.m_player=null,t.m_nickname=null,t.m_value=null,t.dotType=h.FORMAT_NUMBER_TYPE.DEFINE_DOT,t.m_infoList=[],t.m_isNowOpen=!1,t.m_unLock=!1,t}n(t,e);var o=t.prototype;return o.SetTxt=function(){if(y.GetInstance().MHBAtlas){var e=y.GetInstance().MHBAtlas;this.m_titleTxt.spriteFrame=e.getSpriteFrame(z),this.m_prizeTxt.spriteFrame=e.getSpriteFrame(z)}},o.SetInfo=function(e){var t=new g.serverProto.JpMarqueeInfo;t.aID=e.aID,t.gameID=e.gameID,t.type=e.type,t.winner=e.winner,t.winnerNickname=e.winnerNickname,t.win=e.win,this.m_infoList.push(t)},o.SetMarquee=function(e,t,n,i,a){if(this.m_type=e,this.m_gameID=t,this.m_player=n,this.m_nickname=i,this.m_value=a,y.GetInstance().MHBAtlas)y.GetInstance().MHBAtlas;this.m_icon.SetGameIcon(h.Icons[this.m_gameID]),this.m_winner.font||(this.m_winner.font=_.DefaultFont),this.m_winner.string=y.GetInstance().GetWinnerString(this.m_player,this.m_nickname);var r=h.strip(h.divide(a,y.GetInstance().GetRate()));h.SetLabelString(this.m_coin.node,y.GetInstance().GetDisplayValue(r),this.dotType)},o.AddMarquee=function(){if(!this.m_isNowOpen){for(var e=!1,t=0;t<this.m_infoList.length;t++){if(this.m_infoList[t].aID.toString()!=_.AID){var n=this.m_infoList.splice(t,1)[0];this.SetMarquee(n.type,n.gameID,n.winner,n.winnerNickname,n.win),e=!0;break}if(this.m_unLock){this.m_unLock=!1;var i=this.m_infoList.splice(t,1)[0];this.SetMarquee(i.type,i.gameID,i.winner,i.winnerNickname,i.win),this.m_infoList.splice(t,1),e=!0;break}}e&&(this.m_isNowOpen=!0,this.OpenMarquee())}},o.OpenMarquee=function(){var e=this;f.getInstance().Play(d.JP_6);var t=x;h.Line!==_.LineSetting.americas&&h.Line!==_.LineSetting.americas_str||(t=A),this.node.active=!0,this.node.getComponent(c).play(t.MarqueeShow),p(this.node).delay(N).call((function(){e.node.getComponent(c).play(t.MarqueeLoop)})).delay(16*F).call((function(){e.CloseMarquee()})).start()},o.CloseMarquee=function(){var e=this,t=x;h.Line!==_.LineSetting.americas&&h.Line!==_.LineSetting.americas_str||(t=A),this.node.getComponent(c).play(t.MarqueeClose),p(this.node).delay(O).delay(1).call((function(){e.node.active=!1,e.m_isNowOpen=!1})).start()},r(t,[{key:"UnLock",set:function(e){this.m_unLock=e}}]),t}(m)).prototype,"m_titleTxt",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(b.prototype,"m_prizeTxt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(b.prototype,"m_icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(b.prototype,"m_winner",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(b.prototype,"m_coin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/MHBOtherGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./MHBIconTemplate.ts","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,o,r,a,l,u,c,m,s,_,p,f,h,g,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Node,m=t.Label,s=t.instantiate,_=t.Animation,p=t.Component},function(t){f=t.default},function(t){h=t.default},function(t){g=t.default},function(t){L=t.default}],execute:function(){var d,b,y,S,G,w,I,v,N,H,C,V,M,P,z,F,T,D;a._RF.push({},"057f79+MklPkYmQ8PK8xGG5","MHBOtherGameView",void 0);var O=l.ccclass,B=l.property;t("default",(d=B({type:u,tooltip:"icon樣版"}),b=B({type:c,tooltip:"icon容器"}),y=B({type:c,tooltip:"icon容器L"}),S=B({type:c,tooltip:"icon容器S"}),G=B({type:m,tooltip:"其他遊戲頁面紅色標籤L"}),w=B({type:m,tooltip:"其他遊戲頁面紅色標籤S"}),I=B({type:c,tooltip:"橫版"}),v=B({type:c,tooltip:"直版"}),O((C=e((H=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"m_iconPrefab",C,o(e)),n(e,"m_content",V,o(e)),n(e,"m_contentL",M,o(e)),n(e,"m_contentS",P,o(e)),n(e,"m_otherGameViewHintL",z,o(e)),n(e,"m_otherGameViewHintS",F,o(e)),n(e,"m_rootNodeL",T,o(e)),n(e,"m_rootNodeS",D,o(e)),e.m_iconList=[],e.m_iconListL=[],e.m_iconListS=[],e.m_gameList=[],e.m_currentTouchName=null,e.m_isLandscape=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetIcons=function(t,e){var i=this;this.m_gameList=t;for(var n=function(t){i.m_gameList[t].gameid!=Number(g.NOW_GAME_ID)&&(L.Icons[i.m_gameList[t].gameid]?i.CreateIcons(t):L.LoadIcon(f.CurrLang,i.m_gameList[t].gameid,(function(){i.CreateIcons(t)})))},o=0;o<this.m_gameList.length;o++)n(o)},a.CreateIcons=function(t){var e=s(this.m_iconPrefab),i=e.getComponent(h);this.m_iconList.push(i),this.m_content.addChild(e),i.Init(this,Number(g.NOW_GAME_ID)),i.SetIconSpriteFrame(L.Icons[this.m_gameList[t].gameid],this.m_gameList[t].gameid),i.SetFinalValue(this.m_gameList[t].value,this.m_gameList[t].full)},a.SetFinalValue=function(t){for(var e=0;e<t.length;e++){for(var i=0;i<this.m_iconListL.length;i++)t[e].gameid==this.m_iconListL[i].GameId&&(this.m_iconListL[i].SetFinalValue(t[e].value,t[e].full),this.m_iconListS[i].SetFinalValue(t[e].value,t[e].full));for(var n=0;n<this.m_iconList.length;n++)t[e].gameid==this.m_iconList[n].GameId&&this.m_iconList[n].SetFinalValue(t[e].value,t[e].full)}},a.OnRotation=function(t){this.m_isLandscape=t,t?this.node.getComponent(_).play("Clip_MustHitBy_Popular_Page_Landscape"):this.node.getComponent(_).play("Clip_MustHitBy_Popular_Page_Portrait")},a.SetTxt=function(){L.SetFont(this.m_otherGameViewHintL),this.m_otherGameViewHintL.string=f.GetInstance().GetString(g.StringKey.RECOMMEND_HINT),L.SetFont(this.m_otherGameViewHintS),this.m_otherGameViewHintS.string=f.GetInstance().GetString(g.StringKey.RECOMMEND_HINT)},r(e,[{key:"CurrentTouchName",get:function(){return this.m_currentTouchName},set:function(t){this.m_currentTouchName=t}}]),e}(p)).prototype,"m_iconPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"m_content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(H.prototype,"m_contentL",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(H.prototype,"m_contentS",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"m_otherGameViewHintL",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(H.prototype,"m_otherGameViewHintS",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(H.prototype,"m_rootNodeL",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(H.prototype,"m_rootNodeS",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=H))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/MHBResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./SoundManager.ts","./MHBManager.ts","./MHBRollingValue.ts"],(function(t){"use strict";var e,n,o,i,l,a,r,s,m,u,_,c,p,h,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Sprite,s=t.Animation,m=t.tween,u=t.v3,_=t.Component},function(t){c=t.default},function(t){p=t.default},function(t){h=t.default,f=t.JpAudioClips},function(t){g=t.default}],execute:function(){var d,B,C,w,I,y,M,b,S;l._RF.push({},"9b3b2jGzOZGF7kzxipR6epU","MHBResult",void 0),function(t){t.title="Title_Txt",t.congrats="Txt_Congrats",t.grand="Txt_Grand",t.major="Txt_Major",t.mini="Txt_Mini"}(S||(S={}));var v="Clip_MHB_Compliment_Start",T="Clip_MHB_Compliment_Loop",D="Clip_MHB_Compliment_Stop",H="Clip_MHB_Compliment_End",G=.67,A=3,R=.1,F=8.5,L=a.ccclass,k=a.property;t("default",(d=k({type:r,tooltip:"標題"}),B=k({type:r,tooltip:"恭喜字樣"}),C=k({type:g,tooltip:"中獎金額"}),L((y=e((I=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,o(e,"m_title",y,i(e)),o(e,"m_congrats",M,i(e)),o(e,"m_coin",b,i(e)),e.m_bottoBar=null,e.m_resultTween=null,e.m_win=0,e.m_gameCB=null,e.m_closeBannerCB=null,e.m_soundID=[],e.touchLock=!1,e}n(e,t);var l=e.prototype;return l.SetTxt=function(){if(h.GetInstance().MHBAtlas){var t=h.GetInstance().MHBAtlas;this.m_title.spriteFrame=t.getSpriteFrame(S.title),this.m_congrats.spriteFrame=t.getSpriteFrame(S.congrats)}},l.Init=function(t){this.m_bottoBar=t},l.SetInfo=function(t){if(t>0){this.m_win=t;var e=Number(c.NOW_GAME_ID),n=(this.RandomID(e),G);n+=F,this.SetCoin(0,t,n)}else this.m_win=0},l.SetCoin=function(t,e,n,o){void 0===o&&(o=!1),this.m_coin&&(this.m_coin.IsRate=!1,this.m_coin.NowValue=t,this.m_coin.FinalValue=e,this.m_coin.DurTime=n,o&&this.m_coin.SetCoin(e,!1,!1))},l.OpenResult=function(t,e){var n=this;if(this.m_win>0){p.getInstance().SetVolumeForAll(0);var o,i;o=p.getInstance().Play(f.JP_1,!0),i=F,this.m_soundID.push(o),this.m_gameCB=t,this.m_closeBannerCB=e,this.node.getComponent(s).play(v),this.node.active=!0,this.m_resultTween=m(this.node).delay(G).call((function(){n.touchLock=!0,n.node.getComponent(s).play(T)})).delay(i).call((function(){if(n.touchLock=!1,n.m_soundID.length>0)for(var t=0;t<n.m_soundID.length;t++)p.getInstance().Stop(n.m_soundID[t]);p.getInstance().Play(f.JP_5),n.node.getComponent(s).play(D)})).delay(A).call((function(){n.node.getComponent(s).play(H)})).delay(R).call((function(){n.m_resultTween&&n.m_resultTween.stop(),n.m_resultTween=null,n.m_bottoBar&&n.m_bottoBar.Wallet&&n.m_win>0&&(n.m_bottoBar.SetChips(n.m_bottoBar.GetChips()+n.m_win),n.m_bottoBar.SetNetWin(n.m_win),n.m_win=0),n.m_gameCB&&n.m_gameCB(),n.m_gameCB=null,h.GetInstance().SetMarqueeUnLock(),n.node.active=!1,p.getInstance().SetVolumeForAll(1)})).start()}},l.StopResult=function(){var t=this;if(this.m_win>0&&this.touchLock){if(this.touchLock=!1,this.m_resultTween&&this.m_resultTween.stop(),this.m_resultTween=null,this.SetCoin(this.m_win,this.m_win,0,!0),this.m_soundID.length>0)for(var e=0;e<this.m_soundID.length;e++)p.getInstance().Stop(this.m_soundID[e]);p.getInstance().Play(f.JP_5),this.node.getComponent(s).play(D),m(this.node).delay(A).call((function(){t.node.getComponent(s).play(H)})).delay(R).call((function(){t.m_resultTween&&t.m_resultTween.stop(),t.m_resultTween=null,t.m_bottoBar&&t.m_bottoBar.Wallet&&t.m_win>0&&(t.m_bottoBar.SetChips(t.m_bottoBar.GetChips()+t.m_win),t.m_bottoBar.SetNetWin(t.m_win),t.m_win=0),t.m_gameCB&&t.m_gameCB(),t.m_gameCB=null,h.GetInstance().SetMarqueeUnLock(),t.node.active=!1,p.getInstance().SetVolumeForAll(1)})).start()}},l.Rotation=function(t){this.node.position=u(0,t?350:630,0)},l.RandomID=function(t){for(var e=[],n=c.MHB_GAME_ID.length-1;n>=0;n--)t!=c.MHB_GAME_ID[n]&&e.push(c.MHB_GAME_ID[n]);for(var o=e.length-1;o>=0;o--){var i=Math.floor(Math.random()*(o+1)),l=e[i];e[i]=e[o],e[o]=l}return e},e}(_)).prototype,"m_title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"m_congrats",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(I.prototype,"m_coin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/MHBRollingValue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./MHBManager.ts"],(function(t){"use strict";var i,e,n,s,a,l,u,r,o,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,u=t._decorator,r=t.Component},function(t){o=t.default},function(t){m=t.default}],execute:function(){var h,_,c,p,f,d;l._RF.push({},"c9a33L5UN5MCJ5tXdxcP73n","MHBRollingValue",void 0);var V=u.ccclass,g=u.property;t("default",(h=g({tooltip:"初始值與最終值是否改變"}),_=g({tooltip:"是否自行跑分"}),V((f=i((p=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"m_isChange",f,s(i)),n(i,"m_isRolling",d,s(i)),i.m_dotType=o.FORMAT_NUMBER_TYPE.DEFINE_DOT,i.m_isRate=!0,i.m_nowValue=0,i.m_finalValue=0,i.m_durTime=0,i}e(i,t);var l=i.prototype;return l.update=function(t){this.m_isRolling&&this.Rolling(t)},l.Rolling=function(t){if(m.GetInstance()&&(t=o.strip(t),this.m_finalValue=o.strip(this.m_finalValue),this.m_nowValue=o.strip(this.m_nowValue),this.m_durTime=o.strip(this.m_durTime),this.m_nowValue<this.m_finalValue&&this.m_durTime>0)){var i=o.divide(this.m_durTime,t),e=o.divide(o.strip(this.m_finalValue-this.m_nowValue),i);if(this.m_nowValue=o.strip(this.m_nowValue+e),this.m_nowValue>this.m_finalValue&&(this.m_nowValue=this.m_finalValue),this.m_isRate){var n=o.strip(o.divide(this.m_nowValue,m.GetInstance().GetRate()));o.SetLabelString(this.node,m.GetInstance().GetDisplayValue(n),this.m_dotType)}else o.SetLabelString(this.node,m.GetInstance().GetDisplayValue(this.m_nowValue),this.m_dotType);this.m_durTime=o.strip(this.m_durTime-t)}},l.SetCoin=function(t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=!0),this.m_nowValue=o.strip(t),e){var n=o.strip(o.divide(this.m_nowValue,m.GetInstance().GetRate()));i&&(n=this.RoundUp(n)),o.SetLabelString(this.node,m.GetInstance().GetDisplayValue(n),this.m_dotType)}else o.SetLabelString(this.node,m.GetInstance().GetDisplayValue(t),this.m_dotType)},l.RoundUp=function(t){var i=0,e=0,n=[999999999,999999,999,99],s=[1e6,1e3,100,10];if((t=Math.ceil(t))<n[3])return t;for(var a=0;a<n.length;a++)if(t>n[a])return(e=t%s[a])>0?(t=o.minus(t,e),i=o.strip(o.plus(t,s[a]))):i=t,i},a(i,[{key:"IsRolling",get:function(){return this.m_isRolling},set:function(t){this.m_isRolling=t}},{key:"IsRate",get:function(){return this.m_isRate},set:function(t){this.m_isRate=t}},{key:"NowValue",get:function(){return this.m_nowValue},set:function(t){this.m_nowValue=o.strip(t)}},{key:"FinalValue",get:function(){return this.m_finalValue},set:function(t){o.strip(this.m_finalValue)!=o.strip(t)&&this.m_isChange&&(this.m_durTime=25,0==this.m_finalValue||o.strip(this.m_finalValue)>o.strip(t)?this.m_nowValue=o.strip(.995*t):this.m_nowValue=this.m_finalValue,this.SetCoin(this.m_nowValue,this.m_isRate)),this.m_finalValue=o.strip(t)}},{key:"DurTime",get:function(){return this.m_durTime},set:function(t){this.m_durTime=t}}]),i}(r)).prototype,"m_isChange",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=i(p.prototype,"m_isRolling",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=p))||c));l._RF.pop()}}}));

System.register("chunks:///_virtual/MissionBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,l,r,a,u,c,p,m,s,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,c=t.Button,p=t.Label,m=t.Animation,s=t.Tween,f=t.tween,_=t.Component}],execute:function(){var y,b,h,d,g,w,k,x,T,N,v,z,C,L,B,M,S,A;r._RF.push({},"eedfa1bOWhM6JJjidpAaKSQ","MissionBtn",void 0);var D=a.ccclass,H=a.property,I="Clip_DailyMission_ChallengeHint_Check",U="Clip_DailyMission_ChallengeHint_Unlock";t("default",(y=H({type:u,tooltip:"NEW"}),b=H({type:c,tooltip:"按鈕"}),h=H({type:u,tooltip:"動畫節點"}),d=H({type:p,tooltip:"時間"}),g=H({type:m,tooltip:"hint root"}),w=H({type:p,tooltip:"complete text"}),k=H({type:p,tooltip:"unlock text"}),x=H({type:p,tooltip:"info text"}),D((v=e((N=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"m_newNode",v,o(e)),i(e,"m_btn",z,o(e)),i(e,"m_animNode",C,o(e)),i(e,"m_timeLabel",L,o(e)),i(e,"m_hint",B,o(e)),i(e,"m_completeTxt",M,o(e)),i(e,"m_unlockTxt",S,o(e)),i(e,"m_infoTxt",A,o(e)),e}n(e,t);var r=e.prototype;return r.SetTxt=function(){},r.SetUnlockInfo=function(t){this.m_infoTxt.string=t},r.ShowComplete=function(t){var e=this;this.m_hint&&(s.stopAllByTarget(this.node),f(this.node).call((function(){e.m_hint.node.active=!0,e.m_hint.play(I)})).delay(2).call((function(){t&&(e.SetUnlockInfo(t),e.m_hint.play(U))})).delay(t?2:0).call((function(){e.m_hint.node.active=!1})).start())},l(e,[{key:"NewNode",get:function(){return this.m_newNode}},{key:"Btn",get:function(){return this.m_btn}},{key:"AnimNode",get:function(){return this.m_animNode}},{key:"TimeLabel",get:function(){return this.m_timeLabel}}]),e}(_)).prototype,"m_newNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"m_btn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(N.prototype,"m_animNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(N.prototype,"m_timeLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"m_hint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(N.prototype,"m_completeTxt",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(N.prototype,"m_unlockTxt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(N.prototype,"m_infoTxt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=N))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/MissionListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./DailyMission.ts","./DailyMissionItem.ts"],(function(i){"use strict";var t,o,n,e,s,m,a,l,r,c,_,u,p,h,d,f,I,L,C,g,y,M,k,b,N;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,s=i.createClass},function(i){m=i.cclegacy,a=i._decorator,l=i.ScrollView,r=i.Label,c=i.Node,_=i.Prefab,u=i.Animation,p=i.instantiate,h=i.UITransform,d=i.error,f=i.Component},function(i){I=i.default},function(i){L=i.default},function(i){C=i.default},function(i){g=i.default,y=i.LobbyMallCoinID,M=i.GameCoinID,k=i.MissionTypeNums},function(i){b=i.default,N=i.MissionDetailStatus}],execute:function(){var S,D,w,v,T,A,G,R,P,U,E,O,V,z;m._RF.push({},"91fccf7gPZLq5qryM/UwrM4","MissionListView",void 0);var B=a.ccclass,H=a.property;i("default",(S=H({type:l,tooltip:"ScrollView"}),D=H({type:r,tooltip:"更新提示"}),w=H({type:r,tooltip:"倒數時間"}),v=H({type:c,tooltip:"存放任務項目"}),T=H({type:_,tooltip:"任務項目prefab"}),A=H({type:_,tooltip:"新任務項目prefab"}),B((P=t((R=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),m=0;m<o;m++)s[m]=arguments[m];return t=i.call.apply(i,[this].concat(s))||this,n(t,"m_scrollView",P,e(t)),n(t,"m_refreshLabel",U,e(t)),n(t,"m_timeLabel",E,e(t)),n(t,"m_contentNode",O,e(t)),n(t,"m_missionItemPrefab",V,e(t)),n(t,"m_missionItemPrefabNew",z,e(t)),t.m_controller=null,t.m_dailyMission=null,t.m_showInfoCb=null,t.m_missionListUI=[],t.m_currentGameList={},t.m_defaultSelectMissionType=void 0,t.m_curCompNum=0,t.m_curLockNum=0,t.m_missionAtlas=void 0,t.m_rookieHintSetted=!1,t.m_compList=[],t.m_newCompList=[],t.m_lockList=[],t.m_unlockString=null,t}o(t,i);var m=t.prototype;return m.Init=function(i,t,o,n){this.m_controller=i,this.m_dailyMission=t,this.m_missionAtlas=o,this.m_showInfoCb=n},m.OnRotation=function(i){i?this.node.getComponent(u).play("Clip_DailyMission_MissionPage_Landscape"):this.node.getComponent(u).play("Clip_DailyMission_MissionPage_Portrait"),this.m_missionListUI.forEach((function(t){t.getComponent(b).OnRotation(i)}))},m.OnTouchInfo=function(){this.m_showInfoCb&&this.m_showInfoCb()},m.SetRefreshTxt=function(){C.SetFont(this.m_refreshLabel),this.m_refreshLabel.string=L.GetInstance().GetString(I.StringKey.DAILY_REFRESH).replace("{time}",this.m_dailyMission.GetRefreshTime()),C.IsTada&&this.m_timeLabel&&(this.m_refreshLabel.node.active=!1,this.m_timeLabel.node.active=!0)},m.SetTimeTxt=function(i){C.IsTada&&this.m_timeLabel&&(this.m_timeLabel.string=i)},m.CheckCompList=function(i){if(this.m_compList.length>0){for(var t=!0,o=0;o<this.m_compList.length;o++)if(this.m_compList[o].MissionIndex==i.MissionIndex){t=!1;break}t&&(this.m_newCompList.push(i),this.m_unlockString=this.CheckLockList(i))}else this.m_newCompList.push(i),this.m_unlockString=this.CheckLockList(i)},m.CheckLockList=function(i){if(this.m_unlockString)return this.m_unlockString;if(this.m_lockList.length>0)for(var t=0;t<this.m_lockList.length;t++)if(this.m_lockList[t].ChainID==i.ChainID)return this.m_lockList[t].ConditionDesc;return null},m.UpdateMissionList=function(i,t,o,n){var e=this;void 0===n&&(n=!1);var s=[],m=[],a=[],l=[];i.forEach((function(i){i.CurrentCount>=i.TotalCount?(n||e.CheckCompList(i),m.push(i)):i.Lock?a.push(i):100==i.Vip?s.push(i):l.push(i)})),l.sort((function(i,t){if(i.GameID.toString()==I.NOW_GAME_ID&&t.GameID.toString()!=I.NOW_GAME_ID)return-1;if(t.GameID.toString()==I.NOW_GAME_ID&&i.GameID.toString()!=I.NOW_GAME_ID)return 1;var o=i.CurrentCount/i.TotalCount;return t.CurrentCount/t.TotalCount-o})),i=s.concat(l,a,m),this.m_compList=[],this.m_compList=m.concat(),this.m_lockList=[],this.m_lockList=a.concat(),this.m_newCompList.length>0&&(this.m_dailyMission.NeedShowComplete=!0);for(var r=[],c=0;c<k;c++)r.push({comp:0,lock:0,total:0});var _=0,f=0,L={};i.forEach((function(i,n){var s,m;if(e.m_missionListUI[n])s=e.m_missionListUI[n];else{var a=C.IsTadaCasino?e.m_missionItemPrefabNew:e.m_missionItemPrefab;s=p(a),e.m_missionListUI[n]=s;s.getComponent(b).setRes(e.m_missionAtlas,(function(){for(var i=0;i<e.m_missionListUI.length;i++)e.m_missionListUI[i].getComponent(b).CloseRewardLayout()})),e.m_contentNode.addChild(s),C.IsTadaCasino&&e.m_controller.RookieHintManager&&0==n&&!e.m_rookieHintSetted&&(e.m_rookieHintSetted=!0,e.m_controller.RookieHintManager.SetTargetPosNode(e.m_missionListUI[n]))}s.getComponent(u).play(e.m_dailyMission.IsLandscape?"Clip_DailyMission_MissionCell_Landscape":"Clip_DailyMission_MissionCell_Portrait"),C.SetZIndex(s,n);var l=[];switch(C.IsTadaCasino?l=g.toGiftPackData(i,o,t):m=i.ItemID==y||i.ItemID==M?i:g.toItemInfoData(t[i.ItemID]),l.length>0?s.getComponent(b).updateDataNew(i,l,e.m_controller,n):s.getComponent(b).updateData(i,m,e.m_controller,n)){case N.Complete:r[i.Show-1].comp++,_++;break;case N.Lock:r[i.Show-1].lock++,f++}r[i.Show-1].total++,s.getComponent(h).height,i.GameID.toString()==I.NOW_GAME_ID&&(e.m_defaultSelectMissionType=1),2==i.Show&&i.GameID&&(L[i.GameID.toString()]=!0)})),this.m_currentGameList=L,this.m_curLockNum=0,this.m_curCompNum=0;for(var S=0;S<k;S++){var D=this.m_dailyMission.ReadList.list[S];null==D&&(D={compNum:0,lockNum:0,total:0,isRead:!1},this.m_dailyMission.ReadList.list[S]=D),this.m_curCompNum+=D.compNum,this.m_curLockNum+=D.lockNum;var w=r[S];D.compNum==w.comp&&D.lockNum==w.lock&&D.total==w.total||(D.isRead=!1,0===S&&(this.m_dailyMission.RedPointNodes[S].active=!0)),D.compNum=w.comp,D.lockNum=w.lock,D.total=w.total,this.m_dailyMission.TabNodes[S].active=0!=w.total}d(">>>>> close mission icon.Mode c",f,this.m_curLockNum,this.m_dailyMission.ReadList.list),this.m_dailyMission.IconNodes.Mode.active=!1;var v=!1;f!=this.m_curLockNum&&(d(">>>>> check icon.Mode ",this.m_dailyMission.IconNodes.Ani.getComponent(u).getState("Clip_DailyMission_IconBtn_Loop")),this.m_dailyMission.IconNodes.Ani.getComponent(u).getState("Clip_DailyMission_IconBtn_Loop")&&!this.m_dailyMission.IconNodes.Ani.getComponent(u).getState("Clip_DailyMission_IconBtn_Loop").isPlaying&&(d(">>>>> open mission icon.Mode c"),this.m_dailyMission.IconNodes.Mode.active=!0,this.m_dailyMission.IconNodes.Ani.getComponent(u).stop(),this.m_dailyMission.IconNodes.Ani.getComponent(u).play("Clip_DailyMission_IconBtn_Loop")),v=!0),this.m_curLockNum=f,_>this.m_curCompNum&&0==v&&this.m_dailyMission.IconNodes.Ani.getComponent(u).getState("Clip_DailyMission_IconBtn_Idle")&&!this.m_dailyMission.IconNodes.Ani.getComponent(u).getState("Clip_DailyMission_IconBtn_Idle").isPlaying&&(d(">>>>> open mission icon.Mode d"),this.m_dailyMission.IconNodes.Mode.active=!0,this.m_dailyMission.IconNodes.Ani.getComponent(u).stop(),this.m_dailyMission.IconNodes.Ani.getComponent(u).play("Clip_DailyMission_IconBtn_Idle")),this.m_curCompNum=_;for(var T=i.length;T<this.m_missionListUI.length;T++)this.m_missionListUI[T]&&(this.m_missionListUI[T].destroy(),this.m_missionListUI[T]=null);this.m_scrollView.scrollToTop(),this.OnRotation(this.m_dailyMission.IsLandscape)},m.SwitchMissionList=function(i){this.m_missionListUI.forEach((function(t){if(null!=t){var o=t.getComponent(b),n=o.m_info;t.active=n.Show-1==i,o.status==N.Complete&&o.playCompAni()}})),this.m_scrollView.scrollToTop()},m.ResetCompList=function(){this.m_newCompList=[],this.m_unlockString=null},s(t,[{key:"CurrentGameList",get:function(){return this.m_currentGameList}},{key:"UnlockString",get:function(){return this.m_unlockString}}]),t}(f)).prototype,"m_scrollView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(R.prototype,"m_refreshLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"m_timeLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"m_contentNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(R.prototype,"m_missionItemPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(R.prototype,"m_missionItemPrefabNew",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=R))||G));m._RF.pop()}}}));

System.register("chunks:///_virtual/MissionProtocal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStruct.ts"],(function(t){"use strict";var i,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.ConnectionDataStruct}],execute:function(){var s;t("MissionReqData",void 0),o._RF.push({},"73383Ekt2BOGbTojxYEPau3","MissionProtocal",void 0),function(t){t.MissionInfo=function(){this.aid=-1,this.token="",this.isNow=!0,this.lang="",this.currencyNumber=0};var o=function(t){function o(){var i;return(i=t.call(this)||this).type=n.ErrorHandleType.Ignore,i.method=n.RequestMethod.Post,i.url="/mission/GetDailyMissionProto2",i.reqData=null,i}return i(o,t),o}(n.ProtocolData);t.GetDailyMission=o}(s||(s=t("MissionReqData",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/MsgBox.ts",["cc","./MsgBoxView.ts","./LocaleStringManager.ts","./Tools.ts","./Define.ts"],(function(t){"use strict";var e,n,i,s,o,r,h,c,a,l,m,g,u;return{setters:[function(t){e=t.cclegacy,n=t.size,i=t.Prefab,s=t.error,o=t.instantiate,r=t.sys,h=t.js,c=t.screen,a=t.Size},function(t){l=t.default},function(t){m=t.default},function(t){g=t.default},function(t){u=t.default}],execute:function(){e._RF.push({},"e25f8GkGL5A3LiG69Os9IMX","MsgBox",void 0);var d=n(638,388),_=n(638,383),S=function(){function t(){this.m_msgSettingArr=void 0,this.m_currMsg=void 0,this.m_msgSettingArr=new Array}var e=t.prototype;return e.PushMsg=function(t,e){void 0===e&&(e=!1),null==t.titleKey&&(t.titleKey=w.DEFAULT_TITLE_KEY),null==t.showCloseBtn&&(t.showCloseBtn=!1),null==t.showConfirmBtn&&(t.showConfirmBtn=!0),null==t.showCancelBtn&&(null==t.cancelCB?t.showCancelBtn=!1:t.showCancelBtn=!0),null==t.showRealityChheck&&(t.showRealityChheck=!1),e?this.m_msgSettingArr.unshift(t):this.m_msgSettingArr.push(t)},e.GetCurrMsg=function(){return this.m_currMsg},e.GetNextMsg=function(){return this.m_currMsg=this.m_msgSettingArr.shift(),this.m_currMsg},e.NeedShowMsg=function(){return this.m_msgSettingArr.length>0},t}(),w=t("default",function(){function t(){if(this.m_model=new S,this.m_view=void 0,this.m_obstacles={},this.m_isLandscape=!1,this.isOnExit=!1,this.m_getStringFunc=void 0,t._instance)throw new Error("Error: Instantiation failed: Use MsgBox.getInstance() instead of new.");t._instance=this,t._instance.m_model=new S}t.getInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var e=t.prototype;return e.Init=function(t,e){var n=this;this.m_getStringFunc=e;var r;r=g.GetFilePathApiId("/Astt/%s/msgBox/Prefab/MsgBox_System"),u.CommonBundle.load(r,i,(function(e,i){if(e)s(e.message||e);else if(!n.isOnExit){var r=o(i);t.addChild(r);n.m_view=r.getComponent(l)?r.getComponent(l):new l,n.m_view.Init(r,(function(t){n.OnClick(t)})),n.OnRotate(n.m_isLandscape),m.GetInstance().IsCommStringLoaded()?n.m_view.SetBtnString():m.GetInstance().RegisterOnLoadedCb((function(){n.m_view.SetBtnString()})),n.m_model.NeedShowMsg()&&n.CheckThenShow()}}))},e.OnClick=function(t){switch(this.m_view.Hide(),this.CheckThenShow(),t){case l.UIName.BTN_CLOSE:null!=this.m_model.GetCurrMsg().closeCB&&this.m_model.GetCurrMsg().closeCB();break;case l.UIName.BTN_CONFIRM:null!=this.m_model.GetCurrMsg().confirmCB&&this.m_model.GetCurrMsg().confirmCB();break;case l.UIName.BTN_CANCEL:null!=this.m_model.GetCurrMsg().cancelCB&&this.m_model.GetCurrMsg().cancelCB();break;case l.UIName.BTN_HISTORY:null!=this.m_model.GetCurrMsg().historyCB&&this.m_model.GetCurrMsg().historyCB()}},e.PushMessageBoxSetting=function(t,e){void 0===e&&(e=!1),this.m_model.PushMsg(t,e),this.CheckThenShow()},e.ShowMessageBox=function(e,n,i,s){if(void 0===n&&(n=t.DEFAULT_TITLE_KEY),u.DEPOSIT_URL&&e==u.StringKey.MSGBOX_MONEY_NOT_ENOUGH)this.ShowDepositMsg();else{var o={};o.contextKey=e,o.titleKey=n,o.errorCode=s,o.showCancelBtn=!1,o.showConfirmBtn=!0,o.showCloseBtn=!1,o.confirmCB=i,this.m_model.PushMsg(o),this.CheckThenShow()}},e.ShowMessageBoxFormat=function(e,n,i,s,o){void 0===n&&(n=t.DEFAULT_TITLE_KEY);var r={};r.contextKey=e,r.titleKey=n,r.errorCode=o,r.showCancelBtn=!1,r.showConfirmBtn=!0,r.showCloseBtn=!1,r.subFormatString=i,r.confirmCB=s,this.m_model.PushMsg(r),this.CheckThenShow()},e.ShowFullMessageBox=function(e,n,i,s,o,r,h){void 0===n&&(n=t.DEFAULT_TITLE_KEY);var c={};c.contextKey=e,c.titleKey=n,c.errorCode=h,c.showCancelBtn=!0,c.showConfirmBtn=!0,c.showCloseBtn=!0,c.subFormatString=i,c.confirmCB=s,c.cancelCB=o,c.closeCB=r,this.m_model.PushMsg(c),this.CheckThenShow()},e.ShowRealityCheckMessageBox=function(e,n,i,s,o){void 0===n&&(n=t.DEFAULT_TITLE_KEY);var r={};r.contextKey=e,r.titleKey=n,r.showCancelBtn=!0,r.showConfirmBtn=!0,r.subFormatString=i,r.confirmCB=s,r.showRealityChheck=!0,r.historyCB=o,this.m_model.PushMsg(r),this.CheckThenShow()},e.ShowDepositMsg=function(){t.getInstance().ShowFullMessageBox(u.StringKey.MSGBOX_DEPOSIT,t.DEFAULT_TITLE_KEY,[],(function(){var t=r.OS.IOS&&g.IsNativeWebView()?"_self":"_blank";window.open(u.DEPOSIT_URL,t)}))},e.CheckThenShow=function(){var t=this,e=m.GetInstance();null!=this.m_view&&null!=this.m_getStringFunc&&!this.CheckObstacles()&&this.m_model.NeedShowMsg()&&(e.IsCommStringLoaded()?this.m_view.IsShow()||this.RealShowMsgBox(this.m_model.GetNextMsg()):e.RegisterOnLoadedCb((function(){t.RealShowMsgBox(t.m_model.GetNextMsg())})))},e.ShowRedDiamondNotEnough=function(t){},e.RealShowMsgBox=function(t){this.m_view.SetContent(this.FormatMsgString(this.m_getStringFunc(t.contextKey),t.subFormatString),t.itemSpriteFrame,t.itemNum),this.m_view.SetTitle(this.m_getStringFunc(t.titleKey)),this.m_view.SetBtnString(t.confirmString,t.showRealityChheck),this.m_view.SetErrorCode(t.errorCode),this.m_view.SetAutoClipping(t.autoClipping),this.m_view.SetBtnStyle(t.showConfirmBtn,t.showCancelBtn,t.showCloseBtn,t.showRealityChheck),this.m_view.SetViewStyle(t.itemSpriteFrame,t.showRealityChheck),this.m_view.Show(),this.ShowScene()},e.ShowScene=function(){var t=document.getElementById("splash");console.error("ShowScene MSGBOX",t),t&&(t.style.display="none")},e.SetHTMLMsgBox=function(t){if(g.IsTada){var e=document.getElementById("MsgBox_Tada");if(e){document.getElementById("MsgTitle_Tada").innerHTML=this.m_getStringFunc(t.titleKey);for(var n=document.getElementById("MsgText_Tada"),i=this.FormatMsgString(this.m_getStringFunc(t.contextKey),t.subFormatString),s=1;-1!==i.search("\n");)s++,i=i.replace("\n","<br>");n.innerHTML=i,n.style.height=27*s+2+"px";var o=document.getElementById("MsgError_Tada");t.errorCode?(o.style.display="block",o.innerHTML=t.errorCode):o.style.display="none",document.getElementById("OkBtn_Tada").onclick=function(){t.confirmCB&&t.confirmCB()},e.style.display="block"}}else{var r=document.getElementById("MsgBox_JILI");if(r){document.getElementById("MsgTitle_JILI").innerHTML=this.m_getStringFunc(t.titleKey);for(var h=document.getElementById("MsgText_JILI"),c=this.FormatMsgString(this.m_getStringFunc(t.contextKey),t.subFormatString),a=1;-1!==c.search("\n");)a++,c=c.replace("\n","<br>");h.innerHTML=c,h.style.height=27*a+2+"px";var l=document.getElementById("MsgError_JILI");t.errorCode?(l.style.display="block",l.innerHTML=t.errorCode):l.style.display="none",document.getElementById("OkBtn_JILI").onclick=function(){t.confirmCB&&t.confirmCB()},r.style.display="block"}}},e.FormatMsgString=function(t,e){if(null==e)return t;switch(e.length){case 1:return h.formatStr(t,e[0]);case 2:return h.formatStr(t,e[0],e[1]);case 3:return h.formatStr(t,e[0],e[1],e[2]);case 4:return h.formatStr(t,e[0],e[1],e[2],e[3]);case 5:return h.formatStr(t,e[0],e[1],e[2],e[3],e[4]);default:return t}},e.Update=function(t){},e.OnRotate=function(t){this.m_isLandscape=t,this.m_view&&this.m_view.OnRotate(t);var e=c.windowSize.width/c.devicePixelRatio,n=c.windowSize.height/c.devicePixelRatio,i=new a(e,n),s=1;if(t){var o=u.DEFAULT_LANDSCAPE_SIZE.height;i.height<o&&(s=i.height/o)}else{var r=u.DEFAULT_LANDSCAPE_SIZE.height;i.width<r&&(s=i.width/r)}var h=document.getElementById("MsgBoard_JILI");h&&(h.style.transform="scale("+s+")"),(h=document.getElementById("MsgBoard_Tada"))&&(h.style.transform="scale("+s+")");var l=document.getElementById("MsgCenter_JILI");l&&(l.style.width=d.width*s+"px",l.style.height=d.height*s+"px"),(l=document.getElementById("MsgCenter_Tada"))&&(l.style.width=_.width*s+"px",l.style.height=_.height*s+"px")},e.AddObstacle=function(t){this.m_obstacles[t]=t},e.DeleteObstacle=function(t){this.m_obstacles[t]&&delete this.m_obstacles[t],this.CheckThenShow()},e.CheckObstacles=function(){return!!(this.m_obstacles&&Object.keys(this.m_obstacles).length>0)},e.IsShow=function(){return!!this.m_view&&this.m_view.IsShow()},e.OnExit=function(){this.m_view&&(this.m_view.OnExit(),this.m_view=void 0),this.isOnExit=!0},t}());w._instance=new w,w.DEFAULT_TITLE_KEY="MSGBOX_TITLE_SYSTEM_INFO",e._RF.pop()}}}));

System.register("chunks:///_virtual/MsgBoxModel.ts",["cc","./MsgBox.ts"],(function(t){"use strict";var n,s;return{setters:[function(t){n=t.cclegacy},function(t){s=t.default}],execute:function(){n._RF.push({},"3e428VPbK5Pf6cuYcDyBKEi","MsgBoxModel",void 0);t("default",function(){function t(){this.m_msgSettingArr=void 0,this.m_currMsg=void 0,this.m_msgSettingArr=new Array}var n=t.prototype;return n.PushMsg=function(t,n){void 0===n&&(n=!1),null==t.titleKey&&(t.titleKey=s.DEFAULT_TITLE_KEY),null==t.showCloseBtn&&(t.showCloseBtn=!1),null==t.showConfirmBtn&&(t.showConfirmBtn=!0),null==t.showCancelBtn&&(null==t.cancelCB?t.showCancelBtn=!1:t.showCancelBtn=!0),n?this.m_msgSettingArr.unshift(t):this.m_msgSettingArr.push(t)},n.GetCurrMsg=function(){return this.m_currMsg},n.GetNextMsg=function(){return this.m_currMsg=this.m_msgSettingArr.shift(),this.m_currMsg},n.NeedShowMsg=function(){return this.m_msgSettingArr.length>0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/MsgBoxView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./SoundManager.ts","./Define.ts","./LocaleStringManager.ts"],(function(t){"use strict";var e,i,n,o,m,r,l,a,_,s,c,p,C,u,h,N,b,T,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){m=t.cclegacy,r=t._decorator,l=t.Node,a=t.Sprite,_=t.Label,s=t.Animation,c=t.v2,p=t.Button,C=t.v3,u=t.UITransform,h=t.Component},function(t){N=t.default},function(t){b=t.default},function(t){T=t.default},function(t){f=t.default}],execute:function(){var y,g,S,d,B,I,x,O,E,v,L,w,M,R,A,U,G,H,z,P,F,X,D,k,K,W,Y,V,q,j,Z,J,Q,$,tt;m._RF.push({},"6f9d61I1CRESax6kGq0OI/b","MsgBoxView",void 0);var et="Clip_MsgBox_Normal",it="Clip_MsgBox_Prevention",nt="Clip_MsgBox_Item",ot=r.ccclass,mt=r.property;t("default",(y=mt({type:l,tooltip:"背景"}),g=mt({type:l,tooltip:"MsgBox主體"}),S=mt({type:l,tooltip:"關閉按鈕"}),d=mt({type:l,tooltip:"標題"}),B=mt({type:l,tooltip:"內容根結點"}),I=mt({type:a,tooltip:"道具卡"}),x=mt({type:_,tooltip:"道具卡數量"}),O=mt({type:l,tooltip:"內容"}),E=mt({type:l,tooltip:"錯誤碼"}),v=mt({type:l,tooltip:"確認"}),L=mt({type:l,tooltip:"確定文字"}),w=mt({type:l,tooltip:"取消"}),M=mt({type:l,tooltip:"取消文字"}),R=mt({type:s,tooltip:"樣式動畫"}),A=mt({type:l,tooltip:"歷程"}),U=mt({type:l,tooltip:"歷程按鈕文字"}),ot(((tt=function(t){function e(){for(var e,i=arguments.length,m=new Array(i),r=0;r<i;r++)m[r]=arguments[r];return e=t.call.apply(t,[this].concat(m))||this,n(e,"m_mask",z,o(e)),n(e,"m_panel",P,o(e)),n(e,"m_btnClose",F,o(e)),n(e,"m_txtTitle",X,o(e)),n(e,"m_contentNode",D,o(e)),n(e,"m_itemSprite",k,o(e)),n(e,"m_itemNumLabel",K,o(e)),n(e,"m_txtContent",W,o(e)),n(e,"m_txtErrorCode",Y,o(e)),n(e,"m_btnConfirm",V,o(e)),n(e,"m_confirmTxtNode",q,o(e)),n(e,"m_btnCancel",j,o(e)),n(e,"m_cancelTxtNode",Z,o(e)),n(e,"m_styleAnim",J,o(e)),n(e,"m_btnHistory",Q,o(e)),n(e,"m_historyTxtNode",$,o(e)),e.m_view=void 0,e.m_ctrlCB=void 0,e}i(e,t);var m=e.prototype;return m.Init=function(t,i){var n=this;this.m_view=t,this.m_ctrlCB=i;var o=function(t){if(t.propagationImmediateStopped=!0,t.propagationStopped=!0,t.type==l.EventType.TOUCH_START){var i=t.target.name,o=t.target.getComponent(p);if(null!=o&&0==o.enabled)return!1;switch(n.m_ctrlCB(i),i){case e.UIName.BTN_CLOSE:b.getInstance().Play(T.AudioClips.COMMON_CANCEL_BTN,!1);break;case e.UIName.BTN_CONFIRM:b.getInstance().Play(T.AudioClips.COMMON_BTN,!1);break;case e.UIName.BTN_CANCEL:case e.UIName.BTN_HISTORY:b.getInstance().Play(T.AudioClips.COMMON_CANCEL_BTN,!1)}}return!1};if(this.m_mask||(this.m_mask=this.m_view.getChildByName(e.UIName.LO_MASK)),this.m_panel||(this.m_panel=this.m_view.getChildByName(e.UIName.IMG_BG)),this.m_btnClose?e.UIName.BTN_CLOSE=this.m_btnClose.name:this.m_btnClose=this.m_panel.getChildByName(e.UIName.BTN_CLOSE),this.m_btnClose.on(l.EventType.TOUCH_START,(function(t){n.m_btnClose.getComponent(p).enabled&&o(t)})),this.m_btnConfirm?e.UIName.BTN_CONFIRM=this.m_btnConfirm.name:this.m_btnConfirm=this.m_panel.getChildByName(e.UIName.BTN_CONFIRM),this.m_btnConfirm.on(l.EventType.TOUCH_START,(function(t){n.m_btnConfirm.getComponent(p).enabled&&o(t)})),this.m_btnCancel?e.UIName.BTN_CANCEL=this.m_btnCancel.name:this.m_btnCancel=this.m_panel.getChildByName(e.UIName.BTN_CANCEL),this.m_btnCancel.on(l.EventType.TOUCH_START,(function(t){n.m_btnCancel.getComponent(p).enabled&&o(t)})),this.m_btnHistory&&(e.UIName.BTN_HISTORY=this.m_btnHistory.name,this.m_btnHistory.on(l.EventType.TOUCH_START,(function(t){n.m_btnHistory.getComponent(p).enabled&&o(t)}))),this.m_txtTitle||(this.m_txtTitle=this.m_panel.getChildByName(e.UIName.TXT_TITLE)),this.m_txtErrorCode||(this.m_txtErrorCode=this.m_panel.getChildByName(e.UIName.TXT_ERRORCODE)),this.m_contentNode||(this.m_contentNode=this.m_panel.getChildByName(e.UIName.CONTENT)),this.m_txtContent||(this.m_txtContent=this.m_contentNode.getChildByName(e.UIName.TXT_CONTENT)),!this.m_itemSprite){var m=this.m_contentNode.getChildByName(e.UIName.IMG_ITEM);this.m_itemSprite=m?m.getComponent(a):null}this.Hide()},m.SetBtnString=function(t,i){void 0===t&&(t=f.GetInstance().GetString(T.StringKey.MSGBOX_CONFIRM)),void 0===i&&(i=!1),this.m_confirmTxtNode.getComponent(_)&&N.SetFont(this.m_confirmTxtNode.getComponent(_)),this.m_cancelTxtNode.getComponent(_)&&N.SetFont(this.m_cancelTxtNode.getComponent(_)),N.SetLabelString(this.m_confirmTxtNode?this.m_confirmTxtNode:this.m_btnConfirm.getChildByName(e.UIName.LABEL_WORD),t),N.SetLabelString(this.m_cancelTxtNode?this.m_cancelTxtNode:this.m_btnCancel.getChildByName(e.UIName.LABEL_WORD),f.GetInstance().GetString(T.StringKey.MSGBOX_CANCEL)),i&&(N.SetLabelString(this.m_confirmTxtNode?this.m_confirmTxtNode:this.m_btnConfirm.getChildByName(e.UIName.LABEL_WORD),f.GetInstance().GetString(T.StringKey.MSGBOX_EXIT)),N.SetLabelString(this.m_cancelTxtNode?this.m_cancelTxtNode:this.m_btnCancel.getChildByName(e.UIName.LABEL_WORD),f.GetInstance().GetString(T.StringKey.MSGBOX_CONTINUE)),N.SetLabelString(this.m_historyTxtNode?this.m_historyTxtNode:this.m_btnHistory.getChildByName(e.UIName.LABEL_WORD),f.GetInstance().GetString(T.StringKey.MSGBOX_HISTORY)))},m.SetTitle=function(t){N.SetFont(this.m_txtTitle.getComponent(_)),N.SetLabelString(this.m_txtTitle,t)},m.SetContent=function(t,e,i){void 0===i&&(i=0),N.SetLabelString(this.m_txtContent,t),e&&(this.m_itemSprite.spriteFrame=e,this.m_itemNumLabel.node.active=!!i,i&&(this.m_itemNumLabel.string="X"+i.toString()))},m.SetErrorCode=function(t){void 0===t&&(t=null),this.m_txtErrorCode&&(t?(this.m_txtErrorCode.active=!0,N.SetLabelString(this.m_txtErrorCode,t)):(this.m_txtErrorCode.active=!1,N.SetLabelString(this.m_txtErrorCode,"")))},m.SetBtnStyle=function(t,i,n,o){this.m_btnClose.active=n,this.m_btnConfirm.active=t,this.m_btnCancel.active=i,t&&i?(this.m_btnConfirm.setPosition(C(e.POS.BTN_2_RIGHT.x,this.m_btnConfirm.position.y)),this.m_btnCancel.setPosition(C(e.POS.BTN_2_LEFT.x,this.m_btnCancel.position.y))):(this.m_btnConfirm.setPosition(C(e.POS.BTN_1.x,this.m_btnConfirm.position.y)),this.m_btnCancel.setPosition(C(e.POS.BTN_2_LEFT.x,this.m_btnCancel.position.y)))},m.SetAutoClipping=function(t){void 0===t&&(t=!1),1==t?(this.m_txtContent.getComponent(_).overflow=_.Overflow.RESIZE_HEIGHT,this.m_txtContent.getComponent(u).setContentSize(600,30)):(this.m_txtContent.getComponent(_).overflow=_.Overflow.NONE,this.m_txtContent.getComponent(u).setContentSize(60,30))},m.SetViewStyle=function(t,e){this.m_styleAnim&&(t?this.m_styleAnim.play(nt):e?this.m_styleAnim.play(it):this.m_styleAnim.play(et))},m.Show=function(){this.m_view.active=!0,this.m_view.setPosition(0,0)},m.Hide=function(){this.m_view.active=!1,this.m_view.setPosition(5e5,0)},m.IsShow=function(){return this.m_view.position.equals(C(0,0))},m.OnRotate=function(t){this.m_mask&&this.m_panel&&(this.m_mask.getComponent(u).setContentSize(1500,1500),t?this.m_panel.setScale(C(1,1,1)):this.m_panel.setScale(C(.9,.9,1)))},m.OnExit=function(){this.m_view.removeFromParent(),this.m_view.destroy(),this.m_view=null},e}(h)).POS={BTN_CLOSE:c(312,188),BTN_1:c(0,-150),BTN_2_LEFT:c(-123,-150),BTN_2_RIGHT:c(123,-150)},tt.UIName={LO_MASK:"lo_mask",IMG_BG:"img_bg",BTN_CLOSE:"btn_close",IMG_SUBBG:"img_subBg",BTN_CONFIRM:"btn_confirm",LABEL_WORD:"label_word",BTN_CANCEL:"btn_cancel",BTN_HISTORY:"Btn_Prevention",CONTENT:"content",TXT_TITLE:"txt_title",IMG_ITEM:"img_item",TXT_CONTENT:"txt_content",TXT_ERRORCODE:"txt_errorCode"},z=e((H=tt).prototype,"m_mask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(H.prototype,"m_panel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(H.prototype,"m_btnClose",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(H.prototype,"m_txtTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(H.prototype,"m_contentNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(H.prototype,"m_itemSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(H.prototype,"m_itemNumLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(H.prototype,"m_txtContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"m_txtErrorCode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"m_btnConfirm",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"m_confirmTxtNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"m_btnCancel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(H.prototype,"m_cancelTxtNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"m_styleAnim",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(H.prototype,"m_btnHistory",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(H.prototype,"m_historyTxtNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=H))||G));m._RF.pop()}}}));

System.register("chunks:///_virtual/MsgCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,i,n,r,o,s,l,c,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,l=t.RichText,c=t.Animation,a=t.Component},function(t){u=t.default},function(t){p=t.default}],execute:function(){var h,_,m,f;o._RF.push({},"2ce7bbyVrxIOovmXyiOLWF5","MsgCell",void 0);var y=s.ccclass,g=s.property;t("default",(h=g({type:l,tooltip:"文字"}),y((f=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"m_richText",f,r(e)),e.m_strL=null,e.m_strS=null,e}i(e,t);var o=e.prototype;return o.SetStr=function(t,e){this.m_strL=t,this.m_strS=e,this.m_richText.fontFamily=u.DollarFontFamily,p.SetFont(this.m_richText)},o.OnRotation=function(t){t?(this.m_richText.string=this.m_strL,this.node.getComponent(c).play("Clip_Backpack_MsgCell_Landscape")):(this.m_richText.string=this.m_strS,this.node.getComponent(c).play("Clip_Backpack_MsgCell_Portrait"))},e}(a)).prototype,"m_richText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=m))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/NearWinEffectComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpineKit.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,c,l,u,p,m,f,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.CCBoolean,u=e.sp,p=e.Component,m=e.Tween,f=e.Color,h=e.tween},function(e){_=e.default}],execute:function(){var b,y,d,C,v,x,k,w,g;s._RF.push({},"93417uqlh9Fm6TH2poz4GO4","NearWinEffectComponent",void 0);var P="FadeIn",S="FadeOut",T="NearWin",F=c.ccclass,N=c.property;e("NearWinEffectComponent",(b=F("NearWinEffectComponent"),y=N({type:Number,tooltip:"淡入時間"}),d=N({type:Number,tooltip:"淡出時間"}),C=N({type:l,tooltip:"是否使用spine動畫"}),b((k=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_fadeInTime",k,r(t)),i(t,"m_fadeOutTime",w,r(t)),i(t,"m_isPlaySpine",g,r(t)),t.m_cancelCb=null,t.m_spine=null,t}n(t,e);var s=t.prototype;return s.start=function(){this.m_spine||(this.node.active=!1)},s.FadeIn=function(){var e=a(o().mark((function e(t){var n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.CheckSpine(),!this.m_isPlaySpine){e.next=10;break}return this.node.active=!0,this.CheckSpine(),e.next=6,_.PlayAnimation(this.m_spine,P);case 6:e.sent||_.PlayAnimation(this.m_spine,T,!0),e.next=17;break;case 10:return m.stopAllByTarget(this.m_spine.color),null==(n=this.m_cancelCb)||n.call(this),this.node.active=!0,this.m_spine.color=new f(this.m_spine.color.r,this.m_spine.color.g,this.m_spine.color.b,0),null==t||t(),e.next=17,new Promise((function(e){i.m_cancelCb=function(){e()},h(i.m_spine.color).to(i.m_fadeInTime,{a:255}).call((function(){e(),i.m_cancelCb=null})).start()}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.FadeOut=function(){var e=a(o().mark((function e(){var t,n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.CheckSpine(),!this.m_isPlaySpine){e.next=11;break}if(this.node.active){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,_.PlayAnimation(this.m_spine,S);case 6:return(t=e.sent)||(this.node.active=!1),e.abrupt("return",!t);case 11:if(!(this.m_spine.color.a<=0)){e.next=13;break}return e.abrupt("return",!1);case 13:return m.stopAllByTarget(this.m_spine.color),null==(n=this.m_cancelCb)||n.call(this),e.next=17,new Promise((function(e){i.m_cancelCb=function(){e(!1)},h(i.m_spine.color).to(i.m_fadeOutTime,{a:0}).call((function(){e(!0),i.m_cancelCb=null,i.node.active=!1})).start()}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.CheckSpine=function(){this.m_spine||(this.m_spine=this.node.getComponent(u.Skeleton),this.m_isPlaySpine&&(this.m_spine.setMix(P,S,.05),this.m_spine.setMix(P,T,.05),this.m_spine.setMix(T,S,.05)))},t}(p)).prototype,"m_fadeInTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=t(x.prototype,"m_fadeOutTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=t(x.prototype,"m_isPlaySpine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/NewBoneFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,i,n,l,a,r,c,s,p,u,_,h,m,f,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,r=t._decorator,c=t.Enum,s=t.sp,p=t.director,u=t.Director,_=t.isValid,h=t.v3,m=t.UITransform,f=t.Component,y=t.v2}],execute:function(){var b,d,w,S,g,v,N,z,k,F,R,L,O,P,B,D,E,x,C,A,I,j,X,Y,M,T,W,U,V,H,q,G,J,K,Q,Z,$,tt,ot,et;a._RF.push({},"44834DdFVNM2reoglp7HL82","NewBoneFollow",void 0);var it,nt=r.ccclass,lt=r.property,at=r.executeInEditMode;!function(t){t[t.default=1]="default"}(it||(it={}));var rt=c({}),ct=3.1415927,st=ct/180;function pt(t,o,e,i,n){var l,a=(l=n,Math.sin(l*st)),r=function(t){return Math.cos(t*st)}(n);return 57.29577866666166*Math.atan2(r*e+a*i,r*t+a*o)}t("NewBoneFollow",(b=nt("NewBoneFollow"),d=lt({visible:!1,tooltip:"目標 Spine 骨架"}),w=lt({visible:!1,tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),S=lt({visible:!1,tooltip:"是否同步位置"}),g=lt({visible:!1,tooltip:"是否同步旋轉"}),v=lt({visible:!1,tooltip:"是否將目標旋轉角度轉換成區域旋轉角度"}),N=lt({visible:!1,tooltip:"是否同步縮放"}),z=lt({visible:!1,tooltip:"是否將目標縮放量轉換成區域縮放量"}),k=lt({visible:!0,displayName:"Preview"}),F=lt({type:s.Skeleton,visible:!1}),R=lt({visible:!0,type:s.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),L=lt({visible:!1}),O=lt({visible:!0,displayName:"BoneName",tooltip:"請輸入要跟隨的 Spine 骨頭名稱或從下拉選單選擇"}),P=lt({type:rt,visible:!1}),B=lt({type:rt,visible:!0,displayName:"SelectFromList",tooltip:"可從此下拉選單選擇骨頭"}),D=lt({displayName:"Cache Ancestors",tooltip:"是否快取旋轉及縮放的上層資料，預設開啟。如果父層以上會有動態調整旋轉及縮放則需取消勾選此選項，或是維持啟用狀態但於需要的時刻呼叫 CacheUpdate 方法"}),E=lt({displayName:"Position",tooltip:"是否同步位置"}),x=lt({displayName:"Position Offset",tooltip:"額外本體位置偏移",visible:function(){return this.m_followPosition}}),C=lt({displayName:"Rotation",tooltip:"是否同步旋轉"}),A=lt({displayName:"Rotation Localization",tooltip:"是否將目標旋轉角度轉換成區域旋轉角度",visible:function(){return this.m_followRotation}}),I=lt({displayName:"Rotation Factor",tooltip:"額外本體旋轉",visible:function(){return this.m_followRotation}}),j=lt({displayName:"Scale",tooltip:"是否同步縮放"}),X=lt({displayName:"Scale Localization",tooltip:"是否將目標縮放量轉換成區域縮放量",visible:function(){return this.m_followScale}}),Y=lt({displayName:"Scale Factor",tooltip:"額外本體大小縮放",visible:function(){return this.m_followScale}}),b(M=at(((et=function(t){function o(){for(var o,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return(o=t.call.apply(t,[this].concat(l))||this)._oldAngle=0,o._oldScaleX=1,o._oldScaleY=1,o._isCached=!1,o._cachedRotation=0,o._cachedScaleX=1,o._cachedScaleY=1,o._BoneEnumList=[],i(o,"m_preview",W,n(o)),i(o,"m_spineSkeleton",U,n(o)),i(o,"m_boneName",V,n(o)),i(o,"__boneIndex",H,n(o)),i(o,"m_cacheAncestors",q,n(o)),i(o,"m_followPosition",G,n(o)),i(o,"m_positionOffset",J,n(o)),i(o,"m_followRotation",K,n(o)),i(o,"m_rotationLocalization",Q,n(o)),i(o,"m_rotationFactor",Z,n(o)),i(o,"m_followScale",$,n(o)),i(o,"m_scaleLocalization",tt,n(o)),i(o,"m_scaleFactor",ot,n(o)),o}e(o,t);var a=o.prototype;return a.CacheUpdate=function(){this._isCached=!1},a.__preload=function(){},a.onLoad=function(){this._oldAngle=this.node.angle,this._oldScaleX=this.node.scale.x,this._oldScaleY=this.node.scale.y},a.onEnable=function(){this.BoneSync(),p.on(u.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDisable=function(){p.off(u.EVENT_BEFORE_DRAW,this.BoneSync,this)},a.onDestroy=function(){this._oldAngle=null,this._oldScaleX=null,this._oldScaleY=null,this._isCached=null,this._cachedRotation=null,this._cachedScaleX=null,this._cachedScaleY=null,this.m_spineSkeleton=null,this.m_boneName=null,this.m_cacheAncestors=null,this.m_followPosition=null,this.m_followRotation=null,this.m_rotationLocalization=null,this.m_followScale=null,this.m_scaleLocalization=null},a.BoneSync=function(){if(this.m_spineSkeleton&&""!=this.m_boneName&&(this.m_followPosition||this.m_followRotation||this.m_followScale)){var t=this.m_spineSkeleton.findBone(this.m_boneName);if(t){var o,e,i;if(!this.m_cacheAncestors||!this._isCached){for(var n=0,l=0,a=1,r=1,c=1,s=1,p=this.m_spineSkeleton.node;p;)a*=p.scale.x,r*=p.scale.y,p.angle&&(n+=p.angle),p=p.parent;for(p=this.node.parent;p;)c*=p.scale.x,s*=p.scale.y,p.angle&&(l-=p.angle),p=p.parent;this._cachedRotation=n+l,this._cachedScaleX=a/c,this._cachedScaleY=r/s,this._isCached=!0}if(o=this.m_rotationLocalization?this._cachedRotation:this._oldAngle,e=this.m_scaleLocalization?this._cachedScaleX:this._oldScaleX,i=this.m_scaleLocalization?this._cachedScaleY:this._oldScaleY,this.m_followRotation){var u=t.parent,f=t.arotation,y=o+(_(u)?pt(u.a,u.b,u.c,u.d,f):t.arotation)+this.m_rotationFactor;this.node.setRotationFromEuler(h(0,0,y))}if(this.m_followScale&&this.node.setScale(e*t.getWorldScaleX()*this.m_scaleFactor.x,i*t.getWorldScaleY()*this.m_scaleFactor.y),this.m_followPosition){var b=this.m_spineSkeleton.node.getComponent(m).convertToWorldSpaceAR(h(t.worldX+this.m_positionOffset.x,t.worldY+this.m_positionOffset.y,0)),d=this.node.parent.getComponent(m).convertToNodeSpaceAR(b);this.node.setPosition(h(d.x,d.y))}}}},a._refreshInspector=function(){},a._updateBoneEnum=function(){},l(o,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"CacheData",get:function(){return this.m_cacheData},set:function(t){this.m_cacheData=t}},{key:"FollowPosition",get:function(){return this.m_followPosition},set:function(t){this.m_followPosition=t}},{key:"FollowRotation",get:function(){return this.m_followRotation},set:function(t){this.m_followRotation=t}},{key:"RotationLocalization",get:function(){return this.m_rotationLocalization},set:function(t){this.m_rotationLocalization=t}},{key:"FollowScale",get:function(){return this.m_followScale},set:function(t){this.m_followScale=t}},{key:"ScaleLocalization",get:function(){return this.m_scaleLocalization},set:function(t){this.m_scaleLocalization=t}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(t){console.log("set _spineSkeleton ",this.m_spineSkeleton,"value",t),this.m_spineSkeleton=t,this._refreshInspector()}},{key:"BoneName",get:function(){return this.m_boneName},set:function(t){this.m_boneName=t;var o=!1;this._BoneEnumList.forEach((function(e){e.name!=t||(o=!0)})),0==o?console.log("[spBoneFollow] 輸入的骨頭",t,"並不存在！請檢查名稱是否正確！"):console.log("[spBoneFollow] 輸入的骨頭",t,"已找到！")}},{key:"_boneIndex",get:function(){return this.__boneIndex},set:function(t){var o=this;this.__boneIndex=t,this._BoneEnumList.forEach((function(e){e.value==t&&(o.m_boneName=e.name)})),this.__boneIndex=0,console.log("set __boneIndex ",t,"m_boneName:",this.m_boneName)}}]),o}(f)).NewBoneFollow="NewBoneFollow",o((T=et).prototype,"Skeleton",[d],Object.getOwnPropertyDescriptor(T.prototype,"Skeleton"),T.prototype),o(T.prototype,"CacheData",[w],Object.getOwnPropertyDescriptor(T.prototype,"CacheData"),T.prototype),o(T.prototype,"FollowPosition",[S],Object.getOwnPropertyDescriptor(T.prototype,"FollowPosition"),T.prototype),o(T.prototype,"FollowRotation",[g],Object.getOwnPropertyDescriptor(T.prototype,"FollowRotation"),T.prototype),o(T.prototype,"RotationLocalization",[v],Object.getOwnPropertyDescriptor(T.prototype,"RotationLocalization"),T.prototype),o(T.prototype,"FollowScale",[N],Object.getOwnPropertyDescriptor(T.prototype,"FollowScale"),T.prototype),o(T.prototype,"ScaleLocalization",[z],Object.getOwnPropertyDescriptor(T.prototype,"ScaleLocalization"),T.prototype),W=o(T.prototype,"m_preview",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=o(T.prototype,"m_spineSkeleton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o(T.prototype,"_spineSkeleton",[R],Object.getOwnPropertyDescriptor(T.prototype,"_spineSkeleton"),T.prototype),V=o(T.prototype,"m_boneName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o(T.prototype,"BoneName",[O],Object.getOwnPropertyDescriptor(T.prototype,"BoneName"),T.prototype),H=o(T.prototype,"__boneIndex",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return it.default}}),o(T.prototype,"_boneIndex",[B],Object.getOwnPropertyDescriptor(T.prototype,"_boneIndex"),T.prototype),q=o(T.prototype,"m_cacheAncestors",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G=o(T.prototype,"m_followPosition",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=o(T.prototype,"m_positionOffset",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y(0,0)}}),K=o(T.prototype,"m_followRotation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=o(T.prototype,"m_rotationLocalization",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Z=o(T.prototype,"m_rotationFactor",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=o(T.prototype,"m_followScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=o(T.prototype,"m_scaleLocalization",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ot=o(T.prototype,"m_scaleFactor",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y(1,1)}}),M=T))||M)||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/NewSlotColorFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,t,n,l,i,r,c,s,p,a,u,h,_,m,y,f,C;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,l=o.assertThisInitialized,i=o.createClass},function(o){r=o.cclegacy,c=o._decorator,s=o.Enum,p=o.sp,a=o.director,u=o.Director,h=o.math,_=o.Sprite,m=o.color,y=o.Label,f=o.UIOpacity,C=o.Component}],execute:function(){var S,b,d,g,w,N,k,v,E,D,F,I,O,x,L,z,P,R;r._RF.push({},"2da2cEqApNLm7hZxNo+Lfkx","NewSlotColorFollow",void 0);var j,T=c.ccclass,A=c.property,W=c.executeInEditMode;!function(o){o[o.default=1]="default"}(j||(j={}));var B=s({});o("default",(S=T("NewSlotColorFollow"),b=A({visible:!1,tooltip:"目標 Spine 骨架"}),d=A({visible:!0,displayName:"Preview"}),g=A({visible:!1}),w=A({type:p.Skeleton,visible:!1}),N=A({visible:!0,type:p.Skeleton,displayName:"Skeleton",tooltip:"目標 Spine 骨架"}),k=A({visible:!1}),v=A({visible:!0,displayName:"SlotName",tooltip:"請輸入要跟隨的 Spine 插槽名稱或從下拉選單選擇"}),E=A({type:B,visible:!1}),D=A({visible:!0,displayName:"SelectFromList",type:B,tooltip:"可從此下拉選單選擇插槽"}),S(F=W(((R=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,n(e,"m_preview",O,l(e)),n(e,"_colorCache",x,l(e)),n(e,"m_spineSkeleton",L,l(e)),n(e,"m_slotName",z,l(e)),n(e,"__slotIndex",P,l(e)),e._SlotEnumList=[],e}t(e,o);var r=e.prototype;return r.__preload=function(){},r.onLoad=function(){this._colorCache=null},r.onEnable=function(){this.ColorSync(),a.on(u.EVENT_BEFORE_DRAW,this.ColorSync,this)},r.onDisable=function(){a.off(u.EVENT_BEFORE_DRAW,this.ColorSync,this)},r.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},r.ColorSync=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var o=this.m_spineSkeleton.findSlot(this.m_slotName),e=o?255*o.color.r:this._colorCache.r,t=o?255*o.color.g:this._colorCache.g,n=o?255*o.color.b:this._colorCache.b,l=o?255*o.color.a:this._colorCache.a;null!=this._colorCache&&o.color.r==this._colorCache.r&&o.color.g==this._colorCache.g&&o.color.b==this._colorCache.b&&o.color.a==this._colorCache.a||(this._colorCache=this._colorCache||new h.Color(h.Color.WHITE),this.node.getComponent(_)?(this.node.getComponent(_).color=m(e,t,n,l),this._colorCache.set(this.node.getComponent(_).color)):this.node.getComponent(y)&&(this.node.getComponent(y).color=m(e,t,n,l),this._colorCache.set(this.node.getComponent(y).color)),this.node.getComponent(f)&&(this.node.getComponent(f).opacity=l),this._colorCache.a=l)}},r._refreshInspector=function(){},r._updateSlotEnum=function(){},i(e,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(o){this.m_spineSkeleton=o}},{key:"_spineSkeleton",get:function(){return this.m_spineSkeleton},set:function(o){}},{key:"SlotName",get:function(){return this.m_slotName},set:function(o){this.m_slotName=o;var e=!1;this._SlotEnumList.forEach((function(t){t.name!=o||(e=!0)})),0==e?console.log("[spSlotColorFollow] 輸入的插槽",o,"並不存在！請檢查名稱是否正確！"):console.log("[spSlotColorFollow] 輸入的插槽",o,"已找到！")}},{key:"_slotIndex",get:function(){},set:function(o){}}]),e}(C)).NewSlotColorFollow="NewSlotColorFollow",e((I=R).prototype,"Skeleton",[b],Object.getOwnPropertyDescriptor(I.prototype,"Skeleton"),I.prototype),O=e(I.prototype,"m_preview",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=e(I.prototype,"_colorCache",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h.Color(h.Color.WHITE)}}),L=e(I.prototype,"m_spineSkeleton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(I.prototype,"_spineSkeleton",[N],Object.getOwnPropertyDescriptor(I.prototype,"_spineSkeleton"),I.prototype),z=e(I.prototype,"m_slotName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(I.prototype,"SlotName",[v],Object.getOwnPropertyDescriptor(I.prototype,"SlotName"),I.prototype),P=e(I.prototype,"__slotIndex",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.default}}),e(I.prototype,"_slotIndex",[D],Object.getOwnPropertyDescriptor(I.prototype,"_slotIndex"),I.prototype),F=I))||F)||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/Notificationbar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./Define.ts","./EnvironmentConfig.ts","./Tools.ts","./ExtraManager.ts","./BuyBonusManager.ts","./DailyMissionManager.ts","./DebrisManager.ts","./NotificationManager.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,c,l,u,f,b,p,h,g,d,m,y,k,C,v,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,c=e.Label,l=e.ScrollView,u=e.Animation,f=e.Node,b=e.UITransform,p=e.AnimationClip,h=e.Component},function(e){g=e.default},function(e){d=e.default},function(e){m=e.default},function(e){y=e.default},function(e){k=e.default},function(e){C=e.buyBonusManager},function(e){v=e.missionManager},function(e){w=e.debrisManager},function(e){I=e.NotificationRedirect}],execute:function(){var M,S,T,_,A,B,D,N,L,O,R,x;r._RF.push({},"51f97d2mNRPHZxqKgI15WHI","Notificationbar",void 0);var E=a.ccclass,z=a.property;e("default",(M=z(s),S=z(c),T=z(l),_=z(u),A=z(f),E((N=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"icon",N,o(t)),n(t,"text",L,o(t)),n(t,"slideArea",O,o(t)),n(t,"ani",R,o(t)),n(t,"fingerTip",x,o(t)),t.closeCallback=null,t.redirect=void 0,t.bottombar=void 0,t.gameID=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){var e=this;y.SetFont(this.text),this.slideArea.node.on("scroll-ended",(function(){if(e.slideArea.getScrollOffset().x>1*-e.node.getComponent(b).width/4)e.slideArea.scrollToLeft(0);else{e.slideArea.scrollToRight(.2),e.scheduleOnce((function(){e.manuallyClose()}),.2)}}))},r.setInfo=function(e,t,i){var n;if("string"==typeof e.icon?i&&(n=i.getSpriteFrame(e.icon)):n=e.icon,this.icon.spriteFrame=n,this.text.string=e.msg,this.redirect=e.redirect,this.gameID=e.gameID,this.bottombar=t,this.redirect!=I.None){this.ani.play();var o=this.ani.getState("Clip_Notification_TypeIcon");o&&(o.wrapMode=p.WrapMode.Loop)}},r.click=function(){switch(this.redirect){case I.Backpack:this.bottombar.getComponent(k).ShowBackpack();break;case I.Game:g.GetInstance().ReqUrl(this.gameID,d.BTN_CLICK_EVENT.NOTIFY_OTHER_GAME);break;case I.Mission:v.OpenUI();break;case I.SignIn:this.bottombar.getComponent(k).ShowDiscountView();break;case I.Jili:var e=m.WEB_URL.replace("{target}","member/vip");this.bottombar.OpenWebView(e,d.StringKey.BOTTOM_BAR_BACK_GAME_HISTORY);break;case I.BuyBonus:this.bottombar.CloseAllMenu(),C.Show();break;case I.Debris:w.Show(this.bottombar.IsLandscape);break;case I.Longhu:this.bottombar.getComponent(k).ShowDiscountView("tigerrank")}this.close(!0)},r.autoClose=function(e,t){var i=this;this.closeCallback=e,t&&this.scheduleOnce((function(){i.close(!1)}),t)},r.manuallyClose=function(){this.close(!0)},r.close=function(e){this.node.removeFromParent(),this.closeCallback&&this.closeCallback(e)},t}(h)).prototype,"icon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(D.prototype,"text",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"slideArea",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"ani",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"fingerTip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./smartNotice.mjs_cjs=&original=.js","./Define.ts","./EnvironmentConfig.ts","./AppManager.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./Notificationbar.ts","./smartNotice.js"],(function(t){"use strict";var i,o,e,n,s,r,a,c,f,h,y,m,u,_,p,l,d,g,N,I,T;return{setters:[function(t){i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){e=t.cclegacy,n=t.log,s=t.error,r=t.Animation,a=t.instantiate,c=t.UITransform,f=t.v3,h=t.Prefab,y=t.SpriteAtlas,m=t.warn},function(t){u=t.default},null,function(t){_=t.default},function(t){p=t.default},function(t){l=t.default},function(t){d=t.default},function(t){g=t.default},function(t){N=t.default},function(t){I=t.default},function(t){T=t.default}],execute:function(){var P;t("NotificationRedirect",void 0),e._RF.push({},"0a672lWNpREWLku6TeQbb7l","NotificationManager",void 0);var v,S=[-1],L={Bg:"Notification_BG",Close:"Notification_X",Close2:"Notification_X",Finger:"Notification_Finger",Finger2:"Notification_Finger",Icon1:"Notification_Icon_01",Icon2:"Notification_Icon_02",Icon3:"Notification_Icon_03",Icon4:"Notification_Icon_04",Icon5:"Notification_Icon_05",Icon6:"Notification_Icon_06",Icon7:"Notification_Icon_07",Icon8:"Notification_Icon_08"},b="JILI",C="TADA",w=((P={})[T.snProto.noticeType.SignUp]=1,P[T.snProto.noticeType.ItemNotUsed]=2,P[T.snProto.noticeType.ItemTomorrow]=3,P[T.snProto.noticeType.Message]=4,P[T.snProto.noticeType.ToGame]=5,P[T.snProto.noticeType.BuyGame]=6,P[T.snProto.noticeType.JiliLv]=7,P[T.snProto.noticeType.Mission]=8,P[T.snProto.noticeType.SignIn]=9,P[T.snProto.noticeType.BuyBonus]=10,P[T.snProto.noticeType.Debris]=11,P[T.snProto.noticeType.Longhu]=12,P);!function(t){t[t.None=0]="None",t[t.Backpack=1]="Backpack",t[t.Game=2]="Game",t[t.Jili=3]="Jili",t[t.Mission=4]="Mission",t[t.SignIn=5]="SignIn",t[t.BuyBonus=6]="BuyBonus",t[t.Debris=7]="Debris",t[t.Longhu=8]="Longhu"}(v||(v=t("NotificationRedirect",{})));var B=t("default",function(){function t(){this.m_inited=!1,this.m_bottombar=null,this.m_aid=void 0,this.m_apiid=void 0,this.m_gameid=void 0,this.m_showingNotify=!1,this.m_notificationBarPrefab=null,this.m_notifyBar=null,this.m_nofityList=[],this.m_nofityHistoryList=[],this.m_historyNotifyIt=0,this.m_state=!1,this.m_historyMode=!1,this.m_iconNode=null,this.m_redPointNode=null,this.m_isRed=!1,this.m_animation=null,this.m_landscape=void 0,this.m_defaultNotifyIcons=[],this.m_plist=null,this.m_hasSignIn=!1,this.m_debrisCount=0,this.testIconNum=1}t.GetInstance=function(){return this._instance||(this._instance=new t),this._instance},t.OnExit=function(){delete this._instance,this._instance=null};var e=t.prototype;return e.Init=function(t,e,s,r){var a=this;if(!N.CheckSwitchOff(_.SwitchOffKeyDefine.SmartMessage)&&!_.IS_DEMO){this.m_bottombar=t,this.m_aid=parseInt(e),this.m_apiid=parseInt(s),this.m_gameid=parseInt(r);for(var c=!0,f=0;f<S.length;f++)if(this.m_apiid==S[f]){c=!1;break}c&&(this.LoadRes().then(i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.GetNotify();case 2:setTimeout((function(){a.m_inited=!0,a.CanShowNotify()&&a.Process()}),6e4);case 3:case"end":return t.stop()}}),t)})))),u.GetInstance().NotifyCb=function(t){n(t);var i=new Uint8Array(t),o=T.snProto.lifeResp.decode(i);n("LifeSocket",o),n("LifeSocket",o.allResp);var e=o.allResp[N.ConvertLanguageToFull(d.CurrLang).toLowerCase()];e&&e.list.forEach((function(t){a.CreateNotify(t.type,t.desc,t.game)}))})}},e.LoadResSync=function(t,i){return new Promise((function(o,e){_.CommonBundle.load(t,i,(function(t,i){if(t)return s(t),void e();o(i)}))}))},e.LoadRes=function(){var t=i(o().mark((function t(){var i,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Astt/%s/notification/Prefab/Notificaion","Astt/%s/notification/Img/notification",t.next=4,Promise.all([this.LoadResSync(N.GetFilePath("Astt/%s/notification/Prefab/Notificaion"),h),this.LoadResSync(N.GetFilePath("Astt/%s/notification/Img/notification"),y)]);case 4:for(i=t.sent,this.m_notificationBarPrefab=i[0],this.m_plist=i[1],e=1;e<=5;e++)this.m_defaultNotifyIcons.push(this.m_plist.getSpriteFrame("icon_0"+e));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.SetState=function(t){this.m_state=t,1==t&&this.CanShowNotify()&&this.Process()},e.SetIconNode=function(t){var i=this;this.m_iconNode=t,this.m_redPointNode=t.getChildByName("redPoint"),this.m_animation=t.getComponent(r),this.m_animation&&this.m_animation.on(r.EventType.FINISHED,(function(){i.m_isRed&&i.m_animation.play("Clip_BottomBar_BtnNotification_New")}))},e.GetNotify=function(){var t=i(o().mark((function t(){var i,e,s,r=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return(i=new T.snProto.getNoticeReq).accountID=this.m_aid,i.apiID=this.m_apiid,i.gameID=this.m_gameid,i.lang=N.ConvertLanguageToFull(d.CurrLang),i.subAgentCode=_.SUB_AGENT_CODE,e=T.snProto.getNoticeReq.encode(i).finish(),m(i.accountID,i.apiID),t.next=12,new Promise((function(t,i){var o=new XMLHttpRequest;o.responseType="arraybuffer",o.open("post",p.NOTIFY_URL),o.onload=function(){if(this.status>=200&&this.status<300){var e=new Uint8Array(o.response),n=T.snProto.getNoticeResp.decode(e);0==n.error?t(n.list):i(n.error)}else i(-1)},o.send(e)}));case 12:s=t.sent,n("GetNotify",s),s.forEach((function(t){r.CreateNotify(t.type,t.desc,t.game)}));case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.SetRedPoint=function(t){var i;this.m_isRed=t;var o="Clip_BottomBar_BtnNotification_New";this.m_redPointNode&&(this.m_redPointNode.active=t),1==t&&null!=(i=this.m_animation)&&i.getState(o)&&!this.m_animation.getState(o).isPlaying&&this.m_animation.play(o)},e.CheckRedPoint=function(){n("check red point"),n(this.m_nofityHistoryList);for(var t=!1,i=0;i<this.m_nofityHistoryList.length;i++)if(0==this.m_nofityHistoryList[i].read){t=!0;break}this.SetRedPoint(t)},e.CreateNotify=function(t){if(!N.CheckSwitchOff(_.SwitchOffKeyDefine.SmartMessage)){for(var i=0;i<this.m_nofityList.length;i++)if(t==this.m_nofityList[i].type)return;for(var o=0;o<this.m_nofityHistoryList.length;o++)if(t==this.m_nofityHistoryList[o].type)return;var e,n,s=0,r="",a=v.None,c=L;switch(t){case T.snProto.noticeType.SignUp:s=w[T.snProto.noticeType.SignUp],e=c.Icon5,r=arguments.length<=1?void 0:arguments[1];break;case T.snProto.noticeType.ItemNotUsed:s=w[T.snProto.noticeType.ItemNotUsed],e=c.Icon4;var f=d.GetInstance().GetString(_.StringKey.NOTIFY_ITEM_1);r=f=f.replace("{ITEM_NAME}",N.IsTada?d.GetInstance().GetString(_.StringKey.TADA_ITEM_NAME):d.GetInstance().GetString(_.StringKey.JILI_ITEM_NAME)),a=v.Backpack;break;case T.snProto.noticeType.ItemTomorrow:s=w[T.snProto.noticeType.ItemTomorrow],e=c.Icon4,r=d.GetInstance().GetString(_.StringKey.NOTIFY_ITEM_2),a=v.Backpack;break;case T.snProto.noticeType.Message:s=w[T.snProto.noticeType.Message],e=c.Icon1,r=arguments.length<=1?void 0:arguments[1];break;case T.snProto.noticeType.ToGame:s=w[T.snProto.noticeType.ToGame],e=c.Icon1,r=arguments.length<=1?void 0:arguments[1],a=v.Game,n=arguments.length<=2?void 0:arguments[2];break;case T.snProto.noticeType.BuyGame:s=w[T.snProto.noticeType.BuyGame],e=c.Icon1,r=arguments.length<=1?void 0:arguments[1],a=v.Game,n=arguments.length<=2?void 0:arguments[2];break;case T.snProto.noticeType.JiliLv:s=w[T.snProto.noticeType.JiliLv],e=c.Icon1,r=(r=(r=d.GetInstance().GetString(_.StringKey.NOTIFY_JILILV)).replace("{0}",arguments.length<=1?void 0:arguments[1])).replace("{1}",arguments.length<=2?void 0:arguments[2]),l.LobbyData&&(r=r.replace("LV","VIP")),a=v.Jili;break;case T.snProto.noticeType.Mission:s=w[T.snProto.noticeType.Mission],e=c.Icon3,r=d.GetInstance().GetString(_.StringKey.NOTIFY_DAILY),a=v.Mission;break;case T.snProto.noticeType.SignIn:s=w[T.snProto.noticeType.SignIn],e=c.Icon6,r=(r=d.GetInstance().GetString(_.StringKey.NOTIFY_SIGNIN)).replace("{0}",arguments.length<=1?void 0:arguments[1]),a=v.SignIn;break;case T.snProto.noticeType.BuyBonus:s=w[T.snProto.noticeType.BuyBonus],e=arguments.length<=1?void 0:arguments[1],r=d.GetInstance().GetString(_.StringKey.NOTIFY_BUYBONUS),a=v.BuyBonus;break;case T.snProto.noticeType.Debris:s=w[T.snProto.noticeType.Debris],e=c.Icon7,r=d.GetInstance().GetString(_.StringKey.NOTIFY_DEBRIS),a=v.Debris;break;case T.snProto.noticeType.Longhu:s=w[T.snProto.noticeType.Longhu],e=c.Icon8,r=d.GetInstance().GetString(_.StringKey.NOTIFY_TOP50),a=v.Longhu}console.log("PushNotify type:",t),this.PushNotify(s,t,e,r,a,n)}},e.PushNotify=function(t,i,o,e,n,s){o||(4==this.testIconNum&&(this.testIconNum=1),o="icon_0"+this.testIconNum),this.m_nofityList.push({order:t,type:i,icon:o,msg:e,redirect:n,read:!1,gameID:s}),this.CanShowNotify()&&this.Process()},e.RemoveNotify=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(!N.CheckSwitchOff(_.SwitchOffKeyDefine.SmartMessage)&&!this.m_showingNotify){for(var e=function(t){for(var o=0;o<i.length;o++)if(t==i[o])return!0;return!1},n=0;n<this.m_nofityList.length;)e(this.m_nofityList[n].type)?this.m_nofityList.splice(n,1):n++;for(;n<this.m_nofityHistoryList.length;)e(this.m_nofityHistoryList[n].type)?this.m_nofityHistoryList.splice(n,1):n++;console.log("RemoveNotify:",i)}},e.CanShowNotify=function(){return this.m_inited&&0==this.m_showingNotify&&1==this.m_state},e.Process=function(){if(!N.CheckSwitchOff(_.SwitchOffKeyDefine.SmartMessage)&&p.ENV_TYPE!=_.EVN.TEST){var t;if(this.m_iconNode.active=this.m_nofityList.length+this.m_nofityHistoryList.length>0,this.CheckRedPoint(),1==this.m_historyMode){if(null==(t=this.m_nofityHistoryList[this.m_historyNotifyIt++]))return this.m_historyMode=!1,void this.Process()}else{if(this.m_nofityList.sort((function(t,i){return t.order-i.order})),null==(t=this.m_nofityList.shift()))return;this.m_nofityHistoryList.push(t)}this.ShowNotify(t)}},e.ShowNotify=function(t){var i=this;this.m_showingNotify=!0;var o=a(this.m_notificationBarPrefab),e=o.getComponent(I);this.m_notifyBar=e,this.m_bottombar.NotifyRoot?(this.m_bottombar.NotifyRoot.addChild(o),N.SetZIndex(o,_.ZOrder.NOTIFY)):(this.m_bottombar.node.addChild(o),N.SetZIndex(o,_.ZOrder.NOTIFY)),e.setInfo(t,this.m_bottombar,this.m_plist),e.fingerTip.active=!1,e.scheduleOnce((function(){i.m_historyMode&&(e.fingerTip.active=!0,e.scheduleOnce((function(){e.fingerTip.active=!1}),3))}),3),this.m_historyMode||g.getInstance().Play(_.AudioClips.NOTIFY_HINT),this.m_bottombar.NotifyRoot||this.OnRotation(this.m_landscape),e.autoClose((function(o){n("closeCallback!!"),t.read=o,i.m_notifyBar=null,i.m_showingNotify=!1,i.CanShowNotify()&&i.Process()}),this.m_historyMode?null:5)},e.ShowAllHistoryNotify=function(){this.CanShowNotify()&&0==this.m_historyMode&&(this.m_historyMode=!0,this.m_historyNotifyIt=0,this.m_nofityHistoryList.sort((function(t,i){return t.order-i.order})),this.SetRedPoint(!1),this.Process())},e.UpdateBackpackNotify=function(t){var i=new Date,o=0,e=0;t.forEach((function(t){var s=new Date(1e3*t.start),r=new Date(1e3*t.expired);n(s),n(r),s.getTime()>i.getTime()?e++:i.getTime()<r.getTime()&&o++})),o>0?this.CreateNotify(T.snProto.noticeType.ItemNotUsed):this.RemoveNotify(T.snProto.noticeType.ItemNotUsed),e>0?this.CreateNotify(T.snProto.noticeType.ItemTomorrow):this.RemoveNotify(T.snProto.noticeType.ItemTomorrow),this.CanShowNotify()&&this.Process()},e.CleanBackpackNotify=function(){this.RemoveNotify(T.snProto.noticeType.ItemNotUsed),this.RemoveNotify(T.snProto.noticeType.ItemTomorrow)},e.UpdateMissionNotify=function(t){for(var i=!1,o=0;o<t.DailyMissionList.length;o++){var e=t.DailyMissionList[o],n=N.strip(e.CurrentCount/e.TotalCount);if(n>=.8&&n<1){i=!0;break}}i?this.CreateNotify(T.snProto.noticeType.Mission):this.RemoveNotify(T.snProto.noticeType.Mission)},e.UpdateSignInNotify=function(t,i){this.m_hasSignIn&&this.RemoveNotify(T.snProto.noticeType.SignIn);for(var o=N.strip(t),e=0;e<i.length;e++){var n=N.strip(i[e].Exp),s=N.divide(o,n);i[e].IsOpen||s>=.8&&s<1&&!this.m_hasSignIn&&(this.CreateNotify(T.snProto.noticeType.SignIn,N.strip(n-o)),this.m_hasSignIn=!0)}this.m_hasSignIn=!0},e.UpdateJiliLvNotify=function(t){var i=N.strip(t.Exp/t.NextLevel),o=N.strip(t.NextLevel-t.Exp),e=b;N.Line!==_.LineSetting.americas&&N.Line!==_.LineSetting.americas_str||(e=C),l.LobbyData?t.Lv>=1&&i>=.8&&i<1||0==t.Lv&&i>=.5&&i<1?this.CreateNotify(T.snProto.noticeType.JiliLv,o,e):this.RemoveNotify(T.snProto.noticeType.JiliLv):t.Lv>=0&&i>=.8&&i<1?this.CreateNotify(T.snProto.noticeType.JiliLv,o,e):this.RemoveNotify(T.snProto.noticeType.JiliLv)},e.UpdateBuyBonusNotify=function(t){this.CreateNotify(T.snProto.noticeType.BuyBonus,t)},e.UpdateDebrisNotify=function(t){t&&(this.RemoveNotify(T.snProto.noticeType.Debris),this.m_debrisCount<3&&(this.CreateNotify(T.snProto.noticeType.Debris),this.m_debrisCount++))},e.UpdateLonghuNotify=function(){this.CreateNotify(T.snProto.noticeType.Longhu)},e.OnRotation=function(t){if(this.m_landscape=t,1==this.m_showingNotify){var i=this.m_notifyBar.node,o=i.getComponent(c).height/2;o+=30,i.position=f(((t?8-_.DEFAULT_LANDSCAPE_SIZE.width:19-_.DEFAULT_LANDSCAPE_SIZE.height)+i.getComponent(c).width)/2,o)}},t}());B._instance=new B,e._RF.pop()}}}));

System.register("chunks:///_virtual/other",["./Define.ts","./EnvironmentConfig.ts","./EnvironmentConfigTestPath.ts","./BaseState.ts","./StateManager.ts","./GameAppA.ts","./GameAppBase.ts","./GameAppBaseView.ts","./DataStruct.ts","./ConnectManager.ts","./ConnectionManager.ts","./ConnectionSpeed.ts","./LifeSocket.ts","./Request.ts","./lifeService.mjs_cjs=&original=.js","./lotto.mjs_cjs=&original=.js","./pgame.mjs_cjs=&original=.js","./gaiaProto.mjs_cjs=&original=.js","./smartNotice.mjs_cjs=&original=.js","./BuyBonusBtn.ts","./BuyBonusView.ts","./AwardCell.ts","./CellComponent.ts","./Debris.ts","./DebrisBtn.ts","./DebrisCell.ts","./DebrisProtocal.ts","./ExchangeNumComponent.ts","./debrisproto.mjs_cjs=&original=.js","./Features.ts","./FeaturesComponent.ts","./FeaturesDemoComponent.ts","./FeaturesDemoHintComponent.ts","./FeaturesDemoSelectComponent.ts","./SelectBtn.ts","./GiftCode.ts","./BackpackManager.ts","./BuyBonusManager.ts","./DailyMissionManager.ts","./DebrisManager.ts","./GaiaManager.ts","./GiftCodeManager.ts","./IframeCommandManager.ts","./ManagerDataStructure.ts","./StyleChangeManager.ts","./TrialManager.ts","./RankItem.ts","./TiggerRank.ts","./longhu.mjs_cjs=&original=.js","./AutoPlaySetting.ts","./AutoPlaySettingPanel.ts","./AutoPlaySettingPanel_BS.ts","./AutoPlaySettingPanel_DFI.ts","./AutoPlaySettingPanel_DFIII.ts","./AutoPlaySettingPanel_FD.ts","./AutoPlaySettingPanel_MS.ts","./Backpack.ts","./BackpackComponent.ts","./GameCell.ts","./ItemCell.ts","./MsgCell.ts","./GameItems.ts","./ItemBall.ts","./ItemDetail.ts","./ItemEnd.ts","./ItemGet.ts","./ItemList.ts","./ItemSystemMsgs.ts","./ItemUse.ts","./OtherGames.ts","./Protocol.ts","./SpinEft.ts","./itemproto.mjs_cjs=&original=.js","./BarBodyComponent.ts","./BottombarManager.ts","./BottombarView.ts","./BottombarView2.ts","./BottombarViewbc.ts","./Discount.ts","./EffectWin.ts","./ExtraManager.ts","./IconBox.ts","./IconSorter.ts","./ItemInfo.ts","./MayLike.ts","./BuffManager.ts","./buffproto.mjs_cjs=&original=.js","./CommonTextManager.ts","./CommonWebPage.ts","./DailyMission.ts","./DailyMissionItem.ts","./DailyMissionRewardCell.ts","./GameLsitView.ts","./GetRedLetter.ts","./MissionBtn.ts","./MissionListView.ts","./MissionProtocal.ts","./RedDiamondGet.ts","./missionCProto.mjs_cjs=&original=.js","./BigFavorHint.ts","./BigWinReplay.ts","./Favor.ts","./IconTemplate.ts","./PlayerInfo.ts","./Recommend.ts","./SignIn.ts","./SignInItem.ts","./SignInProtocol.ts","./ViewTemplate.ts","./promotion.mjs_cjs=&original=.js","./FloatView.ts","./EffectView.ts","./JPAwardView.ts","./JPBanner.ts","./JPBar.ts","./JPBtn.ts","./JPDesc.ts","./JPInfoView.ts","./JPItem.ts","./JPManager.ts","./JPMarquee.ts","./JPOtherGamesView.ts","./JPResult.ts","./JPRollingValue.ts","./ILoadingView.ts","./MsgBox.ts","./MsgBoxModel.ts","./MsgBoxView.ts","./CurrcncyItem.ts","./CurrencyChange.ts","./Wallet.ts","./MHBBtn.ts","./MHBDataStructure.ts","./MHBDesc.ts","./MHBIconTemplate.ts","./MHBInfo.ts","./MHBItem.ts","./MHBManager.ts","./MHBMarquee.ts","./MHBOtherGameView.ts","./MHBResult.ts","./MHBRollingValue.ts","./NotificationManager.ts","./Notificationbar.ts","./RankTestAck.ts","./Rankboard.ts","./RankboardItem.ts","./RankboardPage.ts","./RankboardReward.ts","./WebPage.ts","./SloganManager.ts","./LevelManager.ts","./levelservice.mjs_cjs=&original=.js","./RecordView.ts","./TrialReward.ts","./TrialSetting.ts","./TrialView.ts","./VipManager.ts","./VolatilityBar.ts","./VolatilityIcon.ts","./VolatilityManager.ts","./VolatilityMsg.ts","./Mechanism.ts","./AppManager.ts","./AudioSourceExtension.ts","./AutoShowManager.ts","./CommonEffect.ts","./ErrorMsgManager.ts","./FiniteState.ts","./GFX.ts","./LoadPrefabManager.ts","./LoadRemotePlist.ts","./LocalStorageManager.ts","./LocaleStringManager.ts","./ParticleControl.ts","./RetryManager.ts","./RookieHintManager.ts","./RoundController.ts","./SoundManager.ts","./BoneFollow.ts","./BasicSpineController.ts","./SkeletonController.ts","./SpineController.ts","./SlotActivatorExample.ts","./SpineExampleMenu.ts","./SpineExampleMenuBack.ts","./NewBoneFollow.ts","./NewSlotColorFollow.ts","./SkeletonSync.ts","./SlotActivator.ts","./SlotColorFollow.ts","./SlotCulling.ts","./SpineKit.ts","./SwipeManager.ts","./TimeBool.ts","./ToJsonObject.ts","./Tools.ts","./GaussBlurManager.ts","./GaussBlursFrag.ts","./iOSDevice.ts","./BigWinComponent.ts","./EvtReceiver.ts","./FeaturePageComponent.ts","./FeatureViewComponent.ts","./GameIconComponent.ts","./GroupNode.ts","./LinesGeneraterComponent.ts","./ManualComponent.ts","./MarqueeComponent.ts","./NearWinEffectComponent.ts","./PlayReadyComponent.ts","./RookieHintComponent.ts","./ShakeComponent.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/OtherGames.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./GameCell.ts","./Tools.ts"],(function(t){"use strict";var e,n,i,r,a,l,o,s,c,_,g,p,u,I,h,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Label,s=t.Node,c=t.Prefab,_=t.ScrollView,g=t.Animation,p=t.instantiate,u=t.Component},function(t){I=t.default},function(t){h=t.default},function(t){f=t.default},function(t){m=t.default}],execute:function(){var G,S,A,d,T,y,M,b,E,N;a._RF.push({},"85aa7RlMXlBs5xjI973nQck","OtherGames",void 0);var v=l.ccclass,K=l.property;t("default",(G=K({type:o,tooltip:"提示"}),S=K({type:s,tooltip:"內容"}),A=K({type:c,tooltip:"欄位"}),d=K({type:_,tooltip:"scroll view"}),v((M=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_hintLabel",M,r(e)),i(e,"m_contentNode",b,r(e)),i(e,"m_cellPrefab",E,r(e)),i(e,"m_scrollView",N,r(e)),e.m_cells=[],e.m_isLandscape=!0,e}n(e,t);var a=e.prototype;return a.SetTxt=function(){if(m.SetFont(this.m_hintLabel),this.m_isLandscape){var t=h.GetInstance().GetString(I.StringKey.BACKPACK_WARNING3+"1");t=t.replace("{ITEM_NAME}",m.IsTada?h.GetInstance().GetString(I.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(I.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(t)}else{var e=h.GetInstance().GetString(I.StringKey.BACKPACK_WARNING3+"0");e=e.replace("{ITEM_NAME}",m.IsTada?h.GetInstance().GetString(I.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(I.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(e)}for(var n=0;n<this.m_cells.length;n++)this.m_cells[n].SetTxt()},a.OnRotation=function(t){if(this.m_isLandscape=t,t){this.node.getComponent(g).play("Clip_Backpack_OtherGame_Landscape");var e=h.GetInstance().GetString(I.StringKey.BACKPACK_WARNING3+"1");e=e.replace("{ITEM_NAME}",m.IsTada?h.GetInstance().GetString(I.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(I.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(e)}else{this.node.getComponent(g).play("Clip_Backpack_OtherGame_Portrait");var n=h.GetInstance().GetString(I.StringKey.BACKPACK_WARNING3+"0");n=n.replace("{ITEM_NAME}",m.IsTada?h.GetInstance().GetString(I.StringKey.TADA_ITEM_NAME):h.GetInstance().GetString(I.StringKey.JILI_ITEM_NAME)),this.m_hintLabel.string=h.GetInstance().GetString(n)}},a.SetInfo=function(t){for(var e=0;e<t.length;e++)if(t[e].gameid===I.GAME_ID.ENTITY){t.splice(e,1);break}for(var n=0;n<t.length;n++){var i=this.m_cells[n];if(!i){var r=p(this.m_cellPrefab);this.m_contentNode.addChild(r),i=r.getComponent(f),this.m_cells.push(i)}i.node.active=!0,i.SetInfo(t[n]),i.SetArrowNode(0===n),i.SetTxt()}if(this.m_cells.length>t.length)for(var a=t.length;a<this.m_cells.length;a++)this.m_cells[a].node.active=!0},a.ScrollToTop=function(){this.m_scrollView.scrollToTop()},e}(u)).prototype,"m_hintLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"m_contentNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(y.prototype,"m_cellPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(y.prototype,"m_scrollView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,s,a,r,l,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,a=t.ParticleSystem2D,r=t.Mat4,l=t.Vec3,m=t.Component}],execute:function(){var c;e._RF.push({},"bff80rOKv1GOrOwer8GKzUK","ParticleControl",void 0);var _=s.ccclass,h=s.requireComponent,n=(s.property,s.executeInEditMode);t("default",_(c=h(a)(c=n(c=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).m_particlePositionType=null,i.m_particleEmitterType=null,i.m_startSize=null,i.m_startSizeVar=null,i.m_endSize=null,i.m_endSizeVar=null,i.m_posVar=null,i.m_gravity=null,i.m_tangentialAccel=null,i.m_tangentialAccelVar=null,i.m_radialAccel=null,i.m_radialAccelVar=null,i.m_speed=null,i.m_speedVar=null,i.m_startRadius=null,i.m_startRadiusVar=null,i.m_endRadius=null,i.m_endRadiusVar=null,i.m_particleSys=null,i.m_nodeTransformMat=new r(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),i.m_nodeScaleVec=new l(0,0,0),i.m_toScale=1,i.m_positionTypeIsFree=!1,i.m_gate=!1,i}i(e,t);var s=e.prototype;return s.onLoad=function(){this.m_particleSys=this.node.getComponent(a),this.m_particlePositionType=this.m_particleSys.positionType,this.m_particlePositionType==a.PositionType.FREE&&(this.m_positionTypeIsFree=!0,this.m_gate=!0),this.m_positionTypeIsFree&&(this.m_particleEmitterType=this.m_particleSys.emitterMode,this.m_startSize=this.m_particleSys.startSize,this.m_startSizeVar=this.m_particleSys.startSizeVar,this.m_endSize=this.m_particleSys.endSize,this.m_endSizeVar=this.m_particleSys.endSizeVar,this.m_posVar=this.m_particleSys.posVar,this.m_particleEmitterType==a.EmitterMode.GRAVITY?(this.m_gravity=this.m_particleSys.gravity,this.m_tangentialAccel=this.m_particleSys.tangentialAccel,this.m_tangentialAccelVar=this.m_particleSys.tangentialAccelVar,this.m_radialAccel=this.m_particleSys.radialAccel,this.m_radialAccelVar=this.m_particleSys.radialAccelVar,this.m_speed=this.m_particleSys.speed,this.m_speedVar=this.m_particleSys.speedVar):this.m_particleEmitterType==a.EmitterMode.RADIUS&&(this.m_startRadius=this.m_particleSys.startRadius,this.m_startRadiusVar=this.m_particleSys.startRadiusVar,this.m_endRadius=this.m_particleSys.endRadius,this.m_endRadiusVar=this.m_particleSys.endRadiusVar),this.node.getWorldMatrix(this.m_nodeTransformMat),this.m_nodeTransformMat.getScale(this.m_nodeScaleVec),this.m_toScale=this.m_nodeScaleVec.x)},s.update=function(t){this.m_positionTypeIsFree&&(this.node.getWorldMatrix(this.m_nodeTransformMat),this.m_nodeTransformMat.getScale(this.m_nodeScaleVec),this.m_nodeScaleVec.x==this.m_toScale&&this.m_particleSys.startSize==this.m_nodeScaleVec.x*this.m_startSize||(this.m_gate=!0),this.m_gate&&(this.m_gate=!1,this.m_toScale=this.m_nodeScaleVec.x,this.m_particleSys.startSize=this.m_toScale*this.m_startSize,this.m_particleSys.startSizeVar=this.m_toScale*this.m_startSizeVar,this.m_particleSys.endSize=this.m_toScale*this.m_endSize,this.m_particleSys.endSizeVar=this.m_toScale*this.m_endSizeVar,this.m_particleSys.posVar.x=this.m_toScale*this.m_posVar.x,this.m_particleSys.posVar.y=this.m_toScale*this.m_posVar.y,this.m_particleEmitterType==a.EmitterMode.GRAVITY?(this.m_particleSys.gravity.x=this.m_toScale*this.m_gravity.x,this.m_particleSys.gravity.y=this.m_toScale*this.m_gravity.y,this.m_particleSys.tangentialAccel=this.m_toScale*this.m_tangentialAccel,this.m_particleSys.tangentialAccelVar=this.m_toScale*this.m_tangentialAccelVar,this.m_particleSys.radialAccel=this.m_toScale*this.m_radialAccel,this.m_particleSys.radialAccelVar=this.m_toScale*this.m_radialAccelVar,this.m_particleSys.speed=this.m_toScale*this.m_speed,this.m_particleSys.speedVar=this.m_toScale*this.m_speedVar):this.m_particleEmitterType==a.EmitterMode.RADIUS&&(this.m_particleSys.startRadius=this.m_toScale*this.m_startRadius,this.m_particleSys.startRadiusVar=this.m_toScale*this.m_startRadiusVar,this.m_particleSys.endRadius=this.m_toScale*this.m_endRadius,this.m_particleSys.endRadiusVar=this.m_toScale*this.m_endRadiusVar)))},e}(m))||c)||c)||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(t){"use strict";var e,n,i,l,r,a,o,u,p,m,c,y,s,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,o=t._decorator,u=t.Node,p=t.Sprite,m=t.SpriteFrame,c=t.Label,y=t.Button,s=t.Animation,b=t.Component},function(t){f=t.default}],execute:function(){var _,R,g,h,d,A,k,F,z,w,N,S,B,L,M,v,D,j,P,C,I,x,G,H,K,O;a._RF.push({},"c09dcf7sIhGLp5e6Ke0RLDF","PlayerInfo",void 0);var T=o.ccclass,q=o.property;t("default",(_=q({type:u,tooltip:"1bar"}),R=q({type:p,tooltip:"右邊底版"}),g=q({type:m,tooltip:"底版圖片"}),h=q({type:c,tooltip:"排名"}),d=q({type:c,tooltip:"會員名稱12345(暱稱)"}),A=q({type:c,tooltip:"會員名稱12345(account)"}),k=q({type:c,tooltip:"倍率贏分12345"}),F=q({type:c,tooltip:"倍率贏分12345(調整值)"}),z=q({type:y,tooltip:"精彩回顧按紐12345"}),w=q({type:c,tooltip:"(自己)倍率贏分12345"}),N=q({type:y,tooltip:"(自己)精彩回顧按紐12345"}),S=q({type:s,tooltip:"贏分榜動畫"}),T((M=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_barNode",M,l(e)),i(e,"m_boardSprite",v,l(e)),i(e,"m_boardSpriteFrames",D,l(e)),i(e,"m_rankLabel",j,l(e)),i(e,"m_allMemberNickName",P,l(e)),i(e,"m_allMemberAccount",C,l(e)),i(e,"m_allRate",I,l(e)),i(e,"m_allRateAdjust",x,l(e)),i(e,"m_allReplayBtn",G,l(e)),i(e,"m_myRate",H,l(e)),i(e,"m_myReplayBtn",K,l(e)),i(e,"m_playerAni",O,l(e)),e}n(e,t);var a=e.prototype;return a.OnRotation=function(t){t?this.node.getComponent(s).play("playerL"):this.node.getComponent(s).play("playerS")},a.PlayAnim=function(t){this.m_playerAni.play(t)},a.SetRank=function(t){this.m_rankLabel.string=t.toString(),this.m_rankLabel.font||(this.m_rankLabel.font=f.DefaultFont);var e=t%2;this.m_barNode.active=!Boolean(e),this.m_boardSprite.spriteFrame=this.m_boardSpriteFrames[e]},r(e,[{key:"AllMemberNickName",set:function(t){this.m_allMemberNickName.string=t}},{key:"AllMemberAccount",set:function(t){this.m_allMemberAccount.string=t}},{key:"AllRate",set:function(t){this.m_allRate.string=t,this.m_allRate.fontFamily=f.DollarFontFamily}},{key:"AllRateAdjust",set:function(t){this.m_allRateAdjust.string=t,this.m_allRateAdjust.fontFamily=f.DollarFontFamily}},{key:"MyRate",set:function(t){this.m_myRate.string=t,this.m_myRate.fontFamily=f.DollarFontFamily}},{key:"AllReplayBtn",get:function(){return this.m_allReplayBtn}},{key:"MyReplayBtn",get:function(){return this.m_myReplayBtn}}]),e}(b)).prototype,"m_barNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(L.prototype,"m_boardSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"m_boardSpriteFrames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(L.prototype,"m_rankLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"m_allMemberNickName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"m_allMemberAccount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(L.prototype,"m_allRate",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"m_allRateAdjust",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"m_allReplayBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"m_myRate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(L.prototype,"m_myReplayBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(L.prototype,"m_playerAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayReadyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./Define.ts","./Wallet.ts","./LocaleStringManager.ts","./AppManager.ts","./SoundManager.ts","./Tools.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,l,u,c,p,m,f,_,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Component},function(e){u=e.default},function(e){c=e.default},function(e){p=e.walletManger},function(e){m=e.default},function(e){f=e.default},function(e){_=e.default},function(e){P=e.default}],execute:function(){var E,y,d,h,S,v;r._RF.push({},"166d49I/xxFyq+fE3NaHuZo","PlayReadyComponent",void 0);var C=o.ccclass,g=o.property;e("default",(E=g({type:s,tooltip:"遊戲標題"}),y=g({type:s,tooltip:"開始按鈕文字圖"}),C((S=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_gameTitleSprite",S,a(t)),i(t,"m_playBtnTxt",v,a(t)),t.m_visiableCb=null,t.m_featuresCb=null,t}n(t,e);var r=t.prototype;return r.Init=function(e,t,n){this.m_gameTitleSprite.spriteFrame=e,this.m_visiableCb=t,this.m_featuresCb=n;var i=m.GetInstance().GetCommonAtlas();i&&this.m_playBtnTxt&&(this.m_playBtnTxt.spriteFrame=i.getSpriteFrame("PlayReady_Text"))},r.OnClose=function(){if(_.getInstance().Play(c.AudioClips.COMMON_BTN),this.m_visiableCb){var e=this.m_visiableCb();if(this.node.active=e,f.ShowSkyBar(this.node.parent),!e)u.getInstance().SendPhaseEnteringEvent(this.FormPhaseEventParams(c.PHASE_ENTERING_EVENT.PLAY_LEADING,c.PHASE_RESULT.SUCCESS)),P.strip(p.RawCoin)>=P.strip(p.RawBetList[0])&&u.getInstance().SendPhaseEnteringEvent(u.FormPhaseEventParams(Number(c.AID),Number(c.NOW_GAME_ID),c.VERSION,c.PHASE_ENTERING_EVENT.BALANCE_ENOUGH,c.PHASE_RESULT.SUCCESS,P.GetLinkParameterByName("ssoKey"),c.API_ID))}},r.Hide=function(e){void 0===e&&(e=!1),_.getInstance().Play(c.AudioClips.COMMON_BTN),this.node.active=!1,e||this.m_featuresCb&&this.m_featuresCb()},r.Show=function(){this.node.active=!0},r.FormPhaseEventParams=function(e,t){var n=-1,i=0,a=P.GetLinkParameterByName("ssoKey");return c.APP&&c.APP.userInfo&&(n=c.APP.userInfo.aid,i=c.APP.userInfo.apiid),u.FormPhaseEventParams(n,Number(c.NOW_GAME_ID),c.VERSION,e,t,a,i.toString())},t}(l)).prototype,"m_gameTitleSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"m_playBtnTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStruct.ts"],(function(t){"use strict";var _,e,E,F;return{setters:[function(t){_=t.inheritsLoose,e=t.wrapNativeSuper},function(t){E=t.cclegacy},function(t){F=t.ConnectionDataStruct}],execute:function(){var T;t("ItemReqData",void 0),E._RF.push({},"db7b2IzZCBKWrdYdZvLrInD","Protocol",void 0),function(t){var e=function(){this.token="",this.aid=-1,this.lang=0,this.currencynumber=0};t.aid=e;t.ItemUse=function(){this.aid=-1,this.token="",this.itemindex=0,this.itemid=0,this.amount=0,this.currencynumber=0};var E=function(t){function e(){var _;return(_=t.call(this)||this).type=F.ErrorHandleType.Ignore,_.method=F.RequestMethod.Post,_.url="/item/ItemListProto",_.reqData=null,_}return _(e,t),e}(F.ProtocolData);t.ItemDataReq=E;var T=function(t){function e(){var _;return(_=t.call(this)||this).type=F.ErrorHandleType.Ignore,_.method=F.RequestMethod.Post,_.url="/item/UseCardProto",_.reqData=null,_}return _(e,t),e}(F.ProtocolData);t.ItemUseReq=T;var i=function(t){function E(){var _;return(_=t.call(this)||this).method=F.RequestMethod.Get,_.url="/item/checknew",_.type=F.ErrorHandleType.Ignore,_.info=new e,_}return _(E,t),E}(F.ProtocolData);t.ItemUpdate=i;var n=function(t){function e(){var _;return(_=t.call(this)||this).type=F.ErrorHandleType.Ignore,_.method=F.RequestMethod.Post,_.url="/item/GetMailProto",_.reqData=null,_}return _(e,t),e}(F.ProtocolData);t.GetItemMail=n;var r=function(t){function E(){var _;return(_=t.call(this)||this).method=F.RequestMethod.Get,_.url="/item/setread",_.type=F.ErrorHandleType.Ignore,_.info=new e,_}return _(E,t),E}(F.ProtocolData);t.GetItemMailRead=r;var I=function(t){function e(){var _;return(_=t.call(this)||this).type=F.ErrorHandleType.Ignore,_.method=F.RequestMethod.Post,_.url="/item/AllGameItemListProto",_.reqData=null,_}return _(e,t),e}(F.ProtocolData);t.ItemAllGameDateReq=I}(T||(T=t("ItemReqData",{})));t("Ack",(function(){this.info=void 0,this.ret=-1})),t("ItemAck",function(t){function e(){for(var _,e=arguments.length,E=new Array(e),F=0;F<e;F++)E[F]=arguments[F];return(_=t.call.apply(t,[this].concat(E))||this).result=-1,_.playeritemdata=void 0,_}return _(e,t),e}(e(Array))),t("MsgAck",function(t){function e(){for(var _,e=arguments.length,E=new Array(e),F=0;F<e;F++)E[F]=arguments[F];return(_=t.call.apply(t,[this].concat(E))||this).result=-1,_.usermailackdata=void 0,_.isread=-1,_}return _(e,t),e}(e(Array))),t("UseAck",(function(){this.result=-1,this.itemid=0,this.amount=0,this.bet=0,this.betlevel=0,this.spinpaytype=0,this.wintype=0,this.winmultiplier=0,this.star=0,this.icon=0})),t("AllTabAck",(function(){this.result=-1,this.canuseitem=void 0})),t("ItemData",function(t){function e(){for(var _,e=arguments.length,E=new Array(e),F=0;F<e;F++)E[F]=arguments[F];return(_=t.call.apply(t,[this].concat(E))||this).itemindex=0,_.itemid=0,_.amount=0,_.gameid=0,_.lvmin=0,_.lvmax=0,_.coinlimit=0,_.dailyremaintimes=0,_.start=0,_.expired=0,_.bet=0,_.betlevel=0,_.spinpaytype=0,_.givetype=0,_.wintype=0,_.winmultiplier=0,_.winmaxmag=0,_.winmagset=0,_.itemvalue=0,_.itemname="",_.icon=0,_.banreason=0,_.itemdesc="",_.star=0,_.source=0,_.gamename="",_}return _(e,t),e}(e(Array))),t("MsgData",function(t){function e(){for(var _,e=arguments.length,E=new Array(e),F=0;F<e;F++)E[F]=arguments[F];return(_=t.call.apply(t,[this].concat(E))||this).idx=0,_.accountid=0,_.amount=0,_.source=0,_.content=void 0,_.created=0,_.isread=0,_.createtime="",_}return _(e,t),e}(e(Array))),t("AllTabData",function(t){function e(){for(var _,e=arguments.length,E=new Array(e),F=0;F<e;F++)E[F]=arguments[F];return(_=t.call.apply(t,[this].concat(E))||this).gameid=0,_.ownamount=0,_.canamount=0,_.minitemindex=0,_}return _(e,t),e}(e(Array))),t("MsgContent",(function(){this.action=0,this.itemid=0,this.gameid=0,this.amount=0,this.createtime="",this.missionType=0,this.msg="",this.star=0,this.title=""})),t("MissionMsg",(function(){this.Kind=0,this.Count=0,this.Bet=0})),t("RankMsg",(function(){this.Desc="",this.Number=""}));var i=t("default",(function(){}));i.UIName={MASK:"mask",BTN_CLOSE:"btn_close",TABS:"tabs",TAB_GAME:"tab_game",TAB_ALL:"tab_all",TAB_WIKI:"tab_wiki",LABEL_GAME:"label_game",LABEL_ALL:"label_all",LABEL_WIKI:"label_wiki",ITEMS:"items",INFO:"info",MASK2:"mask2",BTN_CLOSE2:"btn_close2",TITTLE:"tittle",IMG:"img",BET:"bet",VALUE:"value",VIP:"vip",PROPERTY:"property",CONTENT:"content",BTN_USE:"btn_use"},i.Language={cn:0,tw:1,en:2,th:3,vn:4,id:5,mm:6,jp:7,hi:8,ta:2,ms:10,ko:11,bn:12,es:13,pt:14,it:15,se:16,de:17,da:18,ro:19,nl:20,trTR:21,ruRU:22,grGR:23,frFR:24},i.MsgType=[[],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_"],["","PRIVATE_MSG_MISSION_GET_","PRIVATE_MSG_MISSION_GET_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_SIGN_GET_"],["","PRIVATE_MSG_RANK_GET_","PRIVATE_MSG_RANK_GET_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_TRIAL_GET_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_GET_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_Collect_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"],["","PRIVATE_MSG_ITEM_GET_","PRIVATE_MSG_ITEM_USE_","PRIVATE_MSG_ITEM_TIMEOUT_"]],i.MissionKind="PRIVATE_MSG_MISSION_KIND_",i.Color=[[],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFFFFF"],["FFFFFF","FFFFFF","FFFFFF"],["FFFFFF","FFFFFF","FFFFFF"],["FFFFFF","FFFFFF","FFFFFF"],["FFFFFF","FFFFFF","FFFFFF"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"],["FFFFFF","FEFFA3","FFA3DD","939393"]],i.Ret={SERVER_SUCCESS:0,SERVER_ERROR_SEATE:799,SERVER_NOUSE:899,SERVER_MAINTAIN:998,SERVER_SHUTDOWN:999,SERVER_NEED_AID:1001,SERVER_NEED_LOGIN:1002,SERVER_TOKEN_ERROR:1003},i.ItemAck={ITEM_USESUCCESS:0,ITEM_NOTONLINE:500,ITEM_VIPTOOLOW:501,ITEM_VIPTOOHIGH:502,ITEM_MONEYNOTENOUGH:503,ITEM_BADEFFECTIVETIME:504,ITEM_BADEXPIREDTIME:505,ITEM_BADVENDOR:506,ITEM_OVERTIMES:507,ITEM_GETITEMSDBFAIL:508,ITEM_USEITEMSDBFAIL:509,ITEM_RTPFAIL:520},i.Source={COMMON:1,UNKNOW:2,MISSION:3,SIGN:4,RANKING:5,TRIAL:6,COLLECT:17,LEVEL:20},E._RF.pop()}}}));

System.register("chunks:///_virtual/Rankboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./EnvironmentConfig.ts","./LocaleStringManager.ts","./SoundManager.ts","./Tools.ts","./RankboardItem.ts","./MsgBox.ts","./BottombarManager.ts","./RankboardPage.ts","./RankboardReward.ts","./Wallet.ts","./RankTestAck.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,l,h,c,m,g,d,u,p,_,k,f,R,N,T,y,w,b,S,C,v,I,P,B,D,E,L,A,O,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,h=t.Label,c=t.Sprite,m=t.Prefab,g=t.error,d=t.input,u=t.Input,p=t.KeyCode,_=t.log,k=t.Layout,f=t.UITransform,R=t.tween,N=t.UIOpacity,T=t.ScrollView,y=t.Animation,w=t.instantiate,b=t.Component},function(t){S=t.default},function(t){C=t.default},function(t){v=t.default},function(t){I=t.default},function(t){P=t.default},function(t){B=t.default},function(t){D=t.default},function(t){E=t.default},function(t){L=t.default},function(t){A=t.default},function(t){O=t.walletManger},function(t){G=t.default}],execute:function(){var M,K,F,z,x,U,V,W,Y,H,q,X,J,Z,j,Q,$,tt,et,nt,at,it,ot,rt,st,lt,ht,ct,mt,gt,dt,ut,pt,_t,kt,ft,Rt,Nt,Tt,yt,wt,bt,St,Ct,vt,It,Pt,Bt,Dt,Et,Lt,At,Ot,Gt,Mt,Kt,Ft,zt,xt,Ut,Vt,Wt,Yt,Ht,qt,Xt,Jt;r._RF.push({},"8196bzY0KVOEqmRgGB+J5d5","Rankboard",void 0);var Zt,jt=s.ccclass,Qt=s.property;!function(t){t[t.blank=0]="blank",t[t.rank=1]="rank",t[t.award=2]="award",t[t.activity=3]="activity"}(Zt||(Zt={}));t("default",(M=Qt(l),K=Qt(l),F=Qt(l),z=Qt(l),x=Qt(l),U=Qt(l),V=Qt({type:l,tooltip:"各頁籤上顯示check亮起的部分"}),W=Qt({type:l,tooltip:"各頁籤對應打開的頁面"}),Y=Qt(l),H=Qt(h),q=Qt(h),X=Qt(h),J=Qt(c),Z=Qt(c),j=Qt(c),Q=Qt(l),$=Qt(l),tt=Qt(l),et=Qt(l),nt=Qt([m]),at=Qt([l]),it=Qt(l),ot=Qt([h]),rt=Qt(l),st=Qt(h),lt=Qt(l),ht=Qt(l),ct=Qt({type:l,tooltip:"rank內頁按鈕"}),mt=Qt({type:l,tooltip:"reward內頁按鈕"}),gt=Qt({type:h,tooltip:"rank內頁按鈕文字"}),dt=Qt({type:h,tooltip:"reward內頁按鈕文字"}),ut=Qt({type:m,tooltip:"共用活動"}),jt(((Jt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"listNode",kt,i(e)),a(e,"listNode_TADA_Rank",ft,i(e)),a(e,"listNode_TADA_Reward",Rt,i(e)),a(e,"tagNode1",Nt,i(e)),a(e,"tagNode2",Tt,i(e)),a(e,"tagNode3",yt,i(e)),a(e,"pageNodesCheckBg",wt,i(e)),a(e,"rankingPages",bt,i(e)),a(e,"myRankNode",St,i(e)),a(e,"myRankNode_TADA_Rank",Ct,i(e)),a(e,"myRankNode_TADA_Name",vt,i(e)),a(e,"myRankNode_TADA_Points",It,i(e)),a(e,"m_img_tittle",Pt,i(e)),a(e,"m_img_Tags",Bt,i(e)),a(e,"m_img_Tags_On",Dt,i(e)),a(e,"scrollBar",Et,i(e)),a(e,"scrollBar_Rank",Lt,i(e)),a(e,"scrollBar_Reward",At,i(e)),a(e,"scrollView",Ot,i(e)),a(e,"rankItemPrefab",Gt,i(e)),a(e,"webViewPos",Mt,i(e)),a(e,"mask",Kt,i(e)),a(e,"gameDesc",Ft,i(e)),a(e,"scoreBonusNode",zt,i(e)),a(e,"scoreBonusText",xt,i(e)),a(e,"CloseNode",Ut,i(e)),a(e,"maskNode",Vt,i(e)),a(e,"m_rankInPageBtns",Wt,i(e)),a(e,"m_rewardInPageBtns",Yt,i(e)),a(e,"m_rankInPageBtnsTxt",Ht,i(e)),a(e,"m_rewardInPageBtnsTxt",qt,i(e)),a(e,"m_common_WebPage",Xt,i(e)),e.show=!1,e.myRank=null,e.myRank_old=null,e.rankScore=[],e.pageData=[],e.page=Zt.rank,e.inPage=0,e.scrollShowMax=5,e.updateTime=0,e.bActionStart=!1,e.accountName="",e.nickName="",e.myRankitemNode=null,e.actionType=1,e.iconNodes=void 0,e.iconTime=void 0,e.m_isLandscape=void 0,e.webPage=void 0,e.inited=!1,e.isRankChange=!1,e.isRankStartMode=!1,e.rewardList=[],e.rewardRankStr=[],e.rankList=[],e.canAutoShowUI=!1,e.m_bottombar=void 0,e.m_nickNameCount=0,e.scoreBonus=void 0,e.rankRawData=void 0,e._eventCb=void 0,e.eventType={Open:1,Close:2},e.m_isInitEnd=!1,e.m_urlParam="",e.m_changeNameTime=0,e.m_currentTouchName=0,e.firstOpen=!0,e.autoShowed=!0,e}n(e,t);var r=e.prototype;return r.callEventCb=function(t){this._eventCb&&this._eventCb(t)},e.OnExit=function(){this.actionStartTime=null,this.actionEndTime=null,this.m_gameid=null,this.m_aid=null,this.m_apiid=null,this.m_siteid=null,this.readyShowWebPage=!1,this.ReqMail=null},r.onLoad=function(){},r.start=function(){var t=this;P.SetFont(this.gameDesc[0]),P.SetFont(this.gameDesc[1]),this.scoreBonusText&&P.SetFont(this.scoreBonusText),this.CloseNode.on(l.EventType.TOUCH_END,(function(e){t.toolEvent(null,"2")})),this.maskNode.on(l.EventType.TOUCH_END,(function(e){t.toolEvent(null,"2")})),this.tagNode1.on(l.EventType.TOUCH_END,(function(e){t.m_currentTouchName!=Zt.rank&&(t.BtnSelect(Zt.rank),t.toolEvent(null,"1"))})),this.tagNode2.on(l.EventType.TOUCH_END,(function(e){t.m_currentTouchName!=Zt.award&&(t.BtnSelect(Zt.award),t.toolEvent(null,"4"))})),this.tagNode3.on(l.EventType.TOUCH_END,(function(e){t.m_currentTouchName!=Zt.activity&&t.toolEvent(null,"5")})),this.m_rankInPageBtns[0]&&(this.m_rankInPageBtns[0].on(l.EventType.TOUCH_END,(function(e){g("rankInPageBtns 0"),t.SetInPageBtnOn(0),t.getRankInfo(0)})),this.m_rankInPageBtns[1].on(l.EventType.TOUCH_END,(function(e){g("rankInPageBtns 1"),t.SetInPageBtnOn(1),t.getRankInfo(1)})),this.m_rewardInPageBtns[0].on(l.EventType.TOUCH_END,(function(e){g("rewardInPageBtns 0"),t.SetInPageBtnOn(0),t.getRankInfo(0),t.updateReward()})),this.m_rewardInPageBtns[1].on(l.EventType.TOUCH_END,(function(e){g("rewardInPageBtns 1"),t.SetInPageBtnOn(1),t.getRankInfo(1),t.updateReward()}))),C.ENV_TYPE===S.EVN.TEST&&d.on(u.EventType.KEY_DOWN,(function(t){switch(t.keyCode){case p.KEY_Q:S.TestRankType=1;break;case p.KEY_W:S.TestRankType=2;break;case p.KEY_E:S.TestRankType=3;break;case p.KEY_R:S.TestRankType=4}_("input Define.TestRankType:",S.TestRankType)}))},r.update=function(t){var n=this;if(this.updateTime-=t,this.updateTime<=0){var a=new Date;C.ENV_TYPE===S.EVN.TEST?this.updateTime=10:this.updateTime=e.actionStartTime&&e.actionStartTime<=a?120:300,e.getRankData(e.m_gameid,e.m_apiid,e.m_aid,e.m_siteid,(function(t){if(t&&""==t.Error&&t.Data){for(var a=t.Data[0].StartTimestamp,i=t.Data[0].EndedTimestamp,o=0;o<t.Data.length;o++)a>t.Data[o].StartTimestamp&&(a=t.Data[o].StartTimestamp),i<t.Data[o].EndedTimestamp&&(i=t.Data[o].EndedTimestamp);e.actionStartTime=new Date(1e3*a),e.actionEndTime=new Date(1e3*i),n.rankRawData=t,_(" this.rankRawData:",n.rankRawData)}}))}if(this.show&&(this.page,Zt.rank),this.updateRankContent(t),D.getInstance().IsShow()&&this.closeUI(),this.show&&this.page==Zt.rank)if(this.scoreBonus){var i=new Date(this.scoreBonus.Expire),o=new Date,r=i.getTime()-o.getTime();if(r>0){if(this.scoreBonusNode&&(this.scoreBonusNode.active=!0),this.scoreBonusText){var s=Math.floor(r/36e5),l=Math.floor(r/1e3/60)%60,h="";h=s>0?s+"H":"",h+=l>=0?l+"m":"",this.scoreBonusText.string=P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_BONUS_REMAIN_TIME),this.scoreBonus.Ratio,h),P.SetFont(this.scoreBonusText)}}else this.scoreBonusNode&&(this.scoreBonusNode.active=!1)}else this.scoreBonusNode&&(this.scoreBonusNode.active=!1)},e.init=function(t,e,n,a,i){var o=this;this.m_aid=t,this.m_apiid=e,this.m_gameid=n,this.m_siteid=a,this.getRankData(this.m_gameid,this.m_apiid,this.m_aid,this.m_siteid,(function(t){if(t&&""==t.Error&&t.Data){for(var e=t.Data[0].StartTimestamp,n=t.Data[0].EndedTimestamp,a=0;a<t.Data.length;a++)e>t.Data[a].StartTimestamp&&(e=t.Data[a].StartTimestamp),n<t.Data[a].EndedTimestamp&&(n=t.Data[a].EndedTimestamp);var r=new Date(1e3*e),s=new Date(1e3*n);o.actionStartTime=r,o.actionEndTime=s;var l=new Date;if(C.ENV_TYPE===S.EVN.TEST)i(!0);else if(l<r){var h=r.getTime()-l.getTime(),c=Math.floor(h/864e5);i(c<7)}else if(l>s){var m=l.getTime()-s.getTime();i(m<=864e5)}else i(!0)}else i(!1)}))},r.initUI=function(t,n,a,i,o,r,s,l){var h=this;this.setNickname(i[0],i[1]),this.iconNodes=o,this.iconTime=r,P.SetFont(this.iconTime),this.m_urlParam="&game="+e.m_gameid+"&token="+n+"&ratio="+O.Ratio,this.m_rankInPageBtns[0]&&this.SetInPageBtnOn(0),this.OnRotation(s);this.schedule((function e(){t.IsBackpackStringLoaded()&&(h.unschedule(e),h.m_bottombar=t,h.getRankInfo(),h.SetTxt(),l&&l(),h.m_isInitEnd=!0)}),1)},r.SetInPageBtnTxt=function(){for(var t=0;t<this.m_rankInPageBtns.length;t++)if(this.pageData[t]){var e=S.StringKey.RANK_TYPE+this.pageData[t].RankingType.toString();this.m_rankInPageBtnsTxt[t].string=v.GetInstance().GetString(e),this.m_rankInPageBtnsTxt[t+2].string=v.GetInstance().GetString(e),this.m_rewardInPageBtnsTxt[t].string=v.GetInstance().GetString(e),this.m_rewardInPageBtnsTxt[t+2].string=v.GetInstance().GetString(e)}},r.SetInPageBtnOn=function(t){switch(t){case 0:this.m_rankInPageBtns[0].getChildByName("On").active=!0,this.m_rankInPageBtns[1].getChildByName("On").active=!1,this.m_rewardInPageBtns[0].getChildByName("On").active=!0,this.m_rewardInPageBtns[1].getChildByName("On").active=!1;break;case 1:this.m_rankInPageBtns[0].getChildByName("On").active=!1,this.m_rankInPageBtns[1].getChildByName("On").active=!0,this.m_rewardInPageBtns[0].getChildByName("On").active=!1,this.m_rewardInPageBtns[1].getChildByName("On").active=!0;break;default:this.m_rankInPageBtns[0].getChildByName("On").active=!0,this.m_rankInPageBtns[1].getChildByName("On").active=!1,this.m_rewardInPageBtns[0].getChildByName("On").active=!0,this.m_rewardInPageBtns[1].getChildByName("On").active=!1}},r.SetTxt=function(){var t=v.GetInstance().GetCommonAtlas();null!=t&&(this.m_img_tittle&&(this.m_img_tittle.spriteFrame=t.getSpriteFrame("Ranking_Title")),this.m_img_Tags[0]&&this.m_img_Tags_On[0]&&(this.m_img_Tags[0].spriteFrame=t.getSpriteFrame("Ranking_Rank"),this.m_img_Tags[1].spriteFrame=t.getSpriteFrame("Ranking_Reward"),this.m_img_Tags[2].spriteFrame=t.getSpriteFrame("Ranking_Info"),this.m_img_Tags_On[0].spriteFrame=t.getSpriteFrame("Ranking_Rank_On"),this.m_img_Tags_On[1].spriteFrame=t.getSpriteFrame("Ranking_Reward_On"),this.m_img_Tags_On[2].spriteFrame=t.getSpriteFrame("Ranking_Info_On")),this.rankingPages[Zt.rank].getComponent(L).SetTxt(),this.rankingPages[Zt.award].getComponent(A).SetTxt())},r.CloseIcon=function(){this.iconNodes&&(this.iconNodes[0].active=!1,this.iconNodes[1].active=!1)},r.ReloadData=function(){this.m_isInitEnd&&this.getRankInfo()},r.openUI=function(){if(this.iconNodes[0].active){if(this.bActionStart)this.BtnSelect(),this.toolEvent(null,"1");else if(this.m_bottombar){var t=this.m_bottombar.node.getComponent(E),e=C.ACTION_URL;switch(S.WebviewType){case S.EventWebviewType.Promote:e=C.PROMOTE_URL}t.OpenCommonWebPage(e+this.m_urlParam,"",!0)}this.getRankInfo(),this.OnRotation(this.m_isLandscape)}},r.closeUI=function(){this.show?this.toolEvent(null,"2"):this.toolEvent(null,"6")},r.isOpen=function(){return this.show},r.firstGetRankInfo=function(){var t=this;e.getRankData(e.m_gameid,e.m_apiid,e.m_aid,e.m_siteid,(function(e){e&&""==e.Error&&(t.rankRawData=e,t.getRankInfo())}))},r.toolEvent=function(t,e){switch(e){case"1":I.getInstance().Play(S.AudioClips.COMMON_BTN),this.node.active=!0,C.ENV_TYPE===S.EVN.TEST&&(this.bActionStart=!0),this.bActionStart?(this.show=!0,this.callEventCb(this.eventType.Open),this.page==Zt.rank?this.firstGetRankInfo():this.toolEvent(null,"3"),this.firstOpen=!1):(this.BtnSelect(Zt.activity),this.toolEvent(null,"5"));break;case"2":if(I.getInstance().Play(S.AudioClips.COMMON_BTN),this.show=!1,this.node.active=!1,this.callEventCb(this.eventType.Close),this.m_bottombar)this.m_bottombar.node.getComponent(E).CloseCommonText();break;case"3":I.getInstance().Play(S.AudioClips.COMMON_BTN),this.updateRank();break;case"4":I.getInstance().Play(S.AudioClips.COMMON_BTN),this.isRankStartMode||this.updateReward();break;case"5":if(I.getInstance().Play(S.AudioClips.COMMON_BTN),this.m_bottombar){var n=this.m_bottombar.node.getComponent(E),a=C.ACTION_URL;switch(S.WebviewType){case S.EventWebviewType.Promote:a=C.PROMOTE_URL}n.OpenCommonWebPage(a+this.m_urlParam,"",!0)}}},r.BtnSelect=function(t){void 0===t&&(t=Zt.rank),this.m_currentTouchName=t;for(var e=0;e<this.pageNodesCheckBg.length;e++)this.pageNodesCheckBg[e]&&(this.pageNodesCheckBg[e].active=!1);this.pageNodesCheckBg[t]&&(this.pageNodesCheckBg[t].active=!0);for(var n=0;n<this.rankingPages.length;n++)this.rankingPages[n]&&(this.rankingPages[n].active=!1);this.rankingPages[t]&&(this.rankingPages[t].active=!0,this.getRankInfo(),this.OnRotation(this.m_isLandscape))},e.getRankData=function(t,e,n,a,i){var o=this;g("getRankData gameid:",t);var r=new XMLHttpRequest;r.open("GET",C.RANKING_URL2+"?GameId="+t+"&Games="+t+"&ApiId="+e+"&Type=1&AccountId="+n+"&siteId="+a+"&SubAgentCode="+S.SUB_AGENT_CODE+"&Lang="+P.ConvertLanguageToFull(v.CurrLang)),r.send(),r.onload=function(){if(4==r.readyState&&200==r.status){var t;if(C.ENV_TYPE===S.EVN.TEST)switch(S.TestRankType){case 1:case 2:case 3:case 4:break;default:t=G.RANK0}else t=JSON.parse(r.responseText);o.CheckAwardNotice(t.Data)&&o.ReqMail&&o.ReqMail(),t.NeedWebView?S.AddEventWebview&&S.AddEventWebview():S.RemoveEventWebview&&S.RemoveEventWebview(),S.WebviewType=t.ExtraWebView?t.ExtraWebView:S.EventWebviewType.None;var e=t.Tag;if(e&&e.Ratio>1){var n={contextKey:"",showCancelBtn:!1,showConfirmBtn:!0,showCloseBtn:!1};if(n.confirmString=v.GetInstance().GetString(S.StringKey.RANK_CHECK),n.confirmCB=function(){o.readyShowWebPage=!0},1==e.Notice){var a=e.Lasting/60;n.contextKey=P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_BONUS_MSG),e.Ratio,P.strip(a,2)),D.getInstance().PushMessageBoxSetting(n,!0)}}i(t)}},r.onerror=function(){i()},r.timeout=1e4,r.ontimeout=function(){i()}},e.CheckAwardNotice=function(t){if(t)for(var e=0;e<t.length;e++)if(t[e].AwardNotice)return!0;return!1},r.getRankInfo=function(t){if(void 0===t&&(t=this.inPage),this.rankRawData){var e=this.rankRawData;if(""==e.Error){for(var n in this.pageData=e.Data,1==this.pageData.length&&t>=1&&(t=0),this.pageData.length>1&&(this.m_rankInPageBtns[0]&&this.SetInPageBtnTxt(),this.iconTime.node.active=!0),this.inPage=t,this.rankScore.length=0,0==this.pageData[t].Sn&&(this.pageData[t].Users=[]),this.pageData[t].Users){var a=new $t;a.rank=(parseInt(n)+1).toString(),a.score=this.pageData[t].Users[n].Score;var i=this.pageData[t].Users[n].Nickname;if(i=i.split("@")[0],a.name=i,a.nickName=this.pageData[t].Users[n].NewNickname,this.accountName!=i){var o="****"+i.substring(4);a.name=o}this.rankScore.push(a)}this.myRank&&(this.myRank_old=new $t,this.myRank_old.rank=this.myRank.rank,this.myRank_old.score=this.myRank.score,this.myRank_old.name=this.accountName,this.myRank_old.nickName=this.nickName),this.myRank=new $t,this.myRank.rank="0"==this.pageData[t].Score||parseInt(this.pageData[t].Number)>500?"500+":this.pageData[t].Number,this.myRank.score=this.pageData[t].Score,this.myRank.name=this.accountName,this.myRank.nickName=this.nickName,this.setIsRankChange(),this.rewardList=function(t){if(t){var e=[];return t.forEach((function(t){e.push({up:t.BeginRanking,down:t.EndRanking-1,rewardNum:t.Amount,rewardType:t.PrizeType,rewardSubInfo:t.PrizeSubType,rewardDetail:t.Extra,amount:t.Amount})})),e}return[]}(this.pageData[t].Prizes);var r=this.pageData[t].Tag;r&&r.Ratio>1?this.scoreBonus=r:this.scoreBonus=null,this.gameDesc[0].string=v.GetInstance().GetString(S.StringKey.RANK_TOTAL_WIN_LIST),P.SetFont(this.gameDesc[0]),this.pageData[t].VipGroup?this.gameDesc[1].string="LV "+this.pageData[t].VipGroup[0]+" ~ LV "+this.pageData[t].VipGroup[this.pageData[t].VipGroup.length-1]:this.gameDesc[1].string=v.GetInstance().GetString(S.StringKey.RANK_REFRESH),P.SetFont(this.gameDesc[1]),this.setRewardListStr(),this.updateRank(),this.updateRankContent(0),this.inited=!0,this.OnRotation(this.m_isLandscape)}}},r.GetRank=function(t){var e=0;return t&&"500+"!=t.rank&&(e=Number(t.rank)),e},r.setIsRankChange=function(){this.isRankChange=!1,this.GetRank(this.myRank_old)!=this.GetRank(this.myRank)&&(this.isRankChange=!0)},r.updateRank=function(){var t=this;this.page=Zt.rank;var e=this.listNode_TADA_Rank;if(e.removeAllChildren(),this.rankList.length=0,this.show,this.updateTime<=0)this.getRankInfo();else{this.myRankNode_TADA_Rank.string=this.myRank.rank,this.myRankNode_TADA_Points.string=this.myRank.score>0?this.myRank.score.toString():v.GetInstance().GetString(S.StringKey.RANK_OUT_OF_RANK),this.myRankNode_TADA_Name.string=this.myRank.name,P.SetFont(this.myRankNode_TADA_Rank),P.SetFont(this.myRankNode_TADA_Points),P.SetFont(this.myRankNode_TADA_Name);for(var n=0,a=e.getComponent(k).spacingY,i=this.getRankNode("3").getComponent(f).contentSize,o=0;o<this.rankScore.length;++o){var r=new l;r.name=o.toString(),r.addComponent(f),r.getComponent(f).width=i.width,r.getComponent(f).height=i.height,r.parent=e,P.SetZIndex(r,10*o);var s=new te;s.localNode=r,s.info=this.rankScore[o],s.height=i.height+a,this.rankList.push(s),n+=s.height}if(e.getComponent(f).height=n,this.isRankChange){if(!this.isRankStartMode){this.isRankStartMode=!0;for(var h=-1,c=0;c<this.rankList.length;++c)P.SetZIndex(this.rankList[c].localNode,10*c),this.myRank&&this.rankScore[c].rank==this.myRank.rank&&(h=c);if(-1==h)this.isRankStartMode=!1,this.isRankChange=!1,this.myRank_old=null;else{var m=0,g=0;0<=h&&h<this.rankList.length&&(0==(g=(this.rankList.length-h)/this.rankList.length)&&(g=1),m=.5),R(this.node).call((function(){t.rankList[h].localNode.getComponent(N)||t.rankList[h].localNode.addComponent(N),t.rankList[h].localNode.getComponent(N).opacity=1,t.rankList[h].localNode.getComponent(f).height=0})).call((function(){m>0&&(t.scrollBar&&t.scrollBar.getComponent(T).scrollToPercentVertical(g,m,!1),t.scrollBar_Rank&&t.scrollBar_Rank.getComponent(T).scrollToPercentVertical(g,m,!1))})).delay(m).delay(.5).call((function(){m>0&&R(t.rankList[h].localNode.getComponent(f)).to(.3,{height:82}).call((function(){t.rankList[h].localNode.getComponent(f).height=82})).start()})).delay(.3).call((function(){m>0&&t.rankList[h].localNode.getComponent(N)&&(t.rankList[h].localNode.getComponent(N).opacity=255)})).delay(.1).call((function(){m>0&&(t.m_isLandscape?t.rankList[h].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_L_Show"):t.rankList[h].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_P_Show"))})).delay(.57).call((function(){t.isRankStartMode=!1,t.isRankChange=!1,t.myRank_old=null})).start()}}}else this.scrollBar&&this.scrollBar.getComponent(T).scrollToTop(),this.scrollBar_Rank&&this.scrollBar_Rank.getComponent(T).scrollToTop()}},r.UpdateActionTime_TADA=function(){if(C.ENV_TYPE===S.EVN.TEST)return this.bActionStart=!0,this.actionType=2,this.iconTime.string=v.GetInstance().GetString(S.StringKey.RANK_LESS_X_MIN),void(this.pageData[0]&&(1==this.pageData.length?this.iconTime.node.active=!0:this.iconTime.node.active=!1));this.updateActionTime()},r.updateActionTime=function(){if(e.actionStartTime&&this.iconTime){this.pageData[0]&&(1==this.pageData.length?this.iconTime.node.active=!0:this.iconTime.node.active=!1),this.m_bottombar&&!this.m_bottombar.IsInTrial&&(this.iconNodes[0].active=!0,this.iconNodes[1].active=!0);var t=this.iconTime.node.getScale().y;this.iconTime.node.setScale(1,t,1),P.SetFont(this.iconTime);var n=new Date;if(n<e.actionStartTime){var a=e.actionStartTime.getTime()-n.getTime(),i=Math.floor(a/864e5),o=Math.floor(a/36e5)-24*i,r=Math.floor(a/6e4)-60*(24*i+o);if(!v.IsChinese()){var s=this.iconTime.node.getScale().y;this.iconTime.node.setScale(.55,s,1)}this.iconTime.string=i>=1?P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_LAST_ORDER),i,"D"):o>=1?P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_LAST_ORDER),o,"H"):r>=1?P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_LAST_ORDER),r,"m"):v.GetInstance().GetString(S.StringKey.RANK_READY),this.bActionStart=!1,this.actionType=1,this.tagNode1.active=!1,this.tagNode2.active=!1,this.BtnSelect(Zt.activity)}else if(n>=e.actionEndTime){this.iconTime.string=v.GetInstance().GetString(S.StringKey.RANK_END),this.bActionStart=!1,this.actionType=3,this.tagNode1.active=!1,this.tagNode2.active=!1,this.BtnSelect(Zt.activity);var l=n.getTime()-e.actionEndTime.getTime();Math.floor(l/864e5)>=1&&(this.iconNodes[0].active=!1,this.iconNodes[1].active=!1),this.updateTime}else{var h=e.actionEndTime.getTime()-n.getTime(),c=Math.floor(h/864e5),m=Math.floor(h/36e5)-24*c,g=Math.floor(h/6e4)-60*(24*c+m);if(c>=1)this.iconTime.string=c+"D "+m+"H";else if(m>=1||g>=1)this.iconTime.string=m+"H "+g+"m";else if(this.iconTime.string=v.GetInstance().GetString(S.StringKey.RANK_LESS_X_MIN),!v.IsChinese()){var d=this.iconTime.node.getScale().y;this.iconTime.node.setScale(.7,d,1)}this.bActionStart=!0,this.actionType=2,this.tagNode1.active=!0,this.tagNode2.active=!0}}},r.updateRankContent=function(t){var e=this,n=null;if(this.scrollBar&&(n=this.scrollBar.getComponent(T)),this.scrollBar_Rank&&(n=this.scrollBar_Rank.getComponent(T)),this.page==Zt.rank&&n&&this.rankList.length>0)for(var a=0;a<this.rankList.length;++a)this.rankList[a]&&this.rankList[a].dataNode?(this.rankList[a].dataNode.active=!0,Number(this.rankList[a].info.rank)<=3&&this.rankList[a].dataNode.getComponent(B).PlayTopAnim()):(this.rankList[a].dataNode=this.getRankNode(this.rankList[a].info.rank),this.rankList[a].dataNode.getComponent(B).init(this.rankScore[a].rank,this.rankScore[a].score,this.rankScore[a].name,this.rankScore[a].nickName),this.rankList[a].dataNode.parent=this.rankList[a].localNode),this.m_isLandscape?this.rankList[a].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Landscape"):this.rankList[a].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Portrait");this.show&&this.page==Zt.rank?(this.m_changeNameTime+=t,this.m_changeNameTime>=4&&(this.m_nickNameCount=(this.m_nickNameCount+1)%2,this.m_changeNameTime=0,this.rankList.forEach((function(t){t.dataNode&&t.dataNode.getComponent(B).playChangeName(e.m_nickNameCount)})),this.myRankitemNode&&this.myRankitemNode.getComponent(B).playChangeName(this.m_nickNameCount))):this.m_changeNameTime=0},r.updateRankData=function(){for(var t=0;t<this.rankList.length;++t)this.rankList[t]&&this.rankList[t].dataNode?(this.rankList[t].dataNode.active=!0,Number(this.rankList[t].info.rank)<=3&&this.rankList[t].dataNode.getComponent(B).PlayTopAnim(),this.rankList[t].dataNode.getComponent(B).init(this.rankScore[t].rank,this.rankScore[t].score,this.rankScore[t].name,this.rankScore[t].nickName)):(this.rankList[t].dataNode=this.getRankNode(this.rankList[t].info.rank),this.rankList[t].dataNode.getComponent(B).init(this.rankScore[t].rank,this.rankScore[t].score,this.rankScore[t].name,this.rankScore[t].nickName),this.rankList[t].dataNode.parent=this.rankList[t].localNode),this.m_isLandscape?this.rankList[t].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Landscape"):this.rankList[t].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Portrait")},r.updateReward=function(){this.page=Zt.award,this.scoreBonusNode&&(this.scoreBonusNode.active=!1);var t=this.listNode_TADA_Reward;t.destroyAllChildren();for(var e=0,n=t.getComponent(k).spacingY,a=Number(this.myRank.rank)?Number(this.myRank.rank):9999,i=0;i<this.rewardList.length;++i){var o=w(this.rankItemPrefab[4]);o.getComponent(B).initReward(this.rewardList[i].up,this.rewardRankStr[i],this.rewardList[i].rewardType,this.rewardList[i].rewardNum,this.rewardList[i].rewardDetail,this.m_bottombar,this.webPage,this.rewardList[i].amount,a),e+=o.getComponent(f).height+n,o.parent=t,this.m_isLandscape?this.IsInAwardRange(this.rewardList[i])?o.getComponent(y).play("Clip_Ranking_Reward_Cell_L_Player"):o.getComponent(y).play("Clip_Ranking_Reward_Cell_Landscape"):this.IsInAwardRange(this.rewardList[i])?o.getComponent(y).play("Clip_Ranking_Reward_Cell_P_Player"):o.getComponent(y).play("Clip_Ranking_Reward_Cell_Portrait")}t.getComponent(f).height=e,this.scrollBar&&this.scrollBar.getComponent(T).scrollToTop(),this.scrollBar_Reward&&this.scrollBar_Reward.getComponent(T).scrollToTop()},r.IsInAwardRange=function(t){var e=!1,n=Number(this.myRank.rank)?Number(this.myRank.rank):0,a=Number(t.up)?Number(t.up):-1;return n<=(Number(t.down)?Number(t.down):9999)&&n>=a&&(e=!0),e},r.setRewardListStr=function(){var t=this;this.rewardRankStr=[],this.rewardList.forEach((function(e){e.up==e.down?t.rewardRankStr.push(P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_ORDER),e.up.toString())):t.rewardRankStr.push(P.StringFormat(P.StringFormat(v.GetInstance().GetString(S.StringKey.RANK_A_TO_B_RANK),e.up.toString(),e.down.toString())))}))},r.getRankNode=function(t){var e="3"==t?2:"2"==t?1:"1"==t?0:3;return w(this.rankItemPrefab[e])},r.setNickname=function(t,e){this.accountName=t.split("@")[0],this.nickName=e&&""!=e?e:this.accountName,this.myRankitemNode&&this.myRankitemNode.getComponent(B).setName(this.accountName)},r.autoShowBanner=function(){if(!(this.autoShowed||!this.inited||!this.canAutoShowUI||this.m_bottombar&&this.m_bottombar.IsInTrial)){this.autoShowed=!0,this.updateActionTime();var t=localStorage.getItem("eventPage"+e.m_gameid),n=localStorage.getItem("eventPageCount"+e.m_gameid),a=new Date;if(t){var i=new Date(t),o=a.getFullYear(),r=a.getMonth()+1,s=a.getDate(),l=i.getFullYear(),h=i.getMonth()+1,c=i.getDate(),m=n?parseInt(n):0;o!=l||r!=h||s!=c?this.actionType<3&&(localStorage.setItem("eventPage"+e.m_gameid,o+"/"+r+"/"+s),localStorage.setItem("eventPageCount"+e.m_gameid,"1"),this.show||this.toolEvent(null,"1")):m<2&&this.actionType<3&&(localStorage.setItem("eventPageCount"+e.m_gameid,(m+1).toString()),this.show||this.toolEvent(null,"1"))}else if(this.actionType<3){var g=a.getFullYear(),d=a.getMonth()+1,u=a.getDate();localStorage.setItem("eventPage"+e.m_gameid,g+"/"+d+"/"+u),localStorage.setItem("eventPageCount"+e.m_gameid,"1"),this.show||this.toolEvent(null,"1")}}},r.OnRotation=function(t,e){this.m_isLandscape=t;var n=this.getComponent(y);if(t){n.play("Clip_Common_TagFrame_Landscape"),this.pageData.length>1?(this.rankingPages[Zt.rank].getComponent(y).play("Clip_Ranking_Rank_Page_Landscape_Longhu"),this.rankingPages[Zt.award].getComponent(y).play("Clip_Ranking_Reward_Page_Landscape_Longhu")):(this.rankingPages[Zt.rank].getComponent(y).play("Clip_Ranking_Rank_Page_Landscape"),this.rankingPages[Zt.award].getComponent(y).play("Clip_Ranking_Reward_Page_Landscape"));for(var a=0;a<this.rankList.length;a++)this.rankList[a].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Landscape"),Number(this.rankList[a].info.rank)<=3&&this.rankList[a].dataNode.getComponent(B).PlayTopAnim(!0);this.listNode_TADA_Reward.children.forEach((function(t,e){t.getComponent(y).play("Clip_Ranking_Reward_Cell_Landscape")}))}else{n.play("Clip_Common_TagFrame_Portrait"),this.pageData.length>1?(this.rankingPages[Zt.rank].getComponent(y).play("Clip_Ranking_Rank_Page_Portrait_Longhu"),this.rankingPages[Zt.award].getComponent(y).play("Clip_Ranking_Reward_Page_Portrait_Longhu")):(this.rankingPages[Zt.rank].getComponent(y).play("Clip_Ranking_Rank_Page_Portrait"),this.rankingPages[Zt.award].getComponent(y).play("Clip_Ranking_Reward_Page_Portrait"));for(var i=0;i<this.rankList.length;i++)this.rankList[i].dataNode.getComponent(y).play("Clip_Ranking_Rank_Cell_Portrait"),Number(this.rankList[i].info.rank)<=3&&this.rankList[i].dataNode.getComponent(B).PlayTopAnim(!0);this.listNode_TADA_Reward.children.forEach((function(t,e){t.getComponent(y).play("Clip_Ranking_Reward_Cell_Portrait")}))}},o(e,[{key:"eventCb",set:function(t){this._eventCb=t}}]),e}(b)).actionStartTime=null,Jt.actionEndTime=null,Jt.m_gameid=void 0,Jt.m_aid=void 0,Jt.m_apiid=void 0,Jt.m_siteid=void 0,Jt.readyShowWebPage=!1,Jt.ReqMail=void 0,kt=e((_t=Jt).prototype,"listNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(_t.prototype,"listNode_TADA_Rank",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(_t.prototype,"listNode_TADA_Reward",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(_t.prototype,"tagNode1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(_t.prototype,"tagNode2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(_t.prototype,"tagNode3",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(_t.prototype,"pageNodesCheckBg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=e(_t.prototype,"rankingPages",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=e(_t.prototype,"myRankNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(_t.prototype,"myRankNode_TADA_Rank",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(_t.prototype,"myRankNode_TADA_Name",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(_t.prototype,"myRankNode_TADA_Points",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(_t.prototype,"m_img_tittle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(_t.prototype,"m_img_Tags",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(_t.prototype,"m_img_Tags_On",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=e(_t.prototype,"scrollBar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(_t.prototype,"scrollBar_Rank",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(_t.prototype,"scrollBar_Reward",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(_t.prototype,"scrollView",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(_t.prototype,"rankItemPrefab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mt=e(_t.prototype,"webViewPos",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kt=e(_t.prototype,"mask",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(_t.prototype,"gameDesc",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=e(_t.prototype,"scoreBonusNode",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(_t.prototype,"scoreBonusText",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(_t.prototype,"CloseNode",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(_t.prototype,"maskNode",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(_t.prototype,"m_rankInPageBtns",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yt=e(_t.prototype,"m_rewardInPageBtns",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ht=e(_t.prototype,"m_rankInPageBtnsTxt",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qt=e(_t.prototype,"m_rewardInPageBtnsTxt",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xt=e(_t.prototype,"m_common_WebPage",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=_t))||pt));var $t=t("rankInfo",(function(){this.rank="",this.name="",this.nickName="",this.score=0})),te=t("itemData",(function(){this.localNode=null,this.dataNode=null,this.info=void 0,this.height=0}));r._RF.pop()}}}));

System.register("chunks:///_virtual/RankboardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./ItemInfo.ts","./SoundManager.ts","./ItemList.ts","./BottombarManager.ts"],(function(e){"use strict";var t,i,n,r,a,s,o,l,m,c,u,h,g,I,p,f,_,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Label,l=e.Node,m=e.Sprite,c=e.SpriteFrame,u=e.Animation,h=e.Component},function(e){g=e.default},function(e){I=e.default},function(e){p=e.default},function(e){f=e.default},function(e){_=e.default},function(e){b=e.default},function(e){d=e.default}],execute:function(){var N,T,S,A,y,w,G,D,v,E,R,M,F,P,k,C,O,K,L,z,B,x,Y,U,H,Z,j,J,V,X,W,q,Q,$,ee,te;a._RF.push({},"3210bLKBx1IupE7xcG08jV2","RankboardItem",void 0);var ie=s.ccclass,ne=s.property;e("default",(N=ne(o),T=ne(o),S=ne(o),A=ne(o),y=ne([l]),w=ne(o),G=ne(o),D=ne([l]),v=ne(m),E=ne(m),R=ne(m),M=ne([c]),F=ne(l),P=ne([l]),k=ne(u),C=ne(l),O=ne(o),ie((z=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"level",z,r(t)),n(t,"score",B,r(t)),n(t,"score_TADA",x,r(t)),n(t,"userName",Y,r(t)),n(t,"rewards",U,r(t)),n(t,"gameName",H,r(t)),n(t,"itemName",Z,r(t)),n(t,"levelPos",j,r(t)),n(t,"rewardCoinPicture",J,r(t)),n(t,"rewardMallCoinPicture",V,r(t)),n(t,"rewardItemPicture",X,r(t)),n(t,"rewardResources",W,r(t)),n(t,"itemDetailButton",q,r(t)),n(t,"rankSymbol",Q,r(t)),n(t,"rankTopAni",$,r(t)),n(t,"darkNode",ee,r(t)),n(t,"text_PlayerRank",te,r(t)),t.itemID=void 0,t.m_bottombar=void 0,t.m_nameList=["",""],t.m_count=0,t.m_webPage=void 0,t.m_isPlayed=!1,t}i(t,e);var a=t.prototype;return a.onLoad=function(){},a.start=function(){this.level&&p.SetFont(this.level),this.userName&&p.SetFont(this.userName),this.gameName&&p.SetFont(this.gameName),this.itemName&&p.SetFont(this.itemName),this.score&&p.SetFont(this.score),this.score_TADA&&p.SetFont(this.score_TADA)},a.init=function(e,t,i,n){if(this.level.string=e,p.SetFont(this.level),this.score.string=t>0?p.FormatNumberThousands(t,p.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO):I.GetInstance().GetString(g.StringKey.RANK_OUT_OF_RANK),p.SetFont(this.score),i&&n&&(this.m_nameList[0]=i,this.m_nameList[1]=n,this.userName.string=this.m_nameList[this.m_count],p.SetFont(this.userName)),this.rankTopAni.stop(),this.rankTopAni.node.active=!1,Number(e)<=this.rankSymbol.length-1){this.level.string="";for(var r=0;r<this.rankSymbol.length;r++)this.rankSymbol[r]&&(this.rankSymbol[r].active=!1);this.rankSymbol[e].active=!0,this.rankTopAni.onLoad(),this.rankTopAni.node.active=!0,this.rankTopAni.play("Clip_Ranking_TopEffect")}Number(e)%2==0?this.darkNode.active=!0:this.darkNode.active=!1},a.PlayTopAnim=function(e){if(void 0===e&&(e=!1),!this.m_isPlayed||e){this.rankTopAni.node.active=!0,this.rankTopAni.play("Clip_Ranking_TopEffect");this.rankTopAni.getState("Clip_Ranking_TopEffect");this.m_isPlayed=!0}},a.initReward=function(e,t,i,n,r,a,s,m,c){var u=this;switch(p.SetFont(this.level),this.m_bottombar=a,this.m_webPage=s,this.rewards.forEach((function(e){e.active=!1})),this.itemDetailButton.active=!1,this.score.string="",p.SetFont(this.score),this.gameName.string="",p.SetFont(this.gameName),this.itemName.string="",p.SetFont(this.itemName),this.score_TADA.string="",p.SetFont(this.score_TADA),this.text_PlayerRank.string="Rank:"+c.toString(),i){case 1:this.rewards[0].active=!0,this.score_TADA.string=n>0?p.FormatNumberThousands(p.strip(n),p.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO):I.GetInstance().GetString(g.StringKey.RANK_OUT_OF_RANK),this.rewardCoinPicture.node.active=!0,this.rewardMallCoinPicture.node.active=!1;break;case 6:this.rewards[0].active=!0,this.score_TADA.string=n>0?p.FormatNumberThousands(p.strip(n),p.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO):I.GetInstance().GetString(g.StringKey.RANK_OUT_OF_RANK),this.rewardCoinPicture.node.active=!1,this.rewardMallCoinPicture.node.active=!0;break;case 2:case 4:if(this.rewards[1].active=!0,"number"==typeof r){this.itemID=r;var h=f.GetItemTextInfo(this.itemID,2);this.gameName.string=h.game,this.itemName.string=h.name+"x"+p.strip(n).toString()}else if(2==i){if(this.itemDetailButton.active=!0,this.itemID=this.parseToItemInfoData(r.GameID,r),this.itemID.gameID===g.GAME_ID.ENTITY)this.gameName.string=I.GetInstance().GetString(g.StringKey.GF_GIFTCARD)+"x"+m,this.itemName.string=I.GetInstance().GetString(g.RealItemsMap[this.itemID.icon]);else{this.gameName.string=this.itemID.gameName;var _=this.itemID.title;if(8!=this.itemID.star)_=I.GetInstance().GetString(g.StringKey.DAILY_COMMON_ITEM).replace("{ITEM_NAME}",p.IsTada?I.GetInstance().GetString(g.StringKey.TADA_ITEM_NAME):I.GetInstance().GetString(g.StringKey.JILI_ITEM_NAME)),_=p.CustomStringFormat(_,{Star:this.itemID.star});this.itemName.string=_+"x"+p.strip(n).toString()}this.itemDetailButton.on(l.EventType.TOUCH_END,(function(e){var t=u.itemID,i=t.icon,r=t.gameID===g.GAME_ID.ENTITY?b.GetInstance().GetRealItemIcon(i):b.GetInstance().GetItemIcon(i),a=u.gameName.string,s=p.shallowCopy(t),o=b.GetInstance().GetItemInfoText(s,2),l=I.GetInstance().GetString(g.StringKey.BACKPACK_TXT_INFO)+"\n"+o.gameDesc,c=u.m_bottombar.node.getComponent(d);if(c)if(t.gameID===g.GAME_ID.ENTITY){r=b.GetInstance().GetRealItemIcon(i);var h=I.GetInstance().GetString(g.StringKey.ITEM_DESC+g.GAME_ID.ENTITY);h=h.replace("{PH}",I.GetInstance().GetString(g.RealItemsMap[i]));var f=I.GetInstance().GetString(g.StringKey.GF_GIFTCARD),_=I.GetInstance().GetString(g.RealItemsMap[i]);c.OpenCommonText(f,I.GetInstance().GetString(g.StringKey.BACKPACK_TXT_INFO)+"\n"+h,_,r,m)}else c.OpenCommonText(t.title,l,a,r,p.strip(n))}))}else if(4==i){this.gameName.string="",this.gameName.fontSize=0,this.itemName.verticalAlign=o.VerticalAlign.TOP;var N,T=r.star;switch(T){case 8:N=I.GetInstance().GetString(g.StringKey.ITEM_TITLE+"GOLD");break;default:N=I.GetInstance().GetString(g.StringKey.DAILY_COMMON_ITEM).replace("{ITEM_NAME}",p.IsTada?I.GetInstance().GetString(g.StringKey.TADA_ITEM_NAME):I.GetInstance().GetString(g.StringKey.JILI_ITEM_NAME)),N=p.CustomStringFormat(N,{Star:T})}this.score_TADA.string=N+"x"+p.strip(n).toString()}switch(e){case 1:this.rewardResources[0]&&(this.rewardItemPicture.spriteFrame=this.rewardResources[0]);break;case 2:this.rewardResources[1]&&(this.rewardItemPicture.spriteFrame=this.rewardResources[1]);break;case 3:this.rewardResources[2]&&(this.rewardItemPicture.spriteFrame=this.rewardResources[2]);break;default:this.rewardResources[3]&&(this.rewardItemPicture.spriteFrame=this.rewardResources[3])}}this.level.string=t},a.playChangeName=function(e){if(this.m_count=e,this.m_nameList[1].length>0&&this.m_nameList[0]!=this.m_nameList[1])if(this.node.active){var t=this.node.getComponent(u);t&&t.play()}else this.change()},a.setName=function(e){this.userName.string=e},a.showInfo=function(){this.m_webPage&&this.m_webPage.isShow()&&this.m_webPage.close(),this.m_bottombar.ShowItemInfo(this.itemID),_.getInstance().Play(g.AudioClips.COMMON_BTN)},a.change=function(){this.userName.string=this.m_nameList[this.m_count]},a.parseToItemInfoData=function(e,t){var i=I.GetInstance().GetGameName(e),n={};return n.icon=t.Icon,n.type=t.WinType,n.star=t.Star,n.bet=t.Bet,n.title=t.CardName,n.gameName=i,n.gameDesc=t.GameName,n.gameID=t.GameID,n.amount=t.amount,n},t}(h)).prototype,"level",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"score",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"score_TADA",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(L.prototype,"userName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"rewards",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(L.prototype,"gameName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(L.prototype,"itemName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"levelPos",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(L.prototype,"rewardCoinPicture",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(L.prototype,"rewardMallCoinPicture",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(L.prototype,"rewardItemPicture",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"rewardResources",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(L.prototype,"itemDetailButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(L.prototype,"rankSymbol",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(L.prototype,"rankTopAni",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(L.prototype,"darkNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(L.prototype,"text_PlayerRank",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=L))||K));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankboardPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts"],(function(t){"use strict";var e,n,i,r,a,o,u,l,m,s,_,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,u=t._decorator,l=t.Label,m=t.Component},function(t){s=t.default},function(t){_=t.default},function(t){c=t.default}],execute:function(){var y,f,p,N,P,h,g,T,x,R,k,b,S,d,F,K;o._RF.push({},"f1f35gMFfNOgKk3ZSO83VEK","RankboardPage",void 0);var z=u.ccclass,w=u.property;t("default",(y=w({type:l,tooltip:"RankText"}),f=w({type:l,tooltip:"NameText"}),p=w({type:l,tooltip:"PointsText"}),N=w({type:l,tooltip:"Num_PlayerRank"}),P=w({type:l,tooltip:"Num_PlayerName"}),h=w({type:l,tooltip:"Num_PlayerPoints"}),g=w({type:l,tooltip:"RefreshText"}),z((R=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_RankText",R,r(e)),i(e,"m_NameText",k,r(e)),i(e,"m_PointsText",b,r(e)),i(e,"m_Num_PlayerRank",S,r(e)),i(e,"m_Num_PlayerName",d,r(e)),i(e,"m_Num_PlayerPoints",F,r(e)),i(e,"m_RefreshText",K,r(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.m_RankText&&c.SetFont(this.m_RankText),this.m_NameText&&c.SetFont(this.m_NameText),this.m_PointsText&&c.SetFont(this.m_PointsText),this.m_Num_PlayerRank&&c.SetFont(this.m_Num_PlayerRank),this.m_Num_PlayerName&&c.SetFont(this.m_Num_PlayerName),this.m_Num_PlayerPoints&&c.SetFont(this.m_Num_PlayerPoints),this.m_RefreshText&&c.SetFont(this.m_RefreshText)},o.SetTxt=function(){this.m_RankText.string=_.GetInstance().GetString(s.StringKey.RANK_RANK),this.m_NameText.string=_.GetInstance().GetString(s.StringKey.RANK_NAME),this.m_PointsText.string=_.GetInstance().GetString(s.StringKey.RANK_POINT),this.m_RefreshText.string=_.GetInstance().GetString(s.StringKey.RANK_REFRESH)},o.start=function(){},a(e,[{key:"RankText",get:function(){return this.m_RankText}},{key:"NameText",get:function(){return this.m_NameText}},{key:"PointsText",get:function(){return this.m_PointsText}},{key:"Num_PlayerRank",get:function(){return this.m_Num_PlayerRank}},{key:"Num_PlayerName",get:function(){return this.m_Num_PlayerName}},{key:"Num_PlayerPoints",get:function(){return this.m_Num_PlayerPoints}},{key:"RefreshText",get:function(){return this.m_RefreshText}}]),e}(m)).prototype,"m_RankText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(x.prototype,"m_NameText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(x.prototype,"m_PointsText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"m_Num_PlayerRank",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(x.prototype,"m_Num_PlayerName",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(x.prototype,"m_Num_PlayerPoints",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(x.prototype,"m_RefreshText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankboardReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts"],(function(e){"use strict";var t,r,n,i,o,s,a,c,u,f,l,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.Label,u=e.Component},function(e){f=e.default},function(e){l=e.default},function(e){h=e.default}],execute:function(){var p,R,d,y;s._RF.push({},"795e3tsI29PKY6hSMfAD1L0","RankboardReward",void 0);var g=a.ccclass,T=a.property;e("default",(p=T({type:c,tooltip:"RefreshText"}),g((y=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_RefreshText",y,i(t)),t}r(t,e);var s=t.prototype;return s.onLoad=function(){this.m_RefreshText&&h.SetFont(this.m_RefreshText)},s.SetTxt=function(){this.m_RefreshText.string=l.GetInstance().GetString(f.StringKey.RANK_REFRESH)},s.start=function(){},o(t,[{key:"RefreshText",get:function(){return this.m_RefreshText}}]),t}(u)).prototype,"m_RefreshText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=d))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./Define.ts","./LocaleStringManager.ts","./GameIconComponent.ts","./MsgBox.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,u,m,c,p,s,f,g,_,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Label,m=e.Sprite,c=e.Animation,p=e.Node,s=e.Component},function(e){f=e.default},function(e){g=e.default},function(e){_=e.default},function(e){b=e.default},function(e){y=e.default}],execute:function(){var d,k,h,I,L,N,T,B,S,R,G,w,z,A,E,v,O,C,M,D,H,P;a._RF.push({},"58035IPOT9OqJu6S3KIkJ/n","RankItem",void 0);var F=l.ccclass,K=l.property;e("default",(d=K({type:u,tooltip:"排行"}),k=K({type:u,tooltip:"名稱"}),h=K({type:b,tooltip:"遊戲icon"}),I=K({type:u,tooltip:"倍率"}),L=K({type:u,tooltip:"時間"}),N=K({type:m,tooltip:"倍率背景"}),T=K({type:c,tooltip:"animate"}),B=K({type:p,tooltip:"倍率背景(掛在葉面裡的玩家自己的才要)"}),S=K({type:p,tooltip:"倍率背景(掛在葉面裡的玩家自己的才要)"}),R=K({type:p,tooltip:"遊戲跳轉按鈕(掛在葉面裡的玩家自己的才要)"}),F((z=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_rankLabel",z,o(t)),i(t,"m_nameLabel",A,o(t)),i(t,"m_gameIcon",E,o(t)),i(t,"m_oddsLabel",v,o(t)),i(t,"m_timeLabel",O,o(t)),i(t,"m_oddsBgSprite",C,o(t)),i(t,"m_playerAnimate",M,o(t)),i(t,"m_inRankNode",D,o(t)),i(t,"m_outRankNode",H,o(t)),i(t,"m_goToBtn",P,o(t)),t.m_gameId=0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.m_goToBtn&&this.m_goToBtn.on(p.EventType.TOUCH_END,(function(t){var n=_.GetInstance().GetGameName(e.m_gameId);console.error("top50 change game",e.m_gameId,n),y.getInstance().ShowFullMessageBox(g.StringKey.CHANGE_GAME_HINT,g.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[n],(function(){f.GetInstance().ReqUrl(e.m_gameId,g.BTN_CLICK_EVENT.TOP50_CHANGE_GAME)}),(function(){}),(function(){}))}),this)},r(t,[{key:"RankLabel",get:function(){return this.m_rankLabel}},{key:"NameLabel",get:function(){return this.m_nameLabel}},{key:"GameIcon",get:function(){return this.m_gameIcon}},{key:"OddsLabel",get:function(){return this.m_oddsLabel}},{key:"TimeLabel",get:function(){return this.m_timeLabel}},{key:"OddsBgSprite",get:function(){return this.m_oddsBgSprite}},{key:"PlayerAnimate",get:function(){return this.m_playerAnimate}},{key:"InRankNode",get:function(){return this.m_inRankNode}},{key:"OutRankNode",get:function(){return this.m_outRankNode}},{key:"GoToBtn",get:function(){return this.m_goToBtn}},{key:"GameId",get:function(){return this.m_gameId},set:function(e){this.m_gameId=e}}]),t}(s)).prototype,"m_rankLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"m_nameLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"m_gameIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"m_oddsLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"m_timeLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"m_oddsBgSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"m_playerAnimate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"m_inRankNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"m_outRankNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(w.prototype,"m_goToBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=w))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankTestAck.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"7f5922oV7BOOq5tBn/Yd1lU","RankTestAck",void 0);var n=e("default",(function(){}));n.RANK0={Data:null,Error:"",NeedWebView:!0},n.RANK1={Data:[{Error:"",Sn:18705,Start:"2023-02-13T00:00:00+07:00",Ended:"2023-02-13T21:00:00+07:00",Updated:"2023-02-13T11:22:45.775456602+07:00",StartTimestamp:1676221200,EndedTimestamp:1676296800,UpdatedTimestamp:1676262165,Desc:"kennyTestRanking",Number:1,Score:8400,Users:[{Nickname:"kailihuang_su",NewNickname:"kailihuang_su",Number:1,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"****y001",NewNickname:"****y001",Number:2,Score:65,Games:[5],Updated:"2023-02-13T10:18:30.164655832+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"****y002",NewNickname:"****y002",Number:3,Score:64,Games:[5],Updated:"2023-02-13T10:18:30.1646561+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0}],Prizes:[{BeginRanking:1,EndRanking:2,PrizeType:1,PrizeSubType:0,Amount:10,Value:10,Union:0,Extra:null},{BeginRanking:2,EndRanking:6,PrizeType:1,PrizeSubType:0,Amount:10,Value:40,Union:0,Extra:null},{BeginRanking:6,EndRanking:11,PrizeType:1,PrizeSubType:0,Amount:10,Value:50,Union:0,Extra:null}],UnionNumber:0,UnionScore:0,UnionUsers:null,UnionPrizes:[],AwardNotice:!0,VipLv:0,RankingType:1,NeedWebView:!1}],Error:"",NeedWebView:!0},n.RANK2={Data:[{Error:"",Sn:18705,Start:"2023-02-13T00:00:00+07:00",Ended:"2023-02-13T21:00:00+07:00",Updated:"2023-02-13T11:22:45.775456602+07:00",StartTimestamp:1676221200,EndedTimestamp:1676296800,UpdatedTimestamp:1676262165,Desc:"kennyTestRanking",Number:3,Score:8400,Users:[{Nickname:"****y001",NewNickname:"****y001",Number:1,Score:16500,Games:[5],Updated:"2023-02-13T10:18:30.164655832+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"****y002",NewNickname:"****y002",Number:2,Score:13200,Games:[5],Updated:"2023-02-13T10:18:30.1646561+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"kailihuang_su",NewNickname:"kailihuang_su",Number:3,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"1kailihuang_su",NewNickname:"1kailihuang_su",Number:4,Score:8e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"2kailihuang_su",NewNickname:"2kailihuang_su",Number:5,Score:7e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"3kailihuang_su",NewNickname:"3kailihuang_su",Number:6,Score:6e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0}],Prizes:[{BeginRanking:1,EndRanking:2,PrizeType:1,PrizeSubType:0,Amount:10,Value:10,Union:0,Extra:null},{BeginRanking:2,EndRanking:6,PrizeType:1,PrizeSubType:0,Amount:10,Value:40,Union:0,Extra:null},{BeginRanking:6,EndRanking:11,PrizeType:1,PrizeSubType:0,Amount:10,Value:50,Union:0,Extra:null}],UnionNumber:0,UnionScore:0,UnionUsers:null,UnionPrizes:[],AwardNotice:!0,VipLv:0,RankingType:1,NeedWebView:!1}],Error:"",NeedWebView:!0},n.RANK3={Data:[{Error:"",Sn:18705,Start:"2023-02-13T00:00:00+07:00",Ended:"2023-02-13T21:00:00+07:00",Updated:"2023-02-13T11:22:45.775456602+07:00",StartTimestamp:1676221200,EndedTimestamp:1676296800,UpdatedTimestamp:1676262165,Desc:"kennyTestRanking",Number:1,Score:8400,Users:[{Nickname:"****y001",NewNickname:"****y001",Number:1,Score:16500,Games:[5],Updated:"2023-02-13T10:18:30.164655832+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"****y002",NewNickname:"****y002",Number:2,Score:13200,Games:[5],Updated:"2023-02-13T10:18:30.1646561+07:00",APIID:0,ExtraInfo:{GameId:5,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"kailihuang_su",NewNickname:"kailihuang_su",Number:3,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"1kailihuang_su",NewNickname:"1kailihuang_su",Number:4,Score:8e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"2kailihuang_su",NewNickname:"2kailihuang_su",Number:5,Score:7e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"3kailihuang_su",NewNickname:"3kailihuang_su",Number:6,Score:6e3,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:7,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:8,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:9,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:10,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:11,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0},{Nickname:"7kailihuang_su",NewNickname:"7kailihuang_su",Number:12,Score:8400,Games:[5],Updated:"2023-02-13T10:11:00+07:00",APIID:6,ExtraInfo:{GameId:0,Win:0,WagersId:"0"},VipLv:0,VipGroupID:0}],Prizes:[{BeginRanking:1,EndRanking:2,PrizeType:1,PrizeSubType:0,Amount:10,Value:10,Union:0,Extra:null},{BeginRanking:2,EndRanking:6,PrizeType:1,PrizeSubType:0,Amount:10,Value:40,Union:0,Extra:null},{BeginRanking:6,EndRanking:11,PrizeType:1,PrizeSubType:0,Amount:10,Value:50,Union:0,Extra:null}],UnionNumber:0,UnionScore:0,UnionUsers:null,UnionPrizes:[],AwardNotice:!0,VipLv:0,RankingType:1,NeedWebView:!1}],Error:"",NeedWebView:!0},n.RANK4={Error:"",Sn:15485,Start:"2022-04-15T10:15:00+07:00",Ended:"2022-04-15T11:00:00+07:00",Updated:"0001-01-01T00:00:00Z",StartTimestamp:1649992500,EndedTimestamp:1649995200,UpdatedTimestamp:-62135596800,Desc:"拳拳到肉_TADA",Number:0,Score:0,Users:null,Prizes:[{BeginRanking:1,EndRanking:2,PrizeType:4,PrizeSubType:1,Amount:1,Value:0,Union:0,Extra:{star:1,itemValue:0,effectiveTime:0}},{BeginRanking:2,EndRanking:3,PrizeType:2,PrizeSubType:1077101,Amount:0,Value:0,Union:0,Extra:{CardName:"Free Game(1 ★)",GameID:77,Bet:.1,Star:1,WinType:1,Icon:11077}}],UnionNumber:0,UnionScore:0,UnionUsers:null,UnionPrizes:[],AwardNotice:!1,VipLv:0,NeedWebView:!0},a._RF.pop()}}}));

System.register("chunks:///_virtual/Recommend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Discount.ts","./IconTemplate.ts","./ViewTemplate.ts","./Tools.ts","./AutoShowManager.ts"],(function(t){"use strict";var e,n,o,i,r,m,s,a,c,l,d,u,h,_,p,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,m=t._decorator,s=t.Node,a=t.Label,c=t.Prefab,l=t.Animation,d=t.Layout,u=t.instantiate},function(t){h=t.default},function(t){_=t.default},null,function(t){p=t.default},function(t){f=t.default},function(t){g=t.default},null],execute:function(){var I,L,v,b,C,N,S,y,T,E,R,F,w,M,P,A;r._RF.push({},"0b375BnCIBNdYb1DMxo1A8h","Recommend",void 0);var H=m.ccclass,O=m.property;t("default",(I=O({type:s,tooltip:"橫版建議遊戲顯示"}),L=O({type:s,tooltip:"值版版建議遊戲顯示"}),v=O({type:a,tooltip:"提示文字"}),b=O({type:c,tooltip:"icon樣版"}),C=O({type:s,tooltip:"橫版節點"}),N=O({type:s,tooltip:"值版節點"}),S=O({type:s,tooltip:"無ITEM提示"}),H((E=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),m=0;m<n;m++)r[m]=arguments[m];return e=t.call.apply(t,[this].concat(r))||this,o(e,"m_recommendNodeL",E,i(e)),o(e,"m_recommendNodeS",R,i(e)),o(e,"m_recommendHintLabels",F,i(e)),o(e,"m_iconPrefab",w,i(e)),o(e,"m_nodeL",M,i(e)),o(e,"m_nodeS",P,i(e)),o(e,"m_noItemHint",A,i(e)),e.m_recommendIconNodes=new Array,e.m_gameIdList=null,e.m_tagList=null,e.m_dauList=null,e.m_mallList=null,e.m_top=null,e.m_initEndCb=null,e.m_discount=null,e.m_favorList=null,e.m_isLandscape=!1,e.m_isRegistered=!1,e.m_isFirst=!0,e}n(e,t);var r=e.prototype;return r.start=function(){},r.SetTxt=function(t){this.m_recommendHintLabels&&this.m_recommendHintLabels.forEach((function(t){t.string=_.GetInstance().GetString(h.StringKey.RECOMMEND_HINT),t.font||(t.font=h.DefaultFont)}))},r.OnRotation=function(t){this.m_isLandscape=t,this.m_isLandscape?this.node.getComponent(l).play("Clip_WinMore_Popular_Landscape"):this.node.getComponent(l).play("Clip_WinMore_Popular_Portrait")},r.InitRecommendGameIcon=function(t,e,n,o,i,r,m,s){var a=this;void 0===s&&(s=null),this.m_discount=t,this.m_isLandscape=e,this.m_initEndCb=m,this.m_gameIdList=n,this.m_tagList=o,this.m_mallList=i,this.m_dauList=r,this.m_top=s;for(var c=1;c<Object.keys(h.TagType).length;c++)if(!g.Tags[c]){var l=h.TagName[c];g.LoadTag(_.CurrLang,l,c,(function(){a.CheckRes()&&a.CreateIconBtn()}))}for(var d=0;d<n.length;d++)g.Icons[n[d]]||g.LoadIcon(_.CurrLang,n[d],(function(){a.CheckRes()&&a.CreateIconBtn()}));this.CheckRes()&&this.CreateIconBtn()},r.SetContentPadding=function(){this.m_recommendNodeL.getComponent(d).paddingTop=75},r.UpdateFavorState=function(t,e){if(void 0===e&&(e=!1),this.m_favorList=t,e)for(var n=0;n<this.m_recommendIconNodes.length;n++){this.m_recommendIconNodes[n].getComponent(p).SetIsFavor(!1,!1)}else if(null===t)for(var o=0;o<this.m_recommendIconNodes.length;o++){this.m_recommendIconNodes[o].getComponent(p).SetIsFavor(!1)}else for(var i=0;i<this.m_recommendIconNodes.length;i++){var r=this.m_recommendIconNodes[i].getComponent(p),m=this.FindElement(r.GameId,t);r.SetIsFavor(m)}this.m_recommendIconNodes.length<=0?this.m_noItemHint.active=!0:this.m_noItemHint.active=!1},r.FindElement=function(t,e){if(1===e.length)return e[0]===t;if(0===e.length)return!1;var n=e.slice(0,Math.floor(e.length/2)),o=this.FindElement(t,n);if(o)return o;var i=e.slice(Math.floor(e.length/2),e.length),r=this.FindElement(t,i);return r||!1},r.CheckRes=function(){for(var t=1;t<Object.keys(h.TagType).length;t++)if(!g.Tags[t])return!1;for(var e=0;e<this.m_gameIdList.length;e++)if(!g.Icons[this.m_gameIdList[e]])return!1;return!0},r.CreateIconBtn=function(){var t=this;if(this.m_recommendIconNodes.length>this.m_gameIdList.length)for(var e=0;e<this.m_recommendIconNodes.length;e++)e<this.m_gameIdList.length?this.m_recommendIconNodes[e].active=!0:this.m_recommendIconNodes[e].active=!1;else if(this.m_recommendIconNodes.length<this.m_gameIdList.length)for(var n=this.m_gameIdList.length-this.m_recommendIconNodes.length,o=0;o<n;o++){var i=u(this.m_iconPrefab);this.m_recommendNodeL.addChild(i),this.m_recommendIconNodes.push(i)}for(var r=function(){for(var e=0;e<t.m_recommendIconNodes.length;e++){t.m_recommendIconNodes[e].getComponent(p).ShowPrompt(!1)}},m=0;m<this.m_recommendIconNodes.length;m++){var s=this.m_recommendIconNodes[m].getComponent(p),a=this.m_tagList[m];s.Init(this,this.m_discount.GameId),s.SetIsFavor(!1,!1),s.SetIconTouchShowPrompt(),s.SetCb(h.BTN_CLICK_EVENT.RECOM_CHANGE_GAME,(function(e){t.m_discount.AddFavor(e,h.BTN_CLICK_EVENT.RECOM_FAVOR_ADD)}),(function(e){t.m_discount.RemoveFavor(e,h.BTN_CLICK_EVENT.RECOM_FAVOR_REMOVE)})),s.SetIconSpriteFrame(g.Icons[this.m_gameIdList[m]],this.m_gameIdList[m],r),a[0]===h.TagType.None?s.SetTagSpriteFrame(null):function(){var t=[];a.forEach((function(e){t.push(g.Tags[e])})),s.SetTagSpriteFrame(t)}(),s.SetMall(Boolean(this.m_mallList[m])),s.SetDau(this.m_dauList[m]),this.m_top&&s.SetTop(this.m_top[m].Odd,this.m_top[m].win),1===m&&s.ShowPrompt(!0)}this.OnRotation(this.m_isLandscape),this.UpdateFavorState(this.m_favorList),this.m_initEndCb&&this.m_initEndCb(),this.m_isRegistered||(this.m_isRegistered=!0)},r.UpdateArrowState=function(){this.m_recommendIconNodes.length>0&&this.m_recommendIconNodes[0].getComponent(p).ShowIconHint()},e}(f)).prototype,"m_recommendNodeL",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"m_recommendNodeS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"m_recommendHintLabels",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(T.prototype,"m_iconPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"m_nodeL",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(T.prototype,"m_nodeS",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"m_noItemHint",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/RecordView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./LifeSocket.ts","./EnvironmentConfig.ts","./MsgBox.ts","./ItemList.ts"],(function(e){"use strict";var t,n,a,r,i,o,m,c,l,u,p,_,s,f,g,d,b,h,v,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,m=e._decorator,c=e.Button,l=e.Sprite,u=e.Label,p=e.SpriteFrame,_=e.Node,s=e.UIOpacity,f=e.Component},function(e){g=e.default},function(e){d=e.default},function(e){b=e.default},function(e){h=e.default},function(e){v=e.default},function(e){T=e.default}],execute:function(){var S,y,N,L,I,w,C,E,A,B,F,k,G,R,D,O,U,z,M,H,V,x,K,P,W,X,j,q,Y,Z,J,Q;o._RF.push({},"b90b9Abe9BKUZzeDwXeGxaX","RecordView",void 0);var $=m.ccclass,ee=m.property,te=0,ne=1;e("default",(S=ee({type:c,tooltip:"頁簽按鈕"}),y=ee({type:l,tooltip:"頁簽上層圖"}),N=ee({type:u,tooltip:"頁簽名稱"}),L=ee({type:u,tooltip:"收藏提示"}),I=ee({type:l,tooltip:"收藏圖示"}),w=ee({type:p,tooltip:"已收藏圖示"}),C=ee({type:p,tooltip:"未收藏圖示"}),E=ee({type:_,tooltip:"記錄主節點"}),A=ee({type:_,tooltip:"說明主節點"}),B=ee({type:l,tooltip:"道具卡圖示"}),F=ee({type:u,tooltip:"獎勵提示"}),k=ee({type:c,tooltip:"背包按鈕"}),G=ee({type:c,tooltip:"獎盃按鈕"}),R=ee({type:u,tooltip:"沒獎勵提示"}),D=ee({type:u,tooltip:"活動說明"}),$((z=t((U=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"m_pageBtns",z,r(t)),a(t,"m_pageSprites",M,r(t)),a(t,"m_pageLabels",H,r(t)),a(t,"m_favorLabel",V,r(t)),a(t,"m_favorSprite",x,r(t)),a(t,"m_favorSpriteFrame",K,r(t)),a(t,"m_unfavorSpriteFrame",P,r(t)),a(t,"m_recordNode",W,r(t)),a(t,"m_infoNode",X,r(t)),a(t,"m_cardSprite",j,r(t)),a(t,"m_awardLabel",q,r(t)),a(t,"m_backpackBtn",Y,r(t)),a(t,"m_rankBtn",Z,r(t)),a(t,"m_hintLabel",J,r(t)),a(t,"m_descLabel",Q,r(t)),t.m_currentTouchName=null,t.m_gameId=null,t.m_extraManager=null,t.m_trialView=null,t.m_isFavor=!1,t.m_webUrl=null,t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;b.GetInstance().SetFavorInfoCb((function(t){if(t.Favorites)for(var n=0;n<t.Favorites.length;n++){if(t.Favorites[n]===e.m_gameId){v.getInstance().ShowMessageBoxFormat(d.StringKey.FAVOR_ADD_HINT,d.StringKey.MSGBOX_TITLE_SYSTEM_INFO,[g.GetInstance().GetGameName(e.m_gameId)]),e.m_isFavor=!0;break}e.m_isFavor=!1}else e.m_isFavor=!1;e.m_isFavor?e.m_favorSprite.spriteFrame=e.m_favorSpriteFrame:e.m_favorSprite.spriteFrame=e.m_unfavorSpriteFrame}));for(var t=function(t){e.m_pageBtns[t].node.on(_.EventType.TOUCH_START,(function(n){n.propagationImmediateStopped=!0,n.propagationStopped=!0,(null==e.m_currentTouchName&&e.m_pageBtns[t].node.active||n.target&&0==n.target.active)&&(e.m_currentTouchName=n.target.name)})),e.m_pageBtns[t].node.on(_.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null)})),e.m_pageBtns[t].node.on(_.EventType.TOUCH_END,(function(n){if(e.m_currentTouchName==n.target.name&&(e.m_currentTouchName=null,e.m_pageBtns[t].node.active)){for(var a=0;a<e.m_pageSprites.length;a++)e.m_pageSprites[a].node.getComponent(s).opacity=0;e.m_pageSprites[t].node.getComponent(s).opacity=255,t===te?(e.m_recordNode.active=!0,e.m_infoNode.active=!1):(e.m_recordNode.active=!1,e.m_infoNode.active=!0)}}))},n=0;n<this.m_pageBtns.length;n++)t(n);this.m_backpackBtn.node.on(_.EventType.TOUCH_START,(function(t){t.stopPropagationImmediate(),t.stopPropagation(),(null==e.m_currentTouchName&&e.m_backpackBtn.node.active||t.target&&0==t.target.active)&&(e.m_currentTouchName=t.target.name)})),this.m_backpackBtn.node.on(_.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null)})),this.m_backpackBtn.node.on(_.EventType.TOUCH_END,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.m_backpackBtn.node.active&&(e.m_trialView.CloseTrialView(),e.m_extraManager.CloseAllMenu(),e.m_extraManager.ShowBackpack()))})),this.m_rankBtn.node.on(_.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==e.m_currentTouchName&&e.m_rankBtn.node.active||t.target&&0==t.target.active)&&(e.m_currentTouchName=t.target.name)})),this.m_rankBtn.node.on(_.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null)})),this.m_rankBtn.node.on(_.EventType.TOUCH_END,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.m_rankBtn.node.active&&(null===e.m_webUrl&&(e.m_webUrl=h.WEB_URL.replace("{target}","Action")),e.m_extraManager&&e.m_extraManager.OpenWebView(e.m_webUrl,d.StringKey.BOTTOM_BAR_BACK_TO_GAME)))})),this.m_favorSprite.node.on(_.EventType.TOUCH_START,(function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==e.m_currentTouchName&&e.m_favorSprite.node.active||t.target&&0==t.target.active)&&(e.m_currentTouchName=t.target.name)})),this.m_favorSprite.node.on(_.EventType.TOUCH_CANCEL,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null)})),this.m_favorSprite.node.on(_.EventType.TOUCH_END,(function(t){e.m_currentTouchName==t.target.name&&(e.m_currentTouchName=null,e.m_favorSprite.node.active&&!e.m_isFavor&&b.GetInstance().ReqAddFavor(e.m_gameId,d.BTN_CLICK_EVENT.TRIAL_FAVOR_ADD))}))},o.Init=function(e,t){this.m_descLabel.string=g.GetInstance().GetString(t),this.m_descLabel.font||(this.m_descLabel.font=d.DefaultFont),this.SetAward(e),this.InitViewState()},o.SetTxt=function(){this.m_awardLabel.string=g.GetInstance().GetString(d.StringKey.TRIAL_AWARD_RECORD_DESC),this.m_awardLabel.font||(this.m_awardLabel.font=d.DefaultFont),this.m_hintLabel.string=g.GetInstance().GetString(d.StringKey.TRIAL_END_RECORD_DESC),this.m_hintLabel.font||(this.m_hintLabel.font=d.DefaultFont),this.m_pageLabels[te].string=g.GetInstance().GetString(d.StringKey.TRIAL_RECORD),this.m_pageLabels[te].font||(this.m_pageLabels[te].font=d.DefaultFont),this.m_pageLabels[ne].string=g.GetInstance().GetString(d.StringKey.TRIAL_INFO),this.m_pageLabels[ne].font||(this.m_pageLabels[ne].font=d.DefaultFont),this.m_favorLabel.string=g.GetInstance().GetString(d.StringKey.TRIAL_FAVOR),this.m_favorLabel.font||(this.m_favorLabel.font=d.DefaultFont)},o.InitViewState=function(){this.m_recordNode.active=!0,this.m_infoNode.active=!1,this.m_pageSprites[te].node.getComponent(s).opacity=255,this.m_pageSprites[ne].node.getComponent(s).opacity=0},o.SetAward=function(e){var t=this;if(e.amount>0){if(T.GetInstance().GetGameSpriteAtlas()){var n=T.GetInstance().GetItemIcon(e.data.icon);this.m_cardSprite.spriteFrame=n}else T.GetInstance().AddListener("trialRecord",(function(){var n=T.GetInstance().GetItemIcon(e.data.icon);t.m_cardSprite.spriteFrame=n}));this.SetElementActive(!0)}else this.SetElementActive(!1)},o.SetElementActive=function(e){this.m_backpackBtn.node.active=e,this.m_awardLabel.node.active=e,this.m_cardSprite.node.active=e,this.m_hintLabel.node.active=!e,this.m_rankBtn.node.active=!e},i(t,[{key:"GameId",set:function(e){this.m_gameId=e}},{key:"ExtraManager",set:function(e){this.m_extraManager=e}},{key:"TrialView",set:function(e){this.m_trialView=e}}]),t}(f)).prototype,"m_pageBtns",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(U.prototype,"m_pageSprites",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(U.prototype,"m_pageLabels",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(U.prototype,"m_favorLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"m_favorSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"m_favorSpriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(U.prototype,"m_unfavorSpriteFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"m_recordNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(U.prototype,"m_infoNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"m_cardSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"m_awardLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"m_backpackBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(U.prototype,"m_rankBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"m_hintLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"m_descLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=U))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/RedDiamondGet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts"],(function(t){"use strict";var e,n,r,i,a,l,o,c,u,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Label,c=t.Component},function(t){u=t.default},function(t){s=t.default},function(t){p=t.default}],execute:function(){var f,g,m,b,y,L;a._RF.push({},"7177cMVXrFFyY8YwZWulHaS","RedDiamondGet",void 0);var _=l.ccclass,d=l.property;t("default",(f=d({type:o,tooltip:"恭喜"}),g=d({type:o,tooltip:"信件"}),_((y=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,r(e,"m_congrateLabel",y,i(e)),r(e,"m_mallLabel",L,i(e)),e}return n(e,t),e.prototype.SetTxt=function(){this.m_congrateLabel.string=s.GetInstance().GetString(u.StringKey.REWARD_RUBY),this.m_mallLabel.string=s.GetInstance().GetString(u.StringKey.REWARD_CLICK_MALL),p.SetFont(this.m_congrateLabel),p.SetFont(this.m_mallLabel)},e}(c)).prototype,"m_congrateLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(b.prototype,"m_mallLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Request.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({Request:function(e,t,u,r,a,i){void 0===u&&(u={});void 0===r&&(r=null);void 0===a&&(a=n);void 0===i&&(i=!1);var c=a.ignoreCache||n.ignoreCache,p=a.headers||n.headers,d=a.timeout||n.timeout;return new Promise((function(n,a){var l=new XMLHttpRequest;i&&(l.responseType="arraybuffer"),l.open(e,o(t,u)),p&&!i&&Object.keys(p).forEach((function(e){return l.setRequestHeader(e,p[e])})),c&&l.setRequestHeader("Cache-Control","no-cache"),l.timeout=d,l.onload=function(e){n(function(e,t){void 0===t&&(t=!1);return{ok:e.status>=200&&e.status<300||304==e.status,status:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),data:t?"":e.responseText,protoData:t?e.response:null,isTimeout:!1,json:t?null:function(){return JSON.parse(e.responseText)}}}(l,i))},l.onerror=function(e){n(s(l,"Failed to make request."))},l.ontimeout=function(e){n(s(l,"Request took longer than expected."))},"post"===e&&r?(l.setRequestHeader("Content-Type",i?"application/x-protobuf":"application/json"),l.send(i?r:JSON.stringify(r))):l.send()}))},withQuery:o}),t._RF.push({},"b8112hWTZBJto2AFlOxwXND","Request",void 0);var n=e("DEFAULT_REQUEST_OPTIONS",{ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:1e4});function o(e,t){void 0===t&&(t={});var n=function(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(t);return n?e+(-1===e.indexOf("?")?"?":"&")+n:e}function s(e,t){return void 0===t&&(t=null),{ok:!1,status:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),data:t||e.statusText,protoData:null,isTimeout:!0,json:function(){return JSON.parse(t||e.statusText)}}}t._RF.pop()}}}));

System.register("chunks:///_virtual/RetryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LifeSocket.ts","./FiniteState.ts","./MsgBox.ts","./Define.ts","./Tools.ts","./LocaleStringManager.ts","./DataStruct.ts"],(function(t){"use strict";var e,s,i,n,r,c,o,a,h,_,m,u;return{setters:[function(t){e=t.createClass,s=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,r=t.log},function(t){c=t.default},function(t){o=t.default},function(t){a=t.default},function(t){h=t.default},function(t){_=t.default},function(t){m=t.default},function(t){u=t.ConnectionDataStruct}],execute:function(){n._RF.push({},"73e31x40zxMu6aUSKg+j53L","RetryManager",void 0);var g=0,S=1,l=2,T=t("default",function(){function t(){if(this.m_state=new o(g),this.m_processTick=null,this.m_isLogin=!1,this.m_isReqSpin=!1,this.m_isFirstAutoShowResync=!0,this.m_cbSetting=null,this.m_resyncCount=0,this.m_showResyncMsgTime=5,this.m_isResyncMsgClose=!1,this.m_isTriggerRetry=!1,this.m_reLoginTimes=10,t._instance)throw new Error("Error: Instantiation failed: Use RetryManager.getInstance() instead of new.");t._instance=this}t.GetInstance=function(){return this._instance||(this._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var n=t.prototype;return n.SetCb=function(t){this.m_cbSetting=t},n.CheckTrigger=function(){return!!this.m_isTriggerRetry&&(this.m_isTriggerRetry=!1,!0)},n.Reset=function(){this.m_resyncCount=0,this.m_isResyncMsgClose=!1,this.m_isFirstAutoShowResync=!0,this.m_showResyncMsgTime=5,this.m_isTriggerRetry=!1,this.m_cbSetting.restartSpeedCb&&this.m_cbSetting.restartSpeedCb()},n.Process=function(){var t=s(i().mark((function t(e){var s,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.m_isResyncMsgClose&&(this.m_showResyncMsgTime=_.strip(this.m_showResyncMsgTime-e),this.m_showResyncMsgTime<=0&&(this.m_isResyncMsgClose=!1,this.m_isFirstAutoShowResync=!0)),s=this.m_state.Tick(),t.t0=s,t.next=t.t0===g?5:t.t0===S?6:t.t0===l?24:26;break;case 5:return t.abrupt("break",26);case 6:if(!this.m_state.IsEntering()){t.next=22;break}if(r("RETRYMANAGER.CHECK_SOCKET",c.GetInstance().IsClose),this.m_processTick=null,!c.GetInstance().IsClose){t.next=13;break}this.m_processTick=c.GetInstance().ReconnectTime,t.next=22;break;case 13:if(this.m_isLogin){t.next=21;break}if(!(this.m_reLoginTimes<=0)){t.next=17;break}return a.getInstance().ShowMessageBox(h.StringKey.MSGBOX_TIME_OUT,h.StringKey.MSGBOX_TITLE_SYSTEM_INFO,_.CloseGameTab,_.GetErrorCode(h.ErrorStatus.Game,h.ErrorStatus.Unknow)),t.abrupt("return");case 17:this.m_cbSetting&&this.m_cbSetting.loginCb&&this.m_cbSetting.loginCb(),this.m_reLoginTimes--,t.next=22;break;case 21:!this.m_isReqSpin&&this.m_cbSetting&&this.m_cbSetting.extraCb?this.m_cbSetting.extraCb():this.m_state.NextState(l);case 22:return null!=this.m_processTick&&(this.m_processTick=_.strip(this.m_processTick-1e3*e),this.m_processTick<=0&&(this.m_isLogin?this.Resync():this.m_state.NextState(S))),t.abrupt("break",26);case 24:return this.m_state.IsEntering()&&(r("RETRYMANAGER.RESYNC"),this.m_cbSetting&&this.m_cbSetting.lastReqCb&&this.m_cbSetting.lastReqCb((function(){n.m_state.NextState(l)}))),t.abrupt("break",26);case 26:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.TimeoutHandle=function(t,e){t!=u.ErrorHandleType.Ignore&&(this.m_isTriggerRetry=!0,this.m_isLogin?this.m_isReqSpin?(e&&e(),this.Resync()):this.m_cbSetting&&this.m_cbSetting.extraCb?this.m_state.NextState(S):a.getInstance().ShowMessageBox(h.StringKey.MSGBOX_TIME_OUT,h.StringKey.MSGBOX_TITLE_SYSTEM_INFO,_.CloseGameTab,_.GetErrorCode(h.ErrorStatus.Game,h.ErrorStatus.Unknow)):this.m_state.NextState(S))},n.Resync=function(){this.m_state.NextState(S),this.m_isFirstAutoShowResync&&(this.m_isFirstAutoShowResync=!1,this.m_resyncCount++,this.m_resyncCount<4?(this.m_isResyncMsgClose=!0,this.m_showResyncMsgTime=5,this.m_cbSetting&&this.m_cbSetting.hintCb&&this.m_cbSetting.hintCb(m.GetInstance().GetString(h.StringKey.MSGBOX_RESYNC),!0)):a.getInstance().ShowMessageBox(h.StringKey.MSGBOX_CONNECT_FAIL,h.StringKey.MSGBOX_TITLE_SYSTEM_INFO,_.CloseGameTab,_.GetErrorCode(h.ErrorStatus.Game,h.ClientErrorCode.ClientTimeOut)))},e(t,[{key:"IsLogin",set:function(t){this.m_isLogin=t}},{key:"IsReqSpin",get:function(){return this.m_isReqSpin},set:function(t){this.m_isReqSpin=t}}]),t}());T._instance=new T,n._RF.pop()}}}));

System.register("chunks:///_virtual/RookieHintComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,h,p,c,l,m,_,S,u,k,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.size,h=t.Animation,p=t.Node,c=t.Sprite,l=t.SpriteFrame,m=t.Label,_=t.UIOpacity,S=t.UITransform,u=t.view,k=t.v3,y=t.Component},function(t){f=t.default}],execute:function(){var M,g,C,R,b,v,T,d,w,z,x,H,I,N,P,A,B;a._RF.push({},"73774PldK1EaqdgxNnakZMI","RookieHintComponent",void 0);var F=r.ccclass,L=r.property,U="Clip_Hint_ArrowUp",D="Clip_Hint_ArrowDown",E=0,O=1,Y={Circle:s(166,166),Rect:s(240,100),Rect_L:s(702,135),Rect_S:s(464,162),Rect_Mask_L:s(900,180),Rect_Mask_S:s(600,210)};t("RookieHintComponent",(M=F("RookieHintComponent"),g=L({type:h,tooltip:"箭頭方向控制動畫"}),C=L({type:p,tooltip:"提示遮罩形狀 0:圓 1:方"}),R=L({type:p,tooltip:"提示遮罩黑色部分 0:圓 1:方"}),b=L({type:c,tooltip:"提示框"}),v=L({type:l,tooltip:"提示框圖資源 0:圓 1:方"}),T=L({type:p,tooltip:"提示文字底板"}),d=L({type:m,tooltip:"提示文字"}),M((x=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"m_arrowAnim",x,o(e)),n(e,"m_hintMaskShape",H,o(e)),n(e,"m_hintMaskBg",I,o(e)),n(e,"m_hintShape",N,o(e)),n(e,"m_hintShapeSprites",P,o(e)),n(e,"m_hintTextFrame",A,o(e)),n(e,"m_hintText",B,o(e)),e.m_type=null,e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetHintState=function(t,e){var i=this,n=D,o=Y.Circle,a=this.m_hintShapeSprites[E],r=null,s="",h=!0;switch(this.m_type=t,t){case f.RookieHintType.SPIN_BTN:n=D,o=Y.Circle,a=this.m_hintShapeSprites[E],this.m_hintMaskShape[E].active=!0,this.m_hintMaskShape[O].active=!1,s="Press the SPIN Button to PLAY",h=!1;break;case f.RookieHintType.BET_BTN:n=D,o=Y.Rect,a=this.m_hintShapeSprites[O],this.m_hintMaskShape[E].active=!1,this.m_hintMaskShape[O].active=!0,this.m_hintMaskBg[O].getComponent(_).opacity=1,s="Increase Your Bet to Level UP Faster";break;case f.RookieHintType.MISSION_BTN:n=U,o=Y.Circle,a=this.m_hintShapeSprites[E],this.m_hintMaskShape[E].active=!0,this.m_hintMaskShape[O].active=!1,s="Mission Challenge!!\nComplete the Mission to Get Reward";break;case f.RookieHintType.MISSION_MENU:n=U,o=e?Y.Rect_L:Y.Rect_S,r=e?Y.Rect_Mask_L:Y.Rect_Mask_S,a=this.m_hintShapeSprites[O],this.m_hintMaskShape[E].active=!1,this.m_hintMaskShape[O].active=!0,s="Try This!!"}if(h)for(var c=0;c<this.m_hintMaskBg.length;c++)this.m_hintMaskBg[c].on(p.EventType.TOUCH_END,(function(){i.node.parent.active=!1}));this.m_arrowAnim.play(n),this.m_hintShape.spriteFrame=a,this.m_hintShape.node.getComponent(S).setContentSize(o),r&&this.m_hintMaskShape[O].getComponent(S).setContentSize(r),this.m_hintText.string=s,this.CheckSizeAndPos()},a.OnRotate=function(t){if(this.CheckSizeAndPos(),this.m_type==f.RookieHintType.MISSION_MENU){var e=t?Y.Rect_L:Y.Rect_S,i=t?Y.Rect_Mask_L:Y.Rect_Mask_S;this.m_hintShape.node.getComponent(S).setContentSize(e),this.m_hintMaskShape[O].getComponent(S).setContentSize(i)}},a.CheckSizeAndPos=function(){var t=u.getVisibleSize(),e=0,i=this.m_hintTextFrame.getPosition().y,n=this.m_hintTextFrame.parent.getComponent(S).convertToWorldSpaceAR(k(e,i)),o=this.m_hintTextFrame.getComponent(S).contentSize.width/2;n.x+o>t.width?e=0-(n.x+o-t.width)-15:n.x-o<0&&(e=0+(o-n.x)+15),this.m_hintTextFrame.setPosition(k(e,i))},e}(y)).prototype,"m_arrowAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"m_hintMaskShape",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(z.prototype,"m_hintMaskBg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(z.prototype,"m_hintShape",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"m_hintShapeSprites",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(z.prototype,"m_hintTextFrame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(z.prototype,"m_hintText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/RookieHintManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RookieHintComponent.ts","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,p,c,h,T,l,u,_,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,p=t.Node,c=t.instantiate,h=t.UITransform,T=t.Component,l=t.tween},function(t){u=t.RookieHintComponent},function(t){_=t.default},function(t){m=t.default}],execute:function(){var g,d,f,H,N,S,R;r._RF.push({},"88c73QSkjFKCJc+I7jIH9sP","RookieHintManager",void 0);var v=s.ccclass,y=s.property,I=t("HintLevel",{Spin:0,Bet:2,Mission:3,MissionMenu:3.5});t("RookieHintManager",(g=v("RookieHintManager"),d=y({type:a,tooltip:"提示箭頭prefab"}),f=y({type:p,tooltip:"需要被提示的提示目標"}),g((S=e((N=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_arrowHintPrefab",S,o(e)),i(e,"m_hintTargets",R,o(e)),e.m_posNodes=[],e.m_arrowHints=[],e}n(e,t);var r=e.prototype;return r.start=function(){},r.SetTargetPosNode=function(t){this.m_posNodes.push(t)},r.CheckLevelHint=function(t,e){switch(t){case I.Spin:return this.m_hintTargets[_.RookieHintType.SPIN_BTN].active=!0,this.SetHint(_.RookieHintType.SPIN_BTN,this.m_posNodes[_.RookieHintType.SPIN_BTN],e),I.Spin;case I.Bet:return this.m_hintTargets[_.RookieHintType.BET_BTN].active=!0,this.SetHint(_.RookieHintType.BET_BTN,this.m_posNodes[_.RookieHintType.BET_BTN],e),I.Bet;case I.Mission:return this.m_hintTargets[_.RookieHintType.MISSION_BTN].active=!0,this.SetHint(_.RookieHintType.MISSION_BTN,this.m_posNodes[_.RookieHintType.MISSION_BTN],e),I.Mission;case I.MissionMenu:return this.m_hintTargets[_.RookieHintType.MISSION_MENU].active=!0,this.SetHint(_.RookieHintType.MISSION_MENU,this.m_posNodes[_.RookieHintType.MISSION_MENU],e),I.MissionMenu;default:return-1}},r.SetHint=function(t,e,n){if(e){m.SetZIndex(this.node,_.ZOrder.ROOKIE);var i=c(this.m_arrowHintPrefab);this.m_hintTargets[t].addChild(i);var o=e.parent.getComponent(h).convertToWorldSpaceAR(e.getPosition()),r=this.m_hintTargets[t].parent.getComponent(h).convertToNodeSpaceAR(o);console.error("SetHint",o,r,e.getPosition()),this.m_hintTargets[t].setPosition(r),i.getComponent(u).SetHintState(t,!0),this.OnRotation(n)}else console.error("SetHint: Cant find pos")},r.CloseHint=function(t){this.m_hintTargets[t].getComponentInChildren(u)&&this.m_hintTargets[t].getComponentInChildren(u).node.active&&(this.m_hintTargets[t].active=!1)},r.OnRotation=function(t){for(var e=this,n=function(n){e.m_posNodes[n]&&e.m_hintTargets[n].active&&l(e.node).delay(.1).call((function(){var i=e.m_posNodes[n].parent.getComponent(h).convertToWorldSpaceAR(e.m_posNodes[n].getPosition()),o=e.m_hintTargets[n].parent.getComponent(h).convertToNodeSpaceAR(i);console.error("OnRotation",n,i,o,e.m_posNodes[n].getPosition()),e.m_hintTargets[n].setPosition(o);var r=e.m_hintTargets[n].getComponentInChildren(u);r&&r.OnRotate(t)})).start()},i=0;i<this.m_hintTargets.length;i++)n(i)},e}(T)).prototype,"m_arrowHintPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(N.prototype,"m_hintTargets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=N))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(n){"use strict";var t,i,e,s;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy},function(n){e=n.default},function(n){s=n.default}],execute:function(){i._RF.push({},"55b4amMObRPIZjftOQak3C2","RoundController",void 0);var o=n("default",function(){function n(){if(this.m_spinStartTime=null,this.m_isPlayingBuyBonus=!1,n._instance)throw new Error("Error: Instantiation failed: Use RoundController.getInstance() instead of new.");n._instance=this}n.GetInstance=function(){return this._instance||(this._instance=new n),n._instance},n.OnExit=function(){delete this._instance,this._instance=null};var i=n.prototype;return i.StartSpin=function(){this.m_spinStartTime=Date.now()},i.CanToNextRound=function(){return s.minus(Date.now(),this.m_spinStartTime)>e.DEALY_TIME&&!this.IsPlayingBuyBonus},t(n,[{key:"IsPlayingBuyBonus",get:function(){return this.m_isPlayingBuyBonus},set:function(n){this.m_isPlayingBuyBonus=n}}]),n}());o._instance=new o,i._RF.pop()}}}));

System.register("chunks:///_virtual/SelectBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,l,a,c,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,a=t._decorator,c=t.Label,u=t.Node,s=t.Component}],execute:function(){var p,f,h,y,b,g;l._RF.push({},"fe461YjwP1Ac4jACqvPLUcE","SelectBtn",void 0);var d=a.ccclass,m=a.property;t("default",(p=m({type:c,tooltip:"選項名稱"}),f=m({type:u,tooltip:"亮節點"}),d((b=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"m_txtLabel",b,n(e)),i(e,"m_lightNode",g,n(e)),e}return r(e,t),o(e,[{key:"TxtLabel",get:function(){return this.m_txtLabel}},{key:"LightNode",get:function(){return this.m_lightNode}}]),e}(s)).prototype,"m_txtLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"m_lightNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,a,s,o,r,u,c,h,l,p,m,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.createClass,i=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,h=e.Enum,l=e.JsonAsset,p=e.Vec3,m=e.math,d=e.tween,f=e.Component}],execute:function(){var y,g,k,b,_,w,v,I,O,E,T,J,x,N,S,L,j,z,D,q,F,P,C,A,B,W,R,U,G,M,V,H,Q,K,X,Y,Z,$;u._RF.push({},"02e880GcB9Jw7QDr8UUWxEV","ShakeComponent",void 0);var ee,te=c.ccclass,ne=c.property,ie=c.executeInEditMode,ae=c.help,se=[{name:"backIn",desc:"回退:緩入"},{name:"backInOut",desc:"回退:緩入緩出"},{name:"backOut",desc:"回退:緩出"},{name:"backOutIn",desc:"回退:緩出緩入"},{name:"bounceIn",desc:"彈跳:緩入"},{name:"bounceInOut",desc:"彈跳:緩入緩出"},{name:"bounceOut",desc:"彈跳:緩出"},{name:"bounceOutIn",desc:"彈跳:緩出緩入"},{name:"circIn",desc:"迴圈:緩入 由慢到快"},{name:"circInOut",desc:"迴圈:緩入緩出 由慢到很快再到慢"},{name:"circOut",desc:"迴圈:緩出 由快到慢"},{name:"circOutIn",desc:"迴圈:緩出緩入 由慢到很快再到慢"},{name:"constant",desc:"constant"},{name:"cubicIn",desc:"立方曲線緩入 由慢到快"},{name:"cubicInOut",desc:"立方曲線緩入緩出 由慢到快再到慢"},{name:"cubicOut",desc:"立方曲線緩出 由快到慢"},{name:"cubicOutIn",desc:"立方曲線緩出緩入 由慢到快再到慢"},{name:"elasticIn",desc:"彈簧回震:緩入"},{name:"elasticInOut",desc:"彈簧回震:緩入緩出"},{name:"elasticOut",desc:"彈簧回震:緩出"},{name:"elasticOutIn",desc:"彈簧回震:緩出緩入"},{name:"expoIn",desc:"指數曲線緩入 由慢到快"},{name:"expoInOut",desc:"指數曲線緩入和緩出 由慢到很快再到慢"},{name:"expoOut",desc:"指數曲線緩出 由快到慢"},{name:"expoOutIn",desc:"指數曲線緩出緩入和 由慢到很快再到慢"},{name:"fade",desc:"漸褪效果"},{name:"linear",desc:"線性"},{name:"quadIn",desc:"平方曲線緩入 由慢到快"},{name:"quadInOut",desc:"平方曲線緩入緩出 由慢到快再到慢"},{name:"quadOut",desc:"平方曲線緩出 由快到慢"},{name:"quadOutIn",desc:"平方曲線緩出緩入 由慢到快再到慢"},{name:"quartIn",desc:"四次方曲線緩入 由慢到快"},{name:"quartInOut",desc:"四次方曲線緩入緩出 由慢到快再到慢"},{name:"quartOut",desc:"四次方曲線緩出 由快到慢"},{name:"quartOutIn",desc:"四次方曲線緩出緩入 由慢到快再到慢"},{name:"quintIn",desc:"五次方曲線緩入 由慢到快"},{name:"quintInOut",desc:"五次方曲線緩入緩出 由慢到快再到慢"},{name:"quintOut",desc:"五次方曲線緩出 由慢到快"},{name:"quintOutIn",desc:"五次方曲線緩出緩入 由慢到快再到慢"},{name:"sineIn",desc:"正弦曲線緩入 由慢到快"},{name:"sineInOut",desc:"正弦曲線緩入緩出 由慢到快再到慢"},{name:"sineOut",desc:"正弦曲線緩出 由快到慢"},{name:"sineOutIn",desc:"正弦曲線緩出緩入 由慢到快再到慢"},{name:"smooth",desc:"平滑效果"}],oe=h({}),re=h({});!function(e){e[e.None=0]="None",e[e.FadeIn=1]="FadeIn",e[e.FadeOut=2]="FadeOut"}(ee||(ee={}));var ue=h({None:ee.None,FadeIn:ee.FadeIn,FadeOut:ee.FadeOut}),ce=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},he=e("_TweenInfo",(y=te("_TweenInfo"),g=ne({visible:!1,tooltip:"Easing"}),k=ne({type:oe,visible:!1}),b=ne({visible:!0,displayName:"緩動效果",type:oe}),_=ne({type:ue,visible:!1}),w=ne({visible:!0,displayName:"fade type",type:ue}),v=ne({min:0,visible:!0,displayName:"時間"}),y((E=t((O=function(){function e(){a(this,"m_EasingName",E,this),a(this,"__easingIdx",T,this),a(this,"__fadeType",J,this),this._EasingEnumList=[],a(this,"duration",x,this)}return n(e,[{key:"_easingIdx",get:function(){},set:function(e){}},{key:"_fadeType",get:function(){return this.__fadeType},set:function(e){}}]),e}()).prototype,"m_EasingName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(O.prototype,"__easingIdx",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(O.prototype,"_easingIdx",[b],Object.getOwnPropertyDescriptor(O.prototype,"_easingIdx"),O.prototype),J=t(O.prototype,"__fadeType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(O.prototype,"_fadeType",[w],Object.getOwnPropertyDescriptor(O.prototype,"_fadeType"),O.prototype),x=t(O.prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=O))||I));e("Shake",(N=te("Shake"),S=ae("https://docs.cocos.com/creator/3.6/manual/zh/tween/tween-function.html#%E5%86%85%E7%BD%AE%E7%BC%93%E5%8A%A8%E5%87%BD%E6%95%B0"),L=ne({visible:!1,displayName:"正負交替",tooltip:"重複次數>1時, 正負交替"}),j=ne({type:l,displayName:"預先定義shake.json",visible:function(){return this.shakeJson&&this._updateShakeEnum(this.shakeJson.json.shakelist),!0}}),z=ne({visible:!0,tooltip:"自定義的shake name"}),D=ne({type:re,visible:!1}),q=ne({visible:!0,displayName:"儲存到預先定義.json",tooltip:"若Shakename不為:custom,才會儲存"}),F=ne({visible:!0,displayName:"預先定義",tooltip:"切換後會以預先定義的數值直接覆蓋所有設定值",type:re}),P=ne({readonly:!0,displayName:"總震動時間"}),C=ne({visible:!0,displayName:"振幅"}),A=ne({min:1,step:1,visible:!0,displayName:"震動頻率/秒"}),B=ne({step:1,visible:!0,displayName:"振幅x/y/z權重:%"}),W=ne({visible:!1,type:[he]}),R=ne({type:[he],tooltip:"輸入更改 緩動效果 數量",displayName:"緩動效果"}),N(U=ie(U=S((M=t((G=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"alternately",M,s(t)),a(t,"shakeJson",V,s(t)),a(t,"shakename",H,s(t)),a(t,"__ShakeIdx",Q,s(t)),a(t,"Duration",K,s(t)),a(t,"magnitude",X,s(t)),a(t,"frequency",Y,s(t)),a(t,"weight",Z,s(t)),a(t,"_TweenList",$,s(t)),t._EasingEnumList=[],t._ShakeEnumList=[],t.originPos=new p,t._TestShakeCnt=0,t}i(t,e);var u=t.prototype;return u.updateDuration=function(){for(var e=0,t=0;t<this._TweenList.length;t++)e+=this._TweenList[t].duration;this.Duration=e},u.setTweenJson=function(e){var t=this.shakeJson.json.shakelist;if("custom"!=e)t[e];else console.warn("custom 不會儲存到預先定義.json")},u.getTweenJson=function(){for(var e={magnitude:this.magnitude,frequency:this.frequency,weight:{x:this.weight.x,y:this.weight.y,z:this.weight.z}},t=[],n=0;n<this._TweenList.length;n++){var i=this._TweenList[n];t.push({m_EasingName:i.m_EasingName,_easingIdx:i._easingIdx,_fadeType:i._fadeType,duration:i.duration})}return e._TweenList=t,e},u.getJsonData=function(){var e=o(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},this.shakeJson&&this.shakeJson.json&&(t=this.shakeJson.json),"custom"==this.shakename){e.next=19;break}(n=t.shakelist)[this.shakename]=this.getTweenJson(),t.shakelist=n,e.next=17;break;case 11:i=e.sent,console.log("path",i,"outJson",JSON.stringify(t,null,2)),undefined.writeFileSync(i,JSON.stringify(t,null,2),"utf-8"),e.next=17;break;case 16:console.log("請先指定 '預先定義shake.json'");case 17:e.next=20;break;case 19:console.warn("custom 不會儲存到預先定義.json");case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onLoad=function(){this.shakeJson&&this.shakeJson.json?(this._updateShakeEnum(this.shakeJson.json.shakelist),this.shakeJson.json):this.getJsonData();for(var e=[],t=0;t<se.length;++t){var n=se[t];e.push({name:n.desc,easingName:n.name,value:ce(n.name)})}e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),this._EasingEnumList=e,this._updateEasingEnum(),this.updateDuration()},u._updateShakeEnum=function(e){var t=[];e&&(Object.keys(e).forEach((function(e){t.push({name:e,value:ce(e)})})),t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))),this._ShakeEnumList=t},u._updateEasingEnum=function(){for(var e=0;e<this._TweenList.length;e++)this._TweenList[e]._EasingEnumList=this._EasingEnumList},u.start=function(){this.originPos=this.node.getPosition(),this.shake()},u.fade=function(e,t,n,i,a,s,o){for(var r=1/n,u=t/r,c=1;c<=u;c++){var h=i;a==ee.FadeIn?h*=c/u:a==ee.FadeOut&&(h*=(u-c)/u);var l=this.originPos.clone(),d=new p(m.random()-.5,m.random()-.5,m.random()-.5),f=new p(2*h*s.x/100,2*h*s.y/100,2*h*s.z/100);f=f.multiply(d),l=l.add(f),e=e.to(r,{position:l},{easing:o,onStart:function(e){},onUpdate:function(e,t){},onComplete:function(e){}})}return e},u.shake=function(){this._shake(this._TweenList,this.frequency,this.magnitude,this.weight)},u.testShake=function(){if(this.shakeJson&&this.shakeJson.json.shakelist){var e=this.shakeJson.json.shakelist;if(e){var t=Object.keys(e);t.push("ErrorTest");var n=t[this._TestShakeCnt++%t.length];this.ShakeWithName(n)}}else console.log("ShakeWithName shakeJson not assign!")},u.ShakeWithName=function(e){if(this.shakeJson&&this.shakeJson.json.shakelist){var t=this.shakeJson.json.shakelist;if(!t[e])return void console.log("ShakeWithName shakename:"+e+" not found!");var n=t[e],i=n._TweenList,a=n.weight;this._shake(i,n.frequency,n.magnitude,new p(a.x,a.y,a.z))}else console.log("ShakeWithName shakeJson not assign!")},u._shake=function(e,t,n,i){for(var a=d(this.node),s=0;s<e.length;s++){var o=e[s];a=this.fade(a,o.duration,t,n,o._fadeType,i,o.m_EasingName)}(a=a.to(0,{position:this.originPos})).start()},n(t,[{key:"saveshake",get:function(){return!1},set:function(e){this.getJsonData()}},{key:"_ShakeIdx",get:function(){return this.__ShakeIdx},set:function(e){}},{key:"TweenList",get:function(){return this._TweenList},set:function(e){this._TweenList=e,this.updateDuration(),this._updateEasingEnum()}}]),t}(f)).prototype,"alternately",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=t(G.prototype,"shakeJson",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"shakename",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"custom"}}),Q=t(G.prototype,"__ShakeIdx",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(G.prototype,"saveshake",[q],Object.getOwnPropertyDescriptor(G.prototype,"saveshake"),G.prototype),t(G.prototype,"_ShakeIdx",[F],Object.getOwnPropertyDescriptor(G.prototype,"_ShakeIdx"),G.prototype),K=t(G.prototype,"Duration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(G.prototype,"magnitude",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Y=t(G.prototype,"frequency",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=t(G.prototype,"weight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,0,0)}}),$=t(G.prototype,"_TweenList",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(G.prototype,"TweenList",[R],Object.getOwnPropertyDescriptor(G.prototype,"TweenList"),G.prototype),U=G))||U)||U)||U));u._RF.pop()}}}));

System.register("chunks:///_virtual/SignIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocaleStringManager.ts","./Define.ts","./Discount.ts","./TimeBool.ts","./Tools.ts","./ItemList.ts","./MsgBox.ts","./ConnectionManager.ts","./VipManager.ts","./SignInItem.ts","./EnvironmentConfig.ts","./NotificationManager.ts","./AutoShowManager.ts"],(function(t){"use strict";var e,i,n,r,a,o,s,m,u,c,p,_,l,h,f,S,I,g,d,b,v,y,N,T,w,E,L,C,F,G,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime,s=t.createClass},function(t){m=t.cclegacy,u=t._decorator,c=t.Node,p=t.Prefab,_=t.Label,l=t.SpriteFrame,h=t.Button,f=t.Animation,S=t.instantiate,I=t.Component,g=t.error},function(t){d=t.default},function(t){b=t.default},function(t){v=t.PageName},function(t){y=t.default},function(t){N=t.default},function(t){T=t.default},function(t){w=t.default},function(t){E=t.default},function(t){L=t.default},function(t){C=t.default},function(t){F=t.default},function(t){G=t.default},function(t){R=t.default}],execute:function(){var x,A,V,P,B,D,O,U,k,q,M,H,z,K,W,X,Y,j,J,Z,Q,$,tt,et,it,nt,rt,at,ot,st;t("SignInSpace",void 0),m._RF.push({},"21fecFL9VpJqakXZy5bgxki","SignIn",void 0),ot||(ot=t("SignInSpace",{})),function(t){t[t.SIGN_UP_SUCCESS=0]="SIGN_UP_SUCCESS",t[t.SIGN_UPED=1]="SIGN_UPED",t[t.SIGN_UP_END=2]="SIGN_UP_END",t[t.SIGN_UP_BAN=3]="SIGN_UP_BAN"}(st||(st={}));var mt=0,ut=t("InfoTouchEvent",(function(){this.event=void 0,this.apiId=void 0,this.aId=void 0,this.gameID=void 0})),ct=[2e4,20001],pt=u.ccclass,_t=u.property;t("default",(x=_t({type:c,tooltip:"橫版節點"}),A=_t({type:c,tooltip:"橫版內容存放位置"}),V=_t({type:p,tooltip:"橫版內容prefab"}),P=_t({type:c,tooltip:"直版節點"}),B=_t({type:c,tooltip:"直版內容存放位置"}),D=_t({type:p,tooltip:"直版內容prefab"}),O=_t({type:_,tooltip:"簽到描述"}),U=_t({type:l,tooltip:"可點擊圖示"}),k=_t({type:l,tooltip:"已領取"}),q=_t({type:l,tooltip:"不可點擊圖示"}),M=_t({type:h,tooltip:"網頁資訊按鈕"}),H=_t({type:l,tooltip:"vip寶箱圖(可領取狀態)"}),z=_t({type:l,tooltip:"寶箱開啟圖示"}),pt((X=e((W=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"m_nodeL",X,r(e)),n(e,"m_contentNodeL",Y,r(e)),n(e,"m_itemPrefabL",j,r(e)),n(e,"m_nodeS",J,r(e)),n(e,"m_contentNodeS",Z,r(e)),n(e,"m_itemPrefabS",Q,r(e)),n(e,"m_vipHintLabels",$,r(e)),n(e,"m_ableSpriteFrame",tt,r(e)),n(e,"m_gotSpriteFrame",et,r(e)),n(e,"m_unableSpriteFrame",it,r(e)),n(e,"m_signInInfoBtns",nt,r(e)),n(e,"m_vipBoxSpriteFrames",rt,r(e)),n(e,"m_boxOpenSpriteFrames",at,r(e)),e.m_currentTouchName=null,e.m_discount=null,e.m_timer=null,e.m_signStateReqFunc=null,e.m_signInReqFunc=null,e.m_isReqSignState=!1,e.m_isReqSignIn=!1,e.m_addViewCb=null,e.m_removeViewCb=null,e.m_state=null,e.m_txtSpriteAtlas=null,e.m_isFirst=!0,e.m_isLandscape=!1,e.m_nowExp=0,e.m_vipSpriteFrames=[],e.m_appVipSpriteFrames=[],e.m_isRegistered=!1,e.m_extraManager=null,e.m_itemsL=[],e.m_itemsS=[],e}i(e,t);var m=e.prototype;return m.start=function(){},m.OnRotation=function(t){this.m_isLandscape=t,this.m_isLandscape?this.node.getComponent(f).play("Cllip_WinMore_FreeGiftPage_Landscape"):this.node.getComponent(f).play("Cllip_WinMore_FreeGiftPage_Portrait")},m.Init=function(t,e,i,n,r,s,m,u,p){var _=this;this.m_timer=new y,this.m_timer.UseDT(!0),this.m_discount=i,this.m_signStateReqFunc=s,this.m_signInReqFunc=m,this.m_addViewCb=u,this.m_removeViewCb=p,this.m_vipSpriteFrames=n,this.m_appVipSpriteFrames=r,this.m_extraManager=e,T.GetInstance().LoadItemList();var l=new ut;l.aId=Number(b.AID),l.apiId=Number(b.API_ID),l.gameID=Number(b.NOW_GAME_ID),this.m_signInInfoBtns.forEach((function(t){t.node.on(c.EventType.TOUCH_START,(function(t){_.TouchStartEvent(t)})),t.node.on(c.EventType.TOUCH_CANCEL,(function(t){_.TouchCancelEvent(t)})),t.node.on(c.EventType.TOUCH_END,(function(t){l.event=t,_.InfoTouchEndEvent(l)}))})),this.ReqSignInState(),this.OnRotation(t),L.GetInstance().AddUpdateCb(b.CbKey.SignIn,a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.UpdateVip(e);case 1:case"end":return t.stop()}}),t)}))))},m.UpdateVip=function(t){var e=this;this.m_nowExp=t.TreasureExp,this.m_state&&(this.m_itemsL.forEach((function(i){i.UpdateVip(e.m_nowExp,e.m_state,t)})),this.m_itemsS.forEach((function(i){i.UpdateVip(e.m_nowExp,e.m_state,t)})))},m.TouchStartEvent=function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0,(null==this.m_currentTouchName||t.target&&0==t.target.active)&&(this.m_currentTouchName=t.target.name)},m.TouchCancelEvent=function(t){this.m_currentTouchName==t.target.name&&(this.m_currentTouchName=null)},m.DoSignIn=function(t,e,i){this.m_currentTouchName==i.target.name&&(this.m_currentTouchName=null,t.interactable&&(this.m_discount.ShowMask(),this.ReqSignIn(e)))},m.InfoTouchEndEvent=function(t){if(this.m_currentTouchName==t.event.target.name){this.m_currentTouchName=null;var e=!1;isNaN(Number(b.API_ID))||(e=ct.indexOf(Number(b.API_ID))>=0);var i=F.WEB_URL.replace("{target}",e?"member":"member/vip");e&&(i+="&layout=headeronly"),this.m_extraManager.OpenWebView(i,b.StringKey.BOTTOM_BAR_BACK_GAME_HISTORY),E.getInstance().SendBtnClickEvent(E.FormBtnClickParams(t.aId,t.apiId,t.gameID,b.GAME_VERSION,b.BTN_CLICK_EVENT.SIGN_IN_INFO_CLICK,1))}},m.Process=function(t){this.m_timer&&(this.m_timer.Update(1e3*t),this.m_timer.ToBool()&&(this.m_timer.Clear(),this.ReqSignInState()))},m.SetTxt=function(t){this.m_txtSpriteAtlas=t,this.m_itemsL.forEach((function(t){t.SetText()})),this.m_itemsS.forEach((function(t){t.SetText()}))},m.TimeOutHandle=function(){this.m_isReqSignState&&(this.m_vipHintLabels.forEach((function(t){t.string=d.GetInstance().GetString(b.StringKey.SIGN_IN_VIP0),t.font||(t.font=b.DefaultFont)})),this.m_discount.SignInHintAnim&&(this.m_discount.SignInHintAnim.play(),this.m_discount.SignInHintAnim.stop())),this.m_isReqSignIn=!1,this.m_isReqSignState=!1},m.ReqSignIn=function(t){this.m_isReqSignIn||(this.m_signInReqFunc(t),this.m_isReqSignIn=!0)},m.ReqSignInState=function(){this.m_isReqSignState||(this.m_signStateReqFunc(),this.m_isReqSignState=!0,L.GetInstance().ReqVipInfo())},m.OnRecvSignInState=function(t){var e=this,i=t.ret;if(this.m_isReqSignState=!1,i===mt&&t.ack.Result===mt&&t.ack.Info.Error===mt&&t.ack.Info.TreasureList){this.m_state=t.ack.Info,this.m_addViewCb?this.m_addViewCb():this.m_removeViewCb&&this.m_removeViewCb();var n=L.GetInstance().VipInfo.Lv;if(!this.m_isRegistered){this.m_isRegistered=!0;R.GetInstance().AddAutoShowCb((function(){if(e.m_isFirst){for(var t=!1,i=L.GetInstance().VipInfo.Lv,n=window.location.search.split("itemIdx=")[1],r=0;r<e.m_state.TreasureList.length;r++){var a=e.m_state.TreasureList[r];if(i>=a.MinVip&&e.m_nowExp>=a.Exp&&!a.IsOpen){t=!0;break}}e.m_isFirst&&t&&i>0&&!n?(g("AutoShow SignIn"),e.m_discount.ShowDiscountView(v.SignIn)):(g("no need AutoShow SignIn"),R.GetInstance().AutoShowNext()),e.m_isFirst=!1}}),b.AutoShowOrder.SIGN_IN)}var r=d.GetInstance().GetString(b.StringKey.SIGN_IN_BOX);this.m_vipHintLabels.forEach((function(t){t.string=r,t.font||(t.font=b.DefaultFont)}));for(var a=[],o=[],s=[],m=0;m<this.m_state.TreasureList.length;m++){var u=this.m_state.TreasureList[m];u.IsOpen?s.push(u):n>u.MinVip&&this.m_nowExp>=u.Exp?a.push(u):o.push(u)}this.m_state.TreasureList=new Array,this.m_state.TreasureList.push.apply(this.m_state.TreasureList,a),this.m_state.TreasureList.push.apply(this.m_state.TreasureList,o),this.m_state.TreasureList.push.apply(this.m_state.TreasureList,s);for(var c=window.location.search.split("itemIdx=")[1],p=!1,_=0;_<this.m_state.TreasureList.length;_++){var l=this.m_state.TreasureList[_];if(n>=l.MinVip&&this.m_nowExp>=l.Exp&&!l.IsOpen){p=!0;break}}p&&n>0&&!c?this.m_discount.ShowSignInHint(!0):this.m_discount.ShowSignInHint(!1),this.SetItems(this.m_itemsL,this.m_contentNodeL,this.m_itemPrefabL),this.SetItems(this.m_itemsS,this.m_contentNodeS,this.m_itemPrefabS),G.GetInstance().UpdateSignInNotify(this.m_nowExp,this.m_state.TreasureList)}else this.m_removeViewCb&&this.m_removeViewCb();this.m_discount.HideMask()},m.SetItems=function(t,e,i){if(this.m_state){for(var n=this.m_state.TreasureList.length;t.length<n;){var r=S(i),a=r.getComponent(C);a.Init(this),t.push(a),e.addChild(r)}for(var o=0;o<t.length;o++)o>=n?t[o].node.active=!1:(t[o].node.active=!0,t[o].SetInfo(this.m_nowExp,this.m_state.TreasureList[o]))}},m.OnRecvSignIn=function(t){var e=t.ack.Info,i=t.ret;if(this.m_isReqSignIn=!1,i===mt&&t.ack.Info.Error===mt&&t.ack.Result===st.SIGN_UP_SUCCESS&&e.ItemID&&e.Count>0){var n=function(t){var e={};e.contextKey=b.StringKey.SIGN_IN_CONGRATS,e.itemSpriteFrame=t,e.titleKey=w.DEFAULT_TITLE_KEY,e.showCancelBtn=!1,e.showConfirmBtn=!0,e.showCloseBtn=!1,w.getInstance().PushMessageBoxSetting(e)};if(T.GetInstance().GetGameSpriteAtlas()){var r=T.GetInstance().GetItemIcon(e.Icon);n(r)}else T.GetInstance().AddListener("trialRecord",(function(){var t=T.GetInstance().GetItemIcon(e.Icon);n(t)}))}this.ReqSignInState(),this.m_discount.ShowMask()},s(e,[{key:"AbleSpriteFrame",get:function(){return this.m_ableSpriteFrame}},{key:"GotSpriteFrame",get:function(){return this.m_gotSpriteFrame}},{key:"UnableSpriteFrame",get:function(){return this.m_unableSpriteFrame}},{key:"VipBoxSpriteFrames",get:function(){return this.m_vipBoxSpriteFrames}},{key:"BoxOpenSpriteFrames",get:function(){return this.m_boxOpenSpriteFrames}},{key:"VipSpriteFrames",get:function(){var t=Number(b.API_ID);return 0==t&&(t=Number(N.GetLinkParameterByName("apiId"))),!isNaN(t)&&t>=100&&t<500?this.m_appVipSpriteFrames:this.m_vipSpriteFrames}}]),e}(I)).prototype,"m_nodeL",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(W.prototype,"m_contentNodeL",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(W.prototype,"m_itemPrefabL",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(W.prototype,"m_nodeS",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(W.prototype,"m_contentNodeS",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(W.prototype,"m_itemPrefabS",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(W.prototype,"m_vipHintLabels",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(W.prototype,"m_ableSpriteFrame",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(W.prototype,"m_gotSpriteFrame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(W.prototype,"m_unableSpriteFrame",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(W.prototype,"m_signInInfoBtns",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e(W.prototype,"m_vipBoxSpriteFrames",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(W.prototype,"m_boxOpenSpriteFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=W))||K));m._RF.pop()}}}));

System.register("chunks:///_virtual/SignInItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./VipManager.ts","./SignIn.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,s,_,p,m,u,b,c,h,g,I,S,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Button,_=t.Sprite,p=t.ProgressBar,m=t.Node,u=t.Animation,b=t.SpriteFrame,c=t.Component},function(t){h=t.default},function(t){g=t.default},function(t){I=t.default},function(t){S=t.default},function(t){f=t.InfoTouchEvent}],execute:function(){var T,y,A,v,G,N,L,d,D,E,B,x,F,k,C,O,M,K,V,w,z,P,H,R,U,W,j,J,Y,Z;o._RF.push({},"98441En3GFG57Pulcv2OhEs","SignInItem",void 0);var q=["","K","M"],Q="Clip_WinMore_Treasure_Idle",X="Clip_WinMore_Treasure_Ready",$="Clip_WinMore_Treasure_Empty",tt=a.ccclass,et=a.property;t("default",(T=et({type:l,tooltip:"領取文字"}),y=et({type:s,tooltip:"簽到按鈕"}),A=et({type:_,tooltip:"按鈕背景"}),v=et({type:_,tooltip:"vip提示"}),G=et({type:_,tooltip:"vip寶箱提示"}),N=et({type:l,tooltip:"經驗提示"}),L=et({type:p,tooltip:"經驗條"}),d=et({type:m,tooltip:"鎖住遮罩"}),D=et({type:l,tooltip:"鎖住提示"}),E=et({type:u,tooltip:"寶箱動畫"}),B=et({type:_,tooltip:"vip寶箱圖示(TADA):動畫分三個sprite做"}),x=et({type:m,tooltip:"禁用上鎖的node"}),F=et({type:l,tooltip:"領取文字(TADA有額外按鈕)"}),k=et({type:b,tooltip:"level 圖示 (JILI用)"}),tt((M=e((O=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"m_btnLabel",M,r(e)),i(e,"m_signInBtn",K,r(e)),i(e,"m_btnBgSprite",V,r(e)),i(e,"m_vipSprite",w,r(e)),i(e,"m_boxSprite",z,r(e)),i(e,"m_expLabel",P,r(e)),i(e,"m_expProgressBars",H,r(e)),i(e,"m_lockMaskNode",R,r(e)),i(e,"m_lockHintLabel",U,r(e)),i(e,"m_chestAni",W,r(e)),i(e,"m_boxSprite_TADA",j,r(e)),i(e,"m_lockBtnDisableNode",J,r(e)),i(e,"m_btnLabel_TADA",Y,r(e)),i(e,"m_levelSprite",Z,r(e)),e.m_treasure=null,e.m_signIn=null,e}n(e,t);var o=e.prototype;return o.start=function(){},o.Init=function(t){var e=this;this.m_signIn=t,this.m_signInBtn.node.on(m.EventType.TOUCH_START,(function(e){t.TouchStartEvent(e)})),this.m_signInBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){t.TouchCancelEvent(e)})),this.m_signInBtn.node.on(m.EventType.TOUCH_END,(function(n){t.DoSignIn(e.m_signInBtn,e.m_treasure.Index,n)})),this.m_boxSprite.node.on(m.EventType.TOUCH_START,(function(e){t.TouchStartEvent(e)})),this.m_boxSprite.node.on(m.EventType.TOUCH_CANCEL,(function(e){t.TouchCancelEvent(e)})),this.m_boxSprite.node.on(m.EventType.TOUCH_END,(function(e){var n=new f;n.aId=Number(h.AID),n.apiId=Number(h.API_ID),n.gameID=Number(h.NOW_GAME_ID),n.event=e,t.InfoTouchEndEvent(n)}))},o.SetText=function(){if(this.m_treasure.IsOpen)this.m_btnLabel.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GOT),I.SetFont(this.m_btnLabel),this.m_btnLabel_TADA&&(this.m_btnLabel_TADA.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GOT),I.SetFont(this.m_btnLabel_TADA));else{this.m_btnLabel.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GET),I.SetFont(this.m_btnLabel),this.m_btnLabel_TADA&&(this.m_btnLabel_TADA.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GET),I.SetFont(this.m_btnLabel_TADA));var t=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_1),e=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_2);this.m_lockHintLabel.string=t+this.m_treasure.MinVip+e,I.SetFont(this.m_lockHintLabel)}},o.UpdateVip=function(t,e,n){if(e){var i=I.divide(t,this.m_treasure.Exp);i=i>1?1:i,this.m_expProgressBars.forEach((function(t){t.progress=i}))}},o.ChangeBase=function(t){for(var e=0;t>=1e3;)t=I.divide(t,1e3),e++;return I.FormatNumberThousands(t,I.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO)+q[e]},o.SetInfo=function(t,e){this.m_treasure=e;var n=I.strip(t),i=I.strip(e.Exp);n>i&&(n=i),this.m_expLabel.string=this.ChangeBase(n)+"/"+this.ChangeBase(i),I.SetFont(this.m_expLabel);var r=S.GetInstance().VipInfo.Lv;if(e.IsOpen){this.m_btnLabel.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GOT),I.SetFont(this.m_btnLabel),this.m_btnLabel_TADA&&(this.m_btnLabel_TADA.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GOT),I.SetFont(this.m_btnLabel_TADA));for(var o=0;o<this.m_boxSprite_TADA.length;o++)this.m_boxSprite_TADA[o].spriteFrame=this.m_signIn.BoxOpenSpriteFrames[e.MinVip];this.m_chestAni.play($),this.m_signInBtn.interactable=!1,this.m_signInBtn.enabled=!1,this.m_lockBtnDisableNode.active=!0,this.m_lockMaskNode.active=!1;var a=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_1),l=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_2);this.m_lockHintLabel.string=a+this.m_treasure.MinVip+l,I.SetFont(this.m_lockHintLabel)}else{this.m_btnLabel.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GET),I.SetFont(this.m_btnLabel),this.m_btnLabel_TADA&&(this.m_btnLabel_TADA.string=g.GetInstance().GetString(h.StringKey.SIGN_IN_GET),I.SetFont(this.m_btnLabel_TADA));for(var s=0;s<this.m_boxSprite_TADA.length;s++)this.m_boxSprite_TADA[s].spriteFrame=this.m_signIn.VipBoxSpriteFrames[e.MinVip];this.m_chestAni.play(Q);var _=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_1),p=g.GetInstance().GetString(h.StringKey.SIGN_IN_VIP_LOCK_2);this.m_lockHintLabel.string=_+this.m_treasure.MinVip+p,I.SetFont(this.m_lockHintLabel),this.m_signInBtn.interactable=n>=i,r>=e.MinVip?(this.m_lockMaskNode.active=!1,n>=i?(this.m_signInBtn.enabled=!0,this.m_chestAni.play(X),this.m_lockBtnDisableNode.active=!1):(this.m_signInBtn.enabled=!1,this.m_lockBtnDisableNode.active=!0)):(this.m_signInBtn.enabled=!1,this.m_lockBtnDisableNode.active=!0,this.m_lockMaskNode.active=!0)}this.m_levelSprite[0]?this.m_vipSprite.spriteFrame=this.m_levelSprite[e.MinVip]:this.m_vipSprite.spriteFrame=this.m_signIn.VipSpriteFrames[e.MinVip];var m=I.divide(n,i);this.m_expProgressBars.forEach((function(t){t.progress=m}))},e}(c)).prototype,"m_btnLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(O.prototype,"m_signInBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(O.prototype,"m_btnBgSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(O.prototype,"m_vipSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(O.prototype,"m_boxSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(O.prototype,"m_expLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(O.prototype,"m_expProgressBars",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(O.prototype,"m_lockMaskNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(O.prototype,"m_lockHintLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(O.prototype,"m_chestAni",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(O.prototype,"m_boxSprite_TADA",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(O.prototype,"m_lockBtnDisableNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(O.prototype,"m_btnLabel_TADA",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(O.prototype,"m_levelSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=O))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/SignInProtocol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStruct.ts"],(function(t){"use strict";var n,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.ConnectionDataStruct}],execute:function(){var e;t("SignInReqData",void 0),o._RF.push({},"5db98auQ0RIMJQ2Bb/Ixdv0","SignInProtocol",void 0),function(t){var o=function(t){function o(){var n;return(n=t.call(this)||this).type=r.ErrorHandleType.Ignore,n.method=r.RequestMethod.Post,n.url="/vipsignup/SignInfoProto",n.reqData=null,n}return n(o,t),o}(r.ProtocolData);t.SignInInfoReq=o;var e=function(t){function o(){var n;return(n=t.call(this)||this).type=r.ErrorHandleType.Ignore,n.method=r.RequestMethod.Post,n.url="/vipsignup/RewardInfoProto",n.reqData=null,n}return n(o,t),o}(r.ProtocolData);t.SignInReq=e}(e||(e=t("SignInReqData",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,r,a,s,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.sp,l=t.Component}],execute:function(){var c,u,m,p,h,f,k;r._RF.push({},"84cacB24TBECKlCt9RcjaKP","SkeletonController",void 0);var _=a.ccclass,y=a.property;var A=["walk","run","jump"];t("default",(c=_("SkeletonController"),u=y({type:s.Skeleton,displayName:"Skeleton"}),m=y({displayName:"Mixing Time",tooltip:"動畫1轉換至動畫2的動作漸變時間"}),c((f=n((h=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).m_hasStop=!1,e(n,"m_skeleton",f,o(n)),e(n,"m_mixTime",k,o(n)),n}i(n,t);var r=n.prototype;return r.onLoad=function(){var t=this;!function(t,n,i){if(t&&n&&n.length>1)for(var e=0;e<n.length-1;e++)for(var o=n[e],r=e+1;r<n.length;r++){var a=n[r];t.setMix(o,a,i),t.setMix(a,o,i)}}(this.m_skeleton,A,this.m_mixTime),this.m_skeleton.setCompleteListener((function(n){"shoot"===(n.animation?n.animation.name:"")&&t.Action("clearTrack",1)}))},r.Stop=function(){this.Action("clearTrack",0),this.m_hasStop=!0},r.Walk=function(){this.Action("setAnimation",0,"walk",!0),this.m_hasStop=!1},r.Run=function(){this.Action("setAnimation",0,"run",!0),this.m_hasStop=!1},r.Jump=function(){var t=this.m_skeleton.animation;this.Action("setAnimation",0,"jump",!1),t&&!this.m_hasStop&&this.Action("addAnimation",0,"run"===t?"run":"walk",!0,0)},r.Shoot=function(){this.Action("setAnimation",1,"shoot",!1)},r.Action=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];this.m_skeleton[t].apply(this.m_skeleton,i)},n}(l)).prototype,"m_skeleton",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(h.prototype,"m_mixTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),p=h))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonSync.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,i,a,l,s,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.sp,c=e.v3,p=e.UITransform,u=e.Component}],execute:function(){var f,h,y,v,m,S;a._RF.push({},"866f1RjwMhFfapt6JLtipxM","SkeletonSync",void 0);var d=l.ccclass,_=l.property,g=l.menu;e("default",(f=d("SkeletonSync"),h=g("Chiron/Spine/SkeletonSync"),y=_({displayName:"Overlap",tooltip:"是否交疊並同步座標、旋轉及縮放"}),f(v=h((S=t((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).m_skeleton=null,o(t,"m_overlap",S,r(t)),t}n(t,e);var a=t.prototype;return a.__preload=function(){this.m_skeleton=this.getComponent(s.Skeleton)},a.Sync=function(e){if(e&&this.m_overlap){for(var t=0,n=1,o=1,r=e;r;)n*=r.scale.x,o*=r.scale.y,t+=r.angle,r=r.parent;this.node.angle=t,this.node.scale=c(n,o,0);var i=e.parent.getComponent(p).convertToWorldSpaceAR(e.position),a=this.node.parent.getComponent(p).convertToNodeSpaceAR(i);this.node.setPosition(a)}},i(t,[{key:"Skeleton",get:function(){return this.m_skeleton}}]),t}(u)).prototype,"m_overlap",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=m))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/SloganManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(t){"use strict";var e,o,n,i,m,c,r,a,s;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy,i=t._decorator,m=t.log,c=t.Animation,r=t.SpriteFrame,a=t.Component},function(t){s=t.default}],execute:function(){var _;n._RF.push({},"b57cahiKlxMZL7TyWc1iHaf","SloganManager",void 0);var u=i.ccclass,l=(i.property,0),h=1;t("default",u(_=function(t){function n(){for(var e,o=arguments.length,i=new Array(o),m=0;m<o;m++)i[m]=arguments[m];return(e=t.call.apply(t,[this].concat(i))||this).m_promotePictures=[[],[]],e.m_promoteAni=null,e.m_promotePic=void 0,e.m_promoteLock=!1,e.m_promoteIdx=-1,e.m_adNums=0,e.m_isLandscape=void 0,e.m_curAniName="",e.m_changePictureCallback=void 0,e.m_revertPictureCallback=void 0,e.m_animationName={start:"AdSlogan_Start",loop:"AdSlogan_Loop",end:"AdSlogan_End"},e.m_cycle=[[8,12],[8,8]],e.m_promoting=!1,e.ChangePic=function(){e.m_promoteLock||(e.m_promoting=!0,e.m_changePictureCallback&&e.m_changePictureCallback(),e.m_promoteIdx++,e.m_promotePic.spriteFrame=e.m_promotePictures[e.m_isLandscape?l:h][e.m_promoteIdx>=e.m_adNums?e.m_promoteIdx=0:e.m_promoteIdx],e.PlayAni(e.m_animationName.start),e.m_promoteAni.once(c.EventType.FINISHED,(function(){e.m_promoteLock||e.PlayAni(e.m_animationName.loop)})),e.scheduleOnce(e.RevertPic,e.m_cycle[1][0]==e.m_cycle[1][1]?e.m_cycle[1][0]:n.GetRandomInt(e.m_cycle[1][0],e.m_cycle[1][1]+1)))},e.RevertPic=function(){e.m_revertPictureCallback&&e.m_revertPictureCallback(),e.PlayAni(e.m_animationName.end),e.m_promoteAni.once(c.EventType.FINISHED,(function(){e.m_curAniName=""})),e.m_promoting=!1,e.scheduleOnce(e.ChangePic,e.m_cycle[0][0]==e.m_cycle[0][1]?e.m_cycle[0][0]:n.GetRandomInt(e.m_cycle[0][0],e.m_cycle[0][1]+1))},e}e(n,t),n.GetRandomInt=function(t,e){return Math.floor(Math.random()*(e-t)+t)};var i=n.prototype;return i.Init=function(t,e,o,n){void 0===n&&(n=s.CommonBundle);var i=this.LoadSlogans(t[0],t[1],n);return this.m_promoteAni=e,this.m_promotePic=o,i},i.LoadSlogans=function(t,e,o){var n=this,i=t.length;this.m_adNums=i;for(var c=[],a=function(i){c.push(new Promise((function(e){o.load(t[i],r,(function(t,o){t||(n.m_promotePictures[l][i]=o),e()}))}))),e&&e[i]&&c.push(new Promise((function(t){o.load(e[i],r,(function(e,o){e||(n.m_promotePictures[h][i]=o),t()}))})))},s=0;s<i;s++)a(s);return Promise.all(c).then((function(){for(var t=0;t<i;t++)n.m_promotePictures[h][t]||(n.m_promotePictures[h][t]=n.m_promotePictures[l][t]);m("loadSlogans",n.m_promotePictures)}))},i.PlayAni=function(t){this.m_promoteAni&&(this.m_promoteAni.play(t),this.m_curAniName=t)},i.StartPromote=function(){this.m_promoteLock=!1,this.scheduleOnce(this.ChangePic,this.m_cycle[0][0]==this.m_cycle[0][1]?this.m_cycle[0][0]:n.GetRandomInt(this.m_cycle[0][0],this.m_cycle[0][1]+1))},i.StopPromote=function(){this.m_promoteLock=!0,this.unschedule(this.RevertPic),this.unschedule(this.ChangePic),this.EndPromote()},i.EndPromote=function(){var t=this;this.m_promoting&&(this.m_promoting=!1,this.PlayAni(this.m_animationName.end),this.m_promoteAni.once(c.EventType.FINISHED,(function(){t.m_curAniName=""})))},i.SetAnimationName=function(t){this.m_animationName=t},i.SetPromoteCycle=function(t){this.m_cycle=t},i.GetAniState=function(){return this.m_promoteAni.getState(this.m_curAniName)},i.OnRotation=function(t){this.m_isLandscape!=t&&(this.m_isLandscape=t,this.m_promotePic.spriteFrame=this.m_promotePictures[this.m_isLandscape?l:h][this.m_promoteIdx>=this.m_adNums?this.m_promoteIdx=0:this.m_promoteIdx])},o(n,[{key:"CurAniName",get:function(){return this.m_curAniName}},{key:"ChangePictureCallback",set:function(t){this.m_changePictureCallback=t}},{key:"RevertPictureCallback",set:function(t){this.m_revertPictureCallback=t}},{key:"Promoting",get:function(){return this.m_promoting}}]),n}(a))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotActivator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c,s;n._RF.push({},"e2171n/i+xGsoWeQMXewobE","SlotActivator",void 0);var u=o.ccclass,a=(o.property,o.menu);t("default",u("SlotActivator")(c=a("Chiron/Spine/SlotActivator")(((s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),i(n,[{key:"Identifier",get:function(){return this.identifier},set:function(t){this.identifier=t}},{key:"Active",get:function(){return this.active},set:function(t){this.active=t}}]),n}(r)).SlotActivator="SlotActivator",c=s))||c)||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotActivatorExample.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotActivator.ts"],(function(t){"use strict";var e,r,i,o,a,n,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,c=t.Component},function(t){l=t.default}],execute:function(){var s,u,p,f,g;a._RF.push({},"75f72fwECZC7rGRONSmuMF8","SlotActivatorExample",void 0);var m=n.ccclass,v=n.property;t("default",(s=m("SlotActivatorExample"),u=v({type:l,displayName:"Target"}),s((g=e((f=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,i(e,"m_target",g,o(e)),e}return r(e,t),e.prototype.ActiveToggle=function(){this.m_target&&(this.m_target.Active=!this.m_target.Active)},e}(c)).prototype,"m_target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotColorFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,i,l,r,s,p,c,a,u,h,m,_,y,C;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,l=o.createClass},function(o){r=o.cclegacy,s=o._decorator,p=o.Enum,c=o.math,a=o.sp,u=o.Sprite,h=o.Label,m=o.color,_=o.UIOpacity,y=o.Component,C=o.CCClass}],execute:function(){var f,d,g,S,b,v,k,w,N,I,D,O,F,L,x,z,P,j,E;r._RF.push({},"e23desmKVBLjKgDg5KLcySp","SlotColorFollow",void 0);var A=s.ccclass,K=s.property,B=s.menu,H=(s.inspector,p({None:0}));o("default",(f=A("SlotColorFollow"),d=B("Chiron/Spine/SlotColorFollow"),g=K({visible:!1,tooltip:"目標 Spine 骨架"}),S=K({visible:!1,tooltip:"目標同步 slot 名稱"}),b=K({visible:!0,displayName:"Preview"}),v=K({visible:!1,type:c.Color}),k=K({visible:!1,type:a.Skeleton}),w=K({visible:!0,displayName:"Skeleton",tooltip:"目標 Spine 骨架",type:a.Skeleton}),N=K({visible:!1,tooltip:"目標同步 slot 名稱"}),I=K({visible:!1}),D=K({visible:!0,displayName:"Slot",type:H}),f(O=d(((E=function(o){function t(){for(var t,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return(t=o.call.apply(o,[this].concat(l))||this).editor=void 0,n(t,"m_preview",L,i(t)),n(t,"_colorCache",x,i(t)),n(t,"m_spineSkeleton",z,i(t)),n(t,"m_slotName",P,i(t)),n(t,"__slotIndex",j,i(t)),t}e(t,o);var r=t.prototype;return r.__preload=function(){},r.onLoad=function(){this.node.getComponent(u)?this._colorCache=this.node.getComponent(u).color:this.node.getComponent(h)&&(this._colorCache=this.node.getComponent(h).color)},r.update=function(){if(this.m_spineSkeleton&&""!=this.m_slotName){var o=this.m_spineSkeleton.findSlot(this.m_slotName),t=o?255*o.color.r:this._colorCache.r,e=o?255*o.color.g:this._colorCache.g,n=o?255*o.color.b:this._colorCache.b,i=o?255*o.color.a:this._colorCache.a;t==this._colorCache.r&&e==this._colorCache.g&&n==this._colorCache.b&&i==this._colorCache.a||(this.node.getComponent(u)?(this.node.getComponent(u).color=m(t,e,n,i),this._colorCache.set(this.node.getComponent(u).color)):this.node.getComponent(h)&&(this.node.getComponent(h).color=m(t,e,n,i),this._colorCache.set(this.node.getComponent(h).color)),this.node.getComponent(_)&&(this.node.getComponent(_).opacity=i),this._colorCache.a=i)}},r.onDestroy=function(){this._colorCache=null,this.m_spineSkeleton=null,this.m_slotName=null},r._refreshInspector=function(){},r._slotEnum=function(){},r._updateSlotEnum=function(){var o,t,e,n,i=this._slotEnum();o=this,t="_slotIndex",e=i||H,n=p.getList(p(e)),C.Attr.setClassAttr(o,t,"type","Enum"),C.Attr.setClassAttr(o,t,"enumList",n)},r.notify=function(){},l(t,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(o){this.m_spineSkeleton=o}},{key:"SlotName",get:function(){return this.m_slotName},set:function(o){this.m_slotName=o}},{key:"_spineSkeleton",get:function(){},set:function(o){}},{key:"_slotIndex",get:function(){},set:function(o){}}]),t}(y)).SlotColorFollow="SlotColorFollow",t((F=E).prototype,"Skeleton",[g],Object.getOwnPropertyDescriptor(F.prototype,"Skeleton"),F.prototype),t(F.prototype,"SlotName",[S],Object.getOwnPropertyDescriptor(F.prototype,"SlotName"),F.prototype),L=t(F.prototype,"m_preview",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=t(F.prototype,"_colorCache",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c.Color(c.Color.WHITE)}}),z=t(F.prototype,"m_spineSkeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(F.prototype,"_spineSkeleton",[w],Object.getOwnPropertyDescriptor(F.prototype,"_spineSkeleton"),F.prototype),P=t(F.prototype,"m_slotName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=t(F.prototype,"__slotIndex",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(F.prototype,"_slotIndex",[D],Object.getOwnPropertyDescriptor(F.prototype,"_slotIndex"),F.prototype),O=F))||O)||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlotCulling.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,i,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,r=t._decorator,l=t.Component}],execute:function(){var p,s,u,c,g,y,S,a;i._RF.push({},"ff032nME8lBJKBpMlK8O/1z","SlotCulling",void 0);var f=r.ccclass,v=r.property,C=r.menu;t("default",(p=f("SlotCulling"),s=C("Chiron/Spine/SlotCulling"),u=v({visible:!1,tooltip:"目標 Spine 骨架"}),c=v({visible:!1,tooltip:"反向剔除 Slot 項目(勾選的不會被剔除，未勾選的將被剔除)"}),g=v({visible:!1,tooltip:"遭剔除的 Slot 項目名稱"}),p(y=s(((a=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),n(e,[{key:"Skeleton",get:function(){return this.m_spineSkeleton},set:function(t){this.m_spineSkeleton=t}},{key:"Invert",get:function(){return this.m_invert},set:function(t){this.m_invert=t}},{key:"CullingList",get:function(){return this._cullingSlotNames}}],[{key:"Name",get:function(){return e.SlotCulling}}]),e}(l)).SlotCulling="SlotCulling",e((S=a).prototype,"Skeleton",[u],Object.getOwnPropertyDescriptor(S.prototype,"Skeleton"),S.prototype),e(S.prototype,"Invert",[c],Object.getOwnPropertyDescriptor(S.prototype,"Invert"),S.prototype),e(S.prototype,"CullingList",[g],Object.getOwnPropertyDescriptor(S.prototype,"CullingList"),S.prototype),y=S))||y)||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./AudioSourceExtension.ts"],(function(o){"use strict";var t,i,e,n,u,s,a,l,r,d;return{setters:[function(o){t=o.createClass},function(o){i=o.cclegacy,e=o.sys,n=o.tween,u=o.Node,s=o.AudioSource,a=o.log,l=o.error},function(o){r=o.default},function(o){d=o.AudioSourceExtension}],execute:function(){i._RF.push({},"6f5e635lldG1IXmhwOo1j7Y","SoundManager",void 0);var c=o("default",function(){function o(){if(this.m_isLoading=!1,this.m_assignAmount=0,this.m_curLoaded=0,this.m_isMute=!1,this.m_curBGId=void 0,this.m_audioPool=[],this.m_rootNode=void 0,o._instance)throw new Error("Error: Instantiation failed: Use SoundManager.getInstance() instead of new.");o._instance=this}o.getInstance=function(){return this._instance||(this._instance=new o),o._instance};var i=o.prototype;return i.Init=function(o){this.m_rootNode=o},o.OnExit=function(){this.PlayList={},delete this._instance,this._instance=null},i.checkSoundFormat=function(o){var t=r.SOUND_PATH.MP3;for(var i in r.SOUND_OGG_ENABLE&&e.os==e.OS.ANDROID&&(t=r.SOUND_PATH.OGG),o){o[i].match(t)||(o[i]=t+o[i])}},i.LoadAudioAsset=function(o,t,i,e){var n=this;void 0===e&&(e=!1),this.m_isLoading=!0,null!=o&&(this.m_assignAmount=Object.keys(o).length);var u=r.OtherBundle;e&&(u=r.GameBundle);var s=function(e){if(o.hasOwnProperty(e)){var s=o[e];a("loadAudioAsset: ",e,s),u.load(s,(function(o,u){o?l(o.message||o):(i[e]=u,n.m_curLoaded=n.m_curLoaded+1,n.m_curLoaded==n.m_assignAmount&&(n.m_isLoading=!1,n.m_curLoaded=0),t(s))}))}};for(var d in o)s(d)},i.FormAbsolutedPath=function(){},i.Play=function(o,t,i,e){return void 0===t&&(t=!1),void 0===i&&(i=null),void 0===e&&(e=1),o?this.PlayAudioSource(o,t,e,i):null},i.PlayBackGround=function(o,t,i,e){if(void 0===t&&(t=!1),void 0===i&&(i=null),void 0===e&&(e=1),!o)return null;var n=e;this.m_isMute&&(n=0);var u=this.PlayAudioSource(o,t,n,i);return this.m_curBGId=u,u},i.PlayTimes=function(){return-1},i.SetAllMute=function(t){if(this.m_isMute=t,t){for(var i in o.PlayList)if(o.PlayList.hasOwnProperty(i)){var e=this.m_audioPool[i];e&&!e.IsIdle()&&(e.volume=0)}}else for(var n in o.PlayList)if(o.PlayList.hasOwnProperty(n)){var u=o.PlayList[n].volume,s=this.m_audioPool[n];s&&!s.IsIdle()&&(s.volume=u)}},i.Stop=function(o){var t=this.m_audioPool[o];t&&!t.IsIdle()&&(t.loop=!1,t.stop())},i.StopAll=function(){for(var t in o.PlayList)if(o.PlayList.hasOwnProperty(t)){var i=this.m_audioPool[t];i&&!i.IsIdle()&&(i.loop=!1,i.stop())}},i.StopAllEffect=function(){for(var t in o.PlayList)if(o.PlayList.hasOwnProperty(t)){var i=this.m_audioPool[t];Number(t)!=this.m_curBGId&&i&&!i.IsIdle()&&(i.loop=!1,i.stop())}},i.SetVolumeForAll=function(t){if(!this.m_isMute)for(var i in o.PlayList)if(o.PlayList.hasOwnProperty(i)){var e=this.m_audioPool[i];e&&!e.IsIdle()&&(e.volume=t)}},i.Resume=function(o){var t=this.m_audioPool[o];t&&t.state==d.AudioState.PAUSED&&(t.play(),this.m_isMute&&(t.volume=0))},i.Pause=function(o){var t=this.m_audioPool[o];t&&t.pause()},i.SetVolume=function(t,i){var e=o.PlayList[t],n=this.m_audioPool[t];e&&n&&(this.m_isMute?n.volume=0:(n.volume=i,e.volume=i))},i.GetVolume=function(o){var t=this.m_audioPool[o];return t?t.volume:0},i.SetMusicFadeIn=function(t,i,e){void 0===i&&(i=1),void 0===e&&(e=1);var u=o.PlayList[t],s=this.m_audioPool[t];if(u&&s)if(this.m_isMute)s.volume=0;else{var a=i/10,l=e/10,r=0;n(this.m_rootNode).repeat(10,n().delay(a).call((function(){r<=e&&(r+=l,s.volume=r,u.volume=r)}))).call((function(){s.volume=e,u.volume=e})).start()}},i.SetMusicFadeOut=function(t,i){void 0===i&&(i=1);var e=o.PlayList[t],u=this.m_audioPool[t];if(e&&u)if(this.m_isMute)u.volume=0;else{var s=i/10,a=this.GetVolume(t),l=a/10;n(this.m_rootNode).repeat(10,n().delay(s).call((function(){a<=0&&(a-=l,u.volume=a,e.volume=a)}))).call((function(){u.volume=0,e.volume=0})).start()}},i.GetDuration=function(o){var t=this.m_audioPool[o];return t?t.duration:0},i.GetAudioSource=function(){for(var o=null,t=null,i=0;i<this.m_audioPool.length;i++){var e=this.m_audioPool[i];if(e.IsIdle()&&!e.loop){e.Reset(),o=e,t=i;break}}if(!o&&this.m_rootNode){var n=new u;this.m_rootNode.addChild(n);var s=n.addComponent(d);this.m_audioPool.push(s),t=this.m_audioPool.length-1,o=s}return[o,t]},i.PlayAudioSource=function(t,i,e,n){var u=this.GetAudioSource(),a=u[0],l=u[1];return a.clip=t,a.loop=i,a.volume=this.m_isMute?0:e,o.PlayList[l]={},o.PlayList[l].volume=e,a.play(),a.node.once(s.EventType.ENDED,(function(){delete o.PlayList[l],n&&n()})),l},t(o,[{key:"isMute",get:function(){return this.m_isMute}},{key:"isLoading",get:function(){return this.m_isLoading}}]),o}());c._instance=new c,c.PlayList={},i._RF.pop()}}}));

System.register("chunks:///_virtual/SpineController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonSync.ts"],(function(t){"use strict";var e,n,i,o,a,l,r,s,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.sp,s=t.Component},function(t){m=t.default}],execute:function(){var u,c,p,h,S,f,k,y,_;a._RF.push({},"bcb43VH8pdGCo5QU7wPc5Q3","SpineController",void 0);var v=l.ccclass,d=l.property;function g(t,e,n){if(t&&e&&e.length>1)for(var i=0;i<e.length-1;i++)for(var o=e[i],a=i+1;a<e.length;a++){var l=e[a];t.setMix(o,l,n),t.setMix(l,o,n)}}var b=["walk","run","jump"];t("default",(u=v("SpineController"),c=d({type:r.Skeleton,displayName:"Skeleton"}),p=d({displayName:"Mixing Time",tooltip:"動畫1轉換至動畫2的動作漸變時間"}),h=d({type:[m],displayName:"SkeletonSync",tooltip:"被同步的 Skeleton 對象"}),u((k=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this).m_hasStop=!1,i(e,"m_skeleton",k,o(e)),i(e,"m_mixTime",y,o(e)),i(e,"m_skeletonSyncList",_,o(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;g(this.m_skeleton,b,this.m_mixTime);for(var e=0;e<this.m_skeletonSyncList.length;e++){g(this.m_skeletonSyncList[e].Skeleton,b,this.m_mixTime)}this.m_skeleton.setCompleteListener((function(e){"shoot"===(e.animation?e.animation.name:"")&&t.Simulate("clearTrack",1)}))},a.onEnable=function(){for(var t=0;t<this.m_skeletonSyncList.length;t++){var e=this.m_skeletonSyncList[t];e&&e.Sync(this.node)}},a.Stop=function(){this.Simulate("clearTrack",0),this.m_hasStop=!0},a.Walk=function(){this.Simulate("setAnimation",0,"walk",!0),this.m_hasStop=!1},a.Run=function(){this.Simulate("setAnimation",0,"run",!0),this.m_hasStop=!1},a.Jump=function(){var t=this.m_skeleton.animation;this.Simulate("setAnimation",0,"jump",!1),t&&!this.m_hasStop&&this.Simulate("addAnimation",0,"run"===t?"run":"walk",!0,0)},a.Shoot=function(){this.Simulate("setAnimation",1,"shoot",!1)},a.Simulate=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.m_skeleton[t].apply(this.m_skeleton,n);for(var o=0;o<this.m_skeletonSyncList.length;o++){var a=this.m_skeletonSyncList[o];a&&a.Skeleton[t].apply(a.Skeleton,n)}},e}(s)).prototype,"m_skeleton",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"m_mixTime",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),_=e(f.prototype,"m_skeletonSyncList",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=f))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpineExampleMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,o,l,t,c;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,l=e._decorator,t=e.director,c=e.Component}],execute:function(){var i;o._RF.push({},"49782wAg09E6a11Aa9jCswI","SpineExampleMenu",void 0);var a=l.ccclass;l.property,e("default",a("SpineExampleMenu")(i=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var l=o.prototype;return l.Basic=function(){t.loadScene("SpineBasicExample")},l.BoneFollow=function(){t.loadScene("SpineBoneFollowExample")},l.OverLap=function(){t.loadScene("SpineOverlapExample")},l.SkeletonSync=function(){t.loadScene("SpineSkeletonSyncExample")},l.SlotActivator=function(){t.loadScene("SpineSlotActivatorExample")},l.SlotColorFollow=function(){t.loadScene("SpineSlotColorFollowExample")},l.SlotCulling=function(){t.loadScene("SpineSlotCullingExample")},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SpineExampleMenuBack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,c,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator,r=e.director,o=e.Component}],execute:function(){var u;t._RF.push({},"ca460nWWplH4r1/BcDKHjlc","SpineExampleMenuBack",void 0);var i=c.ccclass;c.property,e("default",i("SpineExampleMenuBack")(u=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.Back=function(){r.loadScene("SpineExampleMenu")},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/SpinEft.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(e){"use strict";var t,i,n,r,o,a,c,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Component},function(e){s=e.default},function(e){u=e.default}],execute:function(){var p,f,d,m,y,_;o._RF.push({},"244d3fLXCNFs6UKmTSF5rDp","SpinEft",void 0);var L=a.ccclass,g=a.property;e("default",(p=g({type:c,tooltip:"一般"}),f=g({type:c,tooltip:"街機"}),L((y=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"m_normalNode",y,r(t)),n(t,"m_arcNode",_,r(t)),t}return i(t,e),t.prototype.SetState=function(){this.m_normalNode.active=u.Line!==s.LineSetting.street&&u.Line!==s.LineSetting.americas_str,this.m_arcNode.active=u.Line===s.LineSetting.street||u.Line===s.LineSetting.americas_str},t}(l)).prototype,"m_normalNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"m_arcNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpineKit.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"eb033pmYDhAjadYFiwbi8gp","SpineKit",void 0);e("default",function(){function e(){}return e.PlayAnimation=function(e,n,t,i,a,r){return void 0===t&&(t=!1),void 0===i&&(i=0),void 0===r&&(r=!0),new Promise((function(o){var s=!0,u=e.getState();if(u){var c=u.expandToIndex(i);if(c){var m=c.animation.name+"."+n;s=void 0===u.data.animationToMixTime[m]}}s&&(e.isAnimationCached()||e.clearTrack(i),r&&e.setToSetupPose());var l=e.setAnimation(i,n,t);l?(e.setTrackEventListener(l,(function(e,n){l&&l.animation.name==e.animation.name&&(null==a||a(n.data.name))})),e.setTrackCompleteListener(l,(function(n){l&&l.animation.name==n.animation.name&&(e.setTrackCompleteListener(l,(function(){})),e.setTrackInterruptListener(l,(function(){})),o(!1))})),e.setTrackInterruptListener(l,(function(n){l&&l.animation.name==n.animation.name&&(e.setTrackCompleteListener(l,(function(){})),e.setTrackInterruptListener(l,(function(){})),o(!0))}))):(e.setCompleteListener((function(){e.setCompleteListener(null),e.setInterruptListener(null),o(!1)})),e.setInterruptListener((function(){e.setCompleteListener(null),e.setInterruptListener(null),o(!0)})))}))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StateManager.ts",["cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy,s=t.error}],execute:function(){e._RF.push({},"018dbfsNTRMeo7UL+ChfKJc","StateManager",void 0);t("StateManager",function(){function t(){this.m_states={},this.m_currState=-1,this.m_nextState=-1,this.m_toTransit=!0}var e=t.prototype;return e.Init=function(t){this.m_states=t},e.Tick=function(t){var e;this.m_toTransit&&(this.m_toTransit=!1,this.m_states[this.m_nextState]?(null==(e=this.m_states[this.m_currState])||e.OnLeave(),this.m_currState=this.m_nextState,this.m_states[this.m_currState].OnEnter()):s("State "+this.m_nextState+" Not Exist!!!"));return this.m_states[this.m_currState]?this.m_states[this.m_currState].OnProcess(t):s("State "+this.m_currState+" Not Exist!!!"),this.m_currState},e.NextState=function(t){this.m_nextState=t,this.m_toTransit=!0},e.Current=function(){return this.m_currState},e.GetState=function(t){return this.m_states[t]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StyleChangeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./EnvironmentConfig.ts","./Tools.ts"],(function(e){"use strict";var t,n,o,l,i,a,r,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,o=e._decorator,l=e.SpriteFrame,i=e.SpriteAtlas,a=e.Prefab},function(e){r=e.default},function(e){s=e.default},null],execute:function(){var _;n._RF.push({},"5e1a0utfAhOf5jGOAiMqGtK","StyleChangeManager",void 0);var c="Dice",u=(0,o.ccclass)("StyleChangeManager")(_=function(){function e(){this.m_styleNo=r.Style.ORG,this.m_folderName="",this.m_needChange=!1}var n=e.prototype;return n.SetStyle=function(e){if(e){var t=e[0];e.slice(1);switch(this.m_styleNo=Number(t),this.m_styleNo){case r.Style.DICE:this.m_folderName=c}}},n.SetSymbolStyleToURL=function(){var e=1==this.m_styleNo?2:this.m_styleNo;s.RATIO_URL=s.RATIO_URL+"&Style="+e,s.HISTORY_URL=s.HISTORY_URL+"&Style="+e,s.COLLECT_URL=s.COLLECT_URL+"&Style="+e,s.BACKPACK_URL=s.BACKPACK_URL+"&Style="+e,s.MEMBER_URL=s.MEMBER_URL+"&Style="+e,s.ACTION_URL=s.ACTION_URL+"&Style="+e,s.PROMOTE_ACTION_URL=s.PROMOTE_ACTION_URL+"&Style="+e,s.PROMOTE_URL=s.PROMOTE_URL+"&Style="+e,s.WEB_URL=s.WEB_URL+"&Style="+e,s.CLOSE_URL=s.CLOSE_URL+"&Style="+e},n.CheckSetting=function(e){switch(this.m_styleNo){case r.Style.DICE:this.m_needChange=e.HasDice,this.m_needChange&&this.SetSymbolStyleToURL()}},n.CheckScenePath=function(e){return""!==this.m_folderName&&this.m_needChange?"/"+this.m_folderName+e:e},n.LoadNewIntro=function(e,t){for(var n=this,o="/"+this.m_folderName+"/Prefab/Intro/Intro_Cell_0",l=[],i=function(i){n.Load(o+(i+1).toString(),a,(function(n){l[i]=n;for(var o=!0,a=0;a<e;a++)if(!l[a]){o=!1;break}o&&(null==t||t(l))}))},r=0;r<e;r++)i(r)},n.LoadNewLogo=function(e,t){var n="/"+this.m_folderName+"/Text/logo/logo";this.Load(n,e?l:i,(function(e){null==t||t(e)}))},n.LoadRes=function(e,t,n){this.Load("/"+this.m_folderName+"/"+e,t,n)},n.Load=function(e,t,n){r.GameBundle.load(e,t,(function(e,t){e?console.error(e):null==n||n(t)}))},t(e,[{key:"StyleNo",get:function(){return this.m_styleNo}},{key:"FolderName",get:function(){return this.m_folderName}},{key:"NeedChange",get:function(){return this.m_needChange}}]),e}())||_;e("styleChangeManager",new u);n._RF.pop()}}}));

System.register("chunks:///_virtual/SwipeManager.ts",["cc","./iOSDevice.ts","./LocaleStringManager.ts","./Define.ts","./EnvironmentConfig.ts","./AppManager.ts","./env"],(function(i){"use strict";var e,t,n,s,a,o,l,r,m,c,h,u,d,v;return{setters:[function(i){e=i.cclegacy,t=i.sys,n=i.log,s=i.Node,a=i.UITransform,o=i.Size,l=i.Button,r=i.size},function(i){m=i.GetiOSDevice},function(i){c=i.default},function(i){h=i.default},function(i){u=i.default},function(i){d=i.default},function(i){v=i.PREVIEW}],execute:function(){e._RF.push({},"bc1c4le62pEKraStRnK7d5L","SwipeManager",void 0);var w=i("default",function(){function i(){if(this.m_mask=null,this.m_webView=null,this.m_oldSize=null,this.m_isScrolling=!1,this.m_scrollInterval=void 0,this.m_scrollTimeOut=void 0,this.m_isiOS13=void 0,this.maskCloseCb=null,i._instance)throw new Error("Error: Instantiation failed: Use SwipeManager.GetInstance() instead of new.");if(i._instance=this,!t.isNative){var e=navigator.userAgent.toLowerCase(),n=e.match(/cpu iphone os (.*?) like mac os/);if((n=null==n?e.match(/cpu os (.*?) like mac os/):n)&&Number(n[1].replace(/_/g,"."))<13){var s=navigator.userAgent.toLowerCase(),a=s.match(/cpu iphone os (.*?) like mac os/);!(a=null==a?s.match(/cpu os (.*?) like mac os/):a)||Number(a[1].replace(/_/g,"."))<13?this.m_isiOS13=!1:this.m_isiOS13=!0}else null==n&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!window.MSStream?this.m_isiOS13=!0:this.m_isiOS13=null!=n}}i.GetInstance=function(){return i._instance};var e=i.prototype;return e.OpenMask=function(i,e,s,a){var o=this;if(u.ENV_TYPE!==h.EVN.TEST&&!v&&!t.isNative&&!d.LobbyData){a&&(this.maskCloseCb=a);var l=document.getElementById("mask_close");if(c.CurrLang===h.Lang.CN?l.innerHTML="滑动无效时,<br/>请点击此处进入游戏。":c.CurrLang===h.Lang.ID?l.innerHTML="Ketika scroll tidak valid,<br/>silakan tekan ini untuk memasuki game":c.CurrLang===h.Lang.VN?l.innerHTML="Nếu không thể thao tác,<br/>hãy chạm vào đây để vào game":c.CurrLang===h.Lang.TH?l.innerHTML="เมื่อไม่สามารถทำการสไลด์ได้<br/>กรุณาคลิกที่นี่เพื่อเข้าสู่เกม":c.CurrLang===h.Lang.HI?l.innerHTML="यदि स्वाइप करने से काम नहीं हो रहा है,<br/>तो गेम में प्रवेश करने के लिए यहाँ छूएँ।":c.CurrLang===h.Lang.TA?l.innerHTML="ஸ்வைப் செய்வது வேலை செய்யவில்லை என்றால் கேமில் நுழைய இங்கே தொடவும்":l.innerHTML="If sliding is invalid,<br/>click here to enter the game.",l&&l.parentElement&&!l.parentElement.onclick&&(l.parentElement.onclick=function(){var i=document.getElementById("mask");i&&(i.style.visibility="hidden",o.m_mask.active=!1,o.maskCloseCb&&o.maskCloseCb())}),this.m_webView=e.WebView,t.os==t.OS.IOS&&0==this.IsWebview()){document.getElementById("mask").style.display="inline",this.m_mask||this.AddGameViewMask(i);var r=m();if(null!=r){this.ShowMask();var w=.99*(screen.height-r.statusHeight-r.homeHeight-20),g=.99*(screen.width-r.statusHeight-20);document.body.onresize=function(){(window.innerHeight>=window.innerWidth?w:g)<=window.innerHeight?o.HideMask():o.ShowMask()},window.addEventListener("scroll",(function(i){o.m_isScrolling=!0,n("scrolling")}),{capture:!1,passive:!0}),document.getElementById("mask").addEventListener("touchend",(function(){n("end",o.m_isScrolling),o.m_scrollTimeOut&&clearTimeout(o.m_scrollTimeOut),o.m_scrollTimeOut=setTimeout((function(){window.scrollTo(0,0),clearInterval(o.m_scrollInterval)}),250);var i=document.getElementById("mask");i&&"hidden"==i.style.visibility&&(o.m_mask.active=!1)}))}else this.HideMask()}else this.maskCloseCb&&this.maskCloseCb()}},e.IsMaskOpen=function(){return this.m_mask&&this.m_mask.active},e.AddGameViewMask=function(i){var e=this;t.isNative||this.m_webView&&this.m_webView.active||(this.m_mask=new s,this.m_mask.addComponent(a).setContentSize(new o(1136,1136)),this.m_mask.addComponent(l),i.addChild(this.m_mask),this.m_mask.on(s.EventType.TOUCH_END,(function(i){var t=document.getElementById("mask");t&&"hidden"==t.style.visibility&&(e.m_mask.active=!1)})))},e.WebViewShow=function(){t.isNative||(this.m_oldSize=r(window.innerWidth,window.innerHeight))},e.Process=function(){if(!t.isNative&&t.OS.IOS&&this.m_webView&&!this.m_webView.active&&this.m_oldSize&&this.m_mask){var i=new o(window.innerWidth,window.innerHeight);this.m_oldSize.width>i.width||this.m_oldSize.height>i.height?this.m_mask.active||"hidden"!=document.getElementById("mask").style.visibility||this.ShowMask():(this.HideMask(),this.m_oldSize=null)}},e.ShowMask=function(){var i=this;t.isNative||this.m_webView&&this.m_webView.active||t.isNative||(document.getElementById("mask").style.visibility="visible",this.m_mask&&(this.m_mask.active=!0),window.scrollTo(0,0),this.m_isiOS13&&(this.m_scrollInterval&&clearInterval(this.m_scrollInterval),this.m_scrollInterval=setInterval((function(){i.m_isScrolling&&(i.m_isScrolling=!1,i.m_scrollTimeOut&&clearTimeout(i.m_scrollTimeOut),i.m_scrollTimeOut=setTimeout((function(){window.scrollTo(0,0),clearInterval(i.m_scrollInterval),i.m_scrollInterval=null}),250))}),250)))},e.HideMask=function(){t.isNative||document.getElementById("mask")&&(document.getElementById("mask").style.visibility="hidden",this.maskCloseCb&&this.maskCloseCb())},e.IsWebview=function(){if(t.isNative)return!1;var i=navigator.userAgent,e=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*(wv|.0.0.0)"].join("|")+")","ig");return Boolean(i.match(e))},e.IsChrome=function(){return!t.isNative&&/CriOS/.test(navigator.userAgent)},i}());w._instance=new w,e._RF.pop()}}}));

System.register("chunks:///_virtual/TiggerRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./Request.ts","./Define.ts","./EnvironmentConfig.ts","./LocaleStringManager.ts","./Tools.ts","./RankItem.ts","./longhu.mjs_cjs=&original=.js","./NotificationManager.ts","./longhu.js"],(function(e){"use strict";var t,n,a,i,o,r,s,m,l,_,g,h,c,u,d,p,b,f,L,D,T,S,y,I,P,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Prefab,m=e.Node,l=e.Label,_=e.error,g=e.log,h=e.Animation,c=e.instantiate,u=e.js,d=e.Widget,p=e.Component},function(e){b=e.default},function(e){f=e.Request,L=e.DEFAULT_REQUEST_OPTIONS},function(e){D=e.default},function(e){T=e.default},function(e){S=e.default},function(e){y=e.default},function(e){I=e.default},null,function(e){P=e.default},function(e){N=e.default}],execute:function(){var G,w,C,v,R,E,k,O,A,B,K,M,W,F,z,x,H,Y,U,V,q,j,J,Q,X,Z,$,ee,te,ne,ae,ie,oe,re;o._RF.push({},"f1b4dTAFfhB6rzMxcWd/z7I","TiggerRank",void 0);var se=r.ccclass,me=r.property;e("default",(G=me({type:s,tooltip:"值版prefab"}),w=me({type:s,tooltip:"橫版prefab"}),C=me({type:m,tooltip:"橫版根結點"}),v=me({type:m,tooltip:"直版根結點"}),R=me({type:m,tooltip:"橫版資料"}),E=me({type:m,tooltip:"直版資料"}),k=me({type:I,tooltip:"橫版自己排名"}),O=me({type:I,tooltip:"直版自己排名"}),A=me({type:l,tooltip:"排行"}),B=me({type:l,tooltip:"名稱"}),K=me({type:l,tooltip:"倍率"}),M=me({type:l,tooltip:"時間"}),W=me({type:l,tooltip:"重置提示"}),F=me({type:l,tooltip:"更新提示"}),z=me({type:m,tooltip:"內頁按鈕"}),x=me({type:l,tooltip:"內頁按鈕文字"}),se((U=t((Y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"m_itemPrefabS",U,i(t)),a(t,"m_itemPrefabL",V,i(t)),a(t,"m_rootNodeL",q,i(t)),a(t,"m_rootNodeS",j,i(t)),a(t,"m_contentNodeL",J,i(t)),a(t,"m_contentNodeS",Q,i(t)),a(t,"m_myInfoL",X,i(t)),a(t,"m_myInfoS",Z,i(t)),a(t,"m_rankLabels",$,i(t)),a(t,"m_nameLabels",ee,i(t)),a(t,"m_oddsLabels",te,i(t)),a(t,"m_timeLabels",ne,i(t)),a(t,"m_resetLabels",ae,i(t)),a(t,"m_refreshLabels",ie,i(t)),a(t,"m_inPageBtns",oe,i(t)),a(t,"m_inPageBtnsTxt",re,i(t)),t.m_url=null,t.m_addPageCb=null,t.m_removePageCb=null,t.m_isFirst=!0,t.m_checkTime=0,t.m_nowPage=0,t.m_have2Page=!1,t.m_isShowNickname=!1,t.m_changeTime=0,t.m_data=null,t.m_newData=null,t.m_lostGameCount=0,t.m_rankItemsL=[],t.m_rankItemsS=[],t.m_isLandscape=!1,t}n(t,e);var o=t.prototype;return o.Init=function(e,t,n){var a=this;this.m_isLandscape=e,this.m_url=T.SERVICE_URL+"longhu/GetLonghuList?apiid="+D.API_ID+"&accountid="+D.AID+"&subagentcode="+D.SUB_AGENT_CODE,this.m_addPageCb=t,this.m_removePageCb=n,this.NewReqData(),this.m_inPageBtns[0]&&(this.SetInPageBtnOn(0),this.m_inPageBtns[0].on(m.EventType.TOUCH_END,(function(e){_("rankInPageBtns 0"),a.m_changeTime=5,a.SetInPageBtnOn(0),a.SetData(0),a.SetOddTxt()})),this.m_inPageBtns[1].on(m.EventType.TOUCH_END,(function(e){_("rankInPageBtns 1"),a.m_changeTime=5,a.SetInPageBtnOn(1),a.SetData(1),a.SetOddTxt()})))},o.update=function(e){this.m_checkTime>0&&(this.m_checkTime-=e,this.m_checkTime<=0&&this.NewReqData()),this.m_changeTime>0&&(this.m_changeTime-=e,this.m_changeTime<=0&&(this.m_isShowNickname=!this.m_isShowNickname,this.CheckGameIcon(),this.m_changeTime=5))},o.SetInPageBtnOn=function(e){switch(e){case 0:this.m_nowPage=0,this.m_inPageBtns[0].getChildByName("On").active=!0,this.m_inPageBtns[1].getChildByName("On").active=!1;break;case 1:this.m_nowPage=1,this.m_inPageBtns[0].getChildByName("On").active=!1,this.m_inPageBtns[1].getChildByName("On").active=!0;break;default:this.m_nowPage=0,this.m_inPageBtns[0].getChildByName("On").active=!0,this.m_inPageBtns[1].getChildByName("On").active=!1}},o.SetOddTxt=function(){for(var e=0;e<this.m_oddsLabels.length;e++)1==this.m_nowPage?this.m_oddsLabels[e].string=S.GetInstance().GetString(D.StringKey.FREEWINCASH_WIN):this.m_oddsLabels[e].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_ODDS),y.SetFont(this.m_oddsLabels[e])},o.SetTxt=function(){this.m_inPageBtnsTxt[0]&&(this.m_inPageBtnsTxt[0].string=S.GetInstance().GetString(D.StringKey.RANK_TYPE+"4"),this.m_inPageBtnsTxt[1].string=S.GetInstance().GetString(D.StringKey.RANK_TYPE+"4"),this.m_inPageBtnsTxt[2].string=S.GetInstance().GetString(D.StringKey.RANK_TYPE+"5"),this.m_inPageBtnsTxt[3].string=S.GetInstance().GetString(D.StringKey.RANK_TYPE+"5"));for(var e=0;e<this.m_refreshLabels.length;e++)this.m_refreshLabels[e].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_REFRESH),y.SetFont(this.m_refreshLabels[e]);for(var t=0;t<this.m_rankLabels.length;t++)this.m_rankLabels[t].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_RANK),y.SetFont(this.m_rankLabels[t]);for(var n=0;n<this.m_nameLabels.length;n++)this.m_nameLabels[n].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_NAME),y.SetFont(this.m_nameLabels[n]);for(var a=0;a<this.m_oddsLabels.length;a++)this.m_oddsLabels[a].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_ODDS),y.SetFont(this.m_oddsLabels[a]);for(var i=0;i<this.m_timeLabels.length;i++)this.m_timeLabels[i].string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_TIME),y.SetFont(this.m_timeLabels[i])},o.NewReqData=function(){var e=this;if(D.APP){var t=new N.longhuProto.GetLonghuListRequest;t.accountID=Number(D.APP.GetAID()),t.apiID=Number(D.APP.GetApiID()),t.subAgentCode=D.SUB_AGENT_CODE,t.GameID=Number(D.NOW_GAME_ID);var n=N.longhuProto.GetLonghuListRequest.encode(t).finish(),a=T.SERVICE_URL+"longhu/GetLonghuListV2";f(b.HTTP_METHOD.TYPE_POST,a,{},n,L,!0).then((function(t){T.ENV_TYPE===D.EVN.TEST&&(t.ok=!0),g("ReqData res.ok:",t.ok),t.ok&&(T.ENV_TYPE===D.EVN.TEST||e.OnRecvAck(t.protoData))}))}},o.OnRecvAck=function(e){var t=new Uint8Array(e),n=N.longhuProto.LonghuListResponse.decode(t);if(this.m_newData={ErrorCode:n.errorCode?n.errorCode:0,Message:n.message?n.message:"",Data:{Win:n.data?n.data.win:null,Odd:n.data?n.data.odd:null},ResetTime:Number(n.resetTime)},this.m_newData.Data.Win&&this.m_newData.Data.Win.playerList.length>0&&this.m_newData.Data.Odd&&this.m_newData.Data.Odd.playerList.length>0&&(this.m_have2Page=!0),0==this.m_newData.ErrorCode){this.CheckGameIcon();var a=new Date,i=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()+1,5);this.m_checkTime=i.getTime()-a.getTime()}else this.m_isFirst||this.m_removePageCb&&this.m_removePageCb()},o.ReqData=function(){var e=this;this.m_url&&f(b.HTTP_METHOD.TYPE_GET,this.m_url).then((function(t){if(T.ENV_TYPE===D.EVN.TEST&&(t.ok=!0),g("ReqData res.ok:",t.ok),t.ok)if(T.ENV_TYPE===D.EVN.TEST||(e.m_data=JSON.parse(t.data)),0===e.m_data.ErrorCode){e.CheckGameIcon();var n=new Date,a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1,5);e.m_checkTime=a.getTime()-n.getTime()}else e.m_isFirst||e.m_removePageCb&&e.m_removePageCb()}))},o.OnRotation=function(e){this.m_isLandscape=e;var t="Clip_WinMore_Top50Page_Landscape",n="Clip_WinMore_Top50Page_Portrait";this.m_have2Page&&!y.IsTada&&(t="Clip_WinMore_Top50Page_Landscape_Longhu",n="Clip_WinMore_Top50Page_Portrait_Longhu"),e?this.node.getComponent(h).play(t):this.node.getComponent(h).play(n);for(var a=0;a<this.m_rankItemsL.length;a++)e?this.m_rankItemsL[a].PlayerAnimate.play("Clip_WinMore_Top50Cell_Landscape"):this.m_rankItemsL[a].PlayerAnimate.play("Clip_WinMore_Top50Cell_Portrait")},o.CheckGameIcon=function(){var e=this,t={};if(this.m_newData.Data.Win)for(var n=0;n<this.m_newData.Data.Win.playerList.length;n++)t[this.m_newData.Data.Win.playerList[n].gameID]=!0;if(this.m_newData.Data.Odd)for(var a=0;a<this.m_newData.Data.Odd.playerList.length;a++)t[this.m_newData.Data.Odd.playerList[a].gameID]=!0;for(var i in this.m_newData.Data.Win&&0!==this.m_newData.Data.Win.player.no?t[this.m_newData.Data.Win.player.gameID]=!0:this.m_newData.Data.Odd&&0!==this.m_newData.Data.Odd.player.no&&(t[this.m_newData.Data.Odd.player.gameID]=!0),t){if(Object.prototype.hasOwnProperty.call(t,i))t[i]&&!y.Icons[i]&&(this.m_lostGameCount++,y.LoadIcon(S.CurrLang,Number(i),(function(){e.m_lostGameCount--,0===e.m_lostGameCount&&e.CheckGameIcon()})))}0===this.m_lostGameCount&&this.SetData(this.m_nowPage)},o.SetData=function(e){if(void 0===e&&(e=0),!this.m_newData.ErrorCode){var t=this.m_newData.Data.Odd;if(1==e&&this.m_newData.Data.Win&&(t=this.m_newData.Data.Win),t){for(var n=0;n<t.playerList.length;n++){var a=this.m_rankItemsL[n];if(!a){var i=c(this.m_itemPrefabL);this.m_contentNodeL.addChild(i),a=i.getComponent(I),this.m_rankItemsL.push(a),this.m_isLandscape?a.PlayerAnimate.play("Clip_WinMore_Top50Cell_Landscape"):a.PlayerAnimate.play("Clip_WinMore_Top50Cell_Portrait")}this.SetRankItem(this.SetListData(t.playerList[n]),a,!0)}this.SetRankItem(this.SetListData(t.player),this.m_myInfoL,!0,!0)}var o=new Date(1e3*this.m_newData.ResetTime),r=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_RESET),s=o.getHours()>=10?o.getHours():"0"+o.getHours(),m=o.getMinutes()>=10?o.getMinutes():"0"+o.getMinutes();r=u.formatStr(r,s+":"+m);for(var l=0;l<this.m_resetLabels.length;l++)this.m_resetLabels[l].string=r,y.SetFont(this.m_resetLabels[l]);this.m_isFirst&&t&&(this.m_isFirst=!1,this.m_changeTime=5,this.m_addPageCb&&this.m_addPageCb(),this.OnRotation(this.m_isLandscape),P.GetInstance().UpdateLonghuNotify())}},o.SetListData=function(e){return{No:e.no,Account:e.account,Nickname:e.nickname,GameID:e.gameID,Win:e.win,Odd:e.odd,CreateTime:Number(e.createTime)}},o.SetRankItem=function(e,t,n,a){if(void 0===a&&(a=!1),this.m_isShowNickname){var i=e.Nickname;if(i.length>9){var o=i.slice(-8);i="*"+o}t.NameLabel.string=""!==i?i:e.Account,y.SetFont(t.NameLabel)}else y.SetFont(t.NameLabel),t.NameLabel.string=e.Account;if(a&&(e.No>50||0===e.No))t.RankLabel.string="50+",t.GameIcon.node.active=!1,t.OddsLabel.string=S.GetInstance().GetString(D.StringKey.TIGGER_RANK_OUTSIDE),y.SetFont(t.OddsLabel),t.TimeLabel.string="-",t.OddsLabel.node.getComponent(d)&&(t.OddsLabel.node.getComponent(d).enabled=!1),t.InRankNode.active=!1,t.OutRankNode.active=!0;else{t.RankLabel.string=e.No.toString(),t.GameIcon.node.active=!0,t.GameIcon.SetGameIcon(y.Icons[e.GameID]),e.Odd?t.OddsLabel.string=e.Odd.toString()+"x":e.Win&&(t.OddsLabel.string=e.Win.toString());var r=new Date(1e3*e.CreateTime),s=r.getDate()>=10?r.getDate():"0"+r.getDate(),m=r.getMonth()+1>=10?r.getMonth()+1:"0"+(r.getMonth()+1);y.Line===D.LineSetting.americas||y.Line===D.LineSetting.americas_str?t.TimeLabel.string=m+"/"+s:t.TimeLabel.string=s+"/"+m,t.OddsLabel.node.getComponent(d)&&(t.OddsLabel.node.getComponent(d).enabled=!0),t.GameId=e.GameID,
/*!isSelf &&*/
t.GoToBtn&&!y.CheckSwitchOff(D.SwitchOffKeyDefine.AllChangeGameImport)&&(t.GoToBtn.active=!0),a&&t.InRankNode&&t.OutRankNode&&(t.InRankNode.active=!0,t.OutRankNode.active=!1)}y.SetFont(t.RankLabel),y.SetFont(t.TimeLabel),y.SetFont(t.OddsLabel)},t}(p)).prototype,"m_itemPrefabS",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"m_itemPrefabL",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(Y.prototype,"m_rootNodeL",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(Y.prototype,"m_rootNodeS",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(Y.prototype,"m_contentNodeL",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Y.prototype,"m_contentNodeS",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Y.prototype,"m_myInfoL",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Y.prototype,"m_myInfoS",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"m_rankLabels",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(Y.prototype,"m_nameLabels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(Y.prototype,"m_oddsLabels",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(Y.prototype,"m_timeLabels",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(Y.prototype,"m_resetLabels",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(Y.prototype,"m_refreshLabels",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(Y.prototype,"m_inPageBtns",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(Y.prototype,"m_inPageBtnsTxt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=Y))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/TimeBool.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var e;i._RF.push({},"34d81gQVlJAaJJHg6IUTjH6","TimeBool",void 0),function(t){t[t.MAX_UINT=4294967295]="MAX_UINT",t[t.MAX_UINT64=0x10000000000000000]="MAX_UINT64",t[t.MAX_INT=-1]="MAX_INT",t[t.MIN_INT=0]="MIN_INT"}(e||(e={}));t("default",function(){function t(){this.m_duration=e.MAX_UINT,this.m_deadline=e.MAX_UINT64,this.m_useDT=!1,this.m_dt=void 0,this.m_duration=e.MAX_UINT,this.m_deadline=e.MAX_UINT64}var i=t.prototype;return i.IsStarted=function(){return e.MAX_UINT!=this.m_duration},i.Duration=function(){return this.m_duration},i.TicksUntilTrue=function(){if(!this.IsStarted())return e.MAX_INT;var t=(new Date).getTime();return this.m_deadline<=t?0:this.m_deadline-t},i.TicksSinceTrue=function(){var t=(new Date).getTime();return this.m_deadline>=t?0:t-this.m_deadline},i.TicksSinceStart=function(){return this.IsStarted()?(new Date).getTime()-(this.m_deadline-this.m_duration):0},i.Start=function(t){this.m_duration=t;var i=(new Date).getTime();this.m_deadline=i+t,this.m_dt=0},i.Restart=function(){this.m_deadline=(new Date).getTime()+this.m_duration},i.Continue=function(){this.m_deadline+=this.m_duration},i.ExpireNow=function(){this.m_deadline=(new Date).getTime()},i.Clear=function(){this.m_duration=e.MAX_UINT,this.m_deadline=e.MAX_UINT64,this.m_dt=0},i.StartWithFirstDue=function(t,i){this.m_duration=t,e.MAX_UINT==i?this.m_deadline=e.MAX_UINT64:this.m_deadline=(new Date).getTime()+i},i.ToBool=function(){return this.m_useDT?this.m_dt>=this.m_duration:(new Date).getTime()>=this.m_deadline},i.TakeAndContinue=function(){return!!this.ToBool()&&(this.Continue(),!0)},i.TakeAndRestart=function(){return!!this.ToBool()&&(this.Restart(),!0)},i.UseDT=function(t){this.m_useDT=t},i.Update=function(t){this.m_dt=this.m_dt+t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ToJsonObject.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"cdf80vGGzVNiKTXzSWOdWuZ","ToJsonObject",void 0);t("default",function(){function t(){}return t.Covert=function(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r=n[e];t[e]=r}return t},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./iOSDevice.ts","./AppManager.ts","./EnvironmentConfig.ts","./IframeCommandManager.ts","./FeatureManagerComponent.ts"],(function(e){"use strict";var t,n,a,r,o,i,l,s,u,g,c,L,m,d,f,h,_,E,p,I,C,N,S,F,v,A,T,R,w;return{setters:[function(e){t=e.createClass,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e.js,o=e.Button,i=e.Node,l=e.SpriteFrame,s=e.color,u=e.log,g=e.Sprite,c=e.Label,L=e.RichText,m=e.ParticleSystem2D,d=e.sys,f=e.error,h=e.v3,_=e.Size,E=e.v2,p=e.assetManager,I=e.Texture2D,C=e.AudioClip,N=e.view,S=e.warn},function(e){F=e.default},function(e){v=e.GetiOSDevice},function(e){A=e.default},function(e){T=e.default},function(e){R=e.iframeCommandManager},function(e){w=e.SkinType}],execute:function(){a._RF.push({},"0a4490UT0FN0peFuraPUFM4","Tools",void 0);var D=[6,8,15,16,691],O=[6,691,841],b=[F.GAME_ID.GEM],M=[{ApiID:1051,currency:[17]}],y=[{ApiID:801,SAC:[10]}],k=[{ApiID:531,SAC:51,Index:0},{ApiID:1072,GAME:101,Index:0},{ApiID:6,GAME:101,Index:0},{ApiID:1291,Index:0},{ApiID:1002,Index:0},{ApiID:1271,Index:0},{ApiID:1272,Index:0},{ApiID:681,GAME:102,Index:0},{ApiID:681,GAME:76,Index:4},{ApiID:681,GAME:2,Index:2},{ApiID:681,GAME:30,Index:2},{ApiID:681,GAME:36,Index:2},{ApiID:681,GAME:37,Index:2},{ApiID:681,GAME:38,Index:2},{ApiID:681,GAME:45,Index:2},{ApiID:681,GAME:47,Index:2},{ApiID:681,GAME:49,Index:2},{ApiID:681,GAME:58,Index:2},{ApiID:681,GAME:16,Index:2},{ApiID:681,GAME:85,Index:2},{ApiID:681,GAME:108,Index:2},{ApiID:681,GAME:137,Index:2},{ApiID:301,Index:0},{ApiID:681,Index:1},{ApiID:1721,Index:4},{ApiID:1130,Index:5},{ApiID:10144,Index:0},{ApiID:766,Index:0},{ApiID:819,Index:0},{ApiID:1958,Index:0},{ApiID:10174,Index:0},{ApiID:10135,Index:3},{ApiID:10137,Index:3}],G=0,U=1,P=2,x=3,B=4,H=e("default",function(){function e(){}return e.SetLine=function(t){void 0===t&&(t=null);var n=t||Number(e.GetLinkParameterByName("line"));isNaN(n)||(this.m_line=n)},e.SetTaDa=function(e){this.m_isTada=e},e.GetFilePath=function(e,t){switch(void 0===t&&(t=!1),this.m_line){case F.LineSetting.bc:e=F.CURRENCY_CHANGE_ENABLE?r.formatStr(e,F.ResFolderName.bc):r.formatStr(e,F.ResFolderName.org);break;case F.LineSetting.sec:e=r.formatStr(e,F.ResFolderName.sec);break;case F.LineSetting.street:e=t?r.formatStr(e,F.ResFolderName.street):r.formatStr(e,F.ResFolderName.org);break;case F.LineSetting.americas:e=r.formatStr(e,F.ResFolderName.americas);break;case F.LineSetting.americas_str:e=t?r.formatStr(e,F.ResFolderName.americas_str):r.formatStr(e,F.ResFolderName.americas);break;case F.LineSetting.org:default:e=r.formatStr(e,F.ResFolderName.org)}return e},e.GetFilePathApiId=function(e){return e=this.isIndia?r.formatStr(e,F.ResFolderName.india):this.isIndia2?r.formatStr(e,F.ResFolderName.india2):this.m_line===F.LineSetting.americas||this.m_line===F.LineSetting.americas_str?r.formatStr(e,F.ResFolderName.americas):r.formatStr(e,F.ResFolderName.org)},e.UsingLogoSpriteFrame=function(){if(!this.m_isCheckApi){for(var t=Number(e.GetLinkParameterByName("apiId")),n=!0,a=0;a<D.length;a++)if(t==D[a]){n=!1;break}this.IsNone&&(n=!1),n&&this.m_logoSpriteFrames&&(this.isIndia?(this.m_usingLogoSpriteFrame=this.m_logoSpriteFrames[U],this.m_otherLogo=!0):this.isIndia2?(this.m_usingLogoSpriteFrame=this.m_logoSpriteFrames[x],this.m_otherLogo=!0):this.IsUFAGame?this.m_usingLogoSpriteFrame=this.m_logoSpriteFrames[P]:this.IsTadaCasino?this.m_usingLogoSpriteFrame=this.m_logoSpriteFrames[B]:this.m_usingLogoSpriteFrame=this.m_logoSpriteFrames[G]),this.m_isCheckApi=!0}return this.m_usingLogoSpriteFrame},e.SetKeepGLI=function(e){this.m_keepGLISetting=e},e.CheckUFAIcon=function(){for(var e=Number(F.NOW_GAME_ID),t=0;t<F.UFA_ICONS.length;t++)if(e==F.UFA_ICONS[t])return!0;return!1},e.IsNativeWebView=function(){if(!navigator)return!1;var e=navigator.userAgent,t=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*(wv)"].join("|")+")","ig");return Boolean(e.match(t)).valueOf()},e.SetDotDigit=function(t,n){var a=!0,r=Number(F.NOW_GAME_ID);if(!isNaN(r))for(var o=0;o<b.length;o++)if(r===b[o]){a=!1;break}var i=Number(e.GetLinkParameterByName("apiId"));if(!isNaN(i)){for(var l=0;l<O.length;l++)if(i==O[l]&&a)return void(this.m_dotDigit=2);for(var s=0;s<M.length;s++)if(a&&i==M[s].ApiID)for(var u=M[s].currency,g=0;g<u.length;g++)if(n==u[g])return void(this.m_dotDigit=2);for(var c=0;c<y.length;c++)if(a&&i==y[c].ApiID)for(var L=y[c].SAC,m=0;m<L.length;m++)if(F.SUB_AGENT_CODE==L[m])return void(this.m_dotDigit=2)}t>e.SmallDotDigit&&(t=e.SmallDotDigit),this.m_dotDigit=t},e.SetRevertDot=function(e){this.m_isRevert=e},e.FormatNumberThousands=function(t,n,a,r){var o=this;void 0===n&&(n=e.FORMAT_NUMBER_TYPE.NONE_DOT),void 0===a&&(a=!0),void 0===r&&(r=this.m_dotDigit),n==e.FORMAT_NUMBER_TYPE.DEFINE_DOT&&(n=e.CURR_DEFINE_FORMAT_NUMBER_TYPE),this.CheckSwitchOff(F.SwitchOffKeyDefine.CoinAccuracy)&&(n=e.FORMAT_NUMBER_TYPE.PERMANENT_DOT,r=2),this.CheckSwitchOff(F.SwitchOffKeyDefine.RemoveDecimal)&&(n=e.FORMAT_NUMBER_TYPE.NONE_DOT);var i=function(e){if(null!=e&&Number(e)>=1e3&&a){var t="$1,$2";o.m_isRevert&&(t="$1.$2");for(var n=/(-?\d+)(\d{3})/;n.test(e);)e=e.replace(n,t)}return e},l=t<0?"-":"",s=Math.abs(t).toString(),u=s.split("."),g=".";switch(this.m_isRevert&&(g=","),r<=0&&(g=""),n){case e.FORMAT_NUMBER_TYPE.PERMANENT_DOT:u[0]=i(u[0]),null==u[1]&&(u[1]="0"),u[1]=u[1]+"00",s=u[0]+g+u[1].substr(0,r);break;case e.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO:u[0]=i(u[0]),s=null==u[1]?u[0]:u[0]+g+u[1].substr(0,r);break;case e.FORMAT_NUMBER_TYPE.ALL_DIGITS:break;case e.FORMAT_NUMBER_TYPE.SPECIFY_DOT:u[0]=i(u[0]),null==u[1]&&(u[1]="0"),u[1]=u[1]+"0000000000",s=u[0]+g+u[1].substr(0,r);break;case e.FORMAT_NUMBER_TYPE.NONE_DOT:default:s=i(Math.floor(Number(s)).toString())}return l+s},e.oldAddButton=function(e,t,n,a,r,g){if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===g&&(g=null),null!=e){var c=e.addComponent(o);c.node.on(i.EventType.TOUCH_END,t),null!=n&&(n instanceof l?(c.transition=o.Transition.SPRITE,c.normalSprite=n,c.pressedSprite=a||n,c.hoverSprite=r||a||n,c.disabledSprite=g||n):n instanceof s&&(c.transition=o.Transition.COLOR))}else u("Tools.AddButton is null.",e);return e},e.AddButton=function(e,t,n,a,r,c){if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===c&&(c=null),null!=e){var L=e.addComponent(o);null!=n?n instanceof l?(L.transition=o.Transition.NONE,L.normalSprite=n,L.pressedSprite=a||n,L.hoverSprite=r||a||n,L.disabledSprite=c||n,L.node.on(i.EventType.MOUSE_ENTER,(function(){L.enabled&&(L.getComponent(g).spriteFrame=L.pressedSprite)})),L.node.on(i.EventType.MOUSE_LEAVE,(function(){L.getComponent(g).spriteFrame=L.normalSprite})),L.node.on(i.EventType.TOUCH_START,(function(e){L.enabled&&(L.getComponent(g).spriteFrame=L.pressedSprite,t(e))})),L.node.on(i.EventType.TOUCH_CANCEL,(function(e){L.getComponent(g).spriteFrame=L.normalSprite,t(e)})),L.node.on(i.EventType.TOUCH_END,(function(e){L.enabled&&(L.getComponent(g).spriteFrame=L.normalSprite,t(e))}))):n instanceof s&&(L.transition=o.Transition.COLOR):(L.node.on(i.EventType.TOUCH_START,t),L.node.on(i.EventType.TOUCH_CANCEL,t),L.node.on(i.EventType.TOUCH_END,t))}else u("Tools.AddButton is null.",e);return e},e.SetLabelString=function(t,n,a){void 0===a&&(a=null);var r=t.getComponent(c);if(null!=r&&null!=r){if(null==a||null==a)r.string=n.toString();else{var o;if("number"==typeof n)o=n;else{var i=n.replace(/,/g,"");o=isNaN(Number(i))?0:Number(i)}r.string=e.FormatNumberThousands(o,a)}r.font||(r.font=F.DefaultFont)}else u("Warning!!!!!!!!!! SetLabelString: ",t)},e.GetLabelNumber=function(e){var t=e.getComponent(c)||e.getComponent(L),n=0;if(null!=t&&null!=t){var a="";if(this.m_isRevert){for(var r=t.string.split("."),o=0;o<r.length;o++)a+=r[o];a=a.replace(",",".")}else for(var i=t.string.split(","),l=0;l<i.length;l++)a+=i[l];n=isNaN(Number(a))?0:Number(a)}else u("Warning!!!!!!!!!! GetLabelNumber: ",e);return n},e.PlayParticle=function(e,t){if(void 0===t&&(t=!1),null!=e||null!=e)if(t){var n=e.getComponentsInChildren(m);for(var a in n)n.hasOwnProperty(a)&&n[a].resetSystem()}else{var r=e.getComponent(m);null!=r&&null!=r&&r.resetSystem()}},e.StopParticle=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),null!=e||null!=e)if(t){var a=e.getComponentsInChildren(m);for(var r in u(a),a)a.hasOwnProperty(r)&&(n&&a[r].resetSystem(),a[r].stopSystem())}else{var o=e.getComponent(m);null!=o&&null!=o&&(n&&o.resetSystem(),o.stopSystem())}},e.strip=function(t,n){return void 0===n&&(n=12),e.integerDigitLength(t)+4>12&&e.integerDigitLength(t)+4<=21&&(n=e.integerDigitLength(t)+4),+parseFloat(t.toPrecision(n))},e.integerDigitLength=function(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[0]||"").length-+(t[1]||0);return n>0?n:0},e.digitLength=function(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0},e.float2Fixed=function(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var n=e.digitLength(t);return n>0?t*Math.pow(10,n):t},e.checkBoundary=function(e){},e.times=function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if(r.length>0)return e.times.apply(e,[e.times(t,n),r[0]].concat(r.slice(1)));var i=e.float2Fixed(t),l=e.float2Fixed(n),s=e.digitLength(t)+e.digitLength(n),u=i*l;return e.checkBoundary(u),u/Math.pow(10,s)},e.plus=function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if(r.length>0)return e.plus.apply(e,[e.plus(t,n),r[0]].concat(r.slice(1)));var i=Math.pow(10,Math.max(e.digitLength(t),e.digitLength(n)));return(e.times(t,i)+e.times(n,i))/i},e.minus=function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if(r.length>0)return e.minus.apply(e,[e.minus(t,n),r[0]].concat(r.slice(1)));var i=Math.pow(10,Math.max(e.digitLength(t),e.digitLength(n)));return(e.times(t,i)-e.times(n,i))/i},e.divide=function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if(r.length>0)return e.divide.apply(e,[e.divide(t,n),r[0]].concat(r.slice(1)));var i=e.float2Fixed(t),l=e.float2Fixed(n);return e.checkBoundary(i),e.checkBoundary(l),e.times(i/l,Math.pow(10,e.digitLength(n)-e.digitLength(t)))},e.round=function(t,n){var a=Math.pow(10,n);return e.divide(Math.round(e.times(t,a)),a)},e.GetLinkParameterByName=function(e,t){if(void 0===t&&(t=null),!t)if(d.isNative||A.LobbyData)try{""===(t=A.GetUrl())&&f("No URL!")}catch(e){e(JSON.stringify(e))}else t=window.location.href;e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e.GetLinkParameterByNameForLobbyData=function(e){var t=window.location.href;e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e.GetCookie=function(e){if(d.isNative)return"";var t=e+"=";f("強調用的cookie:"+document.cookie);for(var n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},e.SetCookie=function(e,t,n,a){if(void 0===n&&(n=void 0),void 0===a&&(a=!1),d.isNative)return"";null==n&&(n=new Date).setTime(n.getTime()+864e5);var r="";return a&&(r=";path=/"),window.document.cookie=e+"="+escape(t)+";expires="+n.toUTCString()+r,""},e.ConvertLanguageToFull=function(e){return(e=e.toLocaleLowerCase())==F.Lang.CN||e==F.FullLang.CN.toLocaleLowerCase()?F.FullLang.CN:e==F.Lang.EN||e==F.FullLang.EN.toLocaleLowerCase()?F.FullLang.EN:e==F.Lang.TH||e==F.FullLang.TH.toLocaleLowerCase()?F.FullLang.TH:e==F.Lang.VN||e==F.FullLang.VN.toLocaleLowerCase()?F.FullLang.VN:e==F.Lang.ID||e==F.FullLang.ID.toLocaleLowerCase()?F.FullLang.ID:e==F.Lang.HI||e==F.FullLang.HI.toLocaleLowerCase()?F.FullLang.HI:e==F.Lang.TA||e==F.FullLang.TA.toLocaleLowerCase()?F.FullLang.TA:e==F.Lang.MM||e==F.FullLang.MM.toLocaleLowerCase()?F.FullLang.MM:e==F.Lang.JP||e==F.FullLang.JP.toLocaleLowerCase()?F.FullLang.JP:e==F.Lang.MS||e==F.FullLang.MS.toLocaleLowerCase()?F.FullLang.MS:e==F.Lang.KO||e==F.FullLang.KO.toLocaleLowerCase()?F.FullLang.KO:e==F.Lang.BN||e==F.FullLang.BN.toLocaleLowerCase()?F.FullLang.BN:e==F.Lang.ES||e==F.FullLang.ES.toLocaleLowerCase()?F.FullLang.ES:e==F.Lang.PT||e==F.FullLang.PT.toLocaleLowerCase()?F.FullLang.PT:e==F.Lang.IT||e==F.FullLang.IT.toLocaleLowerCase()?F.FullLang.IT:e==F.Lang.SE||e==F.FullLang.SE.toLocaleLowerCase()?F.FullLang.SE:e==F.Lang.DE||e==F.FullLang.DE.toLocaleLowerCase()?F.FullLang.DE:e==F.Lang.DADK||e==F.FullLang.DADK.toLocaleLowerCase()?F.FullLang.DADK:e==F.Lang.RORO||e==F.FullLang.RORO.toLocaleLowerCase()?F.FullLang.RORO:e==F.Lang.NLNL||e==F.FullLang.NLNL.toLocaleLowerCase()?F.FullLang.NLNL:e==F.Lang.TRTR.toLocaleLowerCase()||e==F.FullLang.TRTR.toLocaleLowerCase()?F.FullLang.TRTR:e==F.Lang.RURU.toLocaleLowerCase()||e==F.FullLang.RURU.toLocaleLowerCase()?F.FullLang.RURU:e==F.Lang.GRGR.toLocaleLowerCase()||e==F.FullLang.GRGR.toLocaleLowerCase()?F.FullLang.GRGR:e==F.Lang.FRFR.toLocaleLowerCase()||e==F.FullLang.FRFR.toLocaleLowerCase()?F.FullLang.FRFR:""},e.ConvertLanguageToSimple=function(e){return(e=e.toLocaleLowerCase())==F.Lang.CN||e==F.FullLang.CN.toLocaleLowerCase()?F.Lang.CN:e==F.Lang.EN||e==F.FullLang.EN.toLocaleLowerCase()?F.Lang.EN:e==F.Lang.TH||e==F.FullLang.TH.toLocaleLowerCase()?F.Lang.TH:e==F.Lang.VN||e==F.FullLang.VN.toLocaleLowerCase()?F.Lang.VN:e==F.Lang.ID||e==F.FullLang.ID.toLocaleLowerCase()?F.Lang.ID:e==F.Lang.HI||e==F.FullLang.HI.toLocaleLowerCase()?F.Lang.HI:e==F.Lang.TA||e==F.FullLang.TA.toLocaleLowerCase()?F.Lang.TA:e==F.Lang.MM||e==F.FullLang.MM.toLocaleLowerCase()?F.Lang.MM:e==F.Lang.JP||e==F.FullLang.JP.toLocaleLowerCase()?F.Lang.JP:e==F.Lang.MS||e==F.FullLang.MS.toLocaleLowerCase()?F.Lang.MS:e==F.Lang.KO||e==F.FullLang.KO.toLocaleLowerCase()?F.Lang.KO:e==F.Lang.BN||e==F.FullLang.BN.toLocaleLowerCase()?F.Lang.BN:e==F.Lang.ES||e==F.FullLang.ES.toLocaleLowerCase()?F.Lang.ES:e==F.Lang.PT||e==F.FullLang.PT.toLocaleLowerCase()?F.Lang.PT:e==F.Lang.IT||e==F.FullLang.IT.toLocaleLowerCase()?F.Lang.IT:e==F.Lang.SE||e==F.FullLang.SE.toLocaleLowerCase()?F.Lang.SE:e==F.Lang.DE||e==F.FullLang.DE.toLocaleLowerCase()?F.Lang.DE:e==F.Lang.DADK||e==F.FullLang.DADK.toLocaleLowerCase()?F.Lang.DADK:e==F.Lang.RORO||e==F.FullLang.RORO.toLocaleLowerCase()?F.Lang.RORO:e==F.Lang.NLNL||e==F.FullLang.NLNL.toLocaleLowerCase()?F.Lang.NLNL:e==F.Lang.TRTR.toLocaleLowerCase()||e==F.FullLang.TRTR.toLocaleLowerCase()?F.Lang.TRTR:e==F.Lang.RURU.toLocaleLowerCase()||e==F.FullLang.RURU.toLocaleLowerCase()?F.Lang.RURU:e==F.Lang.GRGR.toLocaleLowerCase()||e==F.FullLang.GRGR.toLocaleLowerCase()?F.Lang.GRGR:e==F.Lang.FRFR.toLocaleLowerCase()||e==F.FullLang.FRFR.toLocaleLowerCase()?F.Lang.FRFR:""},e.CloseGameTab=function(t){if(void 0===t&&(t=!0),d.isNative||A.LobbyData)A.LeaveGame(t);else{var n=function(){window.opener=null,window.open("","_self",""),window.close(),window.open("","_top"),window.top.close(),window.location.href="about:blank ",window.close()};switch(F.LobbyMode){case F.LobbyModeType.CLOSE:F.Platform===F.PlatformType.APP&&e.CloseUrl?window.location.replace(e.CloseUrl):n();break;case F.LobbyModeType.TO_JILI:!F.IsLifeSocketClose&&F.LifeSocketReqUrl?F.LifeSocketReqUrl(F.GAME_ID.WEBLOBBY,void 0):n();break;case F.LobbyModeType.TO_URL:F.HOME_URL&&""!=F.HOME_URL?window.top===window.self?window.location.href=F.HOME_URL:top.location.href=F.HOME_URL:n();break;case F.LobbyModeType.USING_IFRAME:F.HOME_URL&&""!=F.HOME_URL?window.top===window.self?window.location.href=F.HOME_URL:top.location.href=F.HOME_URL:R.SendClosed();break;case F.LobbyModeType.CHANGE_IFRAME:F.HOME_URL&&""!=F.HOME_URL?window.location.href=F.HOME_URL:n();break;default:n()}}},e.CanUseWebGL=function(){if(d.isNative)return!0;var e=document.getElementById("GameCanvas"),t=e.getContext("webgl")||e.getContext("webgl2");return t&&t instanceof WebGLRenderingContext||t instanceof WebGL2RenderingContext},e.StringFormat=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var n=new RegExp("\\{"+t+"\\}","gm");e=e.replace(n,t+1<1||arguments.length<=t+1?void 0:arguments[t+1])}return e},e.CustomStringFormat=function(e,t){return Object.keys(t).forEach((function(n){var a=new RegExp("\\{"+n+"\\}","gm");e=e.replace(a,t[n])})),e},e.GetErrorCode=function(e,t,n){f("GetErrorCode",e,t,n);var a="(MSG ",r=")",o=a+F.ErrorStatus.Unknow.toString()+r,i=-1,l=-1;switch(F.AID&&""!=F.AID&&(i=Number(F.AID)),F.API_ID&&""!=F.API_ID&&(l=Number(F.API_ID)),e){case F.ErrorStatus.PlatForm:var s=F.ErrorStatus.PlatForm+t,u="";n&&(u=".."+n.toString()),o=a+s.toString()+u+r,F.SendBtnClickEvent&&F.FormBtnClickParams&&F.SendBtnClickEvent(F.FormBtnClickParams(i,l,Number(F.NOW_GAME_ID),F.VERSION,F.BTN_CLICK_EVENT.PLATFORM_ERROR_MESSAGE,s,!1));break;case F.ErrorStatus.Game:case F.ErrorStatus.Spin:n?(o=a+".."+n.toString()+r,F.SendBtnClickEvent&&F.FormBtnClickParams&&F.SendBtnClickEvent(F.FormBtnClickParams(i,l,Number(F.NOW_GAME_ID),F.VERSION,F.BTN_CLICK_EVENT.GAME_ERROR,n,!1))):(o=a+t.toString()+r,F.SendBtnClickEvent&&F.FormBtnClickParams&&F.SendBtnClickEvent(F.FormBtnClickParams(i,l,Number(F.NOW_GAME_ID),F.VERSION,F.BTN_CLICK_EVENT.GAME_ERROR,t,!1)))}return o},e.GetDeviceName=function(){if(d.os==d.OS.IOS){var e=v();if(null!=e)return e.name}else if(d.os==d.OS.ANDROID&&!d.isNative){var t=/Mozilla\/5.0\s*\([^()]*?(Android[^()]*?);\s*([^()]*?)\)/g.exec(navigator.userAgent);if(t&&t.length>2){var n=t[2].split(" Build")[0],a=n.split(";");return 1==a.length?a[0]:2==a.length?a[1].substring(1):n}}return""},e.GetBrowserTag=function(){var t=e.CanUseWebGL()?F.GL_RESULT.TRUE:F.GL_RESULT.FALSE;switch(t*=100,d.os){case d.OS.ANDROID:t+=10;break;case d.OS.IOS:t+=20;break;case d.OS.WINDOWS:t+=30;break;default:t+=0}switch(d.browserType){case d.BrowserType.CHROME:t+=1;break;case d.BrowserType.SAFARI:t+=2;break;case d.BrowserType.IE:t+=3;break;case d.BrowserType.UC:t+=4;break;case d.BrowserType.QQ:case d.BrowserType.MOBILE_QQ:t+=5;break;case d.BrowserType.FIREFOX:t+=6;break;default:t+=0}return t},e.shallowCopy=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t},e.CheckEnginVersion=function(){return!0},e.DiffPos=function(e,t,n){var a,r=h(0,0),o=(a=t?F.DEFAULT_LANDSCAPE_SIZE:new _(F.DEFAULT_LANDSCAPE_SIZE.height,F.DEFAULT_LANDSCAPE_SIZE.width)).width/2,i=a.height/2;return e.equals(E(.5,0))?r=r.add(h(0,i)):e.equals(E(.5,.5))?(n&&(n.position.x===o&&(o=0),n.position.x===i&&(i=0)),r=r.add(h(o,i))):e.equals(E(0,.5))&&(r=r.add(h(o,0))),r},e.LoadTag=function(t,n,a,r){var o=this;if(""===this.m_url)if(d.isNative||A.LobbyData)try{var i=A.GetUrl();this.m_url=i.slice(0,i.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/",""===i&&f("No URL!")}catch(e){e(JSON.stringify(e))}else{var s=window.location.href;this.m_url=s.slice(0,s.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/"}t!==F.Lang.CN&&t!==F.Lang.EN&&(t=F.Lang.EN),T.ENV_TYPE===F.EVN.TEST&&(this.m_url="https://test-wbgame.jlfafafa3.com/smallicon/");var u=this.m_url+"tags/"+n+t+".png";p.loadRemote(u,{ext:".png"},(function(i,s){if(i)return f("assetManager err:",i),void e.LoadTag(t,n,a,r);o.m_tags[a]=new l;var u=new I;u.image=s,o.m_tags[a].texture=u,r&&r()}))},e.LoadIcon=function(t,n,a){var r=this;if(n!==F.GAME_ID.ENTITY&&n!==F.GAME_ID.DEFAULT){if(""===this.m_url)if(d.isNative||A.LobbyData)try{var o=A.GetUrl();this.m_url=o.slice(0,o.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/",""===o&&f("No URL!")}catch(e){e(JSON.stringify(e))}else{var i=window.location.href;this.m_url=i.slice(0,i.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/"}if(t!==F.Lang.CN&&t!==F.Lang.EN&&(t=F.Lang.EN),0===Object.keys(this.m_tadaIcons).length)for(var s=0;s<F.TADA_ICONS.length;s++)this.m_tadaIcons[F.TADA_ICONS[s]]=!0;var u="";this.IsTada&&this.m_tadaIcons[n]&&(u="tada_"),T.ENV_TYPE===F.EVN.TEST&&(this.m_url="https://test-wbgame.jlfafafa3.com/smallicon/");var g=this.m_url+"Icons/"+u+n+"_"+t+".jpg";p.loadRemote(g,{ext:".jpg"},(function(o,i){if(o)return f("assetManager LoadIcon err:",o),void e.LoadIcon(t,n,a);r.m_icons[n]=new l;var s=new I;s.image=i,r.m_icons[n].texture=s,a&&a()}))}},e.LoadHeadIcon=function(e,t){if(""===this.m_url)if(d.isNative||A.LobbyData)try{var n=A.GetUrl();this.m_url=n.slice(0,n.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/",""===n&&f("No URL!")}catch(e){e(JSON.stringify(e))}else{var a=window.location.href;this.m_url=a.slice(0,a.search(/\/[\w]+\/\?[\w=&:-]*/g))+"/smallicon/"}T.ENV_TYPE!==F.EVN.TEST&&p.loadRemote(this.m_url+"headIcons/"+e+".jpg",{reload:!0},(function(e,n){if(e)f(e.message||e);else{var a=new l;a.texture=n,a&&(t.spriteFrame=a)}}))},e.LoadAudoiClips=function(t,n,a,r){a?t.loadDir(n,C,(function(o,i){o?e.LoadAudoiClips(t,n,a,r):r&&r(i)})):t.load(n,(function(o,i){o?e.LoadAudoiClips(t,n,a,r):r&&r(i)}))},e.GetAnimEventTime=function(e,t){for(var n=0,a=e.events,r=0;r<a.length;r++){var o=a[r];if(o.func===t&&(arguments.length<=2?0:arguments.length-2)===o.params.length){for(var i=0,l=o.params,s=0;s<l.length;s++)l[s]===(s+2<2||arguments.length<=s+2?void 0:arguments[s+2])&&i++;if(i===l.length){n=o.frame;break}}}return n},e.GetAllAnimEventTime=function(e,t){for(var n=[],a=e.events,r=0;r<a.length;r++){var o=a[r];if(o.func===t&&(arguments.length<=2?0:arguments.length-2)===o.params.length){for(var i=0,l=o.params,s=0;s<l.length;s++)l[s]===(s+2<2||arguments.length<=s+2?void 0:arguments[s+2])&&i++;i===l.length&&n.push(o.frame)}}return n},e.GetFirstBetIndex=function(t){if(F.BET_LEVEL>0)return F.BET_LEVEL-1;for(var n=2,a=0;a<k.length;a++)if(k[a].ApiID==e.strip(Number(t))){if(k[a].SAC&&k[a].SAC==F.SUB_AGENT_CODE){n=k[a].Index;break}if(k[a].GAME&&k[a].GAME==Number(F.NOW_GAME_ID)){n=k[a].Index;break}if(!k[a].SAC&&!k[a].GAME){n=k[a].Index;break}}return n},e.CheckSwitchOff=function(e){if(0!=F.SwitchOffKeys.length)for(var t=0;t<F.SwitchOffKeys.length;t++)if(F.SwitchOffKeys[t]==e)return!0;return!1},e.SetSwitchOffCbs=function(e,t){this.m_switchOffCbs[e]=t},e.SwitchOffUpdate=function(){for(var e in this.m_switchOffCbs)if(Object.prototype.hasOwnProperty.call(this.m_switchOffCbs,e)){var t=this.m_switchOffCbs[e],n=this.CheckSwitchOff(Number(e));t&&t(n)}},e.CheckBMMRequest=function(e){for(var t=Number(F.API_ID),n=0;n<e.length;n++)if(t==e[n])return!0;return!1},e.DecodeProtoString=function(e){f("DecodeProtoString",e,window.btoa(e));var t=null;try{t=window.atob(e)}catch(n){try{t=window.btoa(e)}catch(t){t("Can't decode string",e)}}if(t){for(var n=t.length,a=new Uint8Array(n),r=0;r<n;r++)a[r]=t.charCodeAt(r);return a}return null},e.CheckPathAmerica=function(e){return e.indexOf(F.ResFolderName.americas)>0},e.SetFont=function(e){e.font||(this.m_lang!=F.Lang.BN&&this.m_lang!=F.Lang.HI&&this.m_lang!=F.Lang.TH||(e.cacheMode=c.CacheMode.NONE),e instanceof c&&e.isBold&&F.DefaultExtraFont?(e.font=F.DefaultExtraFont,d.os==d.OS.IOS&&(e.isBold=!1)):e.font=F.DefaultFont)},e.HasReadyCb=function(){return!!this.m_readyCb},e.AddReadyCb=function(e){this.m_readyCb=e},e.GameReady=function(){return this.m_readyCb&&this.m_readyCb()},e.AddProgressCb=function(e){this.m_progressCb=e},e.PerformanceProgress=function(e){return this.m_progressCb&&this.m_progressCb(e)},e.AddOnRotationCb=function(e){var t=this;this.m_onRotationCbs.push(e),1===this.m_onRotationCbs.length&&N.setResizeCallback((function(){for(var e=0;e<t.m_onRotationCbs.length;e++)t.m_onRotationCbs[e]()}))},e.SetJiliProgressBar=function(e){var t=document.getElementById("progressBar_span");t&&(t.style.width=e+"%");var n=document.getElementById("LoadingText");n&&(n.innerText="Loading..."+e+"%")},e.SetZIndex=function(e,t){if(e){var a=e.parent;if(e.zIndex=null==t?0:t,a){var r=a.children.concat();r.sort((function(e,t){return null==e.zIndex&&(e.zIndex=0),null==t.zIndex&&(t.zIndex=0),e.zIndex>t.zIndex?1:e.zIndex<t.zIndex?-1:0}));for(var o,i=r.length,l=n(r);!(o=l()).done;){o.value.setSiblingIndex(i)}}else S("No Parent Node，Can't Sort Node!!")}},e.SetOrderedZindex=function(e,t,n){if(void 0===t&&(t=0),e)if(n||e.parent){n=n||e.parent,e.zIndex=t,e.parent&&e.parent.removeChild(e);var a=n.children.concat(),r=this.zIndexBinarySearch(a,e);n.insertChild(e,r)}else f("Must give a parent");else f("Node missed!!")},e.zIndexBinarySearch=function(e,t){for(var n,a=0,r=e.length-1;a<=r;)void 0===e[n=Math.floor(this.divide(a+r,2))].zIndex&&(e[n].zIndex=0),t.zIndex<e[n].zIndex?r=n-1:a=n+1;return a},e.OnExit=function(){this.m_line=0,this.m_switchOffCbs={},this.m_logoSpriteFrames=null,this.m_usingLogoSpriteFrame=null,this.m_isCheckApi=!1,this.m_defineFormatNumType=e.FORMAT_NUMBER_TYPE.PERMANENT_DOT,this.m_dotDigit=2,this.SmallDotDigit=3,this.m_closeUrl=null,this.m_url="",this.m_icons={},this.m_tadaIcons={},this.m_tags={},this.CloseIntroLoading=[],this.TriggerFeaturesShow=null,this.TriggerUnshow=null,this.NotifyFeaturesDemoOpen=null,this.m_readyCb=null,this.m_onRotationCbs=[]},e.ParseAwardTypeFlag=function(e,t){return(e&t)==t},t(e,null,[{key:"Line",get:function(){return this.m_line}},{key:"isIndia",get:function(){var t=e.GetLinkParameterByName("skin");return"200"==F.API_ID||"201"==F.API_ID||t&&t==w.ACE_ROYALE.toString()}},{key:"isIndia2",get:function(){var t=e.GetLinkParameterByName("skin");return"202"==F.API_ID||t&&t==w.JILI_START.toString()}},{key:"IsTada",get:function(){return this.m_isTada}},{key:"IsTadaCasino",get:function(){var t=e.GetLinkParameterByName("skin");return"301"==F.API_ID||t&&t==w.TADA_CASINO.toString()}},{key:"IsUFAGame",get:function(){var t=e.GetLinkParameterByName("skin");return("1072"==F.API_ID||"1003"==F.API_ID)&&this.CheckUFAIcon()||t&&t==w.UFA.toString()}},{key:"IsNone",get:function(){var t=e.GetLinkParameterByName("skin");return t&&t==w.NONE.toString()}},{key:"LogoSpriteFrames",set:function(e){this.m_logoSpriteFrames=e}},{key:"OtherLogo",get:function(){return this.m_otherLogo}},{key:"KeepGLISetting",get:function(){return this.m_keepGLISetting}},{key:"CURR_DEFINE_FORMAT_NUMBER_TYPE",get:function(){return e.m_defineFormatNumType}},{key:"CloseUrl",get:function(){return this.m_closeUrl},set:function(e){this.m_closeUrl=e}},{key:"Icons",get:function(){return this.m_icons}},{key:"Tags",get:function(){return this.m_tags}},{key:"Lang",set:function(e){this.m_lang=e}},{key:"IsUKGC",get:function(){return F.API_ID==F.BMMApi.UKGC.toString()}}]),e}());H.m_line=0,H.m_isTada=!1,H.m_switchOffCbs={},H.m_logoSpriteFrames=null,H.m_usingLogoSpriteFrame=null,H.m_isCheckApi=!1,H.m_otherLogo=!1,H.m_keepGLISetting=!1,H.FORMAT_NUMBER_TYPE={NONE_DOT:0,DEFINE_DOT:1,PERMANENT_DOT:2,DEFINE_DOT_NONE_ZERO:3,ALL_DIGITS:4,SPECIFY_DOT:5},H.m_defineFormatNumType=H.FORMAT_NUMBER_TYPE.PERMANENT_DOT,H.m_dotDigit=2,H.SmallDotDigit=3,H.m_isRevert=!1,H.m_closeUrl=null,H.m_url="",H.m_icons={},H.m_tags={},H.m_tadaIcons={},H.m_lang="",H.CloseIntroLoading=[],H.TriggerFeaturesShow=null,H.TriggerUnshow=null,H.NotifyFeaturesDemoOpen=null,H.m_readyCb=null,H.m_progressCb=null,H.m_onRotationCbs=[],a._RF.pop()}}}));

System.register("chunks:///_virtual/TrialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./ConnectManager.ts","./LocaleStringManager.ts","./gaiaProto.mjs_cjs=&original=.js","./GaiaManager.ts","./ManagerDataStructure.ts","./VipManager.ts","./Protocol.ts","./EnvironmentConfig.ts","./gaiaProto.js"],(function(t){"use strict";var a,i,e,n,r,o,l,c,d,s,m;return{setters:[function(t){a=t.createClass},function(t){i=t.cclegacy},function(t){e=t.default},function(t){n=t.default},function(t){r=t.default},null,function(t){o=t.gaiaManager},function(t){l=t.ManagerDataStructure},function(t){c=t.default},function(t){d=t.default},function(t){s=t.default},function(t){m=t.default}],execute:function(){i._RF.push({},"009a9Z9FD5E46xEILiYYpYM","TrialManager",void 0);var u=51,f=52,g=53;t("trialManager",new(function(){function t(){this.m_trial=null,this.m_createViewCb=null}var i=t.prototype;return i.OnLoad=function(t){this.m_trial=t},i.OnDestroy=function(){this.m_trial=null},i.Init=function(t,a,i,e,n,r,o){var l;null==(l=this.m_trial)||l.Init(t,a,i,e,n,r,o)},i.NewInit=function(t,a,i){var u=this;this.m_createViewCb(t,a,i,(function(t){if(s.ENV_TYPE===e.EVN.TEST){u.m_trial.OnRecvTrialInfo({info:{acktype:0,nowactno:22101301,targettype:0,awarddesc:[{award:1,type:0,gate:30,gameid:184,itemid:1184301,amount:1,data:{star:1,icon:31184,type:3,bet:.06,gamename:"免費遊戲"},money:100},{award:2,type:1,gate:60,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:200},{award:3,type:2,gate:90,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:300}],pstate:5,trialinfo:{apiid:6,gameid:184,sac:0,activityno:22101301,totalbet:9,totalwin:0,property:996},bet:[1.2],remind:!1,remindinfo:{award:0,type:0,gate:0,gameid:0,itemid:0,amount:0,data:{star:0,icon:0,type:0,bet:0,gamename:""},money:0},start:1665594e3,end:1667581200},ret:0})}if(e.APP){var a=new m.gaiaProto.TrialInfoReq;a.aid=Number(e.APP.GetAID()),a.token=e.APP.GetAToken(),a.vip=c.GetInstance().VipInfo.Lv,a.lang=d.Language[r.CurrLang];var i=new l.TrialInfoReq;i.reqData=m.gaiaProto.TrialInfoReq.encode(a).finish(),n.GetInstance().SendCommand(i,(function(t){o.CheckAck(t,(function(t,a){u.OnRecvAck(t,a)}))}),!1,!0)}}),(function(t,a){if(e.APP){var i=new m.gaiaProto.TrialSignUpReq;i.token=e.APP.GetAToken(),i.aid=Number(e.APP.GetAID()),i.vip=c.GetInstance().VipInfo.Lv,i.actno=a;var r=new l.TrialSignUpReq;r.reqData=m.gaiaProto.TrialSignUpReq.encode(i).finish(),n.GetInstance().SendCommand(r,(function(t){o.CheckAck(t,(function(t,a){u.OnRecvAck(t,a)}))}),!1,!0)}}),(function(t,a){if(e.APP){var i=new m.gaiaProto.TrialGiveUpReq;i.aid=Number(e.APP.GetAID()),i.token=e.APP.GetAToken(),i.actno=a;var r=new l.TrialGiveUpReq;r.reqData=m.gaiaProto.TrialGiveUpReq.encode(i).finish(),n.GetInstance().SendCommand(r,(function(t){o.CheckAck(t,(function(t,a){u.OnRecvAck(t,a)}))}),!1,!0)}}))},i.OnRecvAck=function(t,a){switch(t){case u:var i=m.gaiaProto.TrialInfoAck.decode(a),e={ret:0,info:this.ReBuildInfoAck(i)};this.OnRecvTrialInfo(e);break;case f:var n=m.gaiaProto.TrialSignUpAck.decode(a),r={apiid:n.trialinfo.apiid,gameid:n.trialinfo.gameid,sac:n.trialinfo.sac,activityno:n.trialinfo.activityno,totalbet:n.trialinfo.totalbet,totalwin:n.trialinfo.totalwin,property:n.trialinfo.property},o={ret:0,info:{acktype:n.acktype,trialinfo:r}};this.OnRecvTrialSignUp(o);break;case g:var l=m.gaiaProto.TrialGiveUpAck.decode(a),c={ret:0,info:{acktype:l.acktype,award:l.award}};this.OnRecvTrialGiveUp(c)}},i.ReBuildInfoAck=function(t){for(var a=[],i=t.awarddesc.length-1;i>=0;i--){var e={star:t.awarddesc[i].data.star,icon:t.awarddesc[i].data.icon,type:t.awarddesc[i].data.type,bet:t.awarddesc[i].data.bet,gamename:t.awarddesc[i].data.gamename},n={award:t.awarddesc[i].award,type:t.awarddesc[i].type,gate:t.awarddesc[i].gate,gameid:t.awarddesc[i].gameid,itemid:t.awarddesc[i].itemid,amount:t.awarddesc[i].amount,data:e,money:t.awarddesc[i].money};a.push(n)}var r={apiid:t.trialinfo.apiid,gameid:t.trialinfo.gameid,sac:t.trialinfo.sac,activityno:t.trialinfo.activityno,totalbet:t.trialinfo.totalbet,totalwin:t.trialinfo.totalwin,property:t.trialinfo.property},o={star:t.remindinfo.data.star,icon:t.remindinfo.data.icon,type:t.remindinfo.data.type,bet:t.remindinfo.data.bet,gamename:t.remindinfo.data.gamename},l={award:t.remindinfo.award,type:t.remindinfo.type,gate:t.remindinfo.gate,gameid:t.remindinfo.gameid,itemid:t.remindinfo.itemid,amount:t.remindinfo.amount,data:o,money:t.remindinfo.money};return{acktype:t.acktype,nowactno:t.nowactno,targettype:t.targettype,awarddesc:a,pstate:t.pstate,trialinfo:r,bet:t.bet,remind:t.remind,remindinfo:l,start:Number(t.start),end:Number(t.end)}},i.OnRecvTrialInfo=function(t){var a;null==(a=this.m_trial)||a.OnRecvTrialInfo(t)},i.OnRecvTrialSignUp=function(t){var a;null==(a=this.m_trial)||a.OnRecvTrialSignUp(t)},i.OnRecvTrialGiveUp=function(t){var a;null==(a=this.m_trial)||a.OnRecvTrialGiveUp(t)},i.SetSpinAckTrialInfo=function(t,a){var i;null==(i=this.m_trial)||i.SetSpinAckTrialInfo(t,a)},i.SetGameState=function(t){var a;null==(a=this.m_trial)||a.SetGameState(t)},i.ShowTrialView=function(){var t;null==(t=this.m_trial)||t.ShowTrialView()},i.CloseTrialView=function(){var t;null==(t=this.m_trial)||t.CloseTrialView()},i.IsTrialFinish=function(){return!!this.m_trial&&this.m_trial.IsTrialFinish()},i.FinishTrial=function(t){var a;null==(a=this.m_trial)||a.FinishTrial(t)},i.SetProgess=function(t,a){var i;null==(i=this.m_trial)||i.SetProgess(t,a)},i.LoadAtlasFile=function(){var t;null==(t=this.m_trial)||t.LoadAtlasFile()},i.SetTxt=function(){var t;null==(t=this.m_trial)||t.SetTxt()},i.AddEndCb=function(t){var a;null==(a=this.m_trial)||a.AddEndCb(t)},i.GetTrialLvlHint=function(){return this.m_trial?this.m_trial.GetTrialLvlHint():null},i.GetCurrentLevelInfo=function(){return this.m_trial?this.m_trial.GetCurrentLevelInfo():null},i.GetRecordByType=function(){var t;null==(t=this.m_trial)||t.GetRecordByType()},i.GetTimeString=function(t){var a;null==(a=this.m_trial)||a.GetTimeString(t)},a(t,[{key:"CreateViewCb",set:function(t){this.m_createViewCb=t}},{key:"GetTrailBetList",get:function(){return this.m_trial?this.m_trial.GetTrailBetList:null}},{key:"GetNowActNo",get:function(){return this.m_trial?this.m_trial.GetNowActNo:null}},{key:"IsTrialViewOpen",get:function(){return!!this.m_trial&&this.m_trial.IsTrialViewOpen}},{key:"HasTrial",get:function(){return!!this.m_trial}}]),t}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/TrialReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrialSetting.ts"],(function(t){"use strict";var e,a,r,i,s,n,o,c,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,o=t.Node,c=t.Label,l=t.Component},function(t){d=t.default}],execute:function(){var p,m,u,_,w,h,g,y;s._RF.push({},"9c9b9slgSdOe721e4uFX8ck","TrialReward",void 0);t("RewardImg",{Img_Card:0,Img_Card_Dark:1,Img_Cash:2,Img_Cash_Dark:3,Img_Coin:4,Img_Coin_Dark:5});var f=n.ccclass,v=n.property;t("default",(p=v({type:o,tooltip:"獎勵"}),m=v({type:o,tooltip:"獎勵描述"}),u=v({type:o,tooltip:"箭頭"}),f((h=e((w=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,r(e,"m_awards",h,i(e)),r(e,"m_awardsDesc",g,i(e)),r(e,"m_arrow",y,i(e)),e}a(e,t);var s=e.prototype;return s.start=function(){},s.UpdateAwardPanel=function(t,e){if(void 0===e&&(e=!0),t){this.m_arrow.active=e;for(var a=0;a<this.m_awards.length;a++)this.m_awards[a].active=!1;var r=2*t.type;e||(r+=1),this.m_awards[r].active=!0,this.m_awardsDesc[0].active=!1,this.m_awardsDesc[1].active=!1,t.type==d.AwardType.AwardTypeCard?(this.m_awardsDesc[0].active=!1,this.m_awardsDesc[1].active=!1,this.m_awardsDesc[1].getComponent(c).string=t.amount.toString()):t.type==d.AwardType.AwardTypeRemainChips?(this.m_awardsDesc[0].active=!1,this.m_awardsDesc[1].active=!0,this.m_awardsDesc[1].getComponent(c).string="?"):(this.m_awardsDesc[0].active=!1,this.m_awardsDesc[1].active=!0,this.m_awardsDesc[1].getComponent(c).string=t.money.toString())}},e}(l)).prototype,"m_awards",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(w.prototype,"m_awardsDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(w.prototype,"m_arrow",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/TrialSetting.ts",["cc"],(function(e){"use strict";var i,T;return{setters:[function(e){i=e.cclegacy,T=e.Enum}],execute:function(){var t,n,p,y,E,a,R;i._RF.push({},"97178Yah69MrIv8f/vl4PgG","TrialSetting",void 0),function(e){e[e.PStateNoActivity=0]="PStateNoActivity",e[e.PStateNoQualifi=1]="PStateNoQualifi",e[e.PStateCanSignUp=2]="PStateCanSignUp",e[e.PStateDontWant=3]="PStateDontWant",e[e.PStateFull=4]="PStateFull",e[e.PStateInTrial=5]="PStateInTrial",e[e.PStateFinished=6]="PStateFinished",e[e.PStateCardExploded=7]="PStateCardExploded",e[e.PStateOverValue=8]="PStateOverValue"}(t||(t={})),function(e){e[e.AckTypeSuccess=0]="AckTypeSuccess",e[e.AckTypeNoPlayer=1]="AckTypeNoPlayer",e[e.AckTypeTokenError=2]="AckTypeTokenError",e[e.AckTypeNotLogin=3]="AckTypeNotLogin",e[e.AckTypeSigned=4]="AckTypeSigned",e[e.AckTypeNoQualifi=5]="AckTypeNoQualifi",e[e.AckTypeFull=6]="AckTypeFull",e[e.AckTypeGivenUp=7]="AckTypeGivenUp",e[e.AckTypeActEnd=8]="AckTypeActEnd",e[e.AckTypeNoData=9]="AckTypeNoData",e[e.AckTypeWrongAct=10]="AckTypeWrongAct",e[e.AckTypeDBError=11]="AckTypeDBError",e[e.AckTypeInitFail=12]="AckTypeInitFail",e[e.AckTypeNoQualifiRtag=13]="AckTypeNoQualifiRtag",e[e.AckTypeNoQualifiVIP=14]="AckTypeNoQualifiVIP",e[e.AckTypeOverValue=15]="AckTypeOverValue",e[e.AckTypeIPBlocked=16]="AckTypeIPBlocked",e[e.AckTypeIFinished=17]="AckTypeIFinished"}(n||(n={})),function(e){e[e.FinishTypeNone=0]="FinishTypeNone",e[e.FinishTypeDone=1]="FinishTypeDone",e[e.FinishTypeTimeup=2]="FinishTypeTimeup",e[e.FinishTypeNoMoney=3]="FinishTypeNoMoney"}(p||(p={})),function(e){e[e.SERVER_SUCCESS=0]="SERVER_SUCCESS",e[e.SERVER_TRIAL_BETFAIL=433]="SERVER_TRIAL_BETFAIL",e[e.TRIAL_DB_ERROR=401]="TRIAL_DB_ERROR",e[e.TRIAL_NET_ERROR=402]="TRIAL_NET_ERROR",e[e.SERVER_ERROR_SEATE=799]="SERVER_ERROR_SEATE",e[e.SERVER_NOUSE=899]="SERVER_NOUSE",e[e.SERVER_MAINTAIN=998]="SERVER_MAINTAIN",e[e.SERVER_SHUTDOWN=999]="SERVER_SHUTDOWN",e[e.SERVER_NEED_AID=1001]="SERVER_NEED_AID",e[e.SERVER_NEED_LOGIN=1002]="SERVER_NEED_LOGIN",e[e.SERVER_TOKEN_ERROR=1003]="SERVER_TOKEN_ERROR"}(y||(y={})),function(e){e[e.TargetTypeWin=0]="TargetTypeWin",e[e.TargetTypeBet=1]="TargetTypeBet"}(E||(E={})),function(e){e[e.AwardTypeCard=0]="AwardTypeCard",e[e.AwardTypeMoney=1]="AwardTypeMoney",e[e.AwardTypeRemainChips=2]="AwardTypeRemainChips"}(a||(a={})),function(e){e[e.FinishTypeNone=0]="FinishTypeNone",e[e.FinishTypeDone=1]="FinishTypeDone",e[e.FinishTypeTimeup=2]="FinishTypeTimeup",e[e.FinishTypeNoMoney=3]="FinishTypeNoMoney"}(R||(R={}));var c=e("default",(function(){}));c.PlayerState=T(t),c.AckType=T(n),c.ServerErrorType=T(y),c.Ret_Success=0,c.TargetType=T(E),c.AwardType=T(a),c.FinishStateCode=T(p),c.COLOR_BEGIN="<color=#cbb068 >",c.COLOR_END="</color>",i._RF.pop()}}}));

System.register("chunks:///_virtual/TrialView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrialSetting.ts","./Tools.ts","./ItemList.ts","./Define.ts","./MsgBox.ts","./LocaleStringManager.ts","./DataStruct.ts","./TrialReward.ts","./TrialManager.ts","./Wallet.ts"],(function(t){"use strict";var e,n,i,a,r,o,s,l,m,c,_,u,h,p,g,S,T,d,y,f,C,E,N,v,I,w,b,A,B,L;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t.color,l=t._decorator,m=t.Node,c=t.RichText,_=t.ProgressBar,u=t.Label,h=t.Button,p=t.Sprite,g=t.log,S=t.tween,T=t.v3,d=t.SpriteAtlas,y=t.error,f=t.Component},function(t){C=t.default},function(t){E=t.default},function(t){N=t.default},function(t){v=t.default},function(t){I=t.default},function(t){w=t.default},function(t){b=t.ConnectionDataStruct},function(t){A=t.default},function(t){B=t.trialManager},function(t){L=t.walletManger}],execute:function(){var R,G,D,U,O,F,H,W,M,K,k,x,P,z,V,X,Y,q,Z,j,J,Q,$,tt,et,nt,it,at,rt,ot,st,lt,mt,ct,_t,ut,ht,pt,gt,St;o._RF.push({},"6aeda5C00xD85YKw7obpqTM","TrialView",void 0);var Tt=t("TrialParam",(function(){this.aid=-1,this.token="",this.vip=0,this.lang=0})),dt=t("TrialActParam",(function(){this.aid=-1,this.token="",this.vip=0,this.actno=-1})),yt=(t("TrialInfo",function(t){function n(){var e;return(e=t.call(this)||this).method=b.RequestMethod.Get,e.url="/trial/info",e.info=new Tt,e}return e(n,t),n}(b.ProtocolData)),t("TrialSignUp",function(t){function n(){var e;return(e=t.call(this)||this).method=b.RequestMethod.Get,e.url="/trial/signup",e.info=new dt,e}return e(n,t),n}(b.ProtocolData)),t("TrialGiveUp",function(t){function n(){var e;return(e=t.call(this)||this).method=b.RequestMethod.Get,e.url="/trial/giveup",e.info=new dt,e}return e(n,t),n}(b.ProtocolData)),s(255,255,255),s(119,119,119),s(255,255,255),s(100,100,100),.05),ft="FreeWinCash_Title",Ct="FreeWinCash_IconBtn_WinCash",Et=[v.StringKey.FREEWINCASH_WIN,v.StringKey.FREEWINCASH_BET],Nt=[v.StringKey.FREEWINCASH_DEMOCOINS,v.StringKey.FREEWINCASH_DEMOCOINS,v.StringKey.FREEWINCASH_DEMOCOINS],vt=(v.StringKey.FREEWINCASH_INSTRUCTION_6,v.StringKey.FREEWINCASH_INSTRUCTION_7,v.StringKey.FREEWINCASH_INSTRUCTION_8,t("RefusedReason",{None:0,Playing:1,Item:2})),It=t("GateInfo",function(){function t(t,e,n,i){this.m_gate=0,this.m_nowLevelIndex=0,this.m_awardType=0,this.m_progress=0,this.m_gate=t,this.m_nowLevelIndex=e,this.m_awardType=n,this.m_progress=i}return t.prototype.SetData=function(t,e,n,i){this.m_gate=t,this.m_nowLevelIndex=e,this.m_awardType=n,this.m_progress=i},n(t,[{key:"Gate",get:function(){return this.m_gate}},{key:"NowLevelIndex",get:function(){return this.m_nowLevelIndex}},{key:"AwardType",get:function(){return this.m_awardType}},{key:"Progress",get:function(){return this.m_progress}}]),t}()),wt=l.ccclass,bt=l.property;t("default",(R=bt({type:m,tooltip:"洗碼介面"}),G=bt({type:c,tooltip:"說明文字"}),D=bt({type:_,tooltip:"進度條"}),U=bt({type:u,tooltip:"進度累積贏分提示"}),O=bt({type:u,tooltip:"進度累積贏分提示(底下那層有顏色的也要同步顯示)"}),F=bt({type:h,tooltip:"參加/領取按鈕"}),H=bt({type:h,tooltip:"放棄按鈕"}),W=bt({type:h,tooltip:"領獎並離開活動按鈕"}),M=bt({type:h,tooltip:"繼續按鈕"}),K=bt({type:p,tooltip:"標題文字圖"}),k=bt({type:p,tooltip:"btn標題文字圖"}),x=bt({type:h,tooltip:"打叉按鈕"}),P=bt({type:h,tooltip:"說明頁按鈕"}),z=bt({type:A,tooltip:"寶箱s"}),V=bt({type:u,tooltip:"目標類型"}),X=bt({type:u,tooltip:"signUpBtnLabel"}),Y=bt({type:u,tooltip:"giveUpBtnLabel"}),q=bt({type:u,tooltip:"claimBtnLabel"}),Z=bt({type:u,tooltip:"continueBtnLabel"}),wt((Q=i((J=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"m_trialNode",Q,r(e)),a(e,"m_descLabel",$,r(e)),a(e,"m_progressBar",tt,r(e)),a(e,"m_totalWinLabel",et,r(e)),a(e,"m_totalWinLabel_Under",nt,r(e)),a(e,"m_signUpBtn",it,r(e)),a(e,"m_giveUpBtn",at,r(e)),a(e,"m_claimBtn",rt,r(e)),a(e,"m_continueBtn",ot,r(e)),a(e,"m_titleSprite",st,r(e)),a(e,"m_btnTitleSprite",lt,r(e)),a(e,"m_closeBtn",mt,r(e)),a(e,"m_descriptionBtn",ct,r(e)),a(e,"m_trialRewards",_t,r(e)),a(e,"m_targetTypeLabel",ut,r(e)),a(e,"m_signUpBtnLabel",ht,r(e)),a(e,"m_giveUpBtnLabel",pt,r(e)),a(e,"m_claimBtnLabel",gt,r(e)),a(e,"m_continueBtnLabel",St,r(e)),e.m_infoCb=null,e.m_signUpCb=null,e.m_giveUpCb=null,e.m_startTrialCb=null,e.m_stopTrialCb=null,e.m_currentTouchName=null,e.m_extraManager=null,e.m_spriteAtlas=null,e.m_isStartTrial=!1,e.m_nowGateInfo=null,e.m_targetType=0,e.m_awardDatas=null,e.m_trailBetList=null,e.m_playerData=null,e.m_nowActNo=0,e.m_trialEndCbs=null,e.m_trialCb=null,e.m_refusedReason=vt.None,e.m_nowLvIndex=0,e.m_trialAtlas=null,e.m_trialFinish=0,e.m_trialAward=0,e}e(i,t);var o=i.prototype;return o.onLoad=function(){B.OnLoad(this)},o.start=function(){},o.Init=function(t,e,n,i,a,r,o){var s=this;this.m_extraManager=t,this.m_infoCb=e,this.m_signUpCb=n,this.m_giveUpCb=i,this.m_startTrialCb=a,this.m_stopTrialCb=r,this.m_trialEndCbs||(this.m_trialEndCbs=new Array),o&&(this.m_trialCb=o),this.InitBtn(),this.m_infoCb&&this.m_infoCb((function(t){g("OnRecvTrialInfo ack:",t);new Promise((function(){s.OnRecvTrialInfo(t)}))})),N.GetInstance().LoadItemList(),this.LoadAtlasFile(),this.m_trialNode.active=!1},o.SetSpinAckTrialInfo=function(t,e){this.m_trialFinish=t,this.m_trialAward=e},o.GetAwardData=function(t){if(t<this.m_awardDatas.length){var e=this.m_awardDatas[t],n=L.HasWallet?E.strip(E.divide(e.money,L.Rate)):e.money;return n=Number(E.FormatNumberThousands(n,E.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO,!1)),{award:e.award,type:e.type,gate:this.m_extraManager.GetDisplayValue(e.gate),gameid:e.gameid,itemid:e.itemid,amount:e.amount,data:e.data,money:this.m_extraManager.GetDisplayValue(n)}}return null},o.UpdateAward=function(t){if(void 0===t&&(t=!1),this.m_trialRewards[0].node.active=!1,this.m_trialRewards[1].node.active=!1,1==this.m_awardDatas.length||t||0==this.m_nowLvIndex){var e=this.GetCurrentLevelInfo();this.m_trialRewards[0].node.active=!0,this.m_trialRewards[0].UpdateAwardPanel(this.GetAwardData(e.NowLevelIndex),!1)}else{var n=this.GetCurrentLevelInfo();this.m_trialRewards[0].node.active=!0,this.m_trialRewards[0].UpdateAwardPanel(this.GetAwardData(n.NowLevelIndex-1),!1),this.m_trialRewards[1].node.active=!0,this.m_trialRewards[1].UpdateAwardPanel(this.GetAwardData(n.NowLevelIndex),!0)}},o.InitBtn=function(){var t=this;this.m_signUpBtn.node.on(m.EventType.TOUCH_START,(function(e){g("m_signUpBtn TOUCH_START"),e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_signUpBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_signUpBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_signUpBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){g("m_signUpBtn TOUCH_CANCEL"),S(t.m_signUpBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_signUpBtn.node.on(m.EventType.TOUCH_END,(function(e){g("m_signUpBtn TOUCH_END"),S(t.m_signUpBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_signUpBtn.interactable&&t.m_signUpBtn&&t.m_signUpCb((function(e){new Promise((function(){t.OnRecvTrialSignUp(e)}))}),t.m_nowActNo))})),this.m_giveUpBtn.node.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_giveUpBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_giveUpBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_giveUpBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){S(t.m_giveUpBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_giveUpBtn.node.on(m.EventType.TOUCH_END,(function(e){S(t.m_giveUpBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_giveUpBtn.interactable&&(t.m_playerData.activityno>0?t.ShowTrialEndHint():t.m_trialNode.active=!1))})),this.m_continueBtn.node.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_continueBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_continueBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_continueBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){S(t.m_continueBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_continueBtn.node.on(m.EventType.TOUCH_END,(function(e){S(t.m_continueBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_continueBtn.interactable&&t.m_playerData.activityno>0&&t.CloseTrialView())})),this.m_claimBtn.node.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_claimBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_claimBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_claimBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){S(t.m_claimBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_claimBtn.node.on(m.EventType.TOUCH_END,(function(e){S(t.m_claimBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_claimBtn.interactable&&(t.m_playerData.activityno>0?t.ShowTrialEndHint():t.m_trialNode.active=!1))})),this.m_closeBtn.node.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_closeBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_closeBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_closeBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){S(t.m_closeBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_closeBtn.node.on(m.EventType.TOUCH_END,(function(e){S(t.m_closeBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_closeBtn.interactable&&t.CloseTrialView())})),this.m_descriptionBtn.node.on(m.EventType.TOUCH_START,(function(e){e.propagationImmediateStopped=!0,e.propagationStopped=!0,null==t.m_currentTouchName&&t.m_descriptionBtn.interactable?(t.m_currentTouchName=e.target.name,S(t.m_descriptionBtn.node).to(yt,{scale:T(.9,.9,1)}).start()):e.target&&0==e.target.active&&(t.m_currentTouchName=e.target.name)})),this.m_descriptionBtn.node.on(m.EventType.TOUCH_CANCEL,(function(e){S(t.m_descriptionBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null)})),this.m_descriptionBtn.node.on(m.EventType.TOUCH_END,(function(e){S(t.m_descriptionBtn.node).to(yt,{scale:T(1,1,1)}).start(),t.m_currentTouchName==e.target.name&&(t.m_currentTouchName=null,t.m_descriptionBtn.interactable&&t.ShowDescription())}))},o.SetGameState=function(t){this.m_refusedReason=t},o.ShowTrialView=function(){this.m_refusedReason!==vt.None?I.getInstance().ShowMessageBox(v.StringKey.TRIAL_REFUSED_REASON+this.m_refusedReason):this.m_extraManager.GetTrialBtnState()&&(this.m_trialNode.active=!0,this.UpdateProgessBar())},o.CloseTrialView=function(){this.m_extraManager.GetTrialBtnState()&&(this.m_trialNode.active=!1)},o.IsTrialFinish=function(){var t=this;return!!(this.m_playerData&&this.m_playerData.activityno>0&&this.m_trialFinish>C.FinishStateCode.FinishTypeNone)&&(this.m_trialFinish==C.FinishStateCode.FinishTypeDone?this.FinishTrial(C.AckType.AckTypeSuccess):this.m_trialFinish==C.FinishStateCode.FinishTypeNoMoney?(I.getInstance().ShowMessageBox(this.GetString(v.StringKey.FREEWINCASH_MESSAGE_3),this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO)),this.FinishTrial(C.AckType.AckTypeSuccess)):this.m_giveUpCb&&this.m_giveUpCb((function(e){new Promise((function(){t.OnRecvTrialGiveUp(e)}))}),this.m_nowActNo),!0)},o.ShowTrial=function(){this.m_extraManager.SetTrialBtnState(!0)},o.CloseTrialViewAndBtn=function(){this.m_isStartTrial=!1,this.m_extraManager.SetTrialBtnState(!1),this.m_trialNode.active=!1,this.m_stopTrialCb&&this.m_stopTrialCb()},o.FinishTrial=function(t){void 0===t&&(t=C.AckType.AckTypeActEnd);var e={info:{acktype:t,award:this.m_trialAward},ret:0};this.OnRecvTrialGiveUp(e)},o.UpdateProgessBar=function(){this.m_progressBar.progress=.1;var t=this.GetCurrentLevelInfo();this.m_totalWinLabel.string=E.FormatNumberThousands(E.strip(this.m_extraManager.GetDisplayValue(t.Progress)),E.FORMAT_NUMBER_TYPE.DEFINE_DOT_NONE_ZERO).toString()+" / "+this.m_extraManager.GetDisplayValue(t.Gate).toString(),this.m_totalWinLabel_Under.string=this.m_totalWinLabel.string;var e=E.divide(t.Progress,t.Gate);e>1&&(e=1),this.m_progressBar.progress=e},o.SetProgess=function(t,e){this.m_playerData.totalwin=E.strip(t),this.m_playerData.totalbet=E.strip(e),this.SetCurrentLevelInfo()},o.LoadAtlasFile=function(){var t=this,e="AsttText/"+w.CurrLang+"/framework/Trial/trial";g("LoadAtlasFile url:",e),v.OtherBundle.load(e,d,(function(e,n){e?y(e.message||e):(t.m_trialAtlas=n,t.SetAtlas())}))},o.SetAtlas=function(){this.m_titleSprite.spriteFrame=this.m_trialAtlas.getSpriteFrame(ft),this.m_btnTitleSprite?this.m_btnTitleSprite.spriteFrame=this.m_trialAtlas.getSpriteFrame(Ct):y("btnTitleSprite not found")},o.SetTxt=function(){this.m_targetTypeLabel.string=this.GetString(Et[this.m_targetType]),this.m_targetTypeLabel.font||(this.m_targetTypeLabel.font=v.DefaultFont),g("LoadAtlasFile this.m_targetTypeLabel.string:",this.m_targetTypeLabel.string),this.m_signUpBtnLabel.string=this.GetString(v.StringKey.FREEWINCASH_WINCASHNOW),this.m_signUpBtnLabel.font||(this.m_signUpBtnLabel.font=v.DefaultFont),this.m_giveUpBtnLabel.string=this.GetString(v.StringKey.FREEWINCASH_GIVEUPWIN),this.m_giveUpBtnLabel.font||(this.m_giveUpBtnLabel.font=v.DefaultFont),this.m_claimBtnLabel.string=this.GetString(v.StringKey.FREEWINCASH_COLLECTANDLEAVE),this.m_claimBtnLabel.font||(this.m_claimBtnLabel.font=v.DefaultFont),this.m_continueBtnLabel.string=this.GetString(v.StringKey.FREEWINCASH_WINMORECASH),this.m_continueBtnLabel.font||(this.m_continueBtnLabel.font=v.DefaultFont)},o.AddEndCb=function(t){this.m_trialEndCbs||(this.m_trialEndCbs=new Array),t&&this.m_trialEndCbs.push(t)},o.GetTrialLvlHint=function(){var t=this.GetString(v.StringKey.FREEWINCASH_TIER);return t=(t=t.replace("{0}",(this.m_nowLvIndex+1).toString())).replace("{1}",this.GetString(Et[this.m_targetType]))},o.IsCompleteAllTrial=function(){var t=this.GetCurrentLevelInfo();return this.m_nowLvIndex>=this.m_awardDatas.length-1&&t.Progress>=t.Gate},o.SetCurrentLevelInfo=function(){for(var t=0,e=0,n=0,i=0,a=0;a<this.m_awardDatas.length&&(g("SetCurrentLevelInfo i:",a),this.m_targetType==C.TargetType.TargetTypeBet?i=this.m_playerData.totalbet:this.m_targetType==C.TargetType.TargetTypeWin&&(i=this.m_playerData.totalwin),a>0?(t=this.m_awardDatas[a].gate-this.m_awardDatas[a-1].gate,e=i-this.m_awardDatas[a-1].gate):(t=this.m_awardDatas[a].gate,e=i),g("SetCurrentLevelInfo nowGate:",t),g("SetCurrentLevelInfo nowProgress:",e),n=a,!(e<t));a++);n==this.m_awardDatas.length-1&&e>=t&&(e=t),this.m_nowGateInfo?this.m_nowGateInfo.SetData(t,n,this.m_awardDatas[n].type,e):this.m_nowGateInfo=new It(t,n,this.m_awardDatas[n].type,e),g("SetCurrentLevelInfo this.m_nowGateInfo:",this.m_nowGateInfo),this.UpdateProgessBar();var r=n!=this.m_nowLvIndex;r&&(this.m_nowLvIndex=n,this.UpdateAward(),this.ChangeBtnState(this.m_playerData?this.m_playerData.activityno:0)),g("SetCurrentLevelInfo isLvUp:",r)},o.GetCurrentLevelInfo=function(){return this.m_nowGateInfo},o.GetRecordByType=function(){return this.m_targetType==C.TargetType.TargetTypeWin?this.m_playerData.totalwin:this.m_targetType==C.TargetType.TargetTypeBet?this.m_playerData.totalbet:void 0},o.IsGetAward=function(){return this.m_nowLvIndex>0},o.ShowTrialEndHint=function(){var t=this,e={};this.IsGetAward()?e.contextKey=this.GetString(v.StringKey.FREEWINCASH_TXT_2):e.contextKey=this.GetString(v.StringKey.FREEWINCASH_TXT_1),e.titleKey=this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO),e.showCancelBtn=!0,e.showConfirmBtn=!0,e.showCloseBtn=!1,e.confirmCB=function(){t.m_giveUpCb&&t.m_giveUpCb((function(e){t.OnRecvTrialGiveUp(e)}),t.m_nowActNo)},e.cancelCB=function(){},I.getInstance().PushMessageBoxSetting(e)},o.ShowDescription=function(){var t=this.GetString(v.StringKey.FREEWINCASH_DESC_1)+"\n";t=t.replace("{0}",this.GetString(v.StringKey.FREEWINCASH_DEMOCOINS));var e=this.GetCurrentLevelInfo(),n=this.GetAwardData(e.NowLevelIndex),i="";n&&n.type==C.AwardType.AwardTypeRemainChips&&(i=(i=(i=this.GetString(v.StringKey.FREEWINCASH_DESC_2)+"\n").replace("{0}",this.GetString(v.StringKey.FREEWINCASH_DEMOCOINS))).replace("{1}",this.GetString(v.StringKey.FREEWINCASH_DEMOCOINS)));var a=w.GetInstance().GetString(v.StringKey.BRAND_JILI);E.Line!==v.LineSetting.americas&&E.Line!==v.LineSetting.americas_str||(a=w.GetInstance().GetString(v.StringKey.BRAND_TADA));var r=this.GetString(v.StringKey.FREEWINCASH_DESC_3)+"\n";r=r.replace(/\{brand\}/g,a);var o=this.GetString(v.StringKey.FREEWINCASH_DESC_4)+"\n",s=t+i+r+(o=o.replace(/\{brand\}/g,a));this.m_extraManager.BottomBarManager.SetContentText_HorizontalAlign(u.HorizontalAlign.LEFT),this.m_extraManager.BottomBarManager.OpenCommonText(w.GetInstance().GetString(v.StringKey.FREEWINCASH),s)},o.ChangeBtnState=function(t){E.Line!==v.LineSetting.bc&&(this.m_signUpBtn.node.active=!1,this.m_giveUpBtn.node.active=!1,this.m_claimBtn.node.active=!1,this.m_continueBtn.node.active=!1,0!==t?this.IsGetAward()?(this.m_continueBtn.node.active=!0,this.m_claimBtn.node.active=!0):(this.m_continueBtn.node.active=!0,this.m_giveUpBtn.node.active=!0):(this.m_signUpBtn.node.active=!0,this.m_giveUpBtn.node.active=!1,this.m_claimBtn.node.active=!1,this.m_continueBtn.node.active=!1))},o.GetString=function(t){return w.GetInstance().GetString(t)},o.OnRecvTrialInfo=function(t){if(t.ret===C.Ret_Success){var e=t.info;switch(e.acktype){case C.AckType.AckTypeSuccess:this.m_nowActNo=e.nowactno,this.m_targetType=e.targettype,this.m_awardDatas=e.awarddesc,this.m_playerData=e.trialinfo,this.m_trailBetList=e.bet;var n=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_2);n=n.replace("{0}",this.GetString(Nt[this.m_targetType]));var i=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_3);i=i.replace("{0}",C.COLOR_BEGIN+this.GetString(Et[this.m_targetType])+C.COLOR_END);var a=C.COLOR_BEGIN+this.GetTimeString(e.start)+" - "+this.GetTimeString(e.end)+C.COLOR_END,r=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_6);if(this.m_awardDatas[0])switch(this.m_awardDatas[0].type){case 0:r=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_6);break;case 1:r=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_7);break;case 2:(r=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_8)).replace("{0}",this.GetString(v.StringKey.FREEWINCASH_DEMOCOINS));break;default:r=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_6)}var o=C.COLOR_BEGIN+r+C.COLOR_END,s=this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_1)+"\n"+n+"\n"+i+"\n"+this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_4)+"\n"+a+"\n"+this.GetString(v.StringKey.FREEWINCASH_INSTRUCTION_5)+"\n"+o;switch(this.m_descLabel.string=s,this.m_descLabel.font||(this.m_descLabel.font=v.DefaultFont),e.pstate){case C.PlayerState.PStateInTrial:this.m_startTrialCb&&(this.m_isStartTrial=!0,this.SetCurrentLevelInfo(),this.m_startTrialCb(this.m_playerData.property,this.m_playerData.totalwin,this.m_playerData.totalbet,this.GetCurrentLevelInfo()),this.ChangeBtnState(this.m_playerData?this.m_playerData.activityno:0));case C.PlayerState.PStateCanSignUp:this.SetCurrentLevelInfo(),this.UpdateAward(e.pstate==C.PlayerState.PStateCanSignUp),this.ShowTrial(),this.ChangeBtnState(this.m_playerData?this.m_playerData.activityno:0);break;case C.PlayerState.PStateCardExploded:default:this.CloseTrialViewAndBtn()}this.SetTxt();break;default:this.CloseTrialViewAndBtn()}}else this.CloseTrialViewAndBtn()},o.OnRecvTrialSignUp=function(t){if(t.ret===C.Ret_Success){var e=t.info;switch(e.acktype){case C.AckType.AckTypeSuccess:case C.AckType.AckTypeSigned:this.m_playerData=e.trialinfo,this.SetCurrentLevelInfo(),this.m_startTrialCb&&(this.m_isStartTrial=!0,this.m_startTrialCb(this.m_playerData.property,this.m_playerData.totalwin,this.m_playerData.totalbet,this.GetCurrentLevelInfo())),this.ChangeBtnState(this.m_playerData?this.m_playerData.activityno:0),this.m_trialNode.active=!1;break;case C.AckType.AckTypeFull:case C.AckType.AckTypeActEnd:case C.AckType.AckTypeOverValue:this.CloseTrialViewAndBtn(),I.getInstance().ShowMessageBox(v.StringKey.FREEWINCASH_MESSAGE_2,v.StringKey.MSGBOX_TITLE_SYSTEM_INFO,(function(){}));break;default:this.CloseTrialViewAndBtn()}}else this.CloseTrialViewAndBtn()},o.OnRecvTrialGiveUp=function(t){var e=this;if(t.ret===C.Ret_Success){this.CloseTrialViewAndBtn();var n=t.info;switch(n.acktype){case C.AckType.AckTypeSuccess:case C.AckType.AckTypeGivenUp:for(var i=null,a=0;a<this.m_awardDatas.length;a++)if(this.m_awardDatas[a].award===n.award){i=this.m_awardDatas[a];break}if(null!==i)if(n.award===this.m_awardDatas.length){var r=this.GetString(v.StringKey.FREEWINCASH_TXT_6);r=r.replace("{0}",this.GetString(v.StringKey.FREEWINCASH));var o=v.StringKey.FREEWINCASH_WALLET;i.type==C.AwardType.AwardTypeCard&&(o=v.StringKey.FREEWINCASH_BACKPACK),r=r.replace("{1}",this.GetString(o)),I.getInstance().ShowMessageBox(r,this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO))}else{var s=this.GetString(v.StringKey.FREEWINCASH_TXT_5),l=v.StringKey.FREEWINCASH_WALLET;i.type==C.AwardType.AwardTypeCard&&(l=v.StringKey.FREEWINCASH_BACKPACK),s=s.replace("{0}",this.GetString(l)),I.getInstance().ShowMessageBox(s,this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO))}break;case C.AckType.AckTypeFull:case C.AckType.AckTypeOverValue:this.IsGetAward()&&0==n.award&&I.getInstance().ShowMessageBox(this.GetString(v.StringKey.FREEWINCASH_MESSAGE_1),this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO));break;case C.AckType.AckTypeActEnd:default:I.getInstance().ShowMessageBox(this.GetString(v.StringKey.FREEWINCASH_MESSAGE_1),this.GetString(v.StringKey.MSGBOX_TITLE_SYSTEM_INFO))}for(var m=0;m<this.m_trialEndCbs.length;m++)this.m_trialEndCbs[m]&&this.m_trialEndCbs[m](n.award);for(this.m_nowActNo=0,this.m_playerData=null;this.m_awardDatas.length>0;)this.m_awardDatas.pop();this.m_infoCb&&this.m_infoCb((function(t){new Promise((function(){e.OnRecvTrialInfo(t)}))}))}},o.GetTimeString=function(t){var e=new Date(1e3*t),n=(e.getMonth()+1).toString(),i=e.getDate().toString(),a=e.getHours().toString(),r=e.getMinutes();return n+"/"+i+" "+a+":"+(r<10?"0"+r.toString():r.toString())},n(i,[{key:"BtnTitleSprite",set:function(t){this.m_btnTitleSprite=t}},{key:"TargetType",get:function(){return this.m_targetType}},{key:"GetTrailBetList",get:function(){return this.m_trailBetList}},{key:"GetNowActNo",get:function(){return this.m_nowActNo}},{key:"IsTrialViewOpen",get:function(){return this.m_trialNode.active}}]),i}(f)).prototype,"m_trialNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(J.prototype,"m_descLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(J.prototype,"m_progressBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(J.prototype,"m_totalWinLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(J.prototype,"m_totalWinLabel_Under",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(J.prototype,"m_signUpBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(J.prototype,"m_giveUpBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(J.prototype,"m_claimBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(J.prototype,"m_continueBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(J.prototype,"m_titleSprite",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(J.prototype,"m_btnTitleSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(J.prototype,"m_closeBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(J.prototype,"m_descriptionBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(J.prototype,"m_trialRewards",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=i(J.prototype,"m_targetTypeLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(J.prototype,"m_signUpBtnLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(J.prototype,"m_giveUpBtnLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(J.prototype,"m_claimBtnLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(J.prototype,"m_continueBtnLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=J))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewTemplate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,c,u;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy,c=e._decorator,u=e.Component}],execute:function(){var o;n._RF.push({},"d6ef0CEJWpHD4Z3a5lWrFJ/","ViewTemplate",void 0);var a=c.ccclass;c.property,e("default",a(o=function(e){function n(){for(var t,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))||this).m_currentTouchName=null,t}return t(n,e),r(n,[{key:"CurrentTouchName",get:function(){return this.m_currentTouchName},set:function(e){this.m_currentTouchName=e}}]),n}(u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/VipManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./LifeSocket.ts","./Define.ts","./EnvironmentConfig.ts"],(function(t){"use strict";var n,e,i,s,u,a;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.default},function(t){s=t.default},function(t){u=t.default},function(t){a=t.default}],execute:function(){var c;t("VIP",void 0),e._RF.push({},"ab9b45+0ENJ4oSEILedjE+x","VipManager",void 0),c||(c=t("VIP",{}));t("default",function(){function t(){this.m_updateCbs={},this.m_startTime=null,this.m_id=null,this.m_vipInfo={Exp:0,IsMax:!1,Lv:0,NextLevel:0,TreasureExp:0}}t.GetInstance=function(){return this._instance||(this._instance=new t),this._instance},t.OnExit=function(){delete this._instance,this._instance=null};var e=t.prototype;return e.OnExit=function(){null!==this.m_id&&(clearInterval(this.m_id),this.m_id=null),this.m_updateCbs={}},e.ReqVipInfo=function(){var t=this;a.ENV_TYPE===u.EVN.TEST||u.IS_DEMO||0===Object.keys(this.m_updateCbs).length||s.GetInstance().IsClose||(i.getInstance().CheckSetting(u.PROTOCOL.VIP)||"-1"==u.AID||"0"==u.API_ID||i.getInstance().AddSetting(u.PROTOCOL.VIP,i.CONNECT_TYPE.TYPE_HTTP,null,null,a.SERVICE_URL+"vipservice/VIPGet?apiid="+u.API_ID+"&accountid="+u.AID),i.getInstance().SendCommand(u.PROTOCOL.VIP,null,null,null,(function(n){t.OnRecvVipInfo(n.Data)})),null===this.m_id&&this.Step())},e.OnRecvVipInfo=function(t){if(t)for(var n in this.m_vipInfo=t,this.m_updateCbs){if(Object.prototype.hasOwnProperty.call(this.m_updateCbs,n))(0,this.m_updateCbs[n])(this.m_vipInfo)}},e.Step=function(){var t=this;this.m_id=setInterval((function(){t.ReqVipInfo()}),3e4)},e.AddUpdateCb=function(t,n){this.m_updateCbs[t]=n},n(t,[{key:"VipInfo",get:function(){return this.m_vipInfo}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/VolatilityBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConnectionManager.ts","./Define.ts","./LocaleStringManager.ts","./LocalStorageManager.ts","./SoundManager.ts","./Tools.ts","./ExtraManager.ts","./VolatilityIcon.ts","./VolatilityManager.ts","./VolatilityMsg.ts"],(function(t){"use strict";var i,e,o,n,a,l,m,r,_,s,c,u,h,g,f,p,y,T,C,b,I,d,V,S,N,v,B,A,L,E,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,m=t._decorator,r=t.Prefab,_=t.Sprite,s=t.Node,c=t.SpriteFrame,u=t.UIRenderer,h=t.color,g=t.SpriteAtlas,f=t.error,p=t.instantiate,y=t.tween,T=t.Layout,C=t.UITransform,b=t.v3,I=t.Component},function(t){d=t.default},function(t){V=t.default},function(t){S=t.default},function(t){N=t.default},function(t){v=t.default},function(t){B=t.default},function(t){A=t.default},function(t){L=t.default},function(t){E=t.default},function(t){w=t.default}],execute:function(){var O,M,P,H,F,D,k,G,R,z,x,U,Y,q,K,W,Q,X,j,Z,J,$,tt,it,et,ot,nt,at,lt,mt,rt,_t,st,ct,ut;l._RF.push({},"ae833AQyEBHD6X23+FaPjqc","VolatilityBar",void 0),function(t){t.title="Volatility_btn_txt",t.iconTop="img_btn_frame03",t.icon="img_btn_frame03",t.msgTitle="Description_txt_Volatility",t.chili="chili_light",t.chiliEmpty="chili_empty",t.Volatility_High="Volatility_High",t.Volatility_Medium="Volatility_Medium",t.Volatility_Low="Volatility_Low",t.Volatility_Text="Volatility_Text"}(ut||(ut={}));var ht=m.ccclass,gt=m.property;t("default",(O=gt(r),M=gt(r),P=gt(r),H=gt(_),F=gt(s),D=gt(s),k=gt(s),G=gt(s),R=gt(_),z=gt(r),x=gt(s),U=gt(s),Y=gt(s),q=gt(_),K=gt(c),W=gt(_),ht((j=i((X=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,o(i,"m_volatilityIconPrefab",j,n(i)),o(i,"m_volatilityQuestPrefab",Z,n(i)),o(i,"m_volatilityMsgPrefab",J,n(i)),o(i,"m_title",$,n(i)),o(i,"m_layout",tt,n(i)),o(i,"m_layoutBg",it,n(i)),o(i,"m_chili",et,n(i)),o(i,"m_chiliAmountParent",ot,n(i)),o(i,"m_chiliAmount",nt,n(i)),o(i,"m_volatilityIconPrefab_New",at,n(i)),o(i,"m_volatilityQuest",lt,n(i)),o(i,"m_waiting",mt,n(i)),o(i,"m_normal",rt,n(i)),o(i,"m_Img_Volatility",_t,n(i)),o(i,"m_Volatility_Icon",st,n(i)),o(i,"m_chili_New",ct,n(i)),i.m_bottomBar=null,i.m_timerTween=null,i.m_iconList=[],i.m_quest=null,i.m_msg=null,i.m_isLandscape=!1,i.m_lock=!1,i.m_info=null,i.m_atlas=null,i.m_nowVolatility=-1,i}e(i,t);var l=i.prototype;return l.Init=function(t,i){this.m_bottomBar=i,this.m_info=t;var e=V.AID+":"+V.NOW_GAME_ID+":Volatility",o=N.GetInt(e);null!=o?(o<0&&(o=0),o>=this.m_info.VolList.length&&(o=this.m_info.VolList.length-1),this.m_nowVolatility=o):(this.m_nowVolatility=this.m_info.VolPos,N.SetInt(e,this.m_nowVolatility)),this.CreateIcon(),this.TouchEvent(),this.ShowVolBar(),this.ChangeChili(!0),this.LoadAtlas()},l.SetTxt=function(t){if(this.m_title&&(this.m_title.spriteFrame=t.getSpriteFrame(ut.title)),this.m_msg&&(this.m_msg.Title=t.getSpriteFrame(ut.msgTitle)),this.m_iconList)for(var i=0;i<this.m_iconList.length;i++)this.m_iconList[i].SetTxt(t)},l.ShowVolBar=function(t){void 0===t&&(t=!0),this.node.active=!0,t?this.ShowVolIcon():this.HideVolIcon()},l.HideVolBar=function(){this.node.active=!1,this.HideVolIcon()},l.UnableVolBar=function(){this.m_lock=!0,this.HideVolIcon(),this.m_msg&&this.m_msg.HideMsg(),this.m_bottomBar.CloseCommonText(),this.node.getComponent(u).color=h(165,165,165)},l.CanUseVolBar=function(){this.m_lock=!1,this.node.getComponent(u).color=h(255,255,255)},l.LoadAtlas=function(){var t=this,i="AsttText/"+S.CurrLang+"/%s/volatility/volatility";i=B.GetFilePath(i),V.OtherBundle.load(i,g,(function(i,e){if(i)return f(i),void t.LoadAtlas();t.m_atlas=e,t.SetTxt_America()}))},l.SetTxt_America=function(){if(this.m_info){var t=this.m_info.VolList[this.m_nowVolatility];if(this.m_atlas)switch(E.GetInstance().GetPos(t)){case 0:this.m_atlas.getSpriteFrame(ut.Volatility_Low)?this.m_Img_Volatility.spriteFrame=this.m_atlas.getSpriteFrame(ut.Volatility_Low):(this.m_Img_Volatility.spriteFrame=this.m_Volatility_Icon[0],f("TxtName.Volatility_Low is null"));break;case 1:this.m_atlas.getSpriteFrame(ut.Volatility_Medium)?this.m_Img_Volatility.spriteFrame=this.m_atlas.getSpriteFrame(ut.Volatility_Medium):(this.m_Img_Volatility.spriteFrame=this.m_Volatility_Icon[1],f("TxtName.Volatility_Medium is null"));break;default:this.m_atlas.getSpriteFrame(ut.Volatility_High)?this.m_Img_Volatility.spriteFrame=this.m_atlas.getSpriteFrame(ut.Volatility_High):(this.m_Img_Volatility.spriteFrame=this.m_Volatility_Icon[2],f("TxtName.Volatility_High is null"))}}if(this.m_iconList)for(var i=0;i<this.m_iconList.length;i++)this.m_iconList[i].SetTxt(this.m_atlas);if(this.m_chili_New){var e=this.m_iconList[this.m_nowVolatility].getComponent(L);this.m_chili_New.spriteFrame=e.GetNowChillSprite()}},l.ChangeChili=function(t){if(this.m_layout)if(t)this.m_chili&&this.m_chiliAmountParent?(this.m_chili.active=!0,this.m_chiliAmountParent.active=!1):(this.m_waiting.active=!0,this.m_normal.active=!1);else if(this.m_chili&&this.m_chiliAmountParent&&this.m_chiliAmount.length>0){if(this.m_chili.active=!1,this.m_chiliAmountParent.active=!0,this.m_info){var i=this.m_info.VolList[this.m_nowVolatility],e=this.m_bottomBar.GetCommAtlas();if(e)for(var o=0;o<this.m_chiliAmount.length;o++)this.m_chiliAmount[o].spriteFrame=o<i?e.getSpriteFrame(ut.chili):e.getSpriteFrame(ut.chiliEmpty)}}else this.m_waiting&&this.m_normal&&(this.m_waiting.active=!1,this.m_normal.active=!0,this.SetTxt_America())},l.ShowVolIcon=function(){this.m_layout&&(this.m_layout.active=!0,this.HideTimer()),this.m_layoutBg&&(this.m_layoutBg.active=!0),this.ChangeChili(!0)},l.HideVolIcon=function(){this.m_layout&&(this.m_layout.active=!1,this.ResetTween()),this.m_layoutBg&&(this.m_layoutBg.active=!1),this.ChangeChili(!1)},l.TouchEvent=function(){var t=this;this.node.on(s.EventType.TOUCH_START,(function(i){i.propagationImmediateStopped=!0,i.propagationStopped=!0,t.m_lock||((null==t.m_bottomBar.CurrentTouchName||i.target&&0==i.target.active)&&(t.m_bottomBar.CurrentTouchName=i.target.name),t.m_bottomBar.SetScaleAction(t.node,!0))})),this.node.on(s.EventType.TOUCH_CANCEL,(function(i){t.m_lock||(t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null),t.m_bottomBar.SetScaleAction(t.node,!1))})),this.node.on(s.EventType.TOUCH_END,(function(i){t.m_lock||t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null,t.m_layout&&(t.m_layout.active?t.HideVolIcon():t.ShowVolIcon()),v.getInstance().Play(V.AudioClips.COMMON_BTN),t.m_bottomBar.SetScaleAction(t.node,!1),d.getInstance().SendBtnClickEvent(d.FormBtnClickParams(Number(V.AID),Number(V.API_ID),Number(V.NOW_GAME_ID),V.GAME_VERSION,V.BTN_CLICK_EVENT.VOLATILITY)))}))},l.CreateIcon=function(){var t=this;if(this.m_info){for(var i=0;i<this.m_info.VolList.length;i++)this.m_volatilityIconPrefab?function(){var e=p(t.m_volatilityIconPrefab);e.name+=i;var o=t.m_bottomBar.GetCommAtlas();i==t.m_info.VolList.length-1?e.getComponent(_).spriteFrame=o.getSpriteFrame(ut.iconTop):e.getComponent(_).spriteFrame=o.getSpriteFrame(ut.icon);var n=e.getComponent(L);n.Init(t.m_info.VolList[i],o),t.m_iconList[i]=n,e.on(s.EventType.TOUCH_START,(function(i){if(i.propagationImmediateStopped=!0,i.propagationStopped=!0,!t.m_lock){(null==t.m_bottomBar.CurrentTouchName||i.target&&0==i.target.active)&&(t.m_bottomBar.CurrentTouchName=i.target.name);for(var o=0;o<t.m_info.VolList.length;o++){var n=t.m_iconList[o];if(n&&n.node.name==i.target.name){n.Show(!0),t.m_nowVolatility=o;var a=V.AID+":"+V.NOW_GAME_ID+":Volatility";N.SetInt(a,t.m_nowVolatility),t.SetScaleAction(e,!0)}else n.Show(!1)}}})),e.on(s.EventType.TOUCH_CANCEL,(function(i){t.m_lock||(t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null),t.HideVolIcon(),t.SetScaleAction(e,!1))})),e.on(s.EventType.TOUCH_END,(function(i){if(!t.m_lock&&t.m_bottomBar.CurrentTouchName==i.target.name){t.m_bottomBar.CurrentTouchName=null,t.m_bottomBar.node.getComponent(A).SetFeaturesVolatility(),t.HideVolIcon(),v.getInstance().Play(V.AudioClips.COMMON_BTN);var o=t.m_nowVolatility>0?V.BTN_CLICK_EVENT.VOLATILITY_HIGH:V.BTN_CLICK_EVENT.VOLATILITY_LOW;d.getInstance().SendBtnClickEvent(d.FormBtnClickParams(Number(V.AID),Number(V.API_ID),Number(V.NOW_GAME_ID),V.GAME_VERSION,o)),t.SetScaleAction(e,!1)}}))}():function(){var e=p(t.m_volatilityIconPrefab_New);e.name+=i;var o=t.m_bottomBar.GetCommAtlas(),n=e.getComponent(L);n.Init(t.m_info.VolList[i],o),t.m_iconList[i]=n,e.on(s.EventType.TOUCH_START,(function(i){if(i.propagationImmediateStopped=!0,i.propagationStopped=!0,!t.m_lock){(null==t.m_bottomBar.CurrentTouchName||i.target&&0==i.target.active)&&(t.m_bottomBar.CurrentTouchName=i.target.name);for(var o=0;o<t.m_info.VolList.length;o++){var n=t.m_iconList[o];if(n&&n.node.name==i.target.name){n.Show(!0),t.m_nowVolatility=o;var a=V.AID+":"+V.NOW_GAME_ID+":Volatility";N.SetInt(a,t.m_nowVolatility),t.SetScaleAction(e,!0)}else n.Show(!1)}}})),e.on(s.EventType.TOUCH_CANCEL,(function(i){t.m_lock||(t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null),t.HideVolIcon(),t.SetScaleAction(e,!1))})),e.on(s.EventType.TOUCH_END,(function(i){if(!t.m_lock&&t.m_bottomBar.CurrentTouchName==i.target.name){t.m_bottomBar.CurrentTouchName=null,t.m_bottomBar.node.getComponent(A).SetFeaturesVolatility(),t.HideVolIcon(),v.getInstance().Play(V.AudioClips.COMMON_BTN);var o=t.m_nowVolatility>0?V.BTN_CLICK_EVENT.VOLATILITY_HIGH:V.BTN_CLICK_EVENT.VOLATILITY_LOW;d.getInstance().SendBtnClickEvent(d.FormBtnClickParams(Number(V.AID),Number(V.API_ID),Number(V.NOW_GAME_ID),V.GAME_VERSION,o)),t.SetScaleAction(e,!1)}}))}();for(var e=0;e<this.m_info.VolList.length;e++)if(e==this.m_nowVolatility)for(var o=0;o<this.m_info.VolList.length;o++){var n=this.m_iconList[o];e==o?n.Show(!0):n.Show(!1)}this.m_volatilityMsgPrefab&&(this.m_msg=p(this.m_volatilityMsgPrefab).getComponent(w),this.m_bottomBar.node.addChild(this.m_msg.node),B.SetZIndex(this.m_msg.node,V.ZOrder.VOLATILITY),this.m_msg.ConFormTxt=S.GetInstance().GetString(V.StringKey.MSGBOX_CONFIRM),this.m_msg.Content=S.GetInstance().GetString(V.StringKey.VOLATILITY_TEXT),this.m_msg.OnRotation(this.m_isLandscape),this.m_msg.HideMsg(),this.m_msg.Close.on(s.EventType.TOUCH_START,(function(i){i.propagationImmediateStopped=!0,i.propagationStopped=!0,t.m_lock||((null==t.m_bottomBar.CurrentTouchName||i.target&&0==i.target.active)&&(t.m_bottomBar.CurrentTouchName=i.target.name),t.m_bottomBar.SetScaleAction(t.m_msg.Close,!0))})),this.m_msg.Close.on(s.EventType.TOUCH_CANCEL,(function(i){t.m_lock||(t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null),t.m_bottomBar.SetScaleAction(t.m_msg.Close,!1))})),this.m_msg.Close.on(s.EventType.TOUCH_END,(function(i){t.m_lock||t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null,t.m_bottomBar.SetScaleAction(t.m_msg.Close,!1),t.m_msg.HideMsg(),v.getInstance().Play(V.AudioClips.COMMON_CANCEL_BTN))}))),this.m_layout&&(this.m_iconList&&this.m_iconList.forEach((function(i){t.m_layout.addChild(i.node)})),this.m_volatilityQuestPrefab?(this.m_quest=p(this.m_volatilityQuestPrefab),this.m_layout.addChild(this.m_quest)):this.m_quest=this.m_volatilityQuest),this.m_quest.on(s.EventType.TOUCH_START,(function(i){i.propagationImmediateStopped=!0,i.propagationStopped=!0,t.m_lock||((null==t.m_bottomBar.CurrentTouchName||i.target&&0==i.target.active)&&(t.m_bottomBar.CurrentTouchName=i.target.name),t.m_bottomBar.SetScaleAction(t.m_quest,!0))})),this.m_quest.on(s.EventType.TOUCH_CANCEL,(function(i){t.m_lock||(t.m_bottomBar.CurrentTouchName==i.target.name&&(t.m_bottomBar.CurrentTouchName=null),t.m_bottomBar.SetScaleAction(t.m_quest,!1))})),this.m_quest.on(s.EventType.TOUCH_END,(function(i){if(!t.m_lock&&t.m_bottomBar.CurrentTouchName==i.target.name){t.m_bottomBar.CurrentTouchName=null,t.m_msg&&t.m_msg.ShowMsg();var e=S.GetInstance().GetString(V.StringKey.VOLATILITY_INFO),o=S.GetInstance().GetString(V.StringKey.VOLATILITY_TEXT);t.m_bottomBar.OpenCommonText(e,o),v.getInstance().Play(V.AudioClips.COMMON_BTN),t.m_bottomBar.SetScaleAction(t.m_quest,!1),d.getInstance().SendBtnClickEvent(d.FormBtnClickParams(Number(V.AID),Number(V.API_ID),Number(V.NOW_GAME_ID),V.GAME_VERSION,V.BTN_CLICK_EVENT.VOLATILITY_QUEST))}}))}},l.HideTimer=function(){var t=this;this.m_timerTween=y(this.m_layout).delay(15).call((function(){t.m_layout.active&&(t.HideVolIcon(),d.getInstance().SendBtnClickEvent(d.FormBtnClickParams(Number(V.AID),Number(V.API_ID),Number(V.NOW_GAME_ID),V.GAME_VERSION,V.BTN_CLICK_EVENT.VOLATILITY_CLOSE))),t.ResetTween()})).start()},l.ResetTween=function(){this.m_timerTween&&this.m_timerTween.stop(),this.m_timerTween=null},l.OnRotation=function(t){if(this.m_isLandscape=t,this.m_msg&&this.m_msg.OnRotation(this.m_isLandscape),this.m_layout){var i=this.m_layout.getComponent(T);this.m_layout.setPosition(0,this.node.getComponent(C).height/2,0),this.m_layout.getComponent(C).width=this.node.getComponent(C).width,this.m_layout.getComponent(C).anchorX=.5,this.m_layout.getComponent(C).anchorY=0,i.type=T.Type.VERTICAL,i.resizeMode=T.ResizeMode.CONTAINER,i.verticalDirection=T.VerticalDirection.BOTTOM_TO_TOP,i.alignHorizontal=!0}if(this.m_layoutBg)if(this.m_isLandscape){if(this.m_layoutBg.angle=0,this.m_layoutBg.setPosition(0,24.5,0),this.m_layoutBg.getComponent(C).width=86,this.m_iconList){var e=0;this.m_iconList.forEach((function(t){e+=t.node.getComponent(C).height})),this.m_layoutBg.getComponent(C).height=e+10}}else if(this.m_layoutBg.angle=90,this.m_layoutBg.setPosition(-33.5,0,0),this.m_layoutBg.getComponent(C).width=70,this.m_iconList){this.m_iconList.forEach((function(t){t.node.getComponent(C).width}))}},l.SetScaleAction=function(t,i){i?y(t).to(.05,{scale:b(.9,.9,.9)}).start():y(t).to(.05,{scale:b(1,1,1)}).start()},a(i,[{key:"Volatility",get:function(){return this.m_nowVolatility}}]),i}(I)).prototype,"m_volatilityIconPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(X.prototype,"m_volatilityQuestPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(X.prototype,"m_volatilityMsgPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(X.prototype,"m_title",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(X.prototype,"m_layout",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(X.prototype,"m_layoutBg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(X.prototype,"m_chili",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(X.prototype,"m_chiliAmountParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(X.prototype,"m_chiliAmount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(X.prototype,"m_volatilityIconPrefab_New",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(X.prototype,"m_volatilityQuest",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(X.prototype,"m_waiting",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(X.prototype,"m_normal",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(X.prototype,"m_Img_Volatility",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(X.prototype,"m_Volatility_Icon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(X.prototype,"m_chili_New",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=X))||Q));l._RF.pop()}}}));

System.register("chunks:///_virtual/VolatilityIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VolatilityManager.ts"],(function(t){"use strict";var i,e,r,n,l,a,o,c,m,u,_,h,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,o=t.Node,c=t.Sprite,m=t.SpriteFrame,u=t.UIRenderer,_=t.color,h=t.Component},function(t){s=t.default}],execute:function(){var p,d,b,f,g,y,w,F,k,G,S,V,v,N,I,z,C;l._RF.push({},"e16a3pBgD5JDJ1aFb/b/Jxh","VolatilityIcon",void 0),function(t){t.chili="chili_light",t.chiliEmpty="chili_empty",t.high="Volatility_btn_Unfold_txt_high",t.low="Volatility_btn_Unfold_txt_low",t.mid="Volatility_btn_Unfold_txt_medium",t.Volatility_High="Volatility_High",t.Volatility_Medium="Volatility_Medium",t.Volatility_Low="Volatility_Low"}(C||(C={}));var H=a.ccclass,x=a.property;t("default",(p=x(o),d=x(o),b=x(c),f=x(c),g=x(c),y=x(c),w=x(m),H((G=i((k=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,r(i,"m_backGround",G,n(i)),r(i,"m_backGroundFrame",S,n(i)),r(i,"m_title",V,n(i)),r(i,"m_chili",v,n(i)),r(i,"m_title_New",N,n(i)),r(i,"m_chili_New",I,n(i)),r(i,"m_chili_Icons",z,n(i)),i.m_amount=-1,i}e(i,t);var l=i.prototype;return l.Init=function(t,i){if(this.m_amount=t,this.m_chili.length>0)for(var e=0;e<this.m_chili.length;e++)e<this.m_amount?this.m_chili[e].spriteFrame=i.getSpriteFrame(C.chili):this.m_chili[e].spriteFrame=i.getSpriteFrame(C.chiliEmpty);this.m_chili_New&&(this.m_chili_New.spriteFrame=this.m_chili_Icons[t])},l.SetTxt=function(t){if(this.m_title)switch(s.GetInstance().GetPos(this.m_amount)){case 0:this.m_title.spriteFrame=t.getSpriteFrame(C.low);break;case 1:this.m_title.spriteFrame=t.getSpriteFrame(C.mid);break;default:this.m_title.spriteFrame=t.getSpriteFrame(C.high)}else switch(s.GetInstance().GetPos(this.m_amount)){case 0:t.getSpriteFrame(C.Volatility_Low)&&(this.m_title_New.spriteFrame=t.getSpriteFrame(C.Volatility_Low));break;case 1:t.getSpriteFrame(C.Volatility_Medium)&&(this.m_title_New.spriteFrame=t.getSpriteFrame(C.Volatility_Medium));break;default:t.getSpriteFrame(C.Volatility_High)&&(this.m_title_New.spriteFrame=t.getSpriteFrame(C.Volatility_High))}},l.GetNowChillSprite=function(){return this.m_chili_New?this.m_chili_New.spriteFrame:null},l.Show=function(t){t?this.ShowBackGround():this.HideBackGround();for(var i=0;i<this.node.getComponentsInChildren(c).length;i++){var e=this.node.getComponentsInChildren(c)[i];e&&(e.node.getComponent(u).color=t?_(255,255,255):_(165,165,165))}},l.ShowBackGround=function(){this.m_backGround&&(this.m_backGround.active=!0),this.m_backGroundFrame&&(this.m_backGroundFrame.active=!0)},l.HideBackGround=function(){this.m_backGround&&(this.m_backGround.active=!1),this.m_backGroundFrame&&(this.m_backGroundFrame.active=!1)},i}(h)).prototype,"m_backGround",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(k.prototype,"m_backGroundFrame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(k.prototype,"m_title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(k.prototype,"m_chili",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(k.prototype,"m_title_New",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(k.prototype,"m_chili_New",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(k.prototype,"m_chili_Icons",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=k))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/VolatilityManager.ts",["cc","./Define.ts","./LocaleStringManager.ts","./Tools.ts","./ExtraManager.ts","./VolatilityBar.ts"],(function(t){"use strict";var i,n,o,l,a,e,s,r,c,u,m;return{setters:[function(t){i=t.cclegacy,n=t._decorator,o=t.Prefab,l=t.error,a=t.instantiate,e=t.Sprite},function(t){s=t.default},function(t){r=t.default},function(t){c=t.default},function(t){u=t.default},function(t){m=t.default}],execute:function(){var _,f;i._RF.push({},"a4067gSwKRKbYgsM4v459Wc","VolatilityManager",void 0);var h=n.ccclass;n.property,t("default",h(((f=function(){function t(){this.m_volatility=null,this.m_isLandscape=!1,this.m_info=null,this.m_bottomBar=null,this.m_isOpen=!1}t.GetInstance=function(){return t._instance||(t._instance=new t),t._instance},t.OnExit=function(){delete this._instance,this._instance=null};var i=t.prototype;return i.Init=function(t,i,n,r){var _=this;if(void 0===r&&(r=null),this.m_info=t,this.m_bottomBar=i,t&&t.VolPos>=0&&t.VolList&&t.VolList.length>0){var f=c.GetFilePath("Astt/%s/volatility/Prefab/Volatility_Btn");s.CommonBundle.load(f,o,(function(o,c){if(o)l(o.message||o);else{var f=a(c);n.addChild(f),r&&(f.getComponent(e).spriteFrame=r),_.m_volatility=f.getComponent(m),_.m_volatility.Init(t,i),_.SetTxt(),_.m_bottomBar.node.getComponent(u).SetFeaturesVolatility(),_.m_isOpen=!0,_.m_bottomBar.AddOpenCloseBtnCb(s.CbKey.Volatility,(function(){_.ShowVolatilityBtn(!1)}),(function(){_.HideVolatilityBtn()})),_.OnRotation(_.m_isLandscape)}}))}},i.ShowVolatilityBtn=function(t){void 0===t&&(t=!0),this.m_volatility&&this.m_volatility.ShowVolBar(t)},i.HideVolatilityBtn=function(){this.m_volatility&&this.m_volatility.HideVolBar()},i.UnableVolatilityBtn=function(){this.m_volatility&&this.m_volatility.UnableVolBar()},i.CanUseVolatilityBtn=function(){this.m_volatility&&this.m_volatility.CanUseVolBar()},i.GetVolatility=function(){return this.m_volatility?this.m_volatility.Volatility:-1},i.GetVolatilityChili=function(){return this.m_info&&this.m_volatility?this.m_info.VolList[this.m_volatility.Volatility]:-1},i.OnRotation=function(t){this.m_isLandscape=t,this.m_volatility&&this.m_volatility.OnRotation(this.m_isLandscape)},i.SetTxt=function(){var t=r.GetInstance().GetCommonAtlas();null!=t&&this.m_volatility&&this.m_volatility.SetTxt(t)},i.IsOpen=function(){return this.m_isOpen},i.GetPos=function(t){switch(t){case 1:case 2:return 0;case 3:case 4:return 1;default:return 2}},t}())._instance=null,_=f))||_);i._RF.pop()}}}));

System.register("chunks:///_virtual/VolatilityMsg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(t){"use strict";var e,n,i,o,r,l,c,a,s,u,f,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,c=t._decorator,a=t.Sprite,s=t.Label,u=t.Node,f=t.Vec3,m=t.Component},function(t){p=t.default}],execute:function(){var _,h,y,b,g,d,v,w,z,T,k,x;l._RF.push({},"50de1Dlt0pB9qNklddzytpN","VolatilityMsg",void 0);var D=c.ccclass,F=c.property;t("default",(_=F(a),h=F(s),y=F(s),b=F(u),g=F(u),D((w=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"m_title",w,o(e)),i(e,"m_conformTxt",z,o(e)),i(e,"m_content",T,o(e)),i(e,"m_close",k,o(e)),i(e,"m_frame",x,o(e)),e}n(e,t);var l=e.prototype;return l.ShowMsg=function(){this.node.active=!0},l.HideMsg=function(){this.node.active=!1},l.OnRotation=function(t){t?(this.m_frame.scale=new f(1,1,1),this.node.setPosition(0,400,0)):(this.m_frame.scale=new f(.9,.9,.9),this.node.setPosition(0,600,0))},r(e,[{key:"Title",set:function(t){this.m_title.spriteFrame=t}},{key:"ConFormTxt",set:function(t){this.m_conformTxt.font||(this.m_conformTxt.font=p.DefaultFont),this.m_conformTxt.string=t}},{key:"Content",set:function(t){this.m_content.font||(this.m_content.font=p.DefaultFont),this.m_content.string=t}},{key:"Close",get:function(){return this.m_close}},{key:"Frame",get:function(){return this.m_frame}}]),e}(m)).prototype,"m_title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(v.prototype,"m_conformTxt",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"m_content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"m_close",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(v.prototype,"m_frame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/Wallet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Tools.ts"],(function(t){"use strict";var e,r,i,n,o,u,l;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy,n=t.sys,o=t.log},function(t){u=t.default},function(t){l=t.default}],execute:function(){i._RF.push({},"9f157b5iAVAlKpDrkReXTSo","Wallet",void 0);t("currencyNameOrder",{TRX:1,ETH:2,EOS:3,USDT:4,BTC:6});var c=t("walletInfo",(function(){this.currencyNumber=void 0,this.currencyName=void 0,this.currencySymbol=void 0,this.unit=void 0,this.coin=void 0,this.bet=void 0,this.ratio=void 0,this.rate=void 0,this.cycle=void 0,this.lower=void 0,this.upper=void 0,this.decimal=void 0})),a=(t("walletCoinInfo",(function(){this.currencyNumber=void 0,this.coin=void 0})),t("walletFullInfo",function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).betTypeS=void 0,e}return e(r,t),r}(c)),0),s=function(){function t(){this.m_wallets=void 0,this.m_currentIdx=0,this.m_eventListeners={},this.m_bottomBar=null,this.ToTypeS=void 0,this.Div=void 0}var e=t.prototype;return e.GetDollarFontFamily=function(t){return"₽"==t&&n.os==n.OS.IOS&&parseInt(n.osVersion)>=13?"-apple-system":"Arial"},e.SetWallet=function(t,e){o(t),this.m_bottomBar=e,this.m_wallets=t,this.ChangeNowCurrency(t[0].currencyNumber)},e.GetWallet=function(){return this.m_wallets},e.GetWalletByID=function(t){for(var e=0;e<this.m_wallets.length;e++){var r=this.m_wallets[e];if(r.currencyNumber==t)return r}},e.AddEventListener=function(t,e){void 0===e&&(e="key"),this.m_eventListeners[e]=t},e.Trigger=function(t){for(var e in this.m_eventListeners)if(Object.prototype.hasOwnProperty.call(this.m_eventListeners,e)){var r=this.m_eventListeners[e];r&&r(t)}},e.ChangeNowCurrency=function(e){var r=this,i=this.GetWalletByID(e);if(null==i)throw new Error("set Currency out of range!!");this.m_currentIdx=e;for(var n=!0,o=Number(this.m_bottomBar.ApiID),c=0;c<u.NoSymbolApiID.length;c++)if(u.NoSymbolApiID[c]===o){n=!1;break}if(n){var a=function(){if((r.m_bottomBar.IsGLIGames||r.m_bottomBar.IsBMMGames)&&(u.DollarSymbol=u.GLI_Default_DollarSymbol),i.currencySymbol&&""!=i.currencySymbol)return l.CheckSwitchOff(u.SwitchOffKeyDefine.CurrencySymbol)?u.DollarSymbol="":u.DollarSymbol=i.currencySymbol,u.DollarFontFamily=r.GetDollarFontFamily(i.currencySymbol),!0};switch(u.DollorSymbolDisplayPriority){case!0:if(a())break;case!1:if(i.currencyName&&""!=i.currencyName){u.DollarSymbolSuffix=" "+i.currencyName;break}default:a()}}var s,y=l.SmallDotDigit;if(i.decimal>=0&&(y=i.decimal),l.IsTada)null!=(s=u.GameSwitchOff)&&s.IsSSS?l.SetDotDigit(y,i.currencyNumber):l.SetDotDigit(Math.min(2,y),i.currencyNumber);else if(i.ratio&&i.ratio<1){var h=l.strip(i.ratio).toString();l.SetDotDigit(Math.min(h.length-h.search(/\./)+1,y),i.currencyNumber)}else{var m=!1;if(i.bet.length%u.BetColumnLimit>0)for(var f=0;f<i.bet.length;f++){var b=this.GetDisplayValue(i.bet[f]);if("number"==typeof b&&b<1){m=!0;break}}m?l.SetDotDigit(Math.min(l.SmallDotDigit,y),i.currencyNumber):l.SetDotDigit(Math.min(2,y),i.currencyNumber)}if(!i.betTypeS){var v=[];i.bet.forEach((function(t){v.push(r.ToTypeS(r.Div(t,i.unit)))})),i.betTypeS=v}i.bet.forEach((function(t,e){"number"==typeof t&&(i.bet[e]=l.strip(t))})),this.Trigger(t.EventType.ChangeCurrency)},e.GetDisplayValue=function(t){return this.ToTypeS(this.Div(t,this.GetWalletByID(this.m_currentIdx).unit))},e.SetCoin=function(t){this.GetWalletByID(this.m_currentIdx).coin=t},e.SetAllCoin=function(t){var e=this;t.forEach((function(t){for(var r=0;r<e.m_wallets.length;r++){var i=e.m_wallets[r];if(i.currencyNumber==t.currencyNumber){i.coin=t.coin;break}}}))},e.IsEnlarge=function(){var t=this.GetWalletByID(this.m_currentIdx);return t.ratio/Number(t.unit)>1},r(t,[{key:"NowWalletId",get:function(){return this.m_currentIdx}},{key:"HasWallet",get:function(){return!!this.m_wallets}},{key:"IsRMB",get:function(){return this.GetWalletByID(this.m_currentIdx).currencyNumber===a}},{key:"Coin",get:function(){return this.ToTypeS(this.Div(this.GetWalletByID(this.m_currentIdx).coin,this.GetWalletByID(this.m_currentIdx).unit))}},{key:"RawCoin",get:function(){return this.ToTypeS(this.GetWalletByID(this.m_currentIdx).coin)}},{key:"BetList",get:function(){return this.GetWalletByID(this.m_currentIdx).betTypeS}},{key:"RawBetList",get:function(){return this.GetWalletByID(this.m_currentIdx).bet}},{key:"List",get:function(){var t=this,e=[];return this.m_wallets.forEach((function(r){e.push({id:r.currencyNumber,coin:t.ToTypeS(t.Div(r.coin,r.unit)),name:r.currencyName})})),e}},{key:"CurencyID",get:function(){return this.GetWalletByID(this.m_currentIdx).currencyNumber}},{key:"CurencyName",get:function(){return this.GetWalletByID(this.m_currentIdx).currencyName}},{key:"Unit",get:function(){return this.ToTypeS(this.GetWalletByID(this.m_currentIdx).unit)}},{key:"Rate",get:function(){return this.GetWalletByID(this.m_currentIdx).rate}},{key:"Ratio",get:function(){return this.GetWalletByID(this.m_currentIdx).ratio}}]),t}();s.EventType={ChangeCurrency:"ChangeCurrency"};t("walletManger",new s);i._RF.pop()}}}));

System.register("chunks:///_virtual/WebPage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,r,l,u,a,s,c,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Node,a=e.WebView,s=e.error,c=e.UITransform,b=e.Component}],execute:function(){var p,w,f,h,g,d,v,V,m,y,z,P;r._RF.push({},"6e6c2uczmtEgLzi0z3+prLI","WebPage",void 0);var C=l.ccclass,N=l.property;e("default",(p=N(u),w=N(u),f=N(u),h=N(u),g=N(a),C((V=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"pageNode",V,o(t)),n(t,"bg",m,o(t)),n(t,"title",y,o(t)),n(t,"btn_close",z,o(t)),n(t,"webView",P,o(t)),t.webPos=null,t.weburl="",t.refPoint=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){},r.show=function(){this.pageNode.active=!0,s("WebPage this.webView.url:",this.webView.url),this.webView.url=this.weburl},r.close=function(e){var t=this;void 0===e&&(e=!0),e||(this.weburl=this.webView.url,this.webView.url=""),this.scheduleOnce((function(){t.pageNode.active=!1}),0)},r.isShow=function(){return this.pageNode.active},r.reload=function(){var e=this;if(this.pageNode.active){var t=this.webView.url;this.webView.url="",this.scheduleOnce((function(){e.webView.url=t}),0)}},r.setUrl=function(e){this.weburl=e},r.setPos=function(e){this.pageNode.position=e.position,this.refPoint=e},r.onRotation=function(e){this.webView.node.getComponent(c).getComponent(c).setContentSize(755,445),e?this.webView.node.getComponent(c).setContentSize(706,490):this.webView.node.getComponent(c).setContentSize(465,860)},t}(b)).prototype,"pageNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"bg",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"btn_close",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"webView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/other', 'chunks:///_virtual/other'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});