System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"8dccaaPZhdByYg1z39qEnsG","EventManager",void 0);e("CommonEventName",{TriggerFreeSpin:"TriggerFreeSpin",ShowGetFreeSpinEnd:"ShowGetFreeSpinEnd",FreeSpinEnd:"FreeSpinEnd",FeatureViewComponentInit:"FeatureViewComponentInit"});e("default",function(){function e(){this.m_listeners={}}e.GetInstance=function(){return e.m_instance||(e.m_instance=new e),e.m_instance};var n=e.prototype;return n.Register=function(e,n){if(!this.m_listeners[e]){this.m_listeners[e]=[]}for(var t=!1,i=this.m_listeners[e].length,r=0;r<i;r++){if(n===this.m_listeners[e][r]){t=!0;break}}t||this.m_listeners[e].push(n)},n.UnRegister=function(e,n){if(this.m_listeners[e])for(var t=this.m_listeners[e],i=t.length,r=0;r<i;r++)if(n===t[r]){t.splice(r,1);break}},n.ClearAll=function(){this.m_listeners={}},n.Dispatch=function(e){if(this.m_listeners[e]){for(var n=this.m_listeners[e],t=n.length,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];for(var a=0;a<t;a++){var c=n[a];c&&c.OnEvent&&c.OnEvent.apply(c,[e].concat(r))}}},e}()).m_instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/FeatureManagerComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./long.mjs_cjs=&original=.js","./index.mjs_cjs=&original=.js","./EventManager.ts","./index.js","./long.js"],(function(e){"use strict";var t,i,n,a,r,o,l,s,m,u,c,p,f,g,h,b,d,_,y,S,L,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.CCBoolean,s=e.SpriteFrame,m=e.SpriteAtlas,u=e.CCString,c=e.UIRenderer,p=e.assetManager,f=e.js,g=e.Prefab,h=e.instantiate,b=e.error,d=e.sys,_=e.Component},null,null,function(e){y=e.default,S=e.CommonEventName},function(e){L=e.default},function(e){I=e.default}],execute:function(){var P,B,w,D,v,N,C,k,A,T,F,z,j,G,O,E,R,V,x,J,M,H,U,K,q,W,$,X,Y,Q,Z,ee,te,ie,ne,ae,re,oe,le,se,me,ue,ce;r._RF.push({},"0f9b8sVUN9PFKdVaLccBqKc","FeatureManagerComponent",void 0);var pe=o.ccclass,fe=o.property,ge=[3],he=e("SkinType",{JILI:0,TADA:1,ACE_ROYALE:2,JILI_START:3,TADA_CASINO:4,NONE:5,UFA:6}),be=e("StyleSetting",(P=pe("StyleSetting"),B=fe({type:l,tooltip:"是否有骰子造型"}),P((v=t((D=function(){i(this,"HasDice",v,this)}).prototype,"HasDice",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=D))||w));e("default",(N=fe({type:String,tooltip:"遊戲主場prefab路徑"}),C=fe({type:String,tooltip:"遊戲多語系圖片路徑"}),k=fe({type:String,tooltip:"遊戲ID"}),A=fe({type:String,tooltip:"Logo名稱，只要給到底線之前"}),T=fe({type:Boolean,tooltip:"鎖定橫版"}),F=fe({type:Boolean,tooltip:"鎖定直版"}),z=fe({type:Boolean,tooltip:"是否為街機"}),j=fe({type:s,tooltip:"不分語系LOGO"}),G=fe({type:m,tooltip:"遊戲Logo合圖"}),O=fe({type:u,tooltip:"展示頁"}),E=fe({type:String,tooltip:"敘述圖名稱"}),R=fe({type:s,tooltip:"特色圖"}),V=fe({type:s,tooltip:"背景圖，0:直,1:橫"}),x=fe({type:s,tooltip:"腳色"}),J=fe({type:Number,tooltip:"辣椒數"}),M=fe({type:l,tooltip:"是否開啟晚3秒ShowGameScene進入遊戲"}),H=fe({type:be,tooltip:"是否有其他特色樣式"}),U=fe({type:l,tooltip:"是否開啟Long型別"}),pe((W=t((q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"m_scenePrefabPath",W,a(t)),i(t,"m_gameImgPath",$,a(t)),i(t,"m_gameId",X,a(t)),i(t,"m_logoName",Y,a(t)),i(t,"m_isLockLandScope",Q,a(t)),i(t,"m_isLockPortrait",Z,a(t)),i(t,"m_isStreet",ee,a(t)),i(t,"m_singleLogo",te,a(t)),i(t,"m_logoSpriteAtlas",ie,a(t)),i(t,"m_pagePrefabPaths",ne,a(t)),i(t,"m_infoNames",ae,a(t)),i(t,"m_featureSpriteFrames",re,a(t)),i(t,"m_bgSpriteFrames",oe,a(t)),i(t,"m_characterSpriteFrame",le,a(t)),i(t,"m_chilliNum",se,a(t)),i(t,"m_isWatting",me,a(t)),i(t,"m_styleSetting",ue,a(t)),i(t,"m_isLong",ce,a(t)),t.m_startSceneTime=-1,t.m_otherBundle=null,t.m_commonBundle=null,t.m_gameBundle=null,t.m_pagePrefabs=[],t.m_apiId=0,t.m_isTaDa=!1,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.m_isLong&&(L.util.Long=I,L.configure()),this.m_isTaDa=this.IsTada(),this.Config(),this.Log(100)},r.start=function(){this.m_startSceneTime=this.m_isWatting?Date.now():-1,this.LoadVersion("game")},r.Config=function(){c.prototype.fillBuffers=function(e){this._renderFlag&&e._pOpacity>0&&this._render(e)}},r.update=function(){},r.LoadVersion=function(e){var t=this,i="assets/common/Astt/"+(this.m_isTaDa?"tada":"jili"),n="assets/common/Astt/other",a="assets/"+e,r="",o="",l="";try{"undefined"!=typeof LobbyData&&(a=LobbyData.bundleDomin+e,l=LobbyData.versionJson[e],i=LobbyData.bundleDomin+(this.m_isTaDa?"tada":"jili"),r=LobbyData.versionJson[this.m_isTaDa?"tada":"jili"],n=LobbyData.bundleDomin+"other",o=LobbyData.versionJson.other)}catch(e){}this.LoadBundle(n,o,(function(e){t.m_otherBundle=e,t.CheckBundles()})),this.LoadBundle(i,r,(function(e){t.m_commonBundle=e,t.CheckBundles()})),this.LoadBundle(a,l,(function(e){t.m_gameBundle=e,t.CheckBundles()}))},r.CheckBundles=function(){this.m_otherBundle&&this.m_commonBundle&&this.m_gameBundle&&this.LoadIntroView()},r.LoadBundle=function(e,t,i){var n=this;p.loadBundle(e,{version:t},(function(a,r){a?n.LoadBundle(e,t,i):i(r)}))},r.LoadIntroView=function(){var e=this,t="Astt/%s/Intro/Prefab/IntroView";t=this.m_isTaDa?f.formatStr(t,"framework_americas"):f.formatStr(t,"framework"),this.m_commonBundle.load(t,g,(function(t,i){if(t)e.LoadIntroView();else{var n=h(i);if(e.node.addChild(n),e.m_pagePrefabPaths.length>0)for(var a=0;a<e.m_pagePrefabPaths.length;a++)e.LoadIntroCell(e.m_pagePrefabPaths[a],a);else e.Complete()}}))},r.LoadIntroCell=function(e,t){var i=this;this.m_gameBundle.load(e,g,(function(n,a){n?i.LoadIntroCell(e,t):(i.m_pagePrefabs[t]=a,i.CheckIntroCells())}))},r.CheckIntroCells=function(){for(var e=0;e<this.m_pagePrefabPaths.length;e++)if(!this.m_pagePrefabs[e])return;this.Complete()},r.Complete=function(){y.GetInstance().Dispatch(S.FeatureViewComponentInit,{ScenePrefabPath:this.m_scenePrefabPath,GameImgPath:this.m_gameImgPath,GameId:this.m_gameId,LogoName:this.m_logoName,PagePrefabs:this.m_pagePrefabs,FeatureSpriteFrames:this.m_featureSpriteFrames,IsLockLandScope:this.m_isLockLandScope,IsLockPortrait:this.m_isLockPortrait,LogoSpriteAtlas:this.m_logoSpriteAtlas,BgSpriteFrames:this.m_bgSpriteFrames,CharacterSpriteFrame:this.m_characterSpriteFrame,InfoNames:this.m_infoNames,ChilliNum:this.m_chilliNum,SingleLogo:this.m_singleLogo,IsStreet:this.m_isStreet,StartSceneTime:this.m_startSceneTime,OtherBundle:this.m_otherBundle,CommonBundle:this.m_commonBundle,GameBundle:this.m_gameBundle,ApiID:this.m_apiId.toString(),IsTaDa:this.m_isTaDa,StyleSetting:this.m_styleSetting})},r.IsTada=function(){var e=(this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join(""),t=Number(this.GetLinkParameterByName("apiId")),i=-1!==e.search("tada");if(!isNaN(t)){this.m_apiId=Number(t);for(var n=0;n<ge.length;n++)if(t===ge[n]){i=!0;break}}var a=this.GetLinkParameterByName("tadaSkin");a&&"1"===a&&(i=!0);var r=this.GetLinkParameterByName("skin");return!r||r!=he.TADA.toString()&&r!=he.TADA_CASINO.toString()||(i=!0),i},r.GetLinkParameterByName=function(e,t){if(void 0===t&&(t=null),!t)if("undefined"!=typeof LobbyData)try{""===(t=LobbyData.url)&&b("No URL!")}catch(e){e(JSON.stringify(e))}else t=window.location.href;e=e.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.Log=function(e){if(!d.isNative){var t="https://"+window.location.host+"/";if(-1==t.indexOf("localhost")&&1!=/^http(s)?:\/\/([0-9]{1,3}\.){3}[0-9]{1,3}(:[0-9]+)?\/.*?$/.test(t)){var i=this.GetLinkParameterByName("apiId"),n=this.GetLinkParameterByName("ssoKey"),a="https://"+(this.GetLinkParameterByName("domain_platform")||this.GetLinkParameterByName("gs")||"gnidnawcs").split("").reverse().join("")+"/webservice/event/trigger?";a+="AccountID=-1&BrowserSystem=-1&DeviceSystem=-1&GameID="+this.m_gameId+"&GameVersion="+(new Date).getTime()+"&EventID="+e+"&EventStatus=0&SSOKey="+n+"&CreateTime="+(new Date).toISOString()+"&ApiId="+i,this.Send(a)}}},r.Send=function(e){var t={Accept:"application/json, text/javascript, text/plain"},i=new XMLHttpRequest;i.open("GET",e,!0),t&&Object.keys(t).forEach((function(e){return i.setRequestHeader(e,t[e])})),i.timeout=5e3,i.onload=function(e){},i.onerror=function(e){},i.ontimeout=function(e){},i.send()},t}(_)).prototype,"m_scenePrefabPath",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=t(q.prototype,"m_gameImgPath",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=t(q.prototype,"m_gameId",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=t(q.prototype,"m_logoName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=t(q.prototype,"m_isLockLandScope",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=t(q.prototype,"m_isLockPortrait",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=t(q.prototype,"m_isStreet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=t(q.prototype,"m_singleLogo",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(q.prototype,"m_logoSpriteAtlas",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(q.prototype,"m_pagePrefabPaths",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(q.prototype,"m_infoNames",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(q.prototype,"m_featureSpriteFrames",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(q.prototype,"m_bgSpriteFrames",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(q.prototype,"m_characterSpriteFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(q.prototype,"m_chilliNum",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=t(q.prototype,"m_isWatting",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=t(q.prototype,"m_styleSetting",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new be}}),ce=t(q.prototype,"m_isLong",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=q))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyIngameUiDefine.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var n;e({AppLobby:void 0,LobbyIngameUiDefine:void 0,init:function(){e("AppLobby",globalThis.LobbyCommon)}}),i._RF.push({},"fbab3WVpnpP+550dGeK2VIC","LobbyIngameUiDefine",void 0),n||(n=e("LobbyIngameUiDefine",{})),i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./EventManager.ts","./FeatureManagerComponent.ts","./SwipeScreen.ts","./LobbyIngameUiDefine.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SwipeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,s,o,r,l,a,c,d,u,h,m,v,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,l=e._decorator,a=e.sys,c=e.director,d=e.find,u=e.Node,h=e.UITransform,m=e.Size,v=e.Button,p=e.Component}],execute:function(){var y,f,w,b,g,k,I,S,_,O,E,C;r._RF.push({},"2a74aT/eRxGAIKffArEoQrQ","SwipeScreen",void 0);var F=l.ccclass,x=l.property,P=function(e,t,i,n,s,o){this.name=e,this.height=t,this.width=i,this.ratio=n,this.statusHeight=s,this.homeHeight=o},A=[new P("iPhone 6.5-inch",896,414,3,44,34),new P("iPhone 6.1-inch",896,414,2,44,34),new P("iPhone 5.8-inch",812,375,3,44,34),new P("iPhone 5.5-inch",736,414,3,18,0),new P("iPhone 4.7-inch",667,375,2,20,0),new P("iPhone 4-inch",568,320,2,20,0),new P("iPhone 3.5-inch",480,320,2,20,0),new P("iPhone(Legacy) & iPod Touch",480,320,1,20,0),new P("iPad Pro 12.9-inch",1366,1024,2,20,0),new P("iPad Pro 10.5-inch",1112,834,2,20,0),new P("iPad 9.7-inch Retina",1024,768,2,20,0),new P("iPad",1024,768,1,20,0),new P("iPad Mini Retina",1024,768,2,20,0),new P("iPad Mini",1024,768,1,20,0)],G="mask",H="mask_close_tip",L="mask_close",z="bar",T={tw:["滑動無效時, 請點擊此處進入遊戲. ❎","請解除豎排方向鎖定, 並將手機水平放置."],cn:["滑动无效时, 请点击此处进入游戏. ❎","请解除竖排方向锁定, 并将手机水平放置."],th:["เมื่อสไลด์ไม่ถูกต้อง กรุณาคลิกที่นี่เพื่อเข้าสู่เกม ❎","โปรดทำการปลดล็อกรูปแบบทิศทาง เพื่อสามารถเปลี่ยนรูปแบบทิศทางตามระดับโทรศัพท์ได้"],vn:["Nếu không thể lthao tác, hãy chạm vào đây để vào game. ❎","Hãy mở khóa xoay hướng, đồng thời xoay ngang màn hình."],id:["Klik di sini untuk masuk ke permainan, ketika tidak bisa di scroll. ❎","Silakan buka kunci posisi vertikal, dan letakkan telepon seluler secara horizontal."],mm:["When the slide is invalid, please click here. ❎","Please unlock the vertical direction and place the phone horizontally."],jp:["スライドで入れない場合は、ここをタップしてください。 ❎","垂直固定を解除し、端末を水平方向に置いてください。"],en:["If swiping does not work, please tap here. ❎","Please unlock screen rotation and hold the phone horizontally."]},M=["tw","zh-TW"],B=["cn","zh-CN"],N=["en","en-US"],V=["th","th-TH"],D=["vn","vi-VN"],R=["id","id-ID"],W=["hi","hi-IN"],j=["ta","ta-IN"],U=["mm","my-MM"],q=["jp","ja-JP"],Q=[1131],K=[1864,1002];e("default",(y=x(Boolean),f=x(Boolean),w=x(Boolean),b=x(Boolean),g=x(Number),F((S=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isLandscape",S,s(t)),n(t,"isPortrait",_,s(t)),n(t,"isIOS",O,s(t)),n(t,"isAndroid",E,s(t)),n(t,"android_Apiid",C,s(t)),t.m_mask=null,t.m_isScrolling=!1,t.m_isblock=!1,t.m_scrollInterval=void 0,t.m_scrollTimeOut=void 0,t.m_backGround=null,t.m_isLandscape=!0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){a.isNative||this.Init()},r.GetDeviceName=function(){if(a.os===a.OS.IOS){var e=this.GetiOSDevice();if(e)return e.name}else if(a.os===a.OS.ANDROID){var t=/Mozilla\/5.0\s*\([^()]*?(Android[^()]*?);\s*([^()]*?)\)/g.exec(navigator.userAgent);if(t&&t.length>2)return t[2].split(" Build")[0]}return"unknown"},r.CreateHtmlTag=function(){if(!this.m_backGround){this.node.active=!0;var e=document.body;e.style.overflow="visible";var t=document.getElementById("Cocos3dGameContainer");t.style.overflow="hidden",t.style.position="fixed";var i=document.createElement("div");i.id=z,i.style.position="absolute",i.style.height="100vh";var n=document.createElement("div");n.id=G,n.style.backgroundColor="rgba(0, 0, 0, 0.7)",n.style.height="150vh",n.style.width="100vw",n.style.zIndex="99",n.style.display="none",n.style.position="absolute",n.style.top="0%",n.style.left="0%",this.m_backGround=n;var s=document.createElement("div");s.id=H,s.style.width="70vw",s.style.top="28vh",s.style.left="50vw",s.style.transform="translate(-50%, -50%)",s.style.fontSize="18px",s.style.fontWeight="bold",s.style.color="#FFFFFF",s.style.position="fixed";var o=document.createElement("div");o.style.top="16vh",o.style.left="50vw",o.style.transform="translate(-50%, -50%)",o.style.position="fixed";var r=document.createElement("div");r.id=L,r.style.width="90vw",r.style.fontSize="24px",r.style.fontWeight="bold",r.style.color="#EEE8AA",r.style.wordWrap="break-word";var l=document.createElement("div");l.style.fontSize="48px",l.style.fontWeight="bold",l.style.color="#EEE8AA";var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.width="150px",a.style.height="150px",a.style.position="fixed",a.style.top="75vh",a.style.left="50vw",a.style.transform="translate(-50%, -50%)",a.style.animationDuration="2s",a.style.animationName="fullscreen-swipe",a.style.animationIterationCount="infinite";var c=document.createElement("style"),d=document.createTextNode("@keyframes fullscreen-swipe {from { top:80% }to { top:50% }}");c.appendChild(d),a.appendChild(c),a.setAttribute("viewBox","0 0 547.371 547.371");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("fill","#FFFFFF"),u.setAttribute("d","M136.623,52.13v164.027l-23.875,23.877c-54.503,54.479-54.503,143.151,0,197.627l57.317,57.292c33.806,33.808,78.743,52.416,126.521,52.416c98.658,0,178.912-80.254,178.912-178.911V208.522c0-28.752-23.381-52.131-52.156-52.131c-10.713,0-20.695,3.258-28.984,8.836c-7.143-20.308-26.51-34.902-49.211-34.902c-10.713,0-20.695,3.26-28.984,8.838c-7.141-20.307-26.509-34.901-49.21-34.901c-9.487,0-18.402,2.555-26.065,7.012V52.132c0-28.75-23.38-52.131-52.131-52.131C160.003,0.001,136.623,23.38,136.623,52.13z M214.845,52.13v169.425c0,7.192,5.839,13.032,13.033,13.032s13.033-5.84,13.033-13.032v-65.162c0-14.39,11.703-26.066,26.064-26.066c14.362,0,26.063,11.678,26.063,26.066v39.098c0,7.193,5.84,13.033,13.033,13.033s13.033-5.84,13.033-13.033v-13.033c0-14.389,11.703-26.063,26.064-26.063c14.363,0,26.064,11.676,26.064,26.063v26.064c0,7.192,5.84,13.033,13.033,13.033s13.033-5.841,13.033-13.033c0-14.39,11.703-26.064,26.064-26.064c14.359,0,26.064,11.676,26.064,26.064v159.938c0,84.27-68.578,152.848-152.848,152.848c-40.819,0-79.188-15.899-108.066-44.78l-57.317-57.292c-22.155-22.183-33.233-51.271-33.233-80.385c0-29.115,11.078-58.203,33.233-80.387l5.448-5.446v72.8c0,7.192,5.839,13.033,13.032,13.033c7.194,0,13.033-5.841,13.033-13.033V52.13c0-14.389,11.704-26.065,26.065-26.065C203.141,26.063,214.845,37.743,214.845,52.13z"),e.appendChild(n),n.appendChild(s),n.appendChild(o),a.appendChild(u),n.appendChild(a),o.appendChild(r),o.appendChild(l),e.appendChild(i)}},r.Init=function(){var e=this,t=!1;"undefined"!=typeof LobbyData&&(t=LobbyData.pwa);var i=Math.floor(Number(this.GetLinkParameterByName("apiId")));if(this.isPortrait?this.m_isblock=Q.indexOf(i)>=0:this.isAndroid&&this.android_Apiid.length>0&&this.android_Apiid.indexOf(i)>=0&&(this.isAndroid=!1),this.m_isblock||(this.m_isblock=K.indexOf(i)>=0),!t&&!this.m_isblock)if(this.AddGameViewMask(),this.isIOS=!1,a.os==a.OS.IOS&&0==this.IsWebview()&&this.isIOS)if(this.CreateHtmlTag(),this.SetCloseContent(),this.m_backGround.style.display="inline",this.SetShowMask(),1==this.IsChrome()){var n=this.GetiOSDevice();if(null!=n){var s=.99*(screen.height-n.statusHeight-n.homeHeight-20),o=.99*(screen.width-n.statusHeight-20);document.body.onresize=function(){(window.innerHeight>=window.innerWidth?s:o)<=window.innerHeight?e.HideMask():e.ShowMask()},window.addEventListener("scroll",(function(){return e.m_isScrolling=!0}),{capture:!1,passive:!0}),this.m_backGround.addEventListener("touchend",(function(){return e.ScrollReset()}))}else this.HideMask()}else{var r=document.body.onresize;document.body.onresize=function(){r&&r(null,null);var t=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight,n=t>i;document.getElementById(z).clientHeight==window.innerHeight?e.HideMask():e.SetShowMask(n),window.addEventListener("scroll",(function(){return e.m_isScrolling=!0}),{capture:!1,passive:!0}),e.m_backGround.addEventListener("touchend",(function(){return e.ScrollReset()})),e.m_isLandscape=t>i}}else if(a.os==a.OS.ANDROID&&0==this.IsWebview()&&this.isAndroid)if(a.browserType==a.BrowserType.MOBILE_QQ||a.browserType==a.BrowserType.UC);else{var l=function(){e.HasFullscreen()&&!e.IsFullscreen()&&(e.m_mask.active=!0)};document.body.onresize=l,l()}},r.SetShowMask=function(e){if(void 0===e&&(e=void 0),this.IsIOS15orOver())if(void 0===e){var t=document.documentElement.scrollWidth,i=document.documentElement.scrollHeight;this.m_isLandscape=t>i,this.m_isLandscape?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden"}else document.getElementById(z).clientHeight,window.innerHeight,e===this.m_isLandscape&&document.getElementById(z).clientHeight===window.innerHeight||(e?this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="hidden":this.m_backGround.style.visibility="visible":this.IsIOS15Version(0)||this.IsIOS15Version(1)||this.IsIOS15Version(2)||this.IsIOS15Version(3)?this.m_backGround.style.visibility="visible":this.m_backGround.style.visibility="hidden");else this.ShowMask()},r.SetCloseContent=function(){var e=this,t=this.GetLang("lang");t=this.ChangeLang(t);var i=document.getElementById(L),n=this.isLandscape?document.getElementById(H):null;T[t]?(i.textContent=T[t][0],n&&(n.textContent=T[t][1])):(i.textContent=T[N[0]][0],n&&(n.textContent=T[N[0]][1])),i.onclick||(i.onclick=function(){e.HideMask()})},r.GetLang=function(e){var t=a.localStorage.getItem("LobbyLanguage");if(!t||""==t){if(-1!=(t="undefined"!=typeof LobbyData?LobbyData.url:window.location.href).indexOf("?"))for(var i=t.split("?")[1].split("&"),n=0;n<i.length;n++)if(i[n].split("=")[0]==e)return i[n].split("=")[1];return N[0]}return t},r.ChangeLang=function(e){switch(e){case M[1]:return M[0];case B[1]:return B[0];case V[1]:return V[0];case D[1]:return D[0];case R[1]:return R[0];case W[1]:return W[0];case j[1]:return j[0];case U[1]:return U[0];case q[1]:return q[0];default:return N[0]}},r.ShowMask=function(){for(var e=this,t=document.getElementById("Cocos3dGameContainer").getElementsByTagName("div"),i=0,n=0;n<t.length;n++){var s=t[n].getElementsByTagName("iframe");if(s&&s.length>0){i=n;break}}var o=t[i];o&&"hidden"!==o.style.visibility||(this.m_backGround.style.visibility="visible",this.m_mask&&(this.m_mask.active=!0),window.scrollTo(0,0),this.m_scrollInterval&&clearInterval(this.m_scrollInterval),this.m_scrollInterval=setInterval((function(){e.m_isScrolling&&(e.m_isScrolling=!1,e.ScrollReset())}),250))},r.ScrollReset=function(){var e=this;window.scrollTo(0,0),this.m_scrollTimeOut&&clearTimeout(this.m_scrollTimeOut),this.m_scrollTimeOut=setTimeout((function(){window.scrollTo(0,0),clearInterval(e.m_scrollInterval),e.m_scrollInterval=null}),250)},r.HideMask=function(){var e=this;window.scrollTo(0,0),this.m_backGround&&(this.m_backGround.style.visibility="hidden"),this.scheduleOnce((function(){e.m_mask&&(e.m_mask.active=!1)}),0)},r.AddGameViewMask=function(){var e=this,t=c.getScene();this.m_mask||t.getChildByName("ScrollForMask")||a.browserType==a.BrowserType.FIREFOX?!this.m_mask&&t.getChildByName("ScrollForMask")&&(this.m_mask=d("ScrollForMask")):(this.m_mask=new u,this.m_mask.name="ScrollForMask",this.m_mask.addComponent(h).setContentSize(new m(2e3,2e3)),this.m_mask.addComponent(v),this.m_mask.active=!1,t.addChild(this.m_mask),this.m_mask.setSiblingIndex(t.children.length),this.m_mask.on(u.EventType.TOUCH_END,(function(){if(a.os==a.OS.IOS&&0==e.IsWebview()){var t=e.m_backGround;t&&"hidden"==t.style.visibility&&(e.m_mask.active=!1)}else a.os==a.OS.ANDROID&&0==e.IsWebview()&&e.Fullscreen()})))},r.IsWebview=function(){var e=navigator.userAgent,t=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari/)","Android.*(wv|.0.0.0)"].join("|")+")","ig");return Boolean(e.match(t))},r.IsChrome=function(){return/CriOS/.test(navigator.userAgent)},r.GetiOSDevice=function(){for(var e,t=o(A);!(e=t()).done;){var i=e.value;if(screen.height===i.height&&screen.width===i.width&&window.devicePixelRatio===i.ratio)return i}return null},r.HasFullscreen=function(){return null!=(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},r.IsFullscreen=function(){return null!=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},r.Fullscreen=function(){try{var e=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen,t=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;this.HasFullscreen()?this.IsFullscreen()?t.call(document):e.call(document.documentElement):console.log("not support fullscreen."),this.m_mask.active=!1}catch(e){this.m_mask.active=!1}},r.GetLinkParameterByName=function(e){var t=window.location.href;e=e.replace(/[[]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r.IsIOS15orOver=function(){return a.os==a.OS.IOS&&/iPhone OS 15/.test(window.navigator.userAgent)},r.IsIOS15Version=function(e){return a.os==a.OS.IOS&&-1!==window.navigator.userAgent.search("iPhone OS 15_"+e)},t}(p)).prototype,"isLandscape",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=t(I.prototype,"isPortrait",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=t(I.prototype,"isIOS",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=t(I.prototype,"isAndroid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=t(I.prototype,"android_Apiid",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=I))||k));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});